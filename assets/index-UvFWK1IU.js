function Yle(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var v1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var VS={exports:{}},Nx={},qS={exports:{}},nn={};var VU;function Xle(){if(VU)return nn;VU=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),A=Symbol.iterator;function h(G){return G===null||typeof G!="object"?null:(G=A&&G[A]||G["@@iterator"],typeof G=="function"?G:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,g={};function v(G,U,Y){this.props=G,this.context=U,this.refs=g,this.updater=Y||m}v.prototype.isReactComponent={},v.prototype.setState=function(G,U){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,U,"setState")},v.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function x(){}x.prototype=v.prototype;function b(G,U,Y){this.props=G,this.context=U,this.refs=g,this.updater=Y||m}var j=b.prototype=new x;j.constructor=b,y(j,v.prototype),j.isPureReactComponent=!0;var _=Array.isArray,N=Object.prototype.hasOwnProperty,B={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function O(G,U,Y){var ee,ae={},Ae=null,ce=null;if(U!=null)for(ee in U.ref!==void 0&&(ce=U.ref),U.key!==void 0&&(Ae=""+U.key),U)N.call(U,ee)&&!T.hasOwnProperty(ee)&&(ae[ee]=U[ee]);var we=arguments.length-2;if(we===1)ae.children=Y;else if(1<we){for(var ge=Array(we),je=0;je<we;je++)ge[je]=arguments[je+2];ae.children=ge}if(G&&G.defaultProps)for(ee in we=G.defaultProps,we)ae[ee]===void 0&&(ae[ee]=we[ee]);return{$$typeof:e,type:G,key:Ae,ref:ce,props:ae,_owner:B.current}}function P(G,U){return{$$typeof:e,type:G.type,key:U,ref:G.ref,props:G.props,_owner:G._owner}}function M(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function I(G){var U={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(Y){return U[Y]})}var D=/\/+/g;function $(G,U){return typeof G=="object"&&G!==null&&G.key!=null?I(""+G.key):U.toString(36)}function F(G,U,Y,ee,ae){var Ae=typeof G;(Ae==="undefined"||Ae==="boolean")&&(G=null);var ce=!1;if(G===null)ce=!0;else switch(Ae){case"string":case"number":ce=!0;break;case"object":switch(G.$$typeof){case e:case t:ce=!0}}if(ce)return ce=G,ae=ae(ce),G=ee===""?"."+$(ce,0):ee,_(ae)?(Y="",G!=null&&(Y=G.replace(D,"$&/")+"/"),F(ae,U,Y,"",function(je){return je})):ae!=null&&(M(ae)&&(ae=P(ae,Y+(!ae.key||ce&&ce.key===ae.key?"":(""+ae.key).replace(D,"$&/")+"/")+G)),U.push(ae)),1;if(ce=0,ee=ee===""?".":ee+":",_(G))for(var we=0;we<G.length;we++){Ae=G[we];var ge=ee+$(Ae,we);ce+=F(Ae,U,Y,ge,ae)}else if(ge=h(G),typeof ge=="function")for(G=ge.call(G),we=0;!(Ae=G.next()).done;)Ae=Ae.value,ge=ee+$(Ae,we++),ce+=F(Ae,U,Y,ge,ae);else if(Ae==="object")throw U=String(G),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return ce}function V(G,U,Y){if(G==null)return G;var ee=[],ae=0;return F(G,ee,"","",function(Ae){return U.call(Y,Ae,ae++)}),ee}function X(G){if(G._status===-1){var U=G._result;U=U(),U.then(function(Y){(G._status===0||G._status===-1)&&(G._status=1,G._result=Y)},function(Y){(G._status===0||G._status===-1)&&(G._status=2,G._result=Y)}),G._status===-1&&(G._status=0,G._result=U)}if(G._status===1)return G._result.default;throw G._result}var K={current:null},W={transition:null},z={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:W,ReactCurrentOwner:B};function te(){throw Error("act(...) is not supported in production builds of React.")}return nn.Children={map:V,forEach:function(G,U,Y){V(G,function(){U.apply(this,arguments)},Y)},count:function(G){var U=0;return V(G,function(){U++}),U},toArray:function(G){return V(G,function(U){return U})||[]},only:function(G){if(!M(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},nn.Component=v,nn.Fragment=r,nn.Profiler=a,nn.PureComponent=b,nn.StrictMode=n,nn.Suspense=c,nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,nn.act=te,nn.cloneElement=function(G,U,Y){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var ee=y({},G.props),ae=G.key,Ae=G.ref,ce=G._owner;if(U!=null){if(U.ref!==void 0&&(Ae=U.ref,ce=B.current),U.key!==void 0&&(ae=""+U.key),G.type&&G.type.defaultProps)var we=G.type.defaultProps;for(ge in U)N.call(U,ge)&&!T.hasOwnProperty(ge)&&(ee[ge]=U[ge]===void 0&&we!==void 0?we[ge]:U[ge])}var ge=arguments.length-2;if(ge===1)ee.children=Y;else if(1<ge){we=Array(ge);for(var je=0;je<ge;je++)we[je]=arguments[je+2];ee.children=we}return{$$typeof:e,type:G.type,key:ae,ref:Ae,props:ee,_owner:ce}},nn.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:i,_context:G},G.Consumer=G},nn.createElement=O,nn.createFactory=function(G){var U=O.bind(null,G);return U.type=G,U},nn.createRef=function(){return{current:null}},nn.forwardRef=function(G){return{$$typeof:l,render:G}},nn.isValidElement=M,nn.lazy=function(G){return{$$typeof:d,_payload:{_status:-1,_result:G},_init:X}},nn.memo=function(G,U){return{$$typeof:u,type:G,compare:U===void 0?null:U}},nn.startTransition=function(G){var U=W.transition;W.transition={};try{G()}finally{W.transition=U}},nn.unstable_act=te,nn.useCallback=function(G,U){return K.current.useCallback(G,U)},nn.useContext=function(G){return K.current.useContext(G)},nn.useDebugValue=function(){},nn.useDeferredValue=function(G){return K.current.useDeferredValue(G)},nn.useEffect=function(G,U){return K.current.useEffect(G,U)},nn.useId=function(){return K.current.useId()},nn.useImperativeHandle=function(G,U,Y){return K.current.useImperativeHandle(G,U,Y)},nn.useInsertionEffect=function(G,U){return K.current.useInsertionEffect(G,U)},nn.useLayoutEffect=function(G,U){return K.current.useLayoutEffect(G,U)},nn.useMemo=function(G,U){return K.current.useMemo(G,U)},nn.useReducer=function(G,U,Y){return K.current.useReducer(G,U,Y)},nn.useRef=function(G){return K.current.useRef(G)},nn.useState=function(G){return K.current.useState(G)},nn.useSyncExternalStore=function(G,U,Y){return K.current.useSyncExternalStore(G,U,Y)},nn.useTransition=function(){return K.current.useTransition()},nn.version="18.3.1",nn}var qU;function fN(){return qU||(qU=1,qS.exports=Xle()),qS.exports}var KU;function Jle(){if(KU)return Nx;KU=1;var e=fN(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,A={},h=null,m=null;u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(m=c.ref);for(d in c)n.call(c,d)&&!i.hasOwnProperty(d)&&(A[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)A[d]===void 0&&(A[d]=c[d]);return{$$typeof:t,type:l,key:h,ref:m,props:A,_owner:a.current}}return Nx.Fragment=r,Nx.jsx=o,Nx.jsxs=o,Nx}var zU;function Zle(){return zU||(zU=1,VS.exports=Jle()),VS.exports}var s=Zle(),y1={},KS={exports:{}},Zo={},zS={exports:{}},WS={};var WU;function ece(){return WU||(WU=1,(function(e){function t(W,z){var te=W.length;W.push(z);e:for(;0<te;){var G=te-1>>>1,U=W[G];if(0<a(U,z))W[G]=z,W[te]=U,te=G;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var z=W[0],te=W.pop();if(te!==z){W[0]=te;e:for(var G=0,U=W.length,Y=U>>>1;G<Y;){var ee=2*(G+1)-1,ae=W[ee],Ae=ee+1,ce=W[Ae];if(0>a(ae,te))Ae<U&&0>a(ce,ae)?(W[G]=ce,W[Ae]=te,G=Ae):(W[G]=ae,W[ee]=te,G=ee);else if(Ae<U&&0>a(ce,te))W[G]=ce,W[Ae]=te,G=Ae;else break e}}return z}function a(W,z){var te=W.sortIndex-z.sortIndex;return te!==0?te:W.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,A=null,h=3,m=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(W){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=W)n(u),z.sortIndex=z.expirationTime,t(c,z);else break;z=r(u)}}function _(W){if(g=!1,j(W),!y)if(r(c)!==null)y=!0,X(N);else{var z=r(u);z!==null&&K(_,z.startTime-W)}}function N(W,z){y=!1,g&&(g=!1,x(O),O=-1),m=!0;var te=h;try{for(j(z),A=r(c);A!==null&&(!(A.expirationTime>z)||W&&!I());){var G=A.callback;if(typeof G=="function"){A.callback=null,h=A.priorityLevel;var U=G(A.expirationTime<=z);z=e.unstable_now(),typeof U=="function"?A.callback=U:A===r(c)&&n(c),j(z)}else n(c);A=r(c)}if(A!==null)var Y=!0;else{var ee=r(u);ee!==null&&K(_,ee.startTime-z),Y=!1}return Y}finally{A=null,h=te,m=!1}}var B=!1,T=null,O=-1,P=5,M=-1;function I(){return!(e.unstable_now()-M<P)}function D(){if(T!==null){var W=e.unstable_now();M=W;var z=!0;try{z=T(!0,W)}finally{z?$():(B=!1,T=null)}}else B=!1}var $;if(typeof b=="function")$=function(){b(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,V=F.port2;F.port1.onmessage=D,$=function(){V.postMessage(null)}}else $=function(){v(D,0)};function X(W){T=W,B||(B=!0,$())}function K(W,z){O=v(function(){W(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,X(N))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(W){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var te=h;h=z;try{return W()}finally{h=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,z){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var te=h;h=W;try{return z()}finally{h=te}},e.unstable_scheduleCallback=function(W,z,te){var G=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?G+te:G):te=G,W){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=te+U,W={id:d++,callback:z,priorityLevel:W,startTime:te,expirationTime:U,sortIndex:-1},te>G?(W.sortIndex=te,t(u,W),r(c)===null&&W===r(u)&&(g?(x(O),O=-1):g=!0,K(_,te-G))):(W.sortIndex=U,t(c,W),y||m||(y=!0,X(N))),W},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(W){var z=h;return function(){var te=h;h=z;try{return W.apply(this,arguments)}finally{h=te}}}})(WS)),WS}var GU;function tce(){return GU||(GU=1,zS.exports=ece()),zS.exports}var YU;function rce(){if(YU)return Zo;YU=1;var e=fN(),t=tce();function r(f){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+f,w=1;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(f,p){o(f,p),o(f+"Capture",p)}function o(f,p){for(a[f]=p,f=0;f<p.length;f++)n.add(p[f])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},A={};function h(f){return c.call(A,f)?!0:c.call(d,f)?!1:u.test(f)?A[f]=!0:(d[f]=!0,!1)}function m(f,p,w,E){if(w!==null&&w.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return E?!1:w!==null?!w.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function y(f,p,w,E){if(p===null||typeof p>"u"||m(f,p,w,E))return!0;if(E)return!1;if(w!==null)switch(w.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function g(f,p,w,E,L,H,re){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=E,this.attributeNamespace=L,this.mustUseProperty=w,this.propertyName=f,this.type=p,this.sanitizeURL=H,this.removeEmptyString=re}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){v[f]=new g(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var p=f[0];v[p]=new g(p,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){v[f]=new g(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){v[f]=new g(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){v[f]=new g(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){v[f]=new g(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){v[f]=new g(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){v[f]=new g(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){v[f]=new g(f,5,!1,f.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function b(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var p=f.replace(x,b);v[p]=new g(p,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var p=f.replace(x,b);v[p]=new g(p,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var p=f.replace(x,b);v[p]=new g(p,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){v[f]=new g(f,1,!1,f.toLowerCase(),null,!1,!1)}),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){v[f]=new g(f,1,!1,f.toLowerCase(),null,!0,!0)});function j(f,p,w,E){var L=v.hasOwnProperty(p)?v[p]:null;(L!==null?L.type!==0:E||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(y(p,w,L,E)&&(w=null),E||L===null?h(p)&&(w===null?f.removeAttribute(p):f.setAttribute(p,""+w)):L.mustUseProperty?f[L.propertyName]=w===null?L.type===3?!1:"":w:(p=L.attributeName,E=L.attributeNamespace,w===null?f.removeAttribute(p):(L=L.type,w=L===3||L===4&&w===!0?"":""+w,E?f.setAttributeNS(E,p,w):f.setAttribute(p,w))))}var _=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),B=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),I=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),W=Symbol.iterator;function z(f){return f===null||typeof f!="object"?null:(f=W&&f[W]||f["@@iterator"],typeof f=="function"?f:null)}var te=Object.assign,G;function U(f){if(G===void 0)try{throw Error()}catch(w){var p=w.stack.trim().match(/\n( *(at )?)/);G=p&&p[1]||""}return`
`+G+f}var Y=!1;function ee(f,p){if(!f||Y)return"";Y=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Ve){var E=Ve}Reflect.construct(f,[],p)}else{try{p.call()}catch(Ve){E=Ve}f.call(p.prototype)}else{try{throw Error()}catch(Ve){E=Ve}f()}}catch(Ve){if(Ve&&E&&typeof Ve.stack=="string"){for(var L=Ve.stack.split(`
`),H=E.stack.split(`
`),re=L.length-1,ye=H.length-1;1<=re&&0<=ye&&L[re]!==H[ye];)ye--;for(;1<=re&&0<=ye;re--,ye--)if(L[re]!==H[ye]){if(re!==1||ye!==1)do if(re--,ye--,0>ye||L[re]!==H[ye]){var Se=`
`+L[re].replace(" at new "," at ");return f.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",f.displayName)),Se}while(1<=re&&0<=ye);break}}}finally{Y=!1,Error.prepareStackTrace=w}return(f=f?f.displayName||f.name:"")?U(f):""}function ae(f){switch(f.tag){case 5:return U(f.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return f=ee(f.type,!1),f;case 11:return f=ee(f.type.render,!1),f;case 1:return f=ee(f.type,!0),f;default:return""}}function Ae(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case T:return"Fragment";case B:return"Portal";case P:return"Profiler";case O:return"StrictMode";case $:return"Suspense";case F:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case I:return(f.displayName||"Context")+".Consumer";case M:return(f._context.displayName||"Context")+".Provider";case D:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case V:return p=f.displayName||null,p!==null?p:Ae(f.type)||"Memo";case X:p=f._payload,f=f._init;try{return Ae(f(p))}catch{}}return null}function ce(f){var p=f.type;switch(f.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=p.render,f=f.displayName||f.name||"",p.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(p);case 8:return p===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function we(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function ge(f){var p=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function je(f){var p=ge(f)?"checked":"value",w=Object.getOwnPropertyDescriptor(f.constructor.prototype,p),E=""+f[p];if(!f.hasOwnProperty(p)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var L=w.get,H=w.set;return Object.defineProperty(f,p,{configurable:!0,get:function(){return L.call(this)},set:function(re){E=""+re,H.call(this,re)}}),Object.defineProperty(f,p,{enumerable:w.enumerable}),{getValue:function(){return E},setValue:function(re){E=""+re},stopTracking:function(){f._valueTracker=null,delete f[p]}}}}function Oe(f){f._valueTracker||(f._valueTracker=je(f))}function Ne(f){if(!f)return!1;var p=f._valueTracker;if(!p)return!0;var w=p.getValue(),E="";return f&&(E=ge(f)?f.checked?"true":"false":f.value),f=E,f!==w?(p.setValue(f),!0):!1}function et(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function nt(f,p){var w=p.checked;return te({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??f._wrapperState.initialChecked})}function le(f,p){var w=p.defaultValue==null?"":p.defaultValue,E=p.checked!=null?p.checked:p.defaultChecked;w=we(p.value!=null?p.value:w),f._wrapperState={initialChecked:E,initialValue:w,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function lt(f,p){p=p.checked,p!=null&&j(f,"checked",p,!1)}function Pt(f,p){lt(f,p);var w=we(p.value),E=p.type;if(w!=null)E==="number"?(w===0&&f.value===""||f.value!=w)&&(f.value=""+w):f.value!==""+w&&(f.value=""+w);else if(E==="submit"||E==="reset"){f.removeAttribute("value");return}p.hasOwnProperty("value")?Me(f,p.type,w):p.hasOwnProperty("defaultValue")&&Me(f,p.type,we(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(f.defaultChecked=!!p.defaultChecked)}function Pe(f,p,w){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var E=p.type;if(!(E!=="submit"&&E!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+f._wrapperState.initialValue,w||p===f.value||(f.value=p),f.defaultValue=p}w=f.name,w!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,w!==""&&(f.name=w)}function Me(f,p,w){(p!=="number"||et(f.ownerDocument)!==f)&&(w==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+w&&(f.defaultValue=""+w))}var fe=Array.isArray;function ve(f,p,w,E){if(f=f.options,p){p={};for(var L=0;L<w.length;L++)p["$"+w[L]]=!0;for(w=0;w<f.length;w++)L=p.hasOwnProperty("$"+f[w].value),f[w].selected!==L&&(f[w].selected=L),L&&E&&(f[w].defaultSelected=!0)}else{for(w=""+we(w),p=null,L=0;L<f.length;L++){if(f[L].value===w){f[L].selected=!0,E&&(f[L].defaultSelected=!0);return}p!==null||f[L].disabled||(p=f[L])}p!==null&&(p.selected=!0)}}function Ee(f,p){if(p.dangerouslySetInnerHTML!=null)throw Error(r(91));return te({},p,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function xe(f,p){var w=p.value;if(w==null){if(w=p.children,p=p.defaultValue,w!=null){if(p!=null)throw Error(r(92));if(fe(w)){if(1<w.length)throw Error(r(93));w=w[0]}p=w}p==null&&(p=""),w=p}f._wrapperState={initialValue:we(w)}}function qe(f,p){var w=we(p.value),E=we(p.defaultValue);w!=null&&(w=""+w,w!==f.value&&(f.value=w),p.defaultValue==null&&f.defaultValue!==w&&(f.defaultValue=w)),E!=null&&(f.defaultValue=""+E)}function Ke(f){var p=f.textContent;p===f._wrapperState.initialValue&&p!==""&&p!==null&&(f.value=p)}function tt(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jt(f,p){return f==null||f==="http://www.w3.org/1999/xhtml"?tt(p):f==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var Ct,_t=(function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,w,E,L){MSApp.execUnsafeLocalFunction(function(){return f(p,w,E,L)})}:f})(function(f,p){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=p;else{for(Ct=Ct||document.createElement("div"),Ct.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=Ct.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;p.firstChild;)f.appendChild(p.firstChild)}});function tr(f,p){if(p){var w=f.firstChild;if(w&&w===f.lastChild&&w.nodeType===3){w.nodeValue=p;return}}f.textContent=p}var St={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zn=["Webkit","ms","Moz","O"];Object.keys(St).forEach(function(f){Zn.forEach(function(p){p=p+f.charAt(0).toUpperCase()+f.substring(1),St[p]=St[f]})});function Hr(f,p,w){return p==null||typeof p=="boolean"||p===""?"":w||typeof p!="number"||p===0||St.hasOwnProperty(f)&&St[f]?(""+p).trim():p+"px"}function dr(f,p){f=f.style;for(var w in p)if(p.hasOwnProperty(w)){var E=w.indexOf("--")===0,L=Hr(w,p[w],E);w==="float"&&(w="cssFloat"),E?f.setProperty(w,L):f[w]=L}}var Fr=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tn(f,p){if(p){if(Fr[f]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(r(137,f));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(r(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(r(61))}if(p.style!=null&&typeof p.style!="object")throw Error(r(62))}}function Wt(f,p){if(f.indexOf("-")===-1)return typeof p.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vn=null;function sr(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var xr=null,Nn=null,Cr=null;function qt(f){if(f=jf(f)){if(typeof xr!="function")throw Error(r(280));var p=f.stateNode;p&&(p=dm(p),xr(f.stateNode,f.type,p))}}function yn(f){Nn?Cr?Cr.push(f):Cr=[f]:Nn=f}function cr(){if(Nn){var f=Nn,p=Cr;if(Cr=Nn=null,qt(f),p)for(f=0;f<p.length;f++)qt(p[f])}}function Er(f,p){return f(p)}function ln(){}var us=!1;function Dt(f,p,w){if(us)return f(p,w);us=!0;try{return Er(f,p,w)}finally{us=!1,(Nn!==null||Cr!==null)&&(ln(),cr())}}function Cs(f,p){var w=f.stateNode;if(w===null)return null;var E=dm(w);if(E===null)return null;w=E[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(f=f.type,E=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!E;break e;default:f=!1}if(f)return null;if(w&&typeof w!="function")throw Error(r(231,p,typeof w));return w}var da=!1;if(l)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){da=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{da=!1}function Us(f,p,w,E,L,H,re,ye,Se){var Ve=Array.prototype.slice.call(arguments,3);try{p.apply(w,Ve)}catch(At){this.onError(At)}}var es=!1,Ds=null,Gs=!1,Ic=null,Fu={onError:function(f){es=!0,Ds=f}};function vl(f,p,w,E,L,H,re,ye,Se){es=!1,Ds=null,Us.apply(Fu,arguments)}function Xl(f,p,w,E,L,H,re,ye,Se){if(vl.apply(this,arguments),es){if(es){var Ve=Ds;es=!1,Ds=null}else throw Error(r(198));Gs||(Gs=!0,Ic=Ve)}}function $a(f){var p=f,w=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,(p.flags&4098)!==0&&(w=p.return),f=p.return;while(f)}return p.tag===3?w:null}function Do(f){if(f.tag===13){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function fo(f){if($a(f)!==f)throw Error(r(188))}function Id(f){var p=f.alternate;if(!p){if(p=$a(f),p===null)throw Error(r(188));return p!==f?null:f}for(var w=f,E=p;;){var L=w.return;if(L===null)break;var H=L.alternate;if(H===null){if(E=L.return,E!==null){w=E;continue}break}if(L.child===H.child){for(H=L.child;H;){if(H===w)return fo(L),f;if(H===E)return fo(L),p;H=H.sibling}throw Error(r(188))}if(w.return!==E.return)w=L,E=H;else{for(var re=!1,ye=L.child;ye;){if(ye===w){re=!0,w=L,E=H;break}if(ye===E){re=!0,E=L,w=H;break}ye=ye.sibling}if(!re){for(ye=H.child;ye;){if(ye===w){re=!0,w=H,E=L;break}if(ye===E){re=!0,E=H,w=L;break}ye=ye.sibling}if(!re)throw Error(r(189))}}if(w.alternate!==E)throw Error(r(190))}if(w.tag!==3)throw Error(r(188));return w.stateNode.current===w?f:p}function yl(f){return f=Id(f),f!==null?Ru(f):null}function Ru(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var p=Ru(f);if(p!==null)return p;f=f.sibling}return null}var Fd=t.unstable_scheduleCallback,Rd=t.unstable_cancelCallback,ef=t.unstable_shouldYield,Jy=t.unstable_requestPaint,is=t.unstable_now,zp=t.unstable_getCurrentPriorityLevel,tf=t.unstable_ImmediatePriority,ho=t.unstable_UserBlockingPriority,Lu=t.unstable_NormalPriority,Wp=t.unstable_LowPriority,rf=t.unstable_IdlePriority,Ld=null,mo=null;function Gp(f){if(mo&&typeof mo.onCommitFiberRoot=="function")try{mo.onCommitFiberRoot(Ld,f,void 0,(f.current.flags&128)===128)}catch{}}var Ys=Math.clz32?Math.clz32:Xs,nf=Math.log,Zy=Math.LN2;function Xs(f){return f>>>=0,f===0?32:31-(nf(f)/Zy|0)|0}var Ud=64,po=4194304;function Jl(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function Dd(f,p){var w=f.pendingLanes;if(w===0)return 0;var E=0,L=f.suspendedLanes,H=f.pingedLanes,re=w&268435455;if(re!==0){var ye=re&~L;ye!==0?E=Jl(ye):(H&=re,H!==0&&(E=Jl(H)))}else re=w&~L,re!==0?E=Jl(re):H!==0&&(E=Jl(H));if(E===0)return 0;if(p!==0&&p!==E&&(p&L)===0&&(L=E&-E,H=p&-p,L>=H||L===16&&(H&4194240)!==0))return p;if((E&4)!==0&&(E|=w&16),p=f.entangledLanes,p!==0)for(f=f.entanglements,p&=E;0<p;)w=31-Ys(p),L=1<<w,E|=f[w],p&=~L;return E}function Mo(f,p){switch(f){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aa(f,p){for(var w=f.suspendedLanes,E=f.pingedLanes,L=f.expirationTimes,H=f.pendingLanes;0<H;){var re=31-Ys(H),ye=1<<re,Se=L[re];Se===-1?((ye&w)===0||(ye&E)!==0)&&(L[re]=Mo(ye,p)):Se<=p&&(f.expiredLanes|=ye),H&=~ye}}function xl(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function zh(){var f=Ud;return Ud<<=1,(Ud&4194240)===0&&(Ud=64),f}function Wh(f){for(var p=[],w=0;31>w;w++)p.push(f);return p}function Md(f,p,w){f.pendingLanes|=p,p!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,p=31-Ys(p),f[p]=w}function Zl(f,p){var w=f.pendingLanes&~p;f.pendingLanes=p,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=p,f.mutableReadLanes&=p,f.entangledLanes&=p,p=f.entanglements;var E=f.eventTimes;for(f=f.expirationTimes;0<w;){var L=31-Ys(w),H=1<<L;p[L]=0,E[L]=-1,f[L]=-1,w&=~H}}function sf(f,p){var w=f.entangledLanes|=p;for(f=f.entanglements;w;){var E=31-Ys(w),L=1<<E;L&p|f[E]&p&&(f[E]|=p),w&=~L}}var wn=0;function Qd(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var Uu,Gh,Yp,Xp,af,of=!1,qi=[],ec=null,Ki=null,Qo=null,Hd=new Map,gr=new Map,tc=[],ex="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jp(f,p){switch(f){case"focusin":case"focusout":ec=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Qo=null;break;case"pointerover":case"pointerout":Hd.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":gr.delete(p.pointerId)}}function go(f,p,w,E,L,H){return f===null||f.nativeEvent!==H?(f={blockedOn:p,domEventName:w,eventSystemFlags:E,nativeEvent:H,targetContainers:[L]},p!==null&&(p=jf(p),p!==null&&Gh(p)),f):(f.eventSystemFlags|=E,p=f.targetContainers,L!==null&&p.indexOf(L)===-1&&p.push(L),f)}function Fc(f,p,w,E,L){switch(p){case"focusin":return ec=go(ec,f,p,w,E,L),!0;case"dragenter":return Ki=go(Ki,f,p,w,E,L),!0;case"mouseover":return Qo=go(Qo,f,p,w,E,L),!0;case"pointerover":var H=L.pointerId;return Hd.set(H,go(Hd.get(H)||null,f,p,w,E,L)),!0;case"gotpointercapture":return H=L.pointerId,gr.set(H,go(gr.get(H)||null,f,p,w,E,L)),!0}return!1}function Zp(f){var p=Gu(f.target);if(p!==null){var w=$a(p);if(w!==null){if(p=w.tag,p===13){if(p=Do(w),p!==null){f.blockedOn=p,af(f.priority,function(){Yp(w)});return}}else if(p===3&&w.stateNode.current.memoizedState.isDehydrated){f.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}f.blockedOn=null}function lf(f){if(f.blockedOn!==null)return!1;for(var p=f.targetContainers;0<p.length;){var w=qd(f.domEventName,f.eventSystemFlags,p[0],f.nativeEvent);if(w===null){w=f.nativeEvent;var E=new w.constructor(w.type,w);vn=E,w.target.dispatchEvent(E),vn=null}else return p=jf(w),p!==null&&Gh(p),f.blockedOn=w,!1;p.shift()}return!0}function $d(f,p,w){lf(f)&&w.delete(p)}function Yh(){of=!1,ec!==null&&lf(ec)&&(ec=null),Ki!==null&&lf(Ki)&&(Ki=null),Qo!==null&&lf(Qo)&&(Qo=null),Hd.forEach($d),gr.forEach($d)}function wl(f,p){f.blockedOn===p&&(f.blockedOn=null,of||(of=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Yh)))}function Vd(f){function p(L){return wl(L,f)}if(0<qi.length){wl(qi[0],f);for(var w=1;w<qi.length;w++){var E=qi[w];E.blockedOn===f&&(E.blockedOn=null)}}for(ec!==null&&wl(ec,f),Ki!==null&&wl(Ki,f),Qo!==null&&wl(Qo,f),Hd.forEach(p),gr.forEach(p),w=0;w<tc.length;w++)E=tc[w],E.blockedOn===f&&(E.blockedOn=null);for(;0<tc.length&&(w=tc[0],w.blockedOn===null);)Zp(w),w.blockedOn===null&&tc.shift()}var zi=_.ReactCurrentBatchConfig,cf=!0;function Xh(f,p,w,E){var L=wn,H=zi.transition;zi.transition=null;try{wn=1,uf(f,p,w,E)}finally{wn=L,zi.transition=H}}function Jh(f,p,w,E){var L=wn,H=zi.transition;zi.transition=null;try{wn=4,uf(f,p,w,E)}finally{wn=L,zi.transition=H}}function uf(f,p,w,E){if(cf){var L=qd(f,p,w,E);if(L===null)lm(f,p,E,Ho,w),Jp(f,E);else if(Fc(L,f,p,w,E))E.stopPropagation();else if(Jp(f,E),p&4&&-1<ex.indexOf(f)){for(;L!==null;){var H=jf(L);if(H!==null&&Uu(H),H=qd(f,p,w,E),H===null&&lm(f,p,E,Ho,w),H===L)break;L=H}L!==null&&E.stopPropagation()}else lm(f,p,E,null,w)}}var Ho=null;function qd(f,p,w,E){if(Ho=null,f=sr(E),f=Gu(f),f!==null)if(p=$a(f),p===null)f=null;else if(w=p.tag,w===13){if(f=Do(p),f!==null)return f;f=null}else if(w===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;f=null}else p!==f&&(f=null);return Ho=f,null}function Kd(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zp()){case tf:return 1;case ho:return 4;case Lu:case Wp:return 16;case rf:return 536870912;default:return 16}default:return 16}}var $o=null,Rc=null,Du=null;function Zh(){if(Du)return Du;var f,p=Rc,w=p.length,E,L="value"in $o?$o.value:$o.textContent,H=L.length;for(f=0;f<w&&p[f]===L[f];f++);var re=w-f;for(E=1;E<=re&&p[w-E]===L[H-E];E++);return Du=L.slice(f,1<E?1-E:void 0)}function zd(f){var p=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&p===13&&(f=13)):f=p,f===10&&(f=13),32<=f||f===13?f:0}function Vo(){return!0}function rc(){return!1}function ii(f){function p(w,E,L,H,re){this._reactName=w,this._targetInst=L,this.type=E,this.nativeEvent=H,this.target=re,this.currentTarget=null;for(var ye in f)f.hasOwnProperty(ye)&&(w=f[ye],this[ye]=w?w(H):H[ye]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?Vo:rc,this.isPropagationStopped=rc,this}return te(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=Vo)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=Vo)},persist:function(){},isPersistent:Vo}),p}var qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},df=ii(qo),R=te({},qo,{view:0,detail:0}),Z=ii(R),pe,_e,Te,Ye=te({},R,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wd,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Te&&(Te&&f.type==="mousemove"?(pe=f.screenX-Te.screenX,_e=f.screenY-Te.screenY):_e=pe=0,Te=f),pe)},movementY:function(f){return"movementY"in f?f.movementY:_e}}),ut=ii(Ye),Mt=te({},Ye,{dataTransfer:0}),Gt=ii(Mt),kr=te({},R,{relatedTarget:0}),Rr=ii(kr),xn=te({},qo,{animationName:0,elapsedTime:0,pseudoElement:0}),ws=ii(xn),Js=te({},qo,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),ts=ii(Js),fa=te({},qo,{data:0}),Ms=ii(fa),Va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uc(f){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(f):(f=bl[f])?!!p[f]:!1}function Wd(){return Uc}var Af=te({},R,{key:function(f){if(f.key){var p=Va[f.key]||f.key;if(p!=="Unidentified")return p}return f.type==="keypress"?(f=zd(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Lc[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wd,charCode:function(f){return f.type==="keypress"?zd(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?zd(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),Mu=ii(Af),Gd=te({},Ye,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qu=ii(Gd),Hu=te({},R,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wd}),qa=ii(Hu),Yd=te({},qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=ii(Yd),em=te({},Ye,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),tm=ii(em),Ni=[9,13,27,32],jl=l&&"CompositionEvent"in window,nc=null;l&&"documentMode"in document&&(nc=document.documentMode);var eg=l&&"TextEvent"in window&&!nc,vo=l&&(!jl||nc&&8<nc&&11>=nc),$u=" ",ff=!1;function hf(f,p){switch(f){case"keyup":return Ni.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dc(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var Ko=!1;function yo(f,p){switch(f){case"compositionend":return Dc(p);case"keypress":return p.which!==32?null:(ff=!0,$u);case"textInput":return f=p.data,f===$u&&ff?null:f;default:return null}}function xo(f,p){if(Ko)return f==="compositionend"||!jl&&hf(f,p)?(f=Zh(),Du=Rc=$o=null,Ko=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return vo&&p.locale!=="ko"?null:p.data;default:return null}}var Vu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sc(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p==="input"?!!Vu[f.type]:p==="textarea"}function Mc(f,p,w,E){yn(E),p=ag(p,"onChange"),0<p.length&&(w=new df("onChange","change",null,w,E),f.push({event:w,listeners:p}))}var Qc=null,ac=null;function Qs(f){im(f,0)}function Jd(f){var p=lA(f);if(Ne(p))return f}function ic(f,p){if(f==="change")return p}var _l=!1;if(l){var Zd;if(l){var eA="oninput"in document;if(!eA){var mf=document.createElement("div");mf.setAttribute("oninput","return;"),eA=typeof mf.oninput=="function"}Zd=eA}else Zd=!1;_l=Zd&&(!document.documentMode||9<document.documentMode)}function pf(){Qc&&(Qc.detachEvent("onpropertychange",Hc),ac=Qc=null)}function Hc(f){if(f.propertyName==="value"&&Jd(ac)){var p=[];Mc(p,ac,f,sr(f)),Dt(Qs,p)}}function qu(f,p,w){f==="focusin"?(pf(),Qc=p,ac=w,Qc.attachEvent("onpropertychange",Hc)):f==="focusout"&&pf()}function Ku(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Jd(ac)}function tA(f,p){if(f==="click")return Jd(p)}function zu(f,p){if(f==="input"||f==="change")return Jd(p)}function rA(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var Ss=typeof Object.is=="function"?Object.is:rA;function Wi(f,p){if(Ss(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var w=Object.keys(f),E=Object.keys(p);if(w.length!==E.length)return!1;for(E=0;E<w.length;E++){var L=w[E];if(!c.call(p,L)||!Ss(f[L],p[L]))return!1}return!0}function Cn(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Un(f,p){var w=Cn(f);f=0;for(var E;w;){if(w.nodeType===3){if(E=f+w.textContent.length,f<=p&&E>=p)return{node:w,offset:p-f};f=E}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=Cn(w)}}function Bs(f,p){return f&&p?f===p?!0:f&&f.nodeType===3?!1:p&&p.nodeType===3?Bs(f,p.parentNode):"contains"in f?f.contains(p):f.compareDocumentPosition?!!(f.compareDocumentPosition(p)&16):!1:!1}function Zs(){for(var f=window,p=et();p instanceof f.HTMLIFrameElement;){try{var w=typeof p.contentWindow.location.href=="string"}catch{w=!1}if(w)f=p.contentWindow;else break;p=et(f.document)}return p}function Nl(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p&&(p==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||p==="textarea"||f.contentEditable==="true")}function rm(f){var p=Zs(),w=f.focusedElem,E=f.selectionRange;if(p!==w&&w&&w.ownerDocument&&Bs(w.ownerDocument.documentElement,w)){if(E!==null&&Nl(w)){if(p=E.start,f=E.end,f===void 0&&(f=p),"selectionStart"in w)w.selectionStart=p,w.selectionEnd=Math.min(f,w.value.length);else if(f=(p=w.ownerDocument||document)&&p.defaultView||window,f.getSelection){f=f.getSelection();var L=w.textContent.length,H=Math.min(E.start,L);E=E.end===void 0?H:Math.min(E.end,L),!f.extend&&H>E&&(L=E,E=H,H=L),L=Un(w,H);var re=Un(w,E);L&&re&&(f.rangeCount!==1||f.anchorNode!==L.node||f.anchorOffset!==L.offset||f.focusNode!==re.node||f.focusOffset!==re.offset)&&(p=p.createRange(),p.setStart(L.node,L.offset),f.removeAllRanges(),H>E?(f.addRange(p),f.extend(re.node,re.offset)):(p.setEnd(re.node,re.offset),f.addRange(p)))}}for(p=[],f=w;f=f.parentNode;)f.nodeType===1&&p.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<p.length;w++)f=p[w],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var gf=l&&"documentMode"in document&&11>=document.documentMode,$c=null,tg=null,vf=null,rg=!1;function tx(f,p,w){var E=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;rg||$c==null||$c!==et(E)||(E=$c,"selectionStart"in E&&Nl(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),vf&&Wi(vf,E)||(vf=E,E=ag(tg,"onSelect"),0<E.length&&(p=new df("onSelect","select",null,p,w),f.push({event:p,listeners:E}),p.target=$c)))}function nm(f,p){var w={};return w[f.toLowerCase()]=p.toLowerCase(),w["Webkit"+f]="webkit"+p,w["Moz"+f]="moz"+p,w}var nA={animationend:nm("Animation","AnimationEnd"),animationiteration:nm("Animation","AnimationIteration"),animationstart:nm("Animation","AnimationStart"),transitionend:nm("Transition","TransitionEnd")},sA={},rx={};l&&(rx=document.createElement("div").style,"AnimationEvent"in window||(delete nA.animationend.animation,delete nA.animationiteration.animation,delete nA.animationstart.animation),"TransitionEvent"in window||delete nA.transitionend.transition);function sm(f){if(sA[f])return sA[f];if(!nA[f])return f;var p=nA[f],w;for(w in p)if(p.hasOwnProperty(w)&&w in rx)return sA[f]=p[w];return f}var nx=sm("animationend"),sx=sm("animationiteration"),ax=sm("animationstart"),ix=sm("transitionend"),ox=new Map,lx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oc(f,p){ox.set(f,p),i(p,[f])}for(var yf=0;yf<lx.length;yf++){var Ci=lx[yf],zo=Ci.toLowerCase(),ng=Ci[0].toUpperCase()+Ci.slice(1);oc(zo,"on"+ng)}oc(nx,"onAnimationEnd"),oc(sx,"onAnimationIteration"),oc(ax,"onAnimationStart"),oc("dblclick","onDoubleClick"),oc("focusin","onFocus"),oc("focusout","onBlur"),oc(ix,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ub=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wu));function am(f,p,w){var E=f.type||"unknown-event";f.currentTarget=w,Xl(E,p,void 0,f),f.currentTarget=null}function im(f,p){p=(p&4)!==0;for(var w=0;w<f.length;w++){var E=f[w],L=E.event;E=E.listeners;e:{var H=void 0;if(p)for(var re=E.length-1;0<=re;re--){var ye=E[re],Se=ye.instance,Ve=ye.currentTarget;if(ye=ye.listener,Se!==H&&L.isPropagationStopped())break e;am(L,ye,Ve),H=Se}else for(re=0;re<E.length;re++){if(ye=E[re],Se=ye.instance,Ve=ye.currentTarget,ye=ye.listener,Se!==H&&L.isPropagationStopped())break e;am(L,ye,Ve),H=Se}}}if(Gs)throw f=Ic,Gs=!1,Ic=null,f}function qn(f,p){var w=p[Yi];w===void 0&&(w=p[Yi]=new Set);var E=f+"__bubble";w.has(E)||(om(p,f,2,!1),w.add(E))}function sg(f,p,w){var E=0;p&&(E|=4),om(w,f,E,p)}var xf="_reactListening"+Math.random().toString(36).slice(2);function aA(f){if(!f[xf]){f[xf]=!0,n.forEach(function(w){w!=="selectionchange"&&(Ub.has(w)||sg(w,!1,f),sg(w,!0,f))});var p=f.nodeType===9?f:f.ownerDocument;p===null||p[xf]||(p[xf]=!0,sg("selectionchange",!1,p))}}function om(f,p,w,E){switch(Kd(p)){case 1:var L=Xh;break;case 4:L=Jh;break;default:L=uf}w=L.bind(null,p,w,f),L=void 0,!da||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(L=!0),E?L!==void 0?f.addEventListener(p,w,{capture:!0,passive:L}):f.addEventListener(p,w,!0):L!==void 0?f.addEventListener(p,w,{passive:L}):f.addEventListener(p,w,!1)}function lm(f,p,w,E,L){var H=E;if((p&1)===0&&(p&2)===0&&E!==null)e:for(;;){if(E===null)return;var re=E.tag;if(re===3||re===4){var ye=E.stateNode.containerInfo;if(ye===L||ye.nodeType===8&&ye.parentNode===L)break;if(re===4)for(re=E.return;re!==null;){var Se=re.tag;if((Se===3||Se===4)&&(Se=re.stateNode.containerInfo,Se===L||Se.nodeType===8&&Se.parentNode===L))return;re=re.return}for(;ye!==null;){if(re=Gu(ye),re===null)return;if(Se=re.tag,Se===5||Se===6){E=H=re;continue e}ye=ye.parentNode}}E=E.return}Dt(function(){var Ve=H,At=sr(w),ft=[];e:{var dt=ox.get(f);if(dt!==void 0){var Tt=df,Ht=f;switch(f){case"keypress":if(zd(w)===0)break e;case"keydown":case"keyup":Tt=Mu;break;case"focusin":Ht="focus",Tt=Rr;break;case"focusout":Ht="blur",Tt=Rr;break;case"beforeblur":case"afterblur":Tt=Rr;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Tt=ut;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Tt=Gt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Tt=qa;break;case nx:case sx:case ax:Tt=ws;break;case ix:Tt=Xd;break;case"scroll":Tt=Z;break;case"wheel":Tt=tm;break;case"copy":case"cut":case"paste":Tt=ts;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Tt=Qu}var Kt=(p&4)!==0,pa=!Kt&&f==="scroll",Ue=Kt?dt!==null?dt+"Capture":null:dt;Kt=[];for(var ke=Ve,$e;ke!==null;){$e=ke;var xt=$e.stateNode;if($e.tag===5&&xt!==null&&($e=xt,Ue!==null&&(xt=Cs(ke,Ue),xt!=null&&Kt.push(cm(ke,xt,$e)))),pa)break;ke=ke.return}0<Kt.length&&(dt=new Tt(dt,Ht,null,w,At),ft.push({event:dt,listeners:Kt}))}}if((p&7)===0){e:{if(dt=f==="mouseover"||f==="pointerover",Tt=f==="mouseout"||f==="pointerout",dt&&w!==vn&&(Ht=w.relatedTarget||w.fromElement)&&(Gu(Ht)||Ht[oi]))break e;if((Tt||dt)&&(dt=At.window===At?At:(dt=At.ownerDocument)?dt.defaultView||dt.parentWindow:window,Tt?(Ht=w.relatedTarget||w.toElement,Tt=Ve,Ht=Ht?Gu(Ht):null,Ht!==null&&(pa=$a(Ht),Ht!==pa||Ht.tag!==5&&Ht.tag!==6)&&(Ht=null)):(Tt=null,Ht=Ve),Tt!==Ht)){if(Kt=ut,xt="onMouseLeave",Ue="onMouseEnter",ke="mouse",(f==="pointerout"||f==="pointerover")&&(Kt=Qu,xt="onPointerLeave",Ue="onPointerEnter",ke="pointer"),pa=Tt==null?dt:lA(Tt),$e=Ht==null?dt:lA(Ht),dt=new Kt(xt,ke+"leave",Tt,w,At),dt.target=pa,dt.relatedTarget=$e,xt=null,Gu(At)===Ve&&(Kt=new Kt(Ue,ke+"enter",Ht,w,At),Kt.target=$e,Kt.relatedTarget=pa,xt=Kt),pa=xt,Tt&&Ht)t:{for(Kt=Tt,Ue=Ht,ke=0,$e=Kt;$e;$e=iA($e))ke++;for($e=0,xt=Ue;xt;xt=iA(xt))$e++;for(;0<ke-$e;)Kt=iA(Kt),ke--;for(;0<$e-ke;)Ue=iA(Ue),$e--;for(;ke--;){if(Kt===Ue||Ue!==null&&Kt===Ue.alternate)break t;Kt=iA(Kt),Ue=iA(Ue)}Kt=null}else Kt=null;Tt!==null&&Db(ft,dt,Tt,Kt,!1),Ht!==null&&pa!==null&&Db(ft,pa,Ht,Kt,!0)}}e:{if(dt=Ve?lA(Ve):window,Tt=dt.nodeName&&dt.nodeName.toLowerCase(),Tt==="select"||Tt==="input"&&dt.type==="file")var Xt=ic;else if(sc(dt))if(_l)Xt=zu;else{Xt=Ku;var Ar=qu}else(Tt=dt.nodeName)&&Tt.toLowerCase()==="input"&&(dt.type==="checkbox"||dt.type==="radio")&&(Xt=tA);if(Xt&&(Xt=Xt(f,Ve))){Mc(ft,Xt,w,At);break e}Ar&&Ar(f,dt,Ve),f==="focusout"&&(Ar=dt._wrapperState)&&Ar.controlled&&dt.type==="number"&&Me(dt,"number",dt.value)}switch(Ar=Ve?lA(Ve):window,f){case"focusin":(sc(Ar)||Ar.contentEditable==="true")&&($c=Ar,tg=Ve,vf=null);break;case"focusout":vf=tg=$c=null;break;case"mousedown":rg=!0;break;case"contextmenu":case"mouseup":case"dragend":rg=!1,tx(ft,w,At);break;case"selectionchange":if(gf)break;case"keydown":case"keyup":tx(ft,w,At)}var fr;if(jl)e:{switch(f){case"compositionstart":var Tr="onCompositionStart";break e;case"compositionend":Tr="onCompositionEnd";break e;case"compositionupdate":Tr="onCompositionUpdate";break e}Tr=void 0}else Ko?hf(f,w)&&(Tr="onCompositionEnd"):f==="keydown"&&w.keyCode===229&&(Tr="onCompositionStart");Tr&&(vo&&w.locale!=="ko"&&(Ko||Tr!=="onCompositionStart"?Tr==="onCompositionEnd"&&Ko&&(fr=Zh()):($o=At,Rc="value"in $o?$o.value:$o.textContent,Ko=!0)),Ar=ag(Ve,Tr),0<Ar.length&&(Tr=new Ms(Tr,f,null,w,At),ft.push({event:Tr,listeners:Ar}),fr?Tr.data=fr:(fr=Dc(w),fr!==null&&(Tr.data=fr)))),(fr=eg?yo(f,w):xo(f,w))&&(Ve=ag(Ve,"onBeforeInput"),0<Ve.length&&(At=new Ms("onBeforeInput","beforeinput",null,w,At),ft.push({event:At,listeners:Ve}),At.data=fr))}im(ft,p)})}function cm(f,p,w){return{instance:f,listener:p,currentTarget:w}}function ag(f,p){for(var w=p+"Capture",E=[];f!==null;){var L=f,H=L.stateNode;L.tag===5&&H!==null&&(L=H,H=Cs(f,w),H!=null&&E.unshift(cm(f,H,L)),H=Cs(f,p),H!=null&&E.push(cm(f,H,L))),f=f.return}return E}function iA(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function Db(f,p,w,E,L){for(var H=p._reactName,re=[];w!==null&&w!==E;){var ye=w,Se=ye.alternate,Ve=ye.stateNode;if(Se!==null&&Se===E)break;ye.tag===5&&Ve!==null&&(ye=Ve,L?(Se=Cs(w,H),Se!=null&&re.unshift(cm(w,Se,ye))):L||(Se=Cs(w,H),Se!=null&&re.push(cm(w,Se,ye)))),w=w.return}re.length!==0&&f.push({event:p,listeners:re})}var sS=/\r\n?/g,aS=/\u0000|\uFFFD/g;function Mb(f){return(typeof f=="string"?f:""+f).replace(sS,`
`).replace(aS,"")}function ig(f,p,w){if(p=Mb(p),Mb(f)!==p&&w)throw Error(r(425))}function wf(){}var um=null,oA=null;function cx(f,p){return f==="textarea"||f==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var ux=typeof setTimeout=="function"?setTimeout:void 0,Qb=typeof clearTimeout=="function"?clearTimeout:void 0,Hb=typeof Promise=="function"?Promise:void 0,iS=typeof queueMicrotask=="function"?queueMicrotask:typeof Hb<"u"?function(f){return Hb.resolve(null).then(f).catch(oS)}:ux;function oS(f){setTimeout(function(){throw f})}function dx(f,p){var w=p,E=0;do{var L=w.nextSibling;if(f.removeChild(w),L&&L.nodeType===8)if(w=L.data,w==="/$"){if(E===0){f.removeChild(L),Vd(p);return}E--}else w!=="$"&&w!=="$?"&&w!=="$!"||E++;w=L}while(w);Vd(p)}function Si(f){for(;f!=null;f=f.nextSibling){var p=f.nodeType;if(p===1||p===3)break;if(p===8){if(p=f.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return f}function Wo(f){f=f.previousSibling;for(var p=0;f;){if(f.nodeType===8){var w=f.data;if(w==="$"||w==="$!"||w==="$?"){if(p===0)return f;p--}else w==="/$"&&p++}f=f.previousSibling}return null}var Gi=Math.random().toString(36).slice(2),lc="__reactFiber$"+Gi,bf="__reactProps$"+Gi,oi="__reactContainer$"+Gi,Yi="__reactEvents$"+Gi,lS="__reactListeners$"+Gi,cS="__reactHandles$"+Gi;function Gu(f){var p=f[lc];if(p)return p;for(var w=f.parentNode;w;){if(p=w[oi]||w[lc]){if(w=p.alternate,p.child!==null||w!==null&&w.child!==null)for(f=Wo(f);f!==null;){if(w=f[lc])return w;f=Wo(f)}return p}f=w,w=f.parentNode}return null}function jf(f){return f=f[lc]||f[oi],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function lA(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(r(33))}function dm(f){return f[bf]||null}var Ax=[],Vc=-1;function Cl(f){return{current:f}}function Fn(f){0>Vc||(f.current=Ax[Vc],Ax[Vc]=null,Vc--)}function Dn(f,p){Vc++,Ax[Vc]=f.current,f.current=p}var Yu={},Ka=Cl(Yu),Xi=Cl(!1),cA=Yu;function _f(f,p){var w=f.type.contextTypes;if(!w)return Yu;var E=f.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===p)return E.__reactInternalMemoizedMaskedChildContext;var L={},H;for(H in w)L[H]=p[H];return E&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=p,f.__reactInternalMemoizedMaskedChildContext=L),L}function Ji(f){return f=f.childContextTypes,f!=null}function og(){Fn(Xi),Fn(Ka)}function $b(f,p,w){if(Ka.current!==Yu)throw Error(r(168));Dn(Ka,p),Dn(Xi,w)}function fx(f,p,w){var E=f.stateNode;if(p=p.childContextTypes,typeof E.getChildContext!="function")return w;E=E.getChildContext();for(var L in E)if(!(L in p))throw Error(r(108,ce(f)||"Unknown",L));return te({},w,E)}function uA(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Yu,cA=Ka.current,Dn(Ka,f),Dn(Xi,Xi.current),!0}function Vb(f,p,w){var E=f.stateNode;if(!E)throw Error(r(169));w?(f=fx(f,p,cA),E.__reactInternalMemoizedMergedChildContext=f,Fn(Xi),Fn(Ka),Dn(Ka,f)):Fn(Xi),Dn(Xi,w)}var qc=null,Am=!1,S=!1;function k(f){qc===null?qc=[f]:qc.push(f)}function Q(f){Am=!0,k(f)}function q(){if(!S&&qc!==null){S=!0;var f=0,p=wn;try{var w=qc;for(wn=1;f<w.length;f++){var E=w[f];do E=E(!0);while(E!==null)}qc=null,Am=!1}catch(L){throw qc!==null&&(qc=qc.slice(f+1)),Fd(tf,q),L}finally{wn=p,S=!1}}return null}var J=[],ne=0,ie=null,oe=0,ue=[],he=0,Ce=null,Re=1,me="";function Be(f,p){J[ne++]=oe,J[ne++]=ie,ie=f,oe=p}function Ie(f,p,w){ue[he++]=Re,ue[he++]=me,ue[he++]=Ce,Ce=f;var E=Re;f=me;var L=32-Ys(E)-1;E&=~(1<<L),w+=1;var H=32-Ys(p)+L;if(30<H){var re=L-L%5;H=(E&(1<<re)-1).toString(32),E>>=re,L-=re,Re=1<<32-Ys(p)+L|w<<L|E,me=H+f}else Re=1<<H|w<<L|E,me=f}function Ge(f){f.return!==null&&(Be(f,1),Ie(f,1,0))}function Qe(f){for(;f===ie;)ie=J[--ne],J[ne]=null,oe=J[--ne],J[ne]=null;for(;f===Ce;)Ce=ue[--he],ue[he]=null,me=ue[--he],ue[he]=null,Re=ue[--he],ue[he]=null}var ze=null,We=null,rt=!1,at=null;function Yt(f,p){var w=fc(5,null,null,0);w.elementType="DELETED",w.stateNode=p,w.return=f,p=f.deletions,p===null?(f.deletions=[w],f.flags|=16):p.push(w)}function Ft(f,p){switch(f.tag){case 5:var w=f.type;return p=p.nodeType!==1||w.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(f.stateNode=p,ze=f,We=Si(p.firstChild),!0):!1;case 6:return p=f.pendingProps===""||p.nodeType!==3?null:p,p!==null?(f.stateNode=p,ze=f,We=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(w=Ce!==null?{id:Re,overflow:me}:null,f.memoizedState={dehydrated:p,treeContext:w,retryLane:1073741824},w=fc(18,null,null,0),w.stateNode=p,w.return=f,f.child=w,ze=f,We=null,!0):!1;default:return!1}}function Dr(f){return(f.mode&1)!==0&&(f.flags&128)===0}function Qt(f){if(rt){var p=We;if(p){var w=p;if(!Ft(f,p)){if(Dr(f))throw Error(r(418));p=Si(w.nextSibling);var E=ze;p&&Ft(f,p)?Yt(E,w):(f.flags=f.flags&-4097|2,rt=!1,ze=f)}}else{if(Dr(f))throw Error(r(418));f.flags=f.flags&-4097|2,rt=!1,ze=f}}}function rn(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;ze=f}function Es(f){if(f!==ze)return!1;if(!rt)return rn(f),rt=!0,!1;var p;if((p=f.tag!==3)&&!(p=f.tag!==5)&&(p=f.type,p=p!=="head"&&p!=="body"&&!cx(f.type,f.memoizedProps)),p&&(p=We)){if(Dr(f))throw $r(),Error(r(418));for(;p;)Yt(f,p),p=Si(p.nextSibling)}if(rn(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));e:{for(f=f.nextSibling,p=0;f;){if(f.nodeType===8){var w=f.data;if(w==="/$"){if(p===0){We=Si(f.nextSibling);break e}p--}else w!=="$"&&w!=="$!"&&w!=="$?"||p++}f=f.nextSibling}We=null}}else We=ze?Si(f.stateNode.nextSibling):null;return!0}function $r(){for(var f=We;f;)f=Si(f.nextSibling)}function Rt(){We=ze=null,rt=!1}function bt(f){at===null?at=[f]:at.push(f)}var Hs=_.ReactCurrentBatchConfig;function Sr(f,p,w){if(f=w.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(r(309));var E=w.stateNode}if(!E)throw Error(r(147,f));var L=E,H=""+f;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===H?p.ref:(p=function(re){var ye=L.refs;re===null?delete ye[H]:ye[H]=re},p._stringRef=H,p)}if(typeof f!="string")throw Error(r(284));if(!w._owner)throw Error(r(290,f))}return f}function en(f,p){throw f=Object.prototype.toString.call(p),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f))}function rs(f){var p=f._init;return p(f._payload)}function Ea(f){function p(Ue,ke){if(f){var $e=Ue.deletions;$e===null?(Ue.deletions=[ke],Ue.flags|=16):$e.push(ke)}}function w(Ue,ke){if(!f)return null;for(;ke!==null;)p(Ue,ke),ke=ke.sibling;return null}function E(Ue,ke){for(Ue=new Map;ke!==null;)ke.key!==null?Ue.set(ke.key,ke):Ue.set(ke.index,ke),ke=ke.sibling;return Ue}function L(Ue,ke){return Ue=If(Ue,ke),Ue.index=0,Ue.sibling=null,Ue}function H(Ue,ke,$e){return Ue.index=$e,f?($e=Ue.alternate,$e!==null?($e=$e.index,$e<ke?(Ue.flags|=2,ke):$e):(Ue.flags|=2,ke)):(Ue.flags|=1048576,ke)}function re(Ue){return f&&Ue.alternate===null&&(Ue.flags|=2),Ue}function ye(Ue,ke,$e,xt){return ke===null||ke.tag!==6?(ke=US($e,Ue.mode,xt),ke.return=Ue,ke):(ke=L(ke,$e),ke.return=Ue,ke)}function Se(Ue,ke,$e,xt){var Xt=$e.type;return Xt===T?At(Ue,ke,$e.props.children,xt,$e.key):ke!==null&&(ke.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===X&&rs(Xt)===ke.type)?(xt=L(ke,$e.props),xt.ref=Sr(Ue,ke,$e),xt.return=Ue,xt):(xt=u1($e.type,$e.key,$e.props,null,Ue.mode,xt),xt.ref=Sr(Ue,ke,$e),xt.return=Ue,xt)}function Ve(Ue,ke,$e,xt){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==$e.containerInfo||ke.stateNode.implementation!==$e.implementation?(ke=DS($e,Ue.mode,xt),ke.return=Ue,ke):(ke=L(ke,$e.children||[]),ke.return=Ue,ke)}function At(Ue,ke,$e,xt,Xt){return ke===null||ke.tag!==7?(ke=xm($e,Ue.mode,xt,Xt),ke.return=Ue,ke):(ke=L(ke,$e),ke.return=Ue,ke)}function ft(Ue,ke,$e){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ke=US(""+ke,Ue.mode,$e),ke.return=Ue,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case N:return $e=u1(ke.type,ke.key,ke.props,null,Ue.mode,$e),$e.ref=Sr(Ue,null,ke),$e.return=Ue,$e;case B:return ke=DS(ke,Ue.mode,$e),ke.return=Ue,ke;case X:var xt=ke._init;return ft(Ue,xt(ke._payload),$e)}if(fe(ke)||z(ke))return ke=xm(ke,Ue.mode,$e,null),ke.return=Ue,ke;en(Ue,ke)}return null}function dt(Ue,ke,$e,xt){var Xt=ke!==null?ke.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number")return Xt!==null?null:ye(Ue,ke,""+$e,xt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case N:return $e.key===Xt?Se(Ue,ke,$e,xt):null;case B:return $e.key===Xt?Ve(Ue,ke,$e,xt):null;case X:return Xt=$e._init,dt(Ue,ke,Xt($e._payload),xt)}if(fe($e)||z($e))return Xt!==null?null:At(Ue,ke,$e,xt,null);en(Ue,$e)}return null}function Tt(Ue,ke,$e,xt,Xt){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return Ue=Ue.get($e)||null,ye(ke,Ue,""+xt,Xt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case N:return Ue=Ue.get(xt.key===null?$e:xt.key)||null,Se(ke,Ue,xt,Xt);case B:return Ue=Ue.get(xt.key===null?$e:xt.key)||null,Ve(ke,Ue,xt,Xt);case X:var Ar=xt._init;return Tt(Ue,ke,$e,Ar(xt._payload),Xt)}if(fe(xt)||z(xt))return Ue=Ue.get($e)||null,At(ke,Ue,xt,Xt,null);en(ke,xt)}return null}function Ht(Ue,ke,$e,xt){for(var Xt=null,Ar=null,fr=ke,Tr=ke=0,Ai=null;fr!==null&&Tr<$e.length;Tr++){fr.index>Tr?(Ai=fr,fr=null):Ai=fr.sibling;var Pn=dt(Ue,fr,$e[Tr],xt);if(Pn===null){fr===null&&(fr=Ai);break}f&&fr&&Pn.alternate===null&&p(Ue,fr),ke=H(Pn,ke,Tr),Ar===null?Xt=Pn:Ar.sibling=Pn,Ar=Pn,fr=Ai}if(Tr===$e.length)return w(Ue,fr),rt&&Be(Ue,Tr),Xt;if(fr===null){for(;Tr<$e.length;Tr++)fr=ft(Ue,$e[Tr],xt),fr!==null&&(ke=H(fr,ke,Tr),Ar===null?Xt=fr:Ar.sibling=fr,Ar=fr);return rt&&Be(Ue,Tr),Xt}for(fr=E(Ue,fr);Tr<$e.length;Tr++)Ai=Tt(fr,Ue,Tr,$e[Tr],xt),Ai!==null&&(f&&Ai.alternate!==null&&fr.delete(Ai.key===null?Tr:Ai.key),ke=H(Ai,ke,Tr),Ar===null?Xt=Ai:Ar.sibling=Ai,Ar=Ai);return f&&fr.forEach(function(Ff){return p(Ue,Ff)}),rt&&Be(Ue,Tr),Xt}function Kt(Ue,ke,$e,xt){var Xt=z($e);if(typeof Xt!="function")throw Error(r(150));if($e=Xt.call($e),$e==null)throw Error(r(151));for(var Ar=Xt=null,fr=ke,Tr=ke=0,Ai=null,Pn=$e.next();fr!==null&&!Pn.done;Tr++,Pn=$e.next()){fr.index>Tr?(Ai=fr,fr=null):Ai=fr.sibling;var Ff=dt(Ue,fr,Pn.value,xt);if(Ff===null){fr===null&&(fr=Ai);break}f&&fr&&Ff.alternate===null&&p(Ue,fr),ke=H(Ff,ke,Tr),Ar===null?Xt=Ff:Ar.sibling=Ff,Ar=Ff,fr=Ai}if(Pn.done)return w(Ue,fr),rt&&Be(Ue,Tr),Xt;if(fr===null){for(;!Pn.done;Tr++,Pn=$e.next())Pn=ft(Ue,Pn.value,xt),Pn!==null&&(ke=H(Pn,ke,Tr),Ar===null?Xt=Pn:Ar.sibling=Pn,Ar=Pn);return rt&&Be(Ue,Tr),Xt}for(fr=E(Ue,fr);!Pn.done;Tr++,Pn=$e.next())Pn=Tt(fr,Ue,Tr,Pn.value,xt),Pn!==null&&(f&&Pn.alternate!==null&&fr.delete(Pn.key===null?Tr:Pn.key),ke=H(Pn,ke,Tr),Ar===null?Xt=Pn:Ar.sibling=Pn,Ar=Pn);return f&&fr.forEach(function(Gle){return p(Ue,Gle)}),rt&&Be(Ue,Tr),Xt}function pa(Ue,ke,$e,xt){if(typeof $e=="object"&&$e!==null&&$e.type===T&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case N:e:{for(var Xt=$e.key,Ar=ke;Ar!==null;){if(Ar.key===Xt){if(Xt=$e.type,Xt===T){if(Ar.tag===7){w(Ue,Ar.sibling),ke=L(Ar,$e.props.children),ke.return=Ue,Ue=ke;break e}}else if(Ar.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===X&&rs(Xt)===Ar.type){w(Ue,Ar.sibling),ke=L(Ar,$e.props),ke.ref=Sr(Ue,Ar,$e),ke.return=Ue,Ue=ke;break e}w(Ue,Ar);break}else p(Ue,Ar);Ar=Ar.sibling}$e.type===T?(ke=xm($e.props.children,Ue.mode,xt,$e.key),ke.return=Ue,Ue=ke):(xt=u1($e.type,$e.key,$e.props,null,Ue.mode,xt),xt.ref=Sr(Ue,ke,$e),xt.return=Ue,Ue=xt)}return re(Ue);case B:e:{for(Ar=$e.key;ke!==null;){if(ke.key===Ar)if(ke.tag===4&&ke.stateNode.containerInfo===$e.containerInfo&&ke.stateNode.implementation===$e.implementation){w(Ue,ke.sibling),ke=L(ke,$e.children||[]),ke.return=Ue,Ue=ke;break e}else{w(Ue,ke);break}else p(Ue,ke);ke=ke.sibling}ke=DS($e,Ue.mode,xt),ke.return=Ue,Ue=ke}return re(Ue);case X:return Ar=$e._init,pa(Ue,ke,Ar($e._payload),xt)}if(fe($e))return Ht(Ue,ke,$e,xt);if(z($e))return Kt(Ue,ke,$e,xt);en(Ue,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"?($e=""+$e,ke!==null&&ke.tag===6?(w(Ue,ke.sibling),ke=L(ke,$e),ke.return=Ue,Ue=ke):(w(Ue,ke),ke=US($e,Ue.mode,xt),ke.return=Ue,Ue=ke),re(Ue)):w(Ue,ke)}return pa}var ea=Ea(!0),bs=Ea(!1),ha=Cl(null),ka=null,ds=null,cn=null;function Sn(){cn=ds=ka=null}function As(f){var p=ha.current;Fn(ha),f._currentValue=p}function Bn(f,p,w){for(;f!==null;){var E=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,E!==null&&(E.childLanes|=p)):E!==null&&(E.childLanes&p)!==p&&(E.childLanes|=p),f===w)break;f=f.return}}function ks(f,p){ka=f,cn=ds=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&p)!==0&&(Yo=!0),f.firstContext=null)}function Ps(f){var p=f._currentValue;if(cn!==f)if(f={context:f,memoizedValue:p,next:null},ds===null){if(ka===null)throw Error(r(308));ds=f,ka.dependencies={lanes:0,firstContext:f}}else ds=ds.next=f;return p}var Kn=null;function li(f){Kn===null?Kn=[f]:Kn.push(f)}function Mn(f,p,w,E){var L=p.interleaved;return L===null?(w.next=w,li(p)):(w.next=L.next,L.next=w),p.interleaved=w,zn(f,E)}function zn(f,p){f.lanes|=p;var w=f.alternate;for(w!==null&&(w.lanes|=p),w=f,f=f.return;f!==null;)f.childLanes|=p,w=f.alternate,w!==null&&(w.childLanes|=p),w=f,f=f.return;return w.tag===3?w.stateNode:null}var ta=!1;function za(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zi(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function $s(f,p){return{eventTime:f,lane:p,tag:0,payload:null,callback:null,next:null}}function Vs(f,p,w){var E=f.updateQueue;if(E===null)return null;if(E=E.shared,(En&2)!==0){var L=E.pending;return L===null?p.next=p:(p.next=L.next,L.next=p),E.pending=p,zn(f,w)}return L=E.interleaved,L===null?(p.next=p,li(E)):(p.next=L.next,L.next=p),E.interleaved=p,zn(f,w)}function ci(f,p,w){if(p=p.updateQueue,p!==null&&(p=p.shared,(w&4194240)!==0)){var E=p.lanes;E&=f.pendingLanes,w|=E,p.lanes=w,sf(f,w)}}function Wn(f,p){var w=f.updateQueue,E=f.alternate;if(E!==null&&(E=E.updateQueue,w===E)){var L=null,H=null;if(w=w.firstBaseUpdate,w!==null){do{var re={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};H===null?L=H=re:H=H.next=re,w=w.next}while(w!==null);H===null?L=H=p:H=H.next=p}else L=H=p;w={baseState:E.baseState,firstBaseUpdate:L,lastBaseUpdate:H,shared:E.shared,effects:E.effects},f.updateQueue=w;return}f=w.lastBaseUpdate,f===null?w.firstBaseUpdate=p:f.next=p,w.lastBaseUpdate=p}function ui(f,p,w,E){var L=f.updateQueue;ta=!1;var H=L.firstBaseUpdate,re=L.lastBaseUpdate,ye=L.shared.pending;if(ye!==null){L.shared.pending=null;var Se=ye,Ve=Se.next;Se.next=null,re===null?H=Ve:re.next=Ve,re=Se;var At=f.alternate;At!==null&&(At=At.updateQueue,ye=At.lastBaseUpdate,ye!==re&&(ye===null?At.firstBaseUpdate=Ve:ye.next=Ve,At.lastBaseUpdate=Se))}if(H!==null){var ft=L.baseState;re=0,At=Ve=Se=null,ye=H;do{var dt=ye.lane,Tt=ye.eventTime;if((E&dt)===dt){At!==null&&(At=At.next={eventTime:Tt,lane:0,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null});e:{var Ht=f,Kt=ye;switch(dt=p,Tt=w,Kt.tag){case 1:if(Ht=Kt.payload,typeof Ht=="function"){ft=Ht.call(Tt,ft,dt);break e}ft=Ht;break e;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=Kt.payload,dt=typeof Ht=="function"?Ht.call(Tt,ft,dt):Ht,dt==null)break e;ft=te({},ft,dt);break e;case 2:ta=!0}}ye.callback!==null&&ye.lane!==0&&(f.flags|=64,dt=L.effects,dt===null?L.effects=[ye]:dt.push(ye))}else Tt={eventTime:Tt,lane:dt,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},At===null?(Ve=At=Tt,Se=ft):At=At.next=Tt,re|=dt;if(ye=ye.next,ye===null){if(ye=L.shared.pending,ye===null)break;dt=ye,ye=dt.next,dt.next=null,L.lastBaseUpdate=dt,L.shared.pending=null}}while(!0);if(At===null&&(Se=ft),L.baseState=Se,L.firstBaseUpdate=Ve,L.lastBaseUpdate=At,p=L.shared.interleaved,p!==null){L=p;do re|=L.lane,L=L.next;while(L!==p)}else H===null&&(L.shared.lanes=0);pm|=re,f.lanes=re,f.memoizedState=ft}}function Go(f,p,w){if(f=p.effects,p.effects=null,f!==null)for(p=0;p<f.length;p++){var E=f[p],L=E.callback;if(L!==null){if(E.callback=null,E=w,typeof L!="function")throw Error(r(191,L));L.call(E)}}}var Sl={},Pa=Cl(Sl),qs=Cl(Sl),Xu=Cl(Sl);function Kc(f){if(f===Sl)throw Error(r(174));return f}function Nf(f,p){switch(Dn(Xu,p),Dn(qs,f),Dn(Pa,Sl),f=p.nodeType,f){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:jt(null,"");break;default:f=f===8?p.parentNode:p,p=f.namespaceURI||null,f=f.tagName,p=jt(p,f)}Fn(Pa),Dn(Pa,p)}function cc(){Fn(Pa),Fn(qs),Fn(Xu)}function qb(f){Kc(Xu.current);var p=Kc(Pa.current),w=jt(p,f.type);p!==w&&(Dn(qs,f),Dn(Pa,w))}function hx(f){qs.current===f&&(Fn(Pa),Fn(qs))}var os=Cl(0);function Bl(f){for(var p=f;p!==null;){if(p.tag===13){var w=p.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var mx=[];function px(){for(var f=0;f<mx.length;f++)mx[f]._workInProgressVersionPrimary=null;mx.length=0}var lg=_.ReactCurrentDispatcher,cg=_.ReactCurrentBatchConfig,uc=0,fs=null,ra=null,Ks=null,Cf=!1,zc=!1,Sf=0,uS=0;function ma(){throw Error(r(321))}function ug(f,p){if(p===null)return!1;for(var w=0;w<p.length&&w<f.length;w++)if(!Ss(f[w],p[w]))return!1;return!0}function fm(f,p,w,E,L,H){if(uc=H,fs=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,lg.current=f===null||f.memoizedState===null?wle:ble,f=w(E,L),zc){H=0;do{if(zc=!1,Sf=0,25<=H)throw Error(r(301));H+=1,Ks=ra=null,p.updateQueue=null,lg.current=jle,f=w(E,L)}while(zc)}if(lg.current=Yb,p=ra!==null&&ra.next!==null,uc=0,Ks=ra=fs=null,Cf=!1,p)throw Error(r(300));return f}function dc(){var f=Sf!==0;return Sf=0,f}function El(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ks===null?fs.memoizedState=Ks=f:Ks=Ks.next=f,Ks}function wo(){if(ra===null){var f=fs.alternate;f=f!==null?f.memoizedState:null}else f=ra.next;var p=Ks===null?fs.memoizedState:Ks.next;if(p!==null)Ks=p,ra=f;else{if(f===null)throw Error(r(310));ra=f,f={memoizedState:ra.memoizedState,baseState:ra.baseState,baseQueue:ra.baseQueue,queue:ra.queue,next:null},Ks===null?fs.memoizedState=Ks=f:Ks=Ks.next=f}return Ks}function hm(f,p){return typeof p=="function"?p(f):p}function dg(f){var p=wo(),w=p.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=f;var E=ra,L=E.baseQueue,H=w.pending;if(H!==null){if(L!==null){var re=L.next;L.next=H.next,H.next=re}E.baseQueue=L=H,w.pending=null}if(L!==null){H=L.next,E=E.baseState;var ye=re=null,Se=null,Ve=H;do{var At=Ve.lane;if((uc&At)===At)Se!==null&&(Se=Se.next={lane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),E=Ve.hasEagerState?Ve.eagerState:f(E,Ve.action);else{var ft={lane:At,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null};Se===null?(ye=Se=ft,re=E):Se=Se.next=ft,fs.lanes|=At,pm|=At}Ve=Ve.next}while(Ve!==null&&Ve!==H);Se===null?re=E:Se.next=ye,Ss(E,p.memoizedState)||(Yo=!0),p.memoizedState=E,p.baseState=re,p.baseQueue=Se,w.lastRenderedState=E}if(f=w.interleaved,f!==null){L=f;do H=L.lane,fs.lanes|=H,pm|=H,L=L.next;while(L!==f)}else L===null&&(w.lanes=0);return[p.memoizedState,w.dispatch]}function Ju(f){var p=wo(),w=p.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=f;var E=w.dispatch,L=w.pending,H=p.memoizedState;if(L!==null){w.pending=null;var re=L=L.next;do H=f(H,re.action),re=re.next;while(re!==L);Ss(H,p.memoizedState)||(Yo=!0),p.memoizedState=H,p.baseQueue===null&&(p.baseState=H),w.lastRenderedState=H}return[H,E]}function Kb(){}function gx(f,p){var w=fs,E=wo(),L=p(),H=!Ss(E.memoizedState,L);if(H&&(E.memoizedState=L,Yo=!0),E=E.queue,hg(Wb.bind(null,w,E,f),[f]),E.getSnapshot!==p||H||Ks!==null&&Ks.memoizedState.tag&1){if(w.flags|=2048,bo(9,vx.bind(null,w,E,L,p),void 0,null),di===null)throw Error(r(349));(uc&30)!==0||zb(w,p,L)}return L}function zb(f,p,w){f.flags|=16384,f={getSnapshot:p,value:w},p=fs.updateQueue,p===null?(p={lastEffect:null,stores:null},fs.updateQueue=p,p.stores=[f]):(w=p.stores,w===null?p.stores=[f]:w.push(f))}function vx(f,p,w,E){p.value=w,p.getSnapshot=E,Bf(p)&&Ag(f)}function Wb(f,p,w){return w(function(){Bf(p)&&Ag(f)})}function Bf(f){var p=f.getSnapshot;f=f.value;try{var w=p();return!Ss(f,w)}catch{return!0}}function Ag(f){var p=zn(f,1);p!==null&&Jc(p,f,1,-1)}function mm(f){var p=El();return typeof f=="function"&&(f=f()),p.memoizedState=p.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hm,lastRenderedState:f},p.queue=f,f=f.dispatch=xle.bind(null,fs,f),[p.memoizedState,f]}function bo(f,p,w,E){return f={tag:f,create:p,destroy:w,deps:E,next:null},p=fs.updateQueue,p===null?(p={lastEffect:null,stores:null},fs.updateQueue=p,p.lastEffect=f.next=f):(w=p.lastEffect,w===null?p.lastEffect=f.next=f:(E=w.next,w.next=f,f.next=E,p.lastEffect=f)),f}function Wc(){return wo().memoizedState}function kl(f,p,w,E){var L=El();fs.flags|=f,L.memoizedState=bo(1|p,w,void 0,E===void 0?null:E)}function dA(f,p,w,E){var L=wo();E=E===void 0?null:E;var H=void 0;if(ra!==null){var re=ra.memoizedState;if(H=re.destroy,E!==null&&ug(E,re.deps)){L.memoizedState=bo(p,w,H,E);return}}fs.flags|=f,L.memoizedState=bo(1|p,w,H,E)}function fg(f,p){return kl(8390656,8,f,p)}function hg(f,p){return dA(2048,8,f,p)}function Gb(f,p){return dA(4,2,f,p)}function mg(f,p){return dA(4,4,f,p)}function pg(f,p){if(typeof p=="function")return f=f(),p(f),function(){p(null)};if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function HL(f,p,w){return w=w!=null?w.concat([f]):null,dA(4,4,pg.bind(null,p,f),w)}function dS(){}function $L(f,p){var w=wo();p=p===void 0?null:p;var E=w.memoizedState;return E!==null&&p!==null&&ug(p,E[1])?E[0]:(w.memoizedState=[f,p],f)}function VL(f,p){var w=wo();p=p===void 0?null:p;var E=w.memoizedState;return E!==null&&p!==null&&ug(p,E[1])?E[0]:(f=f(),w.memoizedState=[f,p],f)}function qL(f,p,w){return(uc&21)===0?(f.baseState&&(f.baseState=!1,Yo=!0),f.memoizedState=w):(Ss(w,p)||(w=zh(),fs.lanes|=w,pm|=w,f.baseState=!0),p)}function vle(f,p){var w=wn;wn=w!==0&&4>w?w:4,f(!0);var E=cg.transition;cg.transition={};try{f(!1),p()}finally{wn=w,cg.transition=E}}function KL(){return wo().memoizedState}function yle(f,p,w){var E=Tf(f);if(w={lane:E,action:w,hasEagerState:!1,eagerState:null,next:null},zL(f))WL(p,w);else if(w=Mn(f,p,w,E),w!==null){var L=_o();Jc(w,f,E,L),GL(w,p,E)}}function xle(f,p,w){var E=Tf(f),L={lane:E,action:w,hasEagerState:!1,eagerState:null,next:null};if(zL(f))WL(p,L);else{var H=f.alternate;if(f.lanes===0&&(H===null||H.lanes===0)&&(H=p.lastRenderedReducer,H!==null))try{var re=p.lastRenderedState,ye=H(re,w);if(L.hasEagerState=!0,L.eagerState=ye,Ss(ye,re)){var Se=p.interleaved;Se===null?(L.next=L,li(p)):(L.next=Se.next,Se.next=L),p.interleaved=L;return}}catch{}w=Mn(f,p,L,E),w!==null&&(L=_o(),Jc(w,f,E,L),GL(w,p,E))}}function zL(f){var p=f.alternate;return f===fs||p!==null&&p===fs}function WL(f,p){zc=Cf=!0;var w=f.pending;w===null?p.next=p:(p.next=w.next,w.next=p),f.pending=p}function GL(f,p,w){if((w&4194240)!==0){var E=p.lanes;E&=f.pendingLanes,w|=E,p.lanes=w,sf(f,w)}}var Yb={readContext:Ps,useCallback:ma,useContext:ma,useEffect:ma,useImperativeHandle:ma,useInsertionEffect:ma,useLayoutEffect:ma,useMemo:ma,useReducer:ma,useRef:ma,useState:ma,useDebugValue:ma,useDeferredValue:ma,useTransition:ma,useMutableSource:ma,useSyncExternalStore:ma,useId:ma,unstable_isNewReconciler:!1},wle={readContext:Ps,useCallback:function(f,p){return El().memoizedState=[f,p===void 0?null:p],f},useContext:Ps,useEffect:fg,useImperativeHandle:function(f,p,w){return w=w!=null?w.concat([f]):null,kl(4194308,4,pg.bind(null,p,f),w)},useLayoutEffect:function(f,p){return kl(4194308,4,f,p)},useInsertionEffect:function(f,p){return kl(4,2,f,p)},useMemo:function(f,p){var w=El();return p=p===void 0?null:p,f=f(),w.memoizedState=[f,p],f},useReducer:function(f,p,w){var E=El();return p=w!==void 0?w(p):p,E.memoizedState=E.baseState=p,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:p},E.queue=f,f=f.dispatch=yle.bind(null,fs,f),[E.memoizedState,f]},useRef:function(f){var p=El();return f={current:f},p.memoizedState=f},useState:mm,useDebugValue:dS,useDeferredValue:function(f){return El().memoizedState=f},useTransition:function(){var f=mm(!1),p=f[0];return f=vle.bind(null,f[1]),El().memoizedState=f,[p,f]},useMutableSource:function(){},useSyncExternalStore:function(f,p,w){var E=fs,L=El();if(rt){if(w===void 0)throw Error(r(407));w=w()}else{if(w=p(),di===null)throw Error(r(349));(uc&30)!==0||zb(E,p,w)}L.memoizedState=w;var H={value:w,getSnapshot:p};return L.queue=H,fg(Wb.bind(null,E,H,f),[f]),E.flags|=2048,bo(9,vx.bind(null,E,H,w,p),void 0,null),w},useId:function(){var f=El(),p=di.identifierPrefix;if(rt){var w=me,E=Re;w=(E&~(1<<32-Ys(E)-1)).toString(32)+w,p=":"+p+"R"+w,w=Sf++,0<w&&(p+="H"+w.toString(32)),p+=":"}else w=uS++,p=":"+p+"r"+w.toString(32)+":";return f.memoizedState=p},unstable_isNewReconciler:!1},ble={readContext:Ps,useCallback:$L,useContext:Ps,useEffect:hg,useImperativeHandle:HL,useInsertionEffect:Gb,useLayoutEffect:mg,useMemo:VL,useReducer:dg,useRef:Wc,useState:function(){return dg(hm)},useDebugValue:dS,useDeferredValue:function(f){var p=wo();return qL(p,ra.memoizedState,f)},useTransition:function(){var f=dg(hm)[0],p=wo().memoizedState;return[f,p]},useMutableSource:Kb,useSyncExternalStore:gx,useId:KL,unstable_isNewReconciler:!1},jle={readContext:Ps,useCallback:$L,useContext:Ps,useEffect:hg,useImperativeHandle:HL,useInsertionEffect:Gb,useLayoutEffect:mg,useMemo:VL,useReducer:Ju,useRef:Wc,useState:function(){return Ju(hm)},useDebugValue:dS,useDeferredValue:function(f){var p=wo();return ra===null?p.memoizedState=f:qL(p,ra.memoizedState,f)},useTransition:function(){var f=Ju(hm)[0],p=wo().memoizedState;return[f,p]},useMutableSource:Kb,useSyncExternalStore:gx,useId:KL,unstable_isNewReconciler:!1};function Gc(f,p){if(f&&f.defaultProps){p=te({},p),f=f.defaultProps;for(var w in f)p[w]===void 0&&(p[w]=f[w]);return p}return p}function AS(f,p,w,E){p=f.memoizedState,w=w(E,p),w=w==null?p:te({},p,w),f.memoizedState=w,f.lanes===0&&(f.updateQueue.baseState=w)}var Xb={isMounted:function(f){return(f=f._reactInternals)?$a(f)===f:!1},enqueueSetState:function(f,p,w){f=f._reactInternals;var E=_o(),L=Tf(f),H=$s(E,L);H.payload=p,w!=null&&(H.callback=w),p=Vs(f,H,L),p!==null&&(Jc(p,f,L,E),ci(p,f,L))},enqueueReplaceState:function(f,p,w){f=f._reactInternals;var E=_o(),L=Tf(f),H=$s(E,L);H.tag=1,H.payload=p,w!=null&&(H.callback=w),p=Vs(f,H,L),p!==null&&(Jc(p,f,L,E),ci(p,f,L))},enqueueForceUpdate:function(f,p){f=f._reactInternals;var w=_o(),E=Tf(f),L=$s(w,E);L.tag=2,p!=null&&(L.callback=p),p=Vs(f,L,E),p!==null&&(Jc(p,f,E,w),ci(p,f,E))}};function YL(f,p,w,E,L,H,re){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(E,H,re):p.prototype&&p.prototype.isPureReactComponent?!Wi(w,E)||!Wi(L,H):!0}function XL(f,p,w){var E=!1,L=Yu,H=p.contextType;return typeof H=="object"&&H!==null?H=Ps(H):(L=Ji(p)?cA:Ka.current,E=p.contextTypes,H=(E=E!=null)?_f(f,L):Yu),p=new p(w,H),f.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Xb,f.stateNode=p,p._reactInternals=f,E&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=L,f.__reactInternalMemoizedMaskedChildContext=H),p}function JL(f,p,w,E){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(w,E),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(w,E),p.state!==f&&Xb.enqueueReplaceState(p,p.state,null)}function fS(f,p,w,E){var L=f.stateNode;L.props=w,L.state=f.memoizedState,L.refs={},za(f);var H=p.contextType;typeof H=="object"&&H!==null?L.context=Ps(H):(H=Ji(p)?cA:Ka.current,L.context=_f(f,H)),L.state=f.memoizedState,H=p.getDerivedStateFromProps,typeof H=="function"&&(AS(f,p,H,w),L.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(p=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),p!==L.state&&Xb.enqueueReplaceState(L,L.state,null),ui(f,w,L,E),L.state=f.memoizedState),typeof L.componentDidMount=="function"&&(f.flags|=4194308)}function gg(f,p){try{var w="",E=p;do w+=ae(E),E=E.return;while(E);var L=w}catch(H){L=`
Error generating stack: `+H.message+`
`+H.stack}return{value:f,source:p,stack:L,digest:null}}function hS(f,p,w){return{value:f,source:null,stack:w??null,digest:p??null}}function mS(f,p){try{console.error(p.value)}catch(w){setTimeout(function(){throw w})}}var _le=typeof WeakMap=="function"?WeakMap:Map;function ZL(f,p,w){w=$s(-1,w),w.tag=3,w.payload={element:null};var E=p.value;return w.callback=function(){s1||(s1=!0,kS=E),mS(f,p)},w}function eU(f,p,w){w=$s(-1,w),w.tag=3;var E=f.type.getDerivedStateFromError;if(typeof E=="function"){var L=p.value;w.payload=function(){return E(L)},w.callback=function(){mS(f,p)}}var H=f.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(w.callback=function(){mS(f,p),typeof E!="function"&&(kf===null?kf=new Set([this]):kf.add(this));var re=p.stack;this.componentDidCatch(p.value,{componentStack:re!==null?re:""})}),w}function tU(f,p,w){var E=f.pingCache;if(E===null){E=f.pingCache=new _le;var L=new Set;E.set(p,L)}else L=E.get(p),L===void 0&&(L=new Set,E.set(p,L));L.has(w)||(L.add(w),f=Ule.bind(null,f,p,w),p.then(f,f))}function rU(f){do{var p;if((p=f.tag===13)&&(p=f.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return f;f=f.return}while(f!==null);return null}function nU(f,p,w,E,L){return(f.mode&1)===0?(f===p?f.flags|=65536:(f.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(p=$s(-1,1),p.tag=2,Vs(w,p,1))),w.lanes|=1),f):(f.flags|=65536,f.lanes=L,f)}var Nle=_.ReactCurrentOwner,Yo=!1;function jo(f,p,w,E){p.child=f===null?bs(p,null,w,E):ea(p,f.child,w,E)}function sU(f,p,w,E,L){w=w.render;var H=p.ref;return ks(p,L),E=fm(f,p,w,E,H,L),w=dc(),f!==null&&!Yo?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~L,AA(f,p,L)):(rt&&w&&Ge(p),p.flags|=1,jo(f,p,E,L),p.child)}function aU(f,p,w,E,L){if(f===null){var H=w.type;return typeof H=="function"&&!LS(H)&&H.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(p.tag=15,p.type=H,iU(f,p,H,E,L)):(f=u1(w.type,null,E,p,p.mode,L),f.ref=p.ref,f.return=p,p.child=f)}if(H=f.child,(f.lanes&L)===0){var re=H.memoizedProps;if(w=w.compare,w=w!==null?w:Wi,w(re,E)&&f.ref===p.ref)return AA(f,p,L)}return p.flags|=1,f=If(H,E),f.ref=p.ref,f.return=p,p.child=f}function iU(f,p,w,E,L){if(f!==null){var H=f.memoizedProps;if(Wi(H,E)&&f.ref===p.ref)if(Yo=!1,p.pendingProps=E=H,(f.lanes&L)!==0)(f.flags&131072)!==0&&(Yo=!0);else return p.lanes=f.lanes,AA(f,p,L)}return pS(f,p,w,E,L)}function oU(f,p,w){var E=p.pendingProps,L=E.children,H=f!==null?f.memoizedState:null;if(E.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dn(yg,Pl),Pl|=w;else{if((w&1073741824)===0)return f=H!==null?H.baseLanes|w:w,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:f,cachePool:null,transitions:null},p.updateQueue=null,Dn(yg,Pl),Pl|=f,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=H!==null?H.baseLanes:w,Dn(yg,Pl),Pl|=E}else H!==null?(E=H.baseLanes|w,p.memoizedState=null):E=w,Dn(yg,Pl),Pl|=E;return jo(f,p,L,w),p.child}function lU(f,p){var w=p.ref;(f===null&&w!==null||f!==null&&f.ref!==w)&&(p.flags|=512,p.flags|=2097152)}function pS(f,p,w,E,L){var H=Ji(w)?cA:Ka.current;return H=_f(p,H),ks(p,L),w=fm(f,p,w,E,H,L),E=dc(),f!==null&&!Yo?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~L,AA(f,p,L)):(rt&&E&&Ge(p),p.flags|=1,jo(f,p,w,L),p.child)}function cU(f,p,w,E,L){if(Ji(w)){var H=!0;uA(p)}else H=!1;if(ks(p,L),p.stateNode===null)Zb(f,p),XL(p,w,E),fS(p,w,E,L),E=!0;else if(f===null){var re=p.stateNode,ye=p.memoizedProps;re.props=ye;var Se=re.context,Ve=w.contextType;typeof Ve=="object"&&Ve!==null?Ve=Ps(Ve):(Ve=Ji(w)?cA:Ka.current,Ve=_f(p,Ve));var At=w.getDerivedStateFromProps,ft=typeof At=="function"||typeof re.getSnapshotBeforeUpdate=="function";ft||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(ye!==E||Se!==Ve)&&JL(p,re,E,Ve),ta=!1;var dt=p.memoizedState;re.state=dt,ui(p,E,re,L),Se=p.memoizedState,ye!==E||dt!==Se||Xi.current||ta?(typeof At=="function"&&(AS(p,w,At,E),Se=p.memoizedState),(ye=ta||YL(p,w,ye,E,dt,Se,Ve))?(ft||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(p.flags|=4194308)):(typeof re.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=E,p.memoizedState=Se),re.props=E,re.state=Se,re.context=Ve,E=ye):(typeof re.componentDidMount=="function"&&(p.flags|=4194308),E=!1)}else{re=p.stateNode,Zi(f,p),ye=p.memoizedProps,Ve=p.type===p.elementType?ye:Gc(p.type,ye),re.props=Ve,ft=p.pendingProps,dt=re.context,Se=w.contextType,typeof Se=="object"&&Se!==null?Se=Ps(Se):(Se=Ji(w)?cA:Ka.current,Se=_f(p,Se));var Tt=w.getDerivedStateFromProps;(At=typeof Tt=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(ye!==ft||dt!==Se)&&JL(p,re,E,Se),ta=!1,dt=p.memoizedState,re.state=dt,ui(p,E,re,L);var Ht=p.memoizedState;ye!==ft||dt!==Ht||Xi.current||ta?(typeof Tt=="function"&&(AS(p,w,Tt,E),Ht=p.memoizedState),(Ve=ta||YL(p,w,Ve,E,dt,Ht,Se)||!1)?(At||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(E,Ht,Se),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(E,Ht,Se)),typeof re.componentDidUpdate=="function"&&(p.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof re.componentDidUpdate!="function"||ye===f.memoizedProps&&dt===f.memoizedState||(p.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||ye===f.memoizedProps&&dt===f.memoizedState||(p.flags|=1024),p.memoizedProps=E,p.memoizedState=Ht),re.props=E,re.state=Ht,re.context=Se,E=Ve):(typeof re.componentDidUpdate!="function"||ye===f.memoizedProps&&dt===f.memoizedState||(p.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||ye===f.memoizedProps&&dt===f.memoizedState||(p.flags|=1024),E=!1)}return gS(f,p,w,E,H,L)}function gS(f,p,w,E,L,H){lU(f,p);var re=(p.flags&128)!==0;if(!E&&!re)return L&&Vb(p,w,!1),AA(f,p,H);E=p.stateNode,Nle.current=p;var ye=re&&typeof w.getDerivedStateFromError!="function"?null:E.render();return p.flags|=1,f!==null&&re?(p.child=ea(p,f.child,null,H),p.child=ea(p,null,ye,H)):jo(f,p,ye,H),p.memoizedState=E.state,L&&Vb(p,w,!0),p.child}function uU(f){var p=f.stateNode;p.pendingContext?$b(f,p.pendingContext,p.pendingContext!==p.context):p.context&&$b(f,p.context,!1),Nf(f,p.containerInfo)}function dU(f,p,w,E,L){return Rt(),bt(L),p.flags|=256,jo(f,p,w,E),p.child}var vS={dehydrated:null,treeContext:null,retryLane:0};function yS(f){return{baseLanes:f,cachePool:null,transitions:null}}function AU(f,p,w){var E=p.pendingProps,L=os.current,H=!1,re=(p.flags&128)!==0,ye;if((ye=re)||(ye=f!==null&&f.memoizedState===null?!1:(L&2)!==0),ye?(H=!0,p.flags&=-129):(f===null||f.memoizedState!==null)&&(L|=1),Dn(os,L&1),f===null)return Qt(p),f=p.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((p.mode&1)===0?p.lanes=1:f.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(re=E.children,f=E.fallback,H?(E=p.mode,H=p.child,re={mode:"hidden",children:re},(E&1)===0&&H!==null?(H.childLanes=0,H.pendingProps=re):H=d1(re,E,0,null),f=xm(f,E,w,null),H.return=p,f.return=p,H.sibling=f,p.child=H,p.child.memoizedState=yS(w),p.memoizedState=vS,f):xS(p,re));if(L=f.memoizedState,L!==null&&(ye=L.dehydrated,ye!==null))return Cle(f,p,re,E,ye,L,w);if(H){H=E.fallback,re=p.mode,L=f.child,ye=L.sibling;var Se={mode:"hidden",children:E.children};return(re&1)===0&&p.child!==L?(E=p.child,E.childLanes=0,E.pendingProps=Se,p.deletions=null):(E=If(L,Se),E.subtreeFlags=L.subtreeFlags&14680064),ye!==null?H=If(ye,H):(H=xm(H,re,w,null),H.flags|=2),H.return=p,E.return=p,E.sibling=H,p.child=E,E=H,H=p.child,re=f.child.memoizedState,re=re===null?yS(w):{baseLanes:re.baseLanes|w,cachePool:null,transitions:re.transitions},H.memoizedState=re,H.childLanes=f.childLanes&~w,p.memoizedState=vS,E}return H=f.child,f=H.sibling,E=If(H,{mode:"visible",children:E.children}),(p.mode&1)===0&&(E.lanes=w),E.return=p,E.sibling=null,f!==null&&(w=p.deletions,w===null?(p.deletions=[f],p.flags|=16):w.push(f)),p.child=E,p.memoizedState=null,E}function xS(f,p){return p=d1({mode:"visible",children:p},f.mode,0,null),p.return=f,f.child=p}function Jb(f,p,w,E){return E!==null&&bt(E),ea(p,f.child,null,w),f=xS(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function Cle(f,p,w,E,L,H,re){if(w)return p.flags&256?(p.flags&=-257,E=hS(Error(r(422))),Jb(f,p,re,E)):p.memoizedState!==null?(p.child=f.child,p.flags|=128,null):(H=E.fallback,L=p.mode,E=d1({mode:"visible",children:E.children},L,0,null),H=xm(H,L,re,null),H.flags|=2,E.return=p,H.return=p,E.sibling=H,p.child=E,(p.mode&1)!==0&&ea(p,f.child,null,re),p.child.memoizedState=yS(re),p.memoizedState=vS,H);if((p.mode&1)===0)return Jb(f,p,re,null);if(L.data==="$!"){if(E=L.nextSibling&&L.nextSibling.dataset,E)var ye=E.dgst;return E=ye,H=Error(r(419)),E=hS(H,E,void 0),Jb(f,p,re,E)}if(ye=(re&f.childLanes)!==0,Yo||ye){if(E=di,E!==null){switch(re&-re){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}L=(L&(E.suspendedLanes|re))!==0?0:L,L!==0&&L!==H.retryLane&&(H.retryLane=L,zn(f,L),Jc(E,f,L,-1))}return RS(),E=hS(Error(r(421))),Jb(f,p,re,E)}return L.data==="$?"?(p.flags|=128,p.child=f.child,p=Dle.bind(null,f),L._reactRetry=p,null):(f=H.treeContext,We=Si(L.nextSibling),ze=p,rt=!0,at=null,f!==null&&(ue[he++]=Re,ue[he++]=me,ue[he++]=Ce,Re=f.id,me=f.overflow,Ce=p),p=xS(p,E.children),p.flags|=4096,p)}function fU(f,p,w){f.lanes|=p;var E=f.alternate;E!==null&&(E.lanes|=p),Bn(f.return,p,w)}function wS(f,p,w,E,L){var H=f.memoizedState;H===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:E,tail:w,tailMode:L}:(H.isBackwards=p,H.rendering=null,H.renderingStartTime=0,H.last=E,H.tail=w,H.tailMode=L)}function hU(f,p,w){var E=p.pendingProps,L=E.revealOrder,H=E.tail;if(jo(f,p,E.children,w),E=os.current,(E&2)!==0)E=E&1|2,p.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&fU(f,w,p);else if(f.tag===19)fU(f,w,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}E&=1}if(Dn(os,E),(p.mode&1)===0)p.memoizedState=null;else switch(L){case"forwards":for(w=p.child,L=null;w!==null;)f=w.alternate,f!==null&&Bl(f)===null&&(L=w),w=w.sibling;w=L,w===null?(L=p.child,p.child=null):(L=w.sibling,w.sibling=null),wS(p,!1,L,w,H);break;case"backwards":for(w=null,L=p.child,p.child=null;L!==null;){if(f=L.alternate,f!==null&&Bl(f)===null){p.child=L;break}f=L.sibling,L.sibling=w,w=L,L=f}wS(p,!0,w,null,H);break;case"together":wS(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Zb(f,p){(p.mode&1)===0&&f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2)}function AA(f,p,w){if(f!==null&&(p.dependencies=f.dependencies),pm|=p.lanes,(w&p.childLanes)===0)return null;if(f!==null&&p.child!==f.child)throw Error(r(153));if(p.child!==null){for(f=p.child,w=If(f,f.pendingProps),p.child=w,w.return=p;f.sibling!==null;)f=f.sibling,w=w.sibling=If(f,f.pendingProps),w.return=p;w.sibling=null}return p.child}function Sle(f,p,w){switch(p.tag){case 3:uU(p),Rt();break;case 5:qb(p);break;case 1:Ji(p.type)&&uA(p);break;case 4:Nf(p,p.stateNode.containerInfo);break;case 10:var E=p.type._context,L=p.memoizedProps.value;Dn(ha,E._currentValue),E._currentValue=L;break;case 13:if(E=p.memoizedState,E!==null)return E.dehydrated!==null?(Dn(os,os.current&1),p.flags|=128,null):(w&p.child.childLanes)!==0?AU(f,p,w):(Dn(os,os.current&1),f=AA(f,p,w),f!==null?f.sibling:null);Dn(os,os.current&1);break;case 19:if(E=(w&p.childLanes)!==0,(f.flags&128)!==0){if(E)return hU(f,p,w);p.flags|=128}if(L=p.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),Dn(os,os.current),E)break;return null;case 22:case 23:return p.lanes=0,oU(f,p,w)}return AA(f,p,w)}var mU,bS,pU,gU;mU=function(f,p){for(var w=p.child;w!==null;){if(w.tag===5||w.tag===6)f.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},bS=function(){},pU=function(f,p,w,E){var L=f.memoizedProps;if(L!==E){f=p.stateNode,Kc(Pa.current);var H=null;switch(w){case"input":L=nt(f,L),E=nt(f,E),H=[];break;case"select":L=te({},L,{value:void 0}),E=te({},E,{value:void 0}),H=[];break;case"textarea":L=Ee(f,L),E=Ee(f,E),H=[];break;default:typeof L.onClick!="function"&&typeof E.onClick=="function"&&(f.onclick=wf)}tn(w,E);var re;w=null;for(Ve in L)if(!E.hasOwnProperty(Ve)&&L.hasOwnProperty(Ve)&&L[Ve]!=null)if(Ve==="style"){var ye=L[Ve];for(re in ye)ye.hasOwnProperty(re)&&(w||(w={}),w[re]="")}else Ve!=="dangerouslySetInnerHTML"&&Ve!=="children"&&Ve!=="suppressContentEditableWarning"&&Ve!=="suppressHydrationWarning"&&Ve!=="autoFocus"&&(a.hasOwnProperty(Ve)?H||(H=[]):(H=H||[]).push(Ve,null));for(Ve in E){var Se=E[Ve];if(ye=L?.[Ve],E.hasOwnProperty(Ve)&&Se!==ye&&(Se!=null||ye!=null))if(Ve==="style")if(ye){for(re in ye)!ye.hasOwnProperty(re)||Se&&Se.hasOwnProperty(re)||(w||(w={}),w[re]="");for(re in Se)Se.hasOwnProperty(re)&&ye[re]!==Se[re]&&(w||(w={}),w[re]=Se[re])}else w||(H||(H=[]),H.push(Ve,w)),w=Se;else Ve==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,ye=ye?ye.__html:void 0,Se!=null&&ye!==Se&&(H=H||[]).push(Ve,Se)):Ve==="children"?typeof Se!="string"&&typeof Se!="number"||(H=H||[]).push(Ve,""+Se):Ve!=="suppressContentEditableWarning"&&Ve!=="suppressHydrationWarning"&&(a.hasOwnProperty(Ve)?(Se!=null&&Ve==="onScroll"&&qn("scroll",f),H||ye===Se||(H=[])):(H=H||[]).push(Ve,Se))}w&&(H=H||[]).push("style",w);var Ve=H;(p.updateQueue=Ve)&&(p.flags|=4)}},gU=function(f,p,w,E){w!==E&&(p.flags|=4)};function yx(f,p){if(!rt)switch(f.tailMode){case"hidden":p=f.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?f.tail=null:w.sibling=null;break;case"collapsed":w=f.tail;for(var E=null;w!==null;)w.alternate!==null&&(E=w),w=w.sibling;E===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:E.sibling=null}}function eo(f){var p=f.alternate!==null&&f.alternate.child===f.child,w=0,E=0;if(p)for(var L=f.child;L!==null;)w|=L.lanes|L.childLanes,E|=L.subtreeFlags&14680064,E|=L.flags&14680064,L.return=f,L=L.sibling;else for(L=f.child;L!==null;)w|=L.lanes|L.childLanes,E|=L.subtreeFlags,E|=L.flags,L.return=f,L=L.sibling;return f.subtreeFlags|=E,f.childLanes=w,p}function Ble(f,p,w){var E=p.pendingProps;switch(Qe(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return eo(p),null;case 1:return Ji(p.type)&&og(),eo(p),null;case 3:return E=p.stateNode,cc(),Fn(Xi),Fn(Ka),px(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(f===null||f.child===null)&&(Es(p)?p.flags|=4:f===null||f.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,at!==null&&(OS(at),at=null))),bS(f,p),eo(p),null;case 5:hx(p);var L=Kc(Xu.current);if(w=p.type,f!==null&&p.stateNode!=null)pU(f,p,w,E,L),f.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!E){if(p.stateNode===null)throw Error(r(166));return eo(p),null}if(f=Kc(Pa.current),Es(p)){E=p.stateNode,w=p.type;var H=p.memoizedProps;switch(E[lc]=p,E[bf]=H,f=(p.mode&1)!==0,w){case"dialog":qn("cancel",E),qn("close",E);break;case"iframe":case"object":case"embed":qn("load",E);break;case"video":case"audio":for(L=0;L<Wu.length;L++)qn(Wu[L],E);break;case"source":qn("error",E);break;case"img":case"image":case"link":qn("error",E),qn("load",E);break;case"details":qn("toggle",E);break;case"input":le(E,H),qn("invalid",E);break;case"select":E._wrapperState={wasMultiple:!!H.multiple},qn("invalid",E);break;case"textarea":xe(E,H),qn("invalid",E)}tn(w,H),L=null;for(var re in H)if(H.hasOwnProperty(re)){var ye=H[re];re==="children"?typeof ye=="string"?E.textContent!==ye&&(H.suppressHydrationWarning!==!0&&ig(E.textContent,ye,f),L=["children",ye]):typeof ye=="number"&&E.textContent!==""+ye&&(H.suppressHydrationWarning!==!0&&ig(E.textContent,ye,f),L=["children",""+ye]):a.hasOwnProperty(re)&&ye!=null&&re==="onScroll"&&qn("scroll",E)}switch(w){case"input":Oe(E),Pe(E,H,!0);break;case"textarea":Oe(E),Ke(E);break;case"select":case"option":break;default:typeof H.onClick=="function"&&(E.onclick=wf)}E=L,p.updateQueue=E,E!==null&&(p.flags|=4)}else{re=L.nodeType===9?L:L.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=tt(w)),f==="http://www.w3.org/1999/xhtml"?w==="script"?(f=re.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof E.is=="string"?f=re.createElement(w,{is:E.is}):(f=re.createElement(w),w==="select"&&(re=f,E.multiple?re.multiple=!0:E.size&&(re.size=E.size))):f=re.createElementNS(f,w),f[lc]=p,f[bf]=E,mU(f,p,!1,!1),p.stateNode=f;e:{switch(re=Wt(w,E),w){case"dialog":qn("cancel",f),qn("close",f),L=E;break;case"iframe":case"object":case"embed":qn("load",f),L=E;break;case"video":case"audio":for(L=0;L<Wu.length;L++)qn(Wu[L],f);L=E;break;case"source":qn("error",f),L=E;break;case"img":case"image":case"link":qn("error",f),qn("load",f),L=E;break;case"details":qn("toggle",f),L=E;break;case"input":le(f,E),L=nt(f,E),qn("invalid",f);break;case"option":L=E;break;case"select":f._wrapperState={wasMultiple:!!E.multiple},L=te({},E,{value:void 0}),qn("invalid",f);break;case"textarea":xe(f,E),L=Ee(f,E),qn("invalid",f);break;default:L=E}tn(w,L),ye=L;for(H in ye)if(ye.hasOwnProperty(H)){var Se=ye[H];H==="style"?dr(f,Se):H==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,Se!=null&&_t(f,Se)):H==="children"?typeof Se=="string"?(w!=="textarea"||Se!=="")&&tr(f,Se):typeof Se=="number"&&tr(f,""+Se):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(a.hasOwnProperty(H)?Se!=null&&H==="onScroll"&&qn("scroll",f):Se!=null&&j(f,H,Se,re))}switch(w){case"input":Oe(f),Pe(f,E,!1);break;case"textarea":Oe(f),Ke(f);break;case"option":E.value!=null&&f.setAttribute("value",""+we(E.value));break;case"select":f.multiple=!!E.multiple,H=E.value,H!=null?ve(f,!!E.multiple,H,!1):E.defaultValue!=null&&ve(f,!!E.multiple,E.defaultValue,!0);break;default:typeof L.onClick=="function"&&(f.onclick=wf)}switch(w){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}}E&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return eo(p),null;case 6:if(f&&p.stateNode!=null)gU(f,p,f.memoizedProps,E);else{if(typeof E!="string"&&p.stateNode===null)throw Error(r(166));if(w=Kc(Xu.current),Kc(Pa.current),Es(p)){if(E=p.stateNode,w=p.memoizedProps,E[lc]=p,(H=E.nodeValue!==w)&&(f=ze,f!==null))switch(f.tag){case 3:ig(E.nodeValue,w,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&ig(E.nodeValue,w,(f.mode&1)!==0)}H&&(p.flags|=4)}else E=(w.nodeType===9?w:w.ownerDocument).createTextNode(E),E[lc]=p,p.stateNode=E}return eo(p),null;case 13:if(Fn(os),E=p.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(rt&&We!==null&&(p.mode&1)!==0&&(p.flags&128)===0)$r(),Rt(),p.flags|=98560,H=!1;else if(H=Es(p),E!==null&&E.dehydrated!==null){if(f===null){if(!H)throw Error(r(318));if(H=p.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(r(317));H[lc]=p}else Rt(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;eo(p),H=!1}else at!==null&&(OS(at),at=null),H=!0;if(!H)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=w,p):(E=E!==null,E!==(f!==null&&f.memoizedState!==null)&&E&&(p.child.flags|=8192,(p.mode&1)!==0&&(f===null||(os.current&1)!==0?Wa===0&&(Wa=3):RS())),p.updateQueue!==null&&(p.flags|=4),eo(p),null);case 4:return cc(),bS(f,p),f===null&&aA(p.stateNode.containerInfo),eo(p),null;case 10:return As(p.type._context),eo(p),null;case 17:return Ji(p.type)&&og(),eo(p),null;case 19:if(Fn(os),H=p.memoizedState,H===null)return eo(p),null;if(E=(p.flags&128)!==0,re=H.rendering,re===null)if(E)yx(H,!1);else{if(Wa!==0||f!==null&&(f.flags&128)!==0)for(f=p.child;f!==null;){if(re=Bl(f),re!==null){for(p.flags|=128,yx(H,!1),E=re.updateQueue,E!==null&&(p.updateQueue=E,p.flags|=4),p.subtreeFlags=0,E=w,w=p.child;w!==null;)H=w,f=E,H.flags&=14680066,re=H.alternate,re===null?(H.childLanes=0,H.lanes=f,H.child=null,H.subtreeFlags=0,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=re.childLanes,H.lanes=re.lanes,H.child=re.child,H.subtreeFlags=0,H.deletions=null,H.memoizedProps=re.memoizedProps,H.memoizedState=re.memoizedState,H.updateQueue=re.updateQueue,H.type=re.type,f=re.dependencies,H.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),w=w.sibling;return Dn(os,os.current&1|2),p.child}f=f.sibling}H.tail!==null&&is()>xg&&(p.flags|=128,E=!0,yx(H,!1),p.lanes=4194304)}else{if(!E)if(f=Bl(re),f!==null){if(p.flags|=128,E=!0,w=f.updateQueue,w!==null&&(p.updateQueue=w,p.flags|=4),yx(H,!0),H.tail===null&&H.tailMode==="hidden"&&!re.alternate&&!rt)return eo(p),null}else 2*is()-H.renderingStartTime>xg&&w!==1073741824&&(p.flags|=128,E=!0,yx(H,!1),p.lanes=4194304);H.isBackwards?(re.sibling=p.child,p.child=re):(w=H.last,w!==null?w.sibling=re:p.child=re,H.last=re)}return H.tail!==null?(p=H.tail,H.rendering=p,H.tail=p.sibling,H.renderingStartTime=is(),p.sibling=null,w=os.current,Dn(os,E?w&1|2:w&1),p):(eo(p),null);case 22:case 23:return FS(),E=p.memoizedState!==null,f!==null&&f.memoizedState!==null!==E&&(p.flags|=8192),E&&(p.mode&1)!==0?(Pl&1073741824)!==0&&(eo(p),p.subtreeFlags&6&&(p.flags|=8192)):eo(p),null;case 24:return null;case 25:return null}throw Error(r(156,p.tag))}function Ele(f,p){switch(Qe(p),p.tag){case 1:return Ji(p.type)&&og(),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return cc(),Fn(Xi),Fn(Ka),px(),f=p.flags,(f&65536)!==0&&(f&128)===0?(p.flags=f&-65537|128,p):null;case 5:return hx(p),null;case 13:if(Fn(os),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(r(340));Rt()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return Fn(os),null;case 4:return cc(),null;case 10:return As(p.type._context),null;case 22:case 23:return FS(),null;case 24:return null;default:return null}}var e1=!1,to=!1,kle=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function vg(f,p){var w=f.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(E){na(f,p,E)}else w.current=null}function jS(f,p,w){try{w()}catch(E){na(f,p,E)}}var vU=!1;function Ple(f,p){if(um=cf,f=Zs(),Nl(f)){if("selectionStart"in f)var w={start:f.selectionStart,end:f.selectionEnd};else e:{w=(w=f.ownerDocument)&&w.defaultView||window;var E=w.getSelection&&w.getSelection();if(E&&E.rangeCount!==0){w=E.anchorNode;var L=E.anchorOffset,H=E.focusNode;E=E.focusOffset;try{w.nodeType,H.nodeType}catch{w=null;break e}var re=0,ye=-1,Se=-1,Ve=0,At=0,ft=f,dt=null;t:for(;;){for(var Tt;ft!==w||L!==0&&ft.nodeType!==3||(ye=re+L),ft!==H||E!==0&&ft.nodeType!==3||(Se=re+E),ft.nodeType===3&&(re+=ft.nodeValue.length),(Tt=ft.firstChild)!==null;)dt=ft,ft=Tt;for(;;){if(ft===f)break t;if(dt===w&&++Ve===L&&(ye=re),dt===H&&++At===E&&(Se=re),(Tt=ft.nextSibling)!==null)break;ft=dt,dt=ft.parentNode}ft=Tt}w=ye===-1||Se===-1?null:{start:ye,end:Se}}else w=null}w=w||{start:0,end:0}}else w=null;for(oA={focusedElem:f,selectionRange:w},cf=!1,Lt=p;Lt!==null;)if(p=Lt,f=p.child,(p.subtreeFlags&1028)!==0&&f!==null)f.return=p,Lt=f;else for(;Lt!==null;){p=Lt;try{var Ht=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(Ht!==null){var Kt=Ht.memoizedProps,pa=Ht.memoizedState,Ue=p.stateNode,ke=Ue.getSnapshotBeforeUpdate(p.elementType===p.type?Kt:Gc(p.type,Kt),pa);Ue.__reactInternalSnapshotBeforeUpdate=ke}break;case 3:var $e=p.stateNode.containerInfo;$e.nodeType===1?$e.textContent="":$e.nodeType===9&&$e.documentElement&&$e.removeChild($e.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(xt){na(p,p.return,xt)}if(f=p.sibling,f!==null){f.return=p.return,Lt=f;break}Lt=p.return}return Ht=vU,vU=!1,Ht}function xx(f,p,w){var E=p.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var L=E=E.next;do{if((L.tag&f)===f){var H=L.destroy;L.destroy=void 0,H!==void 0&&jS(p,w,H)}L=L.next}while(L!==E)}}function t1(f,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&f)===f){var E=w.create;w.destroy=E()}w=w.next}while(w!==p)}}function _S(f){var p=f.ref;if(p!==null){var w=f.stateNode;f.tag,f=w,typeof p=="function"?p(f):p.current=f}}function yU(f){var p=f.alternate;p!==null&&(f.alternate=null,yU(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&(delete p[lc],delete p[bf],delete p[Yi],delete p[lS],delete p[cS])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function xU(f){return f.tag===5||f.tag===3||f.tag===4}function wU(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||xU(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function NS(f,p,w){var E=f.tag;if(E===5||E===6)f=f.stateNode,p?w.nodeType===8?w.parentNode.insertBefore(f,p):w.insertBefore(f,p):(w.nodeType===8?(p=w.parentNode,p.insertBefore(f,w)):(p=w,p.appendChild(f)),w=w._reactRootContainer,w!=null||p.onclick!==null||(p.onclick=wf));else if(E!==4&&(f=f.child,f!==null))for(NS(f,p,w),f=f.sibling;f!==null;)NS(f,p,w),f=f.sibling}function CS(f,p,w){var E=f.tag;if(E===5||E===6)f=f.stateNode,p?w.insertBefore(f,p):w.appendChild(f);else if(E!==4&&(f=f.child,f!==null))for(CS(f,p,w),f=f.sibling;f!==null;)CS(f,p,w),f=f.sibling}var Bi=null,Yc=!1;function Ef(f,p,w){for(w=w.child;w!==null;)bU(f,p,w),w=w.sibling}function bU(f,p,w){if(mo&&typeof mo.onCommitFiberUnmount=="function")try{mo.onCommitFiberUnmount(Ld,w)}catch{}switch(w.tag){case 5:to||vg(w,p);case 6:var E=Bi,L=Yc;Bi=null,Ef(f,p,w),Bi=E,Yc=L,Bi!==null&&(Yc?(f=Bi,w=w.stateNode,f.nodeType===8?f.parentNode.removeChild(w):f.removeChild(w)):Bi.removeChild(w.stateNode));break;case 18:Bi!==null&&(Yc?(f=Bi,w=w.stateNode,f.nodeType===8?dx(f.parentNode,w):f.nodeType===1&&dx(f,w),Vd(f)):dx(Bi,w.stateNode));break;case 4:E=Bi,L=Yc,Bi=w.stateNode.containerInfo,Yc=!0,Ef(f,p,w),Bi=E,Yc=L;break;case 0:case 11:case 14:case 15:if(!to&&(E=w.updateQueue,E!==null&&(E=E.lastEffect,E!==null))){L=E=E.next;do{var H=L,re=H.destroy;H=H.tag,re!==void 0&&((H&2)!==0||(H&4)!==0)&&jS(w,p,re),L=L.next}while(L!==E)}Ef(f,p,w);break;case 1:if(!to&&(vg(w,p),E=w.stateNode,typeof E.componentWillUnmount=="function"))try{E.props=w.memoizedProps,E.state=w.memoizedState,E.componentWillUnmount()}catch(ye){na(w,p,ye)}Ef(f,p,w);break;case 21:Ef(f,p,w);break;case 22:w.mode&1?(to=(E=to)||w.memoizedState!==null,Ef(f,p,w),to=E):Ef(f,p,w);break;default:Ef(f,p,w)}}function jU(f){var p=f.updateQueue;if(p!==null){f.updateQueue=null;var w=f.stateNode;w===null&&(w=f.stateNode=new kle),p.forEach(function(E){var L=Mle.bind(null,f,E);w.has(E)||(w.add(E),E.then(L,L))})}}function Xc(f,p){var w=p.deletions;if(w!==null)for(var E=0;E<w.length;E++){var L=w[E];try{var H=f,re=p,ye=re;e:for(;ye!==null;){switch(ye.tag){case 5:Bi=ye.stateNode,Yc=!1;break e;case 3:Bi=ye.stateNode.containerInfo,Yc=!0;break e;case 4:Bi=ye.stateNode.containerInfo,Yc=!0;break e}ye=ye.return}if(Bi===null)throw Error(r(160));bU(H,re,L),Bi=null,Yc=!1;var Se=L.alternate;Se!==null&&(Se.return=null),L.return=null}catch(Ve){na(L,p,Ve)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)_U(p,f),p=p.sibling}function _U(f,p){var w=f.alternate,E=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(Xc(p,f),Zu(f),E&4){try{xx(3,f,f.return),t1(3,f)}catch(Kt){na(f,f.return,Kt)}try{xx(5,f,f.return)}catch(Kt){na(f,f.return,Kt)}}break;case 1:Xc(p,f),Zu(f),E&512&&w!==null&&vg(w,w.return);break;case 5:if(Xc(p,f),Zu(f),E&512&&w!==null&&vg(w,w.return),f.flags&32){var L=f.stateNode;try{tr(L,"")}catch(Kt){na(f,f.return,Kt)}}if(E&4&&(L=f.stateNode,L!=null)){var H=f.memoizedProps,re=w!==null?w.memoizedProps:H,ye=f.type,Se=f.updateQueue;if(f.updateQueue=null,Se!==null)try{ye==="input"&&H.type==="radio"&&H.name!=null&&lt(L,H),Wt(ye,re);var Ve=Wt(ye,H);for(re=0;re<Se.length;re+=2){var At=Se[re],ft=Se[re+1];At==="style"?dr(L,ft):At==="dangerouslySetInnerHTML"?_t(L,ft):At==="children"?tr(L,ft):j(L,At,ft,Ve)}switch(ye){case"input":Pt(L,H);break;case"textarea":qe(L,H);break;case"select":var dt=L._wrapperState.wasMultiple;L._wrapperState.wasMultiple=!!H.multiple;var Tt=H.value;Tt!=null?ve(L,!!H.multiple,Tt,!1):dt!==!!H.multiple&&(H.defaultValue!=null?ve(L,!!H.multiple,H.defaultValue,!0):ve(L,!!H.multiple,H.multiple?[]:"",!1))}L[bf]=H}catch(Kt){na(f,f.return,Kt)}}break;case 6:if(Xc(p,f),Zu(f),E&4){if(f.stateNode===null)throw Error(r(162));L=f.stateNode,H=f.memoizedProps;try{L.nodeValue=H}catch(Kt){na(f,f.return,Kt)}}break;case 3:if(Xc(p,f),Zu(f),E&4&&w!==null&&w.memoizedState.isDehydrated)try{Vd(p.containerInfo)}catch(Kt){na(f,f.return,Kt)}break;case 4:Xc(p,f),Zu(f);break;case 13:Xc(p,f),Zu(f),L=f.child,L.flags&8192&&(H=L.memoizedState!==null,L.stateNode.isHidden=H,!H||L.alternate!==null&&L.alternate.memoizedState!==null||(ES=is())),E&4&&jU(f);break;case 22:if(At=w!==null&&w.memoizedState!==null,f.mode&1?(to=(Ve=to)||At,Xc(p,f),to=Ve):Xc(p,f),Zu(f),E&8192){if(Ve=f.memoizedState!==null,(f.stateNode.isHidden=Ve)&&!At&&(f.mode&1)!==0)for(Lt=f,At=f.child;At!==null;){for(ft=Lt=At;Lt!==null;){switch(dt=Lt,Tt=dt.child,dt.tag){case 0:case 11:case 14:case 15:xx(4,dt,dt.return);break;case 1:vg(dt,dt.return);var Ht=dt.stateNode;if(typeof Ht.componentWillUnmount=="function"){E=dt,w=dt.return;try{p=E,Ht.props=p.memoizedProps,Ht.state=p.memoizedState,Ht.componentWillUnmount()}catch(Kt){na(E,w,Kt)}}break;case 5:vg(dt,dt.return);break;case 22:if(dt.memoizedState!==null){SU(ft);continue}}Tt!==null?(Tt.return=dt,Lt=Tt):SU(ft)}At=At.sibling}e:for(At=null,ft=f;;){if(ft.tag===5){if(At===null){At=ft;try{L=ft.stateNode,Ve?(H=L.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none"):(ye=ft.stateNode,Se=ft.memoizedProps.style,re=Se!=null&&Se.hasOwnProperty("display")?Se.display:null,ye.style.display=Hr("display",re))}catch(Kt){na(f,f.return,Kt)}}}else if(ft.tag===6){if(At===null)try{ft.stateNode.nodeValue=Ve?"":ft.memoizedProps}catch(Kt){na(f,f.return,Kt)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===f)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===f)break e;for(;ft.sibling===null;){if(ft.return===null||ft.return===f)break e;At===ft&&(At=null),ft=ft.return}At===ft&&(At=null),ft.sibling.return=ft.return,ft=ft.sibling}}break;case 19:Xc(p,f),Zu(f),E&4&&jU(f);break;case 21:break;default:Xc(p,f),Zu(f)}}function Zu(f){var p=f.flags;if(p&2){try{e:{for(var w=f.return;w!==null;){if(xU(w)){var E=w;break e}w=w.return}throw Error(r(160))}switch(E.tag){case 5:var L=E.stateNode;E.flags&32&&(tr(L,""),E.flags&=-33);var H=wU(f);CS(f,H,L);break;case 3:case 4:var re=E.stateNode.containerInfo,ye=wU(f);NS(f,ye,re);break;default:throw Error(r(161))}}catch(Se){na(f,f.return,Se)}f.flags&=-3}p&4096&&(f.flags&=-4097)}function Tle(f,p,w){Lt=f,NU(f)}function NU(f,p,w){for(var E=(f.mode&1)!==0;Lt!==null;){var L=Lt,H=L.child;if(L.tag===22&&E){var re=L.memoizedState!==null||e1;if(!re){var ye=L.alternate,Se=ye!==null&&ye.memoizedState!==null||to;ye=e1;var Ve=to;if(e1=re,(to=Se)&&!Ve)for(Lt=L;Lt!==null;)re=Lt,Se=re.child,re.tag===22&&re.memoizedState!==null?BU(L):Se!==null?(Se.return=re,Lt=Se):BU(L);for(;H!==null;)Lt=H,NU(H),H=H.sibling;Lt=L,e1=ye,to=Ve}CU(f)}else(L.subtreeFlags&8772)!==0&&H!==null?(H.return=L,Lt=H):CU(f)}}function CU(f){for(;Lt!==null;){var p=Lt;if((p.flags&8772)!==0){var w=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:to||t1(5,p);break;case 1:var E=p.stateNode;if(p.flags&4&&!to)if(w===null)E.componentDidMount();else{var L=p.elementType===p.type?w.memoizedProps:Gc(p.type,w.memoizedProps);E.componentDidUpdate(L,w.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var H=p.updateQueue;H!==null&&Go(p,H,E);break;case 3:var re=p.updateQueue;if(re!==null){if(w=null,p.child!==null)switch(p.child.tag){case 5:w=p.child.stateNode;break;case 1:w=p.child.stateNode}Go(p,re,w)}break;case 5:var ye=p.stateNode;if(w===null&&p.flags&4){w=ye;var Se=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":Se.autoFocus&&w.focus();break;case"img":Se.src&&(w.src=Se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var Ve=p.alternate;if(Ve!==null){var At=Ve.memoizedState;if(At!==null){var ft=At.dehydrated;ft!==null&&Vd(ft)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}to||p.flags&512&&_S(p)}catch(dt){na(p,p.return,dt)}}if(p===f){Lt=null;break}if(w=p.sibling,w!==null){w.return=p.return,Lt=w;break}Lt=p.return}}function SU(f){for(;Lt!==null;){var p=Lt;if(p===f){Lt=null;break}var w=p.sibling;if(w!==null){w.return=p.return,Lt=w;break}Lt=p.return}}function BU(f){for(;Lt!==null;){var p=Lt;try{switch(p.tag){case 0:case 11:case 15:var w=p.return;try{t1(4,p)}catch(Se){na(p,w,Se)}break;case 1:var E=p.stateNode;if(typeof E.componentDidMount=="function"){var L=p.return;try{E.componentDidMount()}catch(Se){na(p,L,Se)}}var H=p.return;try{_S(p)}catch(Se){na(p,H,Se)}break;case 5:var re=p.return;try{_S(p)}catch(Se){na(p,re,Se)}}}catch(Se){na(p,p.return,Se)}if(p===f){Lt=null;break}var ye=p.sibling;if(ye!==null){ye.return=p.return,Lt=ye;break}Lt=p.return}}var Ole=Math.ceil,r1=_.ReactCurrentDispatcher,SS=_.ReactCurrentOwner,Ac=_.ReactCurrentBatchConfig,En=0,di=null,Ta=null,Ei=0,Pl=0,yg=Cl(0),Wa=0,wx=null,pm=0,n1=0,BS=0,bx=null,Xo=null,ES=0,xg=1/0,fA=null,s1=!1,kS=null,kf=null,a1=!1,Pf=null,i1=0,jx=0,PS=null,o1=-1,l1=0;function _o(){return(En&6)!==0?is():o1!==-1?o1:o1=is()}function Tf(f){return(f.mode&1)===0?1:(En&2)!==0&&Ei!==0?Ei&-Ei:Hs.transition!==null?(l1===0&&(l1=zh()),l1):(f=wn,f!==0||(f=window.event,f=f===void 0?16:Kd(f.type)),f)}function Jc(f,p,w,E){if(50<jx)throw jx=0,PS=null,Error(r(185));Md(f,w,E),((En&2)===0||f!==di)&&(f===di&&((En&2)===0&&(n1|=w),Wa===4&&Of(f,Ei)),Jo(f,E),w===1&&En===0&&(p.mode&1)===0&&(xg=is()+500,Am&&q()))}function Jo(f,p){var w=f.callbackNode;Aa(f,p);var E=Dd(f,f===di?Ei:0);if(E===0)w!==null&&Rd(w),f.callbackNode=null,f.callbackPriority=0;else if(p=E&-E,f.callbackPriority!==p){if(w!=null&&Rd(w),p===1)f.tag===0?Q(kU.bind(null,f)):k(kU.bind(null,f)),iS(function(){(En&6)===0&&q()}),w=null;else{switch(Qd(E)){case 1:w=tf;break;case 4:w=ho;break;case 16:w=Lu;break;case 536870912:w=rf;break;default:w=Lu}w=UU(w,EU.bind(null,f))}f.callbackPriority=p,f.callbackNode=w}}function EU(f,p){if(o1=-1,l1=0,(En&6)!==0)throw Error(r(327));var w=f.callbackNode;if(wg()&&f.callbackNode!==w)return null;var E=Dd(f,f===di?Ei:0);if(E===0)return null;if((E&30)!==0||(E&f.expiredLanes)!==0||p)p=c1(f,E);else{p=E;var L=En;En|=2;var H=TU();(di!==f||Ei!==p)&&(fA=null,xg=is()+500,vm(f,p));do try{Rle();break}catch(ye){PU(f,ye)}while(!0);Sn(),r1.current=H,En=L,Ta!==null?p=0:(di=null,Ei=0,p=Wa)}if(p!==0){if(p===2&&(L=xl(f),L!==0&&(E=L,p=TS(f,L))),p===1)throw w=wx,vm(f,0),Of(f,E),Jo(f,is()),w;if(p===6)Of(f,E);else{if(L=f.current.alternate,(E&30)===0&&!Ile(L)&&(p=c1(f,E),p===2&&(H=xl(f),H!==0&&(E=H,p=TS(f,H))),p===1))throw w=wx,vm(f,0),Of(f,E),Jo(f,is()),w;switch(f.finishedWork=L,f.finishedLanes=E,p){case 0:case 1:throw Error(r(345));case 2:ym(f,Xo,fA);break;case 3:if(Of(f,E),(E&130023424)===E&&(p=ES+500-is(),10<p)){if(Dd(f,0)!==0)break;if(L=f.suspendedLanes,(L&E)!==E){_o(),f.pingedLanes|=f.suspendedLanes&L;break}f.timeoutHandle=ux(ym.bind(null,f,Xo,fA),p);break}ym(f,Xo,fA);break;case 4:if(Of(f,E),(E&4194240)===E)break;for(p=f.eventTimes,L=-1;0<E;){var re=31-Ys(E);H=1<<re,re=p[re],re>L&&(L=re),E&=~H}if(E=L,E=is()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*Ole(E/1960))-E,10<E){f.timeoutHandle=ux(ym.bind(null,f,Xo,fA),E);break}ym(f,Xo,fA);break;case 5:ym(f,Xo,fA);break;default:throw Error(r(329))}}}return Jo(f,is()),f.callbackNode===w?EU.bind(null,f):null}function TS(f,p){var w=bx;return f.current.memoizedState.isDehydrated&&(vm(f,p).flags|=256),f=c1(f,p),f!==2&&(p=Xo,Xo=w,p!==null&&OS(p)),f}function OS(f){Xo===null?Xo=f:Xo.push.apply(Xo,f)}function Ile(f){for(var p=f;;){if(p.flags&16384){var w=p.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var E=0;E<w.length;E++){var L=w[E],H=L.getSnapshot;L=L.value;try{if(!Ss(H(),L))return!1}catch{return!1}}}if(w=p.child,p.subtreeFlags&16384&&w!==null)w.return=p,p=w;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Of(f,p){for(p&=~BS,p&=~n1,f.suspendedLanes|=p,f.pingedLanes&=~p,f=f.expirationTimes;0<p;){var w=31-Ys(p),E=1<<w;f[w]=-1,p&=~E}}function kU(f){if((En&6)!==0)throw Error(r(327));wg();var p=Dd(f,0);if((p&1)===0)return Jo(f,is()),null;var w=c1(f,p);if(f.tag!==0&&w===2){var E=xl(f);E!==0&&(p=E,w=TS(f,E))}if(w===1)throw w=wx,vm(f,0),Of(f,p),Jo(f,is()),w;if(w===6)throw Error(r(345));return f.finishedWork=f.current.alternate,f.finishedLanes=p,ym(f,Xo,fA),Jo(f,is()),null}function IS(f,p){var w=En;En|=1;try{return f(p)}finally{En=w,En===0&&(xg=is()+500,Am&&q())}}function gm(f){Pf!==null&&Pf.tag===0&&(En&6)===0&&wg();var p=En;En|=1;var w=Ac.transition,E=wn;try{if(Ac.transition=null,wn=1,f)return f()}finally{wn=E,Ac.transition=w,En=p,(En&6)===0&&q()}}function FS(){Pl=yg.current,Fn(yg)}function vm(f,p){f.finishedWork=null,f.finishedLanes=0;var w=f.timeoutHandle;if(w!==-1&&(f.timeoutHandle=-1,Qb(w)),Ta!==null)for(w=Ta.return;w!==null;){var E=w;switch(Qe(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&og();break;case 3:cc(),Fn(Xi),Fn(Ka),px();break;case 5:hx(E);break;case 4:cc();break;case 13:Fn(os);break;case 19:Fn(os);break;case 10:As(E.type._context);break;case 22:case 23:FS()}w=w.return}if(di=f,Ta=f=If(f.current,null),Ei=Pl=p,Wa=0,wx=null,BS=n1=pm=0,Xo=bx=null,Kn!==null){for(p=0;p<Kn.length;p++)if(w=Kn[p],E=w.interleaved,E!==null){w.interleaved=null;var L=E.next,H=w.pending;if(H!==null){var re=H.next;H.next=L,E.next=re}w.pending=E}Kn=null}return f}function PU(f,p){do{var w=Ta;try{if(Sn(),lg.current=Yb,Cf){for(var E=fs.memoizedState;E!==null;){var L=E.queue;L!==null&&(L.pending=null),E=E.next}Cf=!1}if(uc=0,Ks=ra=fs=null,zc=!1,Sf=0,SS.current=null,w===null||w.return===null){Wa=1,wx=p,Ta=null;break}e:{var H=f,re=w.return,ye=w,Se=p;if(p=Ei,ye.flags|=32768,Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var Ve=Se,At=ye,ft=At.tag;if((At.mode&1)===0&&(ft===0||ft===11||ft===15)){var dt=At.alternate;dt?(At.updateQueue=dt.updateQueue,At.memoizedState=dt.memoizedState,At.lanes=dt.lanes):(At.updateQueue=null,At.memoizedState=null)}var Tt=rU(re);if(Tt!==null){Tt.flags&=-257,nU(Tt,re,ye,H,p),Tt.mode&1&&tU(H,Ve,p),p=Tt,Se=Ve;var Ht=p.updateQueue;if(Ht===null){var Kt=new Set;Kt.add(Se),p.updateQueue=Kt}else Ht.add(Se);break e}else{if((p&1)===0){tU(H,Ve,p),RS();break e}Se=Error(r(426))}}else if(rt&&ye.mode&1){var pa=rU(re);if(pa!==null){(pa.flags&65536)===0&&(pa.flags|=256),nU(pa,re,ye,H,p),bt(gg(Se,ye));break e}}H=Se=gg(Se,ye),Wa!==4&&(Wa=2),bx===null?bx=[H]:bx.push(H),H=re;do{switch(H.tag){case 3:H.flags|=65536,p&=-p,H.lanes|=p;var Ue=ZL(H,Se,p);Wn(H,Ue);break e;case 1:ye=Se;var ke=H.type,$e=H.stateNode;if((H.flags&128)===0&&(typeof ke.getDerivedStateFromError=="function"||$e!==null&&typeof $e.componentDidCatch=="function"&&(kf===null||!kf.has($e)))){H.flags|=65536,p&=-p,H.lanes|=p;var xt=eU(H,ye,p);Wn(H,xt);break e}}H=H.return}while(H!==null)}IU(w)}catch(Xt){p=Xt,Ta===w&&w!==null&&(Ta=w=w.return);continue}break}while(!0)}function TU(){var f=r1.current;return r1.current=Yb,f===null?Yb:f}function RS(){(Wa===0||Wa===3||Wa===2)&&(Wa=4),di===null||(pm&268435455)===0&&(n1&268435455)===0||Of(di,Ei)}function c1(f,p){var w=En;En|=2;var E=TU();(di!==f||Ei!==p)&&(fA=null,vm(f,p));do try{Fle();break}catch(L){PU(f,L)}while(!0);if(Sn(),En=w,r1.current=E,Ta!==null)throw Error(r(261));return di=null,Ei=0,Wa}function Fle(){for(;Ta!==null;)OU(Ta)}function Rle(){for(;Ta!==null&&!ef();)OU(Ta)}function OU(f){var p=LU(f.alternate,f,Pl);f.memoizedProps=f.pendingProps,p===null?IU(f):Ta=p,SS.current=null}function IU(f){var p=f;do{var w=p.alternate;if(f=p.return,(p.flags&32768)===0){if(w=Ble(w,p,Pl),w!==null){Ta=w;return}}else{if(w=Ele(w,p),w!==null){w.flags&=32767,Ta=w;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{Wa=6,Ta=null;return}}if(p=p.sibling,p!==null){Ta=p;return}Ta=p=f}while(p!==null);Wa===0&&(Wa=5)}function ym(f,p,w){var E=wn,L=Ac.transition;try{Ac.transition=null,wn=1,Lle(f,p,w,E)}finally{Ac.transition=L,wn=E}return null}function Lle(f,p,w,E){do wg();while(Pf!==null);if((En&6)!==0)throw Error(r(327));w=f.finishedWork;var L=f.finishedLanes;if(w===null)return null;if(f.finishedWork=null,f.finishedLanes=0,w===f.current)throw Error(r(177));f.callbackNode=null,f.callbackPriority=0;var H=w.lanes|w.childLanes;if(Zl(f,H),f===di&&(Ta=di=null,Ei=0),(w.subtreeFlags&2064)===0&&(w.flags&2064)===0||a1||(a1=!0,UU(Lu,function(){return wg(),null})),H=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||H){H=Ac.transition,Ac.transition=null;var re=wn;wn=1;var ye=En;En|=4,SS.current=null,Ple(f,w),_U(w,f),rm(oA),cf=!!um,oA=um=null,f.current=w,Tle(w),Jy(),En=ye,wn=re,Ac.transition=H}else f.current=w;if(a1&&(a1=!1,Pf=f,i1=L),H=f.pendingLanes,H===0&&(kf=null),Gp(w.stateNode),Jo(f,is()),p!==null)for(E=f.onRecoverableError,w=0;w<p.length;w++)L=p[w],E(L.value,{componentStack:L.stack,digest:L.digest});if(s1)throw s1=!1,f=kS,kS=null,f;return(i1&1)!==0&&f.tag!==0&&wg(),H=f.pendingLanes,(H&1)!==0?f===PS?jx++:(jx=0,PS=f):jx=0,q(),null}function wg(){if(Pf!==null){var f=Qd(i1),p=Ac.transition,w=wn;try{if(Ac.transition=null,wn=16>f?16:f,Pf===null)var E=!1;else{if(f=Pf,Pf=null,i1=0,(En&6)!==0)throw Error(r(331));var L=En;for(En|=4,Lt=f.current;Lt!==null;){var H=Lt,re=H.child;if((Lt.flags&16)!==0){var ye=H.deletions;if(ye!==null){for(var Se=0;Se<ye.length;Se++){var Ve=ye[Se];for(Lt=Ve;Lt!==null;){var At=Lt;switch(At.tag){case 0:case 11:case 15:xx(8,At,H)}var ft=At.child;if(ft!==null)ft.return=At,Lt=ft;else for(;Lt!==null;){At=Lt;var dt=At.sibling,Tt=At.return;if(yU(At),At===Ve){Lt=null;break}if(dt!==null){dt.return=Tt,Lt=dt;break}Lt=Tt}}}var Ht=H.alternate;if(Ht!==null){var Kt=Ht.child;if(Kt!==null){Ht.child=null;do{var pa=Kt.sibling;Kt.sibling=null,Kt=pa}while(Kt!==null)}}Lt=H}}if((H.subtreeFlags&2064)!==0&&re!==null)re.return=H,Lt=re;else e:for(;Lt!==null;){if(H=Lt,(H.flags&2048)!==0)switch(H.tag){case 0:case 11:case 15:xx(9,H,H.return)}var Ue=H.sibling;if(Ue!==null){Ue.return=H.return,Lt=Ue;break e}Lt=H.return}}var ke=f.current;for(Lt=ke;Lt!==null;){re=Lt;var $e=re.child;if((re.subtreeFlags&2064)!==0&&$e!==null)$e.return=re,Lt=$e;else e:for(re=ke;Lt!==null;){if(ye=Lt,(ye.flags&2048)!==0)try{switch(ye.tag){case 0:case 11:case 15:t1(9,ye)}}catch(Xt){na(ye,ye.return,Xt)}if(ye===re){Lt=null;break e}var xt=ye.sibling;if(xt!==null){xt.return=ye.return,Lt=xt;break e}Lt=ye.return}}if(En=L,q(),mo&&typeof mo.onPostCommitFiberRoot=="function")try{mo.onPostCommitFiberRoot(Ld,f)}catch{}E=!0}return E}finally{wn=w,Ac.transition=p}}return!1}function FU(f,p,w){p=gg(w,p),p=ZL(f,p,1),f=Vs(f,p,1),p=_o(),f!==null&&(Md(f,1,p),Jo(f,p))}function na(f,p,w){if(f.tag===3)FU(f,f,w);else for(;p!==null;){if(p.tag===3){FU(p,f,w);break}else if(p.tag===1){var E=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(kf===null||!kf.has(E))){f=gg(w,f),f=eU(p,f,1),p=Vs(p,f,1),f=_o(),p!==null&&(Md(p,1,f),Jo(p,f));break}}p=p.return}}function Ule(f,p,w){var E=f.pingCache;E!==null&&E.delete(p),p=_o(),f.pingedLanes|=f.suspendedLanes&w,di===f&&(Ei&w)===w&&(Wa===4||Wa===3&&(Ei&130023424)===Ei&&500>is()-ES?vm(f,0):BS|=w),Jo(f,p)}function RU(f,p){p===0&&((f.mode&1)===0?p=1:(p=po,po<<=1,(po&130023424)===0&&(po=4194304)));var w=_o();f=zn(f,p),f!==null&&(Md(f,p,w),Jo(f,w))}function Dle(f){var p=f.memoizedState,w=0;p!==null&&(w=p.retryLane),RU(f,w)}function Mle(f,p){var w=0;switch(f.tag){case 13:var E=f.stateNode,L=f.memoizedState;L!==null&&(w=L.retryLane);break;case 19:E=f.stateNode;break;default:throw Error(r(314))}E!==null&&E.delete(p),RU(f,w)}var LU;LU=function(f,p,w){if(f!==null)if(f.memoizedProps!==p.pendingProps||Xi.current)Yo=!0;else{if((f.lanes&w)===0&&(p.flags&128)===0)return Yo=!1,Sle(f,p,w);Yo=(f.flags&131072)!==0}else Yo=!1,rt&&(p.flags&1048576)!==0&&Ie(p,oe,p.index);switch(p.lanes=0,p.tag){case 2:var E=p.type;Zb(f,p),f=p.pendingProps;var L=_f(p,Ka.current);ks(p,w),L=fm(null,p,E,f,L,w);var H=dc();return p.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Ji(E)?(H=!0,uA(p)):H=!1,p.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,za(p),L.updater=Xb,p.stateNode=L,L._reactInternals=p,fS(p,E,f,w),p=gS(null,p,E,!0,H,w)):(p.tag=0,rt&&H&&Ge(p),jo(null,p,L,w),p=p.child),p;case 16:E=p.elementType;e:{switch(Zb(f,p),f=p.pendingProps,L=E._init,E=L(E._payload),p.type=E,L=p.tag=Hle(E),f=Gc(E,f),L){case 0:p=pS(null,p,E,f,w);break e;case 1:p=cU(null,p,E,f,w);break e;case 11:p=sU(null,p,E,f,w);break e;case 14:p=aU(null,p,E,Gc(E.type,f),w);break e}throw Error(r(306,E,""))}return p;case 0:return E=p.type,L=p.pendingProps,L=p.elementType===E?L:Gc(E,L),pS(f,p,E,L,w);case 1:return E=p.type,L=p.pendingProps,L=p.elementType===E?L:Gc(E,L),cU(f,p,E,L,w);case 3:e:{if(uU(p),f===null)throw Error(r(387));E=p.pendingProps,H=p.memoizedState,L=H.element,Zi(f,p),ui(p,E,null,w);var re=p.memoizedState;if(E=re.element,H.isDehydrated)if(H={element:E,isDehydrated:!1,cache:re.cache,pendingSuspenseBoundaries:re.pendingSuspenseBoundaries,transitions:re.transitions},p.updateQueue.baseState=H,p.memoizedState=H,p.flags&256){L=gg(Error(r(423)),p),p=dU(f,p,E,w,L);break e}else if(E!==L){L=gg(Error(r(424)),p),p=dU(f,p,E,w,L);break e}else for(We=Si(p.stateNode.containerInfo.firstChild),ze=p,rt=!0,at=null,w=bs(p,null,E,w),p.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Rt(),E===L){p=AA(f,p,w);break e}jo(f,p,E,w)}p=p.child}return p;case 5:return qb(p),f===null&&Qt(p),E=p.type,L=p.pendingProps,H=f!==null?f.memoizedProps:null,re=L.children,cx(E,L)?re=null:H!==null&&cx(E,H)&&(p.flags|=32),lU(f,p),jo(f,p,re,w),p.child;case 6:return f===null&&Qt(p),null;case 13:return AU(f,p,w);case 4:return Nf(p,p.stateNode.containerInfo),E=p.pendingProps,f===null?p.child=ea(p,null,E,w):jo(f,p,E,w),p.child;case 11:return E=p.type,L=p.pendingProps,L=p.elementType===E?L:Gc(E,L),sU(f,p,E,L,w);case 7:return jo(f,p,p.pendingProps,w),p.child;case 8:return jo(f,p,p.pendingProps.children,w),p.child;case 12:return jo(f,p,p.pendingProps.children,w),p.child;case 10:e:{if(E=p.type._context,L=p.pendingProps,H=p.memoizedProps,re=L.value,Dn(ha,E._currentValue),E._currentValue=re,H!==null)if(Ss(H.value,re)){if(H.children===L.children&&!Xi.current){p=AA(f,p,w);break e}}else for(H=p.child,H!==null&&(H.return=p);H!==null;){var ye=H.dependencies;if(ye!==null){re=H.child;for(var Se=ye.firstContext;Se!==null;){if(Se.context===E){if(H.tag===1){Se=$s(-1,w&-w),Se.tag=2;var Ve=H.updateQueue;if(Ve!==null){Ve=Ve.shared;var At=Ve.pending;At===null?Se.next=Se:(Se.next=At.next,At.next=Se),Ve.pending=Se}}H.lanes|=w,Se=H.alternate,Se!==null&&(Se.lanes|=w),Bn(H.return,w,p),ye.lanes|=w;break}Se=Se.next}}else if(H.tag===10)re=H.type===p.type?null:H.child;else if(H.tag===18){if(re=H.return,re===null)throw Error(r(341));re.lanes|=w,ye=re.alternate,ye!==null&&(ye.lanes|=w),Bn(re,w,p),re=H.sibling}else re=H.child;if(re!==null)re.return=H;else for(re=H;re!==null;){if(re===p){re=null;break}if(H=re.sibling,H!==null){H.return=re.return,re=H;break}re=re.return}H=re}jo(f,p,L.children,w),p=p.child}return p;case 9:return L=p.type,E=p.pendingProps.children,ks(p,w),L=Ps(L),E=E(L),p.flags|=1,jo(f,p,E,w),p.child;case 14:return E=p.type,L=Gc(E,p.pendingProps),L=Gc(E.type,L),aU(f,p,E,L,w);case 15:return iU(f,p,p.type,p.pendingProps,w);case 17:return E=p.type,L=p.pendingProps,L=p.elementType===E?L:Gc(E,L),Zb(f,p),p.tag=1,Ji(E)?(f=!0,uA(p)):f=!1,ks(p,w),XL(p,E,L),fS(p,E,L,w),gS(null,p,E,!0,f,w);case 19:return hU(f,p,w);case 22:return oU(f,p,w)}throw Error(r(156,p.tag))};function UU(f,p){return Fd(f,p)}function Qle(f,p,w,E){this.tag=f,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fc(f,p,w,E){return new Qle(f,p,w,E)}function LS(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Hle(f){if(typeof f=="function")return LS(f)?1:0;if(f!=null){if(f=f.$$typeof,f===D)return 11;if(f===V)return 14}return 2}function If(f,p){var w=f.alternate;return w===null?(w=fc(f.tag,p,f.key,f.mode),w.elementType=f.elementType,w.type=f.type,w.stateNode=f.stateNode,w.alternate=f,f.alternate=w):(w.pendingProps=p,w.type=f.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=f.flags&14680064,w.childLanes=f.childLanes,w.lanes=f.lanes,w.child=f.child,w.memoizedProps=f.memoizedProps,w.memoizedState=f.memoizedState,w.updateQueue=f.updateQueue,p=f.dependencies,w.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},w.sibling=f.sibling,w.index=f.index,w.ref=f.ref,w}function u1(f,p,w,E,L,H){var re=2;if(E=f,typeof f=="function")LS(f)&&(re=1);else if(typeof f=="string")re=5;else e:switch(f){case T:return xm(w.children,L,H,p);case O:re=8,L|=8;break;case P:return f=fc(12,w,p,L|2),f.elementType=P,f.lanes=H,f;case $:return f=fc(13,w,p,L),f.elementType=$,f.lanes=H,f;case F:return f=fc(19,w,p,L),f.elementType=F,f.lanes=H,f;case K:return d1(w,L,H,p);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case M:re=10;break e;case I:re=9;break e;case D:re=11;break e;case V:re=14;break e;case X:re=16,E=null;break e}throw Error(r(130,f==null?f:typeof f,""))}return p=fc(re,w,p,L),p.elementType=f,p.type=E,p.lanes=H,p}function xm(f,p,w,E){return f=fc(7,f,E,p),f.lanes=w,f}function d1(f,p,w,E){return f=fc(22,f,E,p),f.elementType=K,f.lanes=w,f.stateNode={isHidden:!1},f}function US(f,p,w){return f=fc(6,f,null,p),f.lanes=w,f}function DS(f,p,w){return p=fc(4,f.children!==null?f.children:[],f.key,p),p.lanes=w,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}function $le(f,p,w,E,L){this.tag=p,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wh(0),this.expirationTimes=Wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wh(0),this.identifierPrefix=E,this.onRecoverableError=L,this.mutableSourceEagerHydrationData=null}function MS(f,p,w,E,L,H,re,ye,Se){return f=new $le(f,p,w,ye,Se),p===1?(p=1,H===!0&&(p|=8)):p=0,H=fc(3,null,null,p),f.current=H,H.stateNode=f,H.memoizedState={element:E,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},za(H),f}function Vle(f,p,w){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:E==null?null:""+E,children:f,containerInfo:p,implementation:w}}function DU(f){if(!f)return Yu;f=f._reactInternals;e:{if($a(f)!==f||f.tag!==1)throw Error(r(170));var p=f;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Ji(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(r(171))}if(f.tag===1){var w=f.type;if(Ji(w))return fx(f,w,p)}return p}function MU(f,p,w,E,L,H,re,ye,Se){return f=MS(w,E,!0,f,L,H,re,ye,Se),f.context=DU(null),w=f.current,E=_o(),L=Tf(w),H=$s(E,L),H.callback=p??null,Vs(w,H,L),f.current.lanes=L,Md(f,L,E),Jo(f,E),f}function A1(f,p,w,E){var L=p.current,H=_o(),re=Tf(L);return w=DU(w),p.context===null?p.context=w:p.pendingContext=w,p=$s(H,re),p.payload={element:f},E=E===void 0?null:E,E!==null&&(p.callback=E),f=Vs(L,p,re),f!==null&&(Jc(f,L,re,H),ci(f,L,re)),re}function f1(f){return f=f.current,f.child?(f.child.tag===5,f.child.stateNode):null}function QU(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var w=f.retryLane;f.retryLane=w!==0&&w<p?w:p}}function QS(f,p){QU(f,p),(f=f.alternate)&&QU(f,p)}function qle(){return null}var HU=typeof reportError=="function"?reportError:function(f){console.error(f)};function HS(f){this._internalRoot=f}h1.prototype.render=HS.prototype.render=function(f){var p=this._internalRoot;if(p===null)throw Error(r(409));A1(f,p,null,null)},h1.prototype.unmount=HS.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var p=f.containerInfo;gm(function(){A1(null,f,null,null)}),p[oi]=null}};function h1(f){this._internalRoot=f}h1.prototype.unstable_scheduleHydration=function(f){if(f){var p=Xp();f={blockedOn:null,target:f,priority:p};for(var w=0;w<tc.length&&p!==0&&p<tc[w].priority;w++);tc.splice(w,0,f),w===0&&Zp(f)}};function $S(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function m1(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function $U(){}function Kle(f,p,w,E,L){if(L){if(typeof E=="function"){var H=E;E=function(){var Ve=f1(re);H.call(Ve)}}var re=MU(p,E,f,0,null,!1,!1,"",$U);return f._reactRootContainer=re,f[oi]=re.current,aA(f.nodeType===8?f.parentNode:f),gm(),re}for(;L=f.lastChild;)f.removeChild(L);if(typeof E=="function"){var ye=E;E=function(){var Ve=f1(Se);ye.call(Ve)}}var Se=MS(f,0,!1,null,null,!1,!1,"",$U);return f._reactRootContainer=Se,f[oi]=Se.current,aA(f.nodeType===8?f.parentNode:f),gm(function(){A1(p,Se,w,E)}),Se}function p1(f,p,w,E,L){var H=w._reactRootContainer;if(H){var re=H;if(typeof L=="function"){var ye=L;L=function(){var Se=f1(re);ye.call(Se)}}A1(p,re,f,L)}else re=Kle(w,p,f,L,E);return f1(re)}Uu=function(f){switch(f.tag){case 3:var p=f.stateNode;if(p.current.memoizedState.isDehydrated){var w=Jl(p.pendingLanes);w!==0&&(sf(p,w|1),Jo(p,is()),(En&6)===0&&(xg=is()+500,q()))}break;case 13:gm(function(){var E=zn(f,1);if(E!==null){var L=_o();Jc(E,f,1,L)}}),QS(f,1)}},Gh=function(f){if(f.tag===13){var p=zn(f,134217728);if(p!==null){var w=_o();Jc(p,f,134217728,w)}QS(f,134217728)}},Yp=function(f){if(f.tag===13){var p=Tf(f),w=zn(f,p);if(w!==null){var E=_o();Jc(w,f,p,E)}QS(f,p)}},Xp=function(){return wn},af=function(f,p){var w=wn;try{return wn=f,p()}finally{wn=w}},xr=function(f,p,w){switch(p){case"input":if(Pt(f,w),p=w.name,w.type==="radio"&&p!=null){for(w=f;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<w.length;p++){var E=w[p];if(E!==f&&E.form===f.form){var L=dm(E);if(!L)throw Error(r(90));Ne(E),Pt(E,L)}}}break;case"textarea":qe(f,w);break;case"select":p=w.value,p!=null&&ve(f,!!w.multiple,p,!1)}},Er=IS,ln=gm;var zle={usingClientEntryPoint:!1,Events:[jf,lA,dm,yn,cr,IS]},_x={findFiberByHostInstance:Gu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wle={bundleType:_x.bundleType,version:_x.version,rendererPackageName:_x.rendererPackageName,rendererConfig:_x.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=yl(f),f===null?null:f.stateNode},findFiberByHostInstance:_x.findFiberByHostInstance||qle,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var g1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!g1.isDisabled&&g1.supportsFiber)try{Ld=g1.inject(Wle),mo=g1}catch{}}return Zo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zle,Zo.createPortal=function(f,p){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$S(p))throw Error(r(200));return Vle(f,p,null,w)},Zo.createRoot=function(f,p){if(!$S(f))throw Error(r(299));var w=!1,E="",L=HU;return p!=null&&(p.unstable_strictMode===!0&&(w=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onRecoverableError!==void 0&&(L=p.onRecoverableError)),p=MS(f,1,!1,null,null,w,!1,E,L),f[oi]=p.current,aA(f.nodeType===8?f.parentNode:f),new HS(p)},Zo.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=yl(p),f=f===null?null:f.stateNode,f},Zo.flushSync=function(f){return gm(f)},Zo.hydrate=function(f,p,w){if(!m1(p))throw Error(r(200));return p1(null,f,p,!0,w)},Zo.hydrateRoot=function(f,p,w){if(!$S(f))throw Error(r(405));var E=w!=null&&w.hydratedSources||null,L=!1,H="",re=HU;if(w!=null&&(w.unstable_strictMode===!0&&(L=!0),w.identifierPrefix!==void 0&&(H=w.identifierPrefix),w.onRecoverableError!==void 0&&(re=w.onRecoverableError)),p=MU(p,null,f,1,w??null,L,!1,H,re),f[oi]=p.current,aA(f),E)for(f=0;f<E.length;f++)w=E[f],L=w._getVersion,L=L(w._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[w,L]:p.mutableSourceEagerHydrationData.push(w,L);return new h1(p)},Zo.render=function(f,p,w){if(!m1(p))throw Error(r(200));return p1(null,f,p,!1,w)},Zo.unmountComponentAtNode=function(f){if(!m1(f))throw Error(r(40));return f._reactRootContainer?(gm(function(){p1(null,null,f,!1,function(){f._reactRootContainer=null,f[oi]=null})}),!0):!1},Zo.unstable_batchedUpdates=IS,Zo.unstable_renderSubtreeIntoContainer=function(f,p,w,E){if(!m1(w))throw Error(r(200));if(f==null||f._reactInternals===void 0)throw Error(r(38));return p1(f,p,w,!1,E)},Zo.version="18.3.1-next-f1338f8080-20240426",Zo}var XU;function eW(){if(XU)return KS.exports;XU=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),KS.exports=rce(),KS.exports}var JU;function nce(){if(JU)return y1;JU=1;var e=eW();return y1.createRoot=e.createRoot,y1.hydrateRoot=e.hydrateRoot,y1}var sce=nce(),C=fN();const se=Vn(C),vF=Yle({__proto__:null,default:se},[C]),ace=1,ice=1e6;let GS=0;function oce(){return GS=(GS+1)%Number.MAX_SAFE_INTEGER,GS.toString()}const YS=new Map,ZU=e=>{if(YS.has(e))return;const t=setTimeout(()=>{YS.delete(e),f0({type:"REMOVE_TOAST",toastId:e})},ice);YS.set(e,t)},lce=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,ace)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?ZU(r):e.toasts.forEach(n=>{ZU(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},L2=[];let U2={toasts:[]};function f0(e){U2=lce(U2,e),L2.forEach(t=>{t(U2)})}function cce({...e}){const t=oce(),r=a=>f0({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>f0({type:"DISMISS_TOAST",toastId:t});return f0({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Nd(){const[e,t]=C.useState(U2);return C.useEffect(()=>(L2.push(t),()=>{const r=L2.indexOf(t);r>-1&&L2.splice(r,1)}),[e]),{...e,toast:cce,dismiss:r=>f0({type:"DISMISS_TOAST",toastId:r})}}var wy=eW();const tW=Vn(wy);function yt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function eD(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function FA(...e){return t=>{let r=!1;const n=e.map(a=>{const i=eD(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():eD(e[a],null)}}}}function Qr(...e){return C.useCallback(FA(...e),e)}function uce(e,t){const r=C.createContext(t),n=i=>{const{children:o,...l}=i,c=C.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=C.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function $i(e,t=[]){let r=[];function n(i,o){const l=C.createContext(o),c=r.length;r=[...r,o];const u=A=>{const{scope:h,children:m,...y}=A,g=h?.[e]?.[c]||l,v=C.useMemo(()=>y,Object.values(y));return s.jsx(g.Provider,{value:v,children:m})};u.displayName=i+"Provider";function d(A,h){const m=h?.[e]?.[c]||l,y=C.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${A}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>C.createContext(o));return function(l){const c=l?.[e]||i;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,dce(a,...t)]}function dce(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const A=c(i)[`__scope${u}`];return{...l,...A}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function gh(e){const t=Ace(e),r=C.forwardRef((n,a)=>{const{children:i,...o}=n,l=C.Children.toArray(i),c=l.find(fce);if(c){const u=c.props.children,d=l.map(A=>A===c?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:A);return s.jsx(t,{...o,ref:a,children:C.isValidElement(u)?C.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var rW=gh("Slot");function Ace(e){const t=C.forwardRef((r,n)=>{const{children:a,...i}=r;if(C.isValidElement(a)){const o=mce(a),l=hce(i,a.props);return a.type!==C.Fragment&&(l.ref=n?FA(n,o):o),C.cloneElement(a,l)}return C.Children.count(a)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nW=Symbol("radix.slottable");function sW(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=nW,t}function fce(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nW}function hce(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function mce(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function hN(e){const t=e+"CollectionProvider",[r,n]=$i(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:x}=g,b=se.useRef(null),j=se.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:j,collectionRef:b,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=gh(l),u=se.forwardRef((g,v)=>{const{scope:x,children:b}=g,j=i(l,x),_=Qr(v,j.collectionRef);return s.jsx(c,{ref:_,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",A="data-radix-collection-item",h=gh(d),m=se.forwardRef((g,v)=>{const{scope:x,children:b,...j}=g,_=se.useRef(null),N=Qr(v,_),B=i(d,x);return se.useEffect(()=>(B.itemMap.set(_,{ref:_,...j}),()=>{B.itemMap.delete(_)})),s.jsx(h,{[A]:"",ref:N,children:b})});m.displayName=d;function y(g){const v=i(e+"CollectionConsumer",g);return se.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const j=Array.from(b.querySelectorAll(`[${A}]`));return Array.from(v.itemMap.values()).sort((B,T)=>j.indexOf(B.ref.current)-j.indexOf(T.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},y,n]}var pce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kt=pce.reduce((e,t)=>{const r=gh(`Primitive.${t}`),n=C.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function yF(e,t){e&&wy.flushSync(()=>e.dispatchEvent(t))}function la(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...r)=>t.current?.(...r),[])}function gce(e,t=globalThis?.document){const r=la(e);C.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var vce="DismissableLayer",WP="dismissableLayer.update",yce="dismissableLayer.pointerDownOutside",xce="dismissableLayer.focusOutside",tD,aW=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kp=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=C.useContext(aW),[d,A]=C.useState(null),h=d?.ownerDocument??globalThis?.document,[,m]=C.useState({}),y=Qr(t,T=>A(T)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(v),b=d?g.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=x,N=bce(T=>{const O=T.target,P=[...u.branches].some(M=>M.contains(O));!_||P||(a?.(T),o?.(T),T.defaultPrevented||l?.())},h),B=jce(T=>{const O=T.target;[...u.branches].some(M=>M.contains(O))||(i?.(T),o?.(T),T.defaultPrevented||l?.())},h);return gce(T=>{b===u.layers.size-1&&(n?.(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},h),C.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(tD=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),rD(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=tD)}},[d,h,r,u]),C.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),rD())},[d,u]),C.useEffect(()=>{const T=()=>m({});return document.addEventListener(WP,T),()=>document.removeEventListener(WP,T)},[]),s.jsx(kt.div,{...c,ref:y,style:{pointerEvents:j?_?"auto":"none":void 0,...e.style},onFocusCapture:yt(e.onFocusCapture,B.onFocusCapture),onBlurCapture:yt(e.onBlurCapture,B.onBlurCapture),onPointerDownCapture:yt(e.onPointerDownCapture,N.onPointerDownCapture)})});kp.displayName=vce;var wce="DismissableLayerBranch",iW=C.forwardRef((e,t)=>{const r=C.useContext(aW),n=C.useRef(null),a=Qr(t,n);return C.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(kt.div,{...e,ref:a})});iW.displayName=wce;function bce(e,t=globalThis?.document){const r=la(e),n=C.useRef(!1),a=C.useRef(()=>{});return C.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){oW(yce,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function jce(e,t=globalThis?.document){const r=la(e),n=C.useRef(!1);return C.useEffect(()=>{const a=i=>{i.target&&!n.current&&oW(xce,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function rD(){const e=new CustomEvent(WP);document.dispatchEvent(e)}function oW(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?yF(a,i):a.dispatchEvent(i)}var _ce=kp,Nce=iW,Sa=globalThis?.document?C.useLayoutEffect:()=>{},Cce="Portal",by=C.forwardRef((e,t)=>{const{container:r,...n}=e,[a,i]=C.useState(!1);Sa(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?tW.createPortal(s.jsx(kt.div,{...n,ref:t}),o):null});by.displayName=Cce;function Sce(e,t){return C.useReducer((r,n)=>t[r][n]??r,e)}var wi=e=>{const{present:t,children:r}=e,n=Bce(t),a=typeof r=="function"?r({present:n.isPresent}):C.Children.only(r),i=Qr(n.ref,Ece(a));return typeof r=="function"||n.isPresent?C.cloneElement(a,{ref:i}):null};wi.displayName="Presence";function Bce(e){const[t,r]=C.useState(),n=C.useRef(null),a=C.useRef(e),i=C.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Sce(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const u=x1(n.current);i.current=l==="mounted"?u:"none"},[l]),Sa(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=x1(u);e?c("MOUNT"):m==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Sa(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,A=m=>{const g=x1(n.current).includes(m.animationName);if(m.target===t&&g&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(i.current=x1(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",A),t.addEventListener("animationend",A),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",A),t.removeEventListener("animationend",A)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:C.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function x1(e){return e?.animationName||"none"}function Ece(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var kce=vF[" useInsertionEffect ".trim().toString()]||Sa;function xu({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=Pce({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=C.useRef(e!==void 0);C.useEffect(()=>{const A=d.current;A!==l&&console.warn(`${n} is changing from ${A?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=C.useCallback(d=>{if(l){const A=Tce(d)?d(e):d;A!==e&&o.current?.(A)}else i(d)},[l,e,i,o]);return[c,u]}function Pce({defaultProp:e,onChange:t}){const[r,n]=C.useState(e),a=C.useRef(r),i=C.useRef(t);return kce(()=>{i.current=t},[t]),C.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function Tce(e){return typeof e=="function"}var lW=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Oce="VisuallyHidden",mN=C.forwardRef((e,t)=>s.jsx(kt.span,{...e,ref:t,style:{...lW,...e.style}}));mN.displayName=Oce;var Ice=mN,xF="ToastProvider",[wF,Fce,Rce]=hN("Toast"),[cW]=$i("Toast",[Rce]),[Lce,pN]=cW(xF),uW=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=C.useState(null),[u,d]=C.useState(0),A=C.useRef(!1),h=C.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${xF}\`. Expected non-empty \`string\`.`),s.jsx(wF.Provider,{scope:t,children:s.jsx(Lce,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:C.useCallback(()=>d(m=>m+1),[]),onToastRemove:C.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:A,isClosePausedRef:h,children:o})})};uW.displayName=xF;var dW="ToastViewport",Uce=["F8"],GP="toast.viewportPause",YP="toast.viewportResume",AW=C.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Uce,label:a="Notifications ({hotkey})",...i}=e,o=pN(dW,r),l=Fce(r),c=C.useRef(null),u=C.useRef(null),d=C.useRef(null),A=C.useRef(null),h=Qr(t,A,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;C.useEffect(()=>{const v=x=>{n.length!==0&&n.every(j=>x[j]||x.code===j)&&A.current?.focus()};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),C.useEffect(()=>{const v=c.current,x=A.current;if(y&&v&&x){const b=()=>{if(!o.isClosePausedRef.current){const B=new CustomEvent(GP);x.dispatchEvent(B),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const B=new CustomEvent(YP);x.dispatchEvent(B),o.isClosePausedRef.current=!1}},_=B=>{!v.contains(B.relatedTarget)&&j()},N=()=>{v.contains(document.activeElement)||j()};return v.addEventListener("focusin",b),v.addEventListener("focusout",_),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",N),window.addEventListener("blur",b),window.addEventListener("focus",j),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",b),window.removeEventListener("focus",j)}}},[y,o.isClosePausedRef]);const g=C.useCallback(({tabbingDirection:v})=>{const b=l().map(j=>{const _=j.ref.current,N=[_,...Xce(_)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?b.reverse():b).flat()},[l]);return C.useEffect(()=>{const v=A.current;if(v){const x=b=>{const j=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!j){const N=document.activeElement,B=b.shiftKey;if(b.target===v&&B){u.current?.focus();return}const P=g({tabbingDirection:B?"backwards":"forwards"}),M=P.findIndex(I=>I===N);XS(P.slice(M+1))?b.preventDefault():B?u.current?.focus():d.current?.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[l,g]),s.jsxs(Nce,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&s.jsx(XP,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});XS(v)}}),s.jsx(wF.Slot,{scope:r,children:s.jsx(kt.ol,{tabIndex:-1,...i,ref:h})}),y&&s.jsx(XP,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});XS(v)}})]})});AW.displayName=dW;var fW="ToastFocusProxy",XP=C.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=pN(fW,r);return s.jsx(mN,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!i.viewport?.contains(l)&&n()}})});XP.displayName=fW;var Ww="Toast",Dce="toast.swipeStart",Mce="toast.swipeMove",Qce="toast.swipeCancel",Hce="toast.swipeEnd",hW=C.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=xu({prop:n,defaultProp:a??!0,onChange:i,caller:Ww});return s.jsx(wi,{present:r||l,children:s.jsx(qce,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:la(e.onPause),onResume:la(e.onResume),onSwipeStart:yt(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:yt(e.onSwipeMove,u=>{const{x:d,y:A}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${A}px`)}),onSwipeCancel:yt(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:yt(e.onSwipeEnd,u=>{const{x:d,y:A}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${A}px`),c(!1)})})})});hW.displayName=Ww;var[$ce,Vce]=cW(Ww,{onClose(){}}),qce=C.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:A,onSwipeCancel:h,onSwipeEnd:m,...y}=e,g=pN(Ww,r),[v,x]=C.useState(null),b=Qr(t,F=>x(F)),j=C.useRef(null),_=C.useRef(null),N=a||g.duration,B=C.useRef(0),T=C.useRef(N),O=C.useRef(0),{onToastAdd:P,onToastRemove:M}=g,I=la(()=>{v?.contains(document.activeElement)&&g.viewport?.focus(),o()}),D=C.useCallback(F=>{!F||F===1/0||(window.clearTimeout(O.current),B.current=new Date().getTime(),O.current=window.setTimeout(I,F))},[I]);C.useEffect(()=>{const F=g.viewport;if(F){const V=()=>{D(T.current),u?.()},X=()=>{const K=new Date().getTime()-B.current;T.current=T.current-K,window.clearTimeout(O.current),c?.()};return F.addEventListener(GP,X),F.addEventListener(YP,V),()=>{F.removeEventListener(GP,X),F.removeEventListener(YP,V)}}},[g.viewport,N,c,u,D]),C.useEffect(()=>{i&&!g.isClosePausedRef.current&&D(N)},[i,N,g.isClosePausedRef,D]),C.useEffect(()=>(P(),()=>M()),[P,M]);const $=C.useMemo(()=>v?wW(v):null,[v]);return g.viewport?s.jsxs(s.Fragment,{children:[$&&s.jsx(Kce,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),s.jsx($ce,{scope:r,onClose:I,children:wy.createPortal(s.jsx(wF.ItemSlot,{scope:r,children:s.jsx(_ce,{asChild:!0,onEscapeKeyDown:yt(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(kt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:yt(e.onKeyDown,F=>{F.key==="Escape"&&(l?.(F.nativeEvent),F.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:yt(e.onPointerDown,F=>{F.button===0&&(j.current={x:F.clientX,y:F.clientY})}),onPointerMove:yt(e.onPointerMove,F=>{if(!j.current)return;const V=F.clientX-j.current.x,X=F.clientY-j.current.y,K=!!_.current,W=["left","right"].includes(g.swipeDirection),z=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,te=W?z(0,V):0,G=W?0:z(0,X),U=F.pointerType==="touch"?10:2,Y={x:te,y:G},ee={originalEvent:F,delta:Y};K?(_.current=Y,w1(Mce,A,ee,{discrete:!1})):nD(Y,g.swipeDirection,U)?(_.current=Y,w1(Dce,d,ee,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(V)>U||Math.abs(X)>U)&&(j.current=null)}),onPointerUp:yt(e.onPointerUp,F=>{const V=_.current,X=F.target;if(X.hasPointerCapture(F.pointerId)&&X.releasePointerCapture(F.pointerId),_.current=null,j.current=null,V){const K=F.currentTarget,W={originalEvent:F,delta:V};nD(V,g.swipeDirection,g.swipeThreshold)?w1(Hce,m,W,{discrete:!0}):w1(Qce,h,W,{discrete:!0}),K.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Kce=e=>{const{__scopeToast:t,children:r,...n}=e,a=pN(Ww,t),[i,o]=C.useState(!1),[l,c]=C.useState(!1);return Gce(()=>o(!0)),C.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(by,{asChild:!0,children:s.jsx(mN,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},zce="ToastTitle",mW=C.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(kt.div,{...n,ref:t})});mW.displayName=zce;var Wce="ToastDescription",pW=C.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(kt.div,{...n,ref:t})});pW.displayName=Wce;var gW="ToastAction",vW=C.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(xW,{altText:r,asChild:!0,children:s.jsx(bF,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${gW}\`. Expected non-empty \`string\`.`),null)});vW.displayName=gW;var yW="ToastClose",bF=C.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=Vce(yW,r);return s.jsx(xW,{asChild:!0,children:s.jsx(kt.button,{type:"button",...n,ref:t,onClick:yt(e.onClick,a.onClose)})})});bF.displayName=yW;var xW=C.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(kt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function wW(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Yce(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...wW(n))}}),t}function w1(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?yF(a,i):a.dispatchEvent(i)}var nD=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function Gce(e=()=>{}){const t=la(e);Sa(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Yce(e){return e.nodeType===e.ELEMENT_NODE}function Xce(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function XS(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Jce=uW,bW=AW,jW=hW,_W=mW,NW=pW,CW=vW,SW=bF;function BW(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=BW(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Mr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=BW(e))&&(n&&(n+=" "),n+=t);return n}const sD=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,aD=Mr,Gw=(e,t)=>r=>{var n;if(t?.variants==null)return aD(e,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r?.[u],A=i?.[u];if(d===null)return null;const h=sD(d)||sD(A);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[A,h]=d;return h===void 0||(u[A]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:A,className:h,...m}=d;return Object.entries(m).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...i,...l}[g]):{...i,...l}[g]===v})?[...u,A,h]:u},[]);return aD(e,o,c,r?.class,r?.className)};const Zce=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EW=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();var eue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tue=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>C.createElement("svg",{ref:c,...eue,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:EW("lucide",a),...l},[...o.map(([u,d])=>C.createElement(u,d)),...Array.isArray(i)?i:[i]]));const ot=(e,t)=>{const r=C.forwardRef(({className:n,...a},i)=>C.createElement(tue,{ref:i,iconNode:t,className:EW(`lucide-${Zce(e)}`,n),...a}));return r.displayName=`${e}`,r};const Hl=ot("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const rue=ot("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);const jF=ot("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const gv=ot("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const nue=ot("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);const kW=ot("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const D2=ot("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);const sue=ot("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);const sl=ot("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const aue=ot("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const iue=ot("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);const PW=ot("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);const oue=ot("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);const sn=ot("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const _F=ot("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);const iD=ot("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);const Jn=ot("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const NF=ot("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const KA=ot("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const lue=ot("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);const cue=ot("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);const CF=ot("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Ov=ot("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Yw=ot("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Pp=ot("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const uue=ot("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Qi=ot("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Gr=ot("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const h0=ot("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const due=ot("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Aue=ot("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);const vh=ot("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const fue=ot("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const hue=ot("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const ca=ot("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const TW=ot("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);const oD=ot("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const bn=ot("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const OW=ot("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const ll=ot("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const ja=ot("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const SF=ot("DoorOpen",[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]]);const Ro=ot("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const IW=ot("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);const FW=ot("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);const Th=ot("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);const mue=ot("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);const pue=ot("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const si=ot("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const ur=ot("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const gue=ot("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);const Tp=ot("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const BF=ot("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const vue=ot("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);const yue=ot("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);const xue=ot("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);const wue=ot("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const Xr=ot("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const sp=ot("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);const gN=ot("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const bue=ot("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);const jue=ot("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const jy=ot("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const _ue=ot("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const Aj=ot("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);const jn=ot("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const U0=ot("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const EF=ot("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Bu=ot("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const yd=ot("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const Nue=ot("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const D0=ot("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const Iv=ot("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const fj=ot("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const Cue=ot("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);const hj=ot("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const Vl=ot("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const mn=ot("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const lD=ot("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);const ap=ot("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);const CA=ot("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const Rs=ot("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const Xw=ot("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const RW=ot("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);const Ba=ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const LW=ot("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);const Is=ot("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const UW=ot("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const DW=ot("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Lo=ot("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const vN=ot("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const Sue=ot("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const hl=ot("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);const JP=ot("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);const kF=ot("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Bue=ot("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]);const MW=ot("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const yi=ot("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Al=ot("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const xi=ot("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Eue=ot("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);const Gm=ot("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const kue=ot("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const QW=ot("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);const Pue=ot("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const wu=ot("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const Fs=ot("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Nr=ot("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Tue=ot("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);const Oue=ot("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);const Iue=ot("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);const Ma=ot("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);const Jw=ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Wl=ot("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),PF="-",Fue=e=>{const t=Lue(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(PF);return l[0]===""&&l.length!==1&&l.shift(),HW(l,t)||Rue(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},HW=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?HW(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(PF);return t.validators.find(({validator:o})=>o(i))?.classGroupId},cD=/^\[(.+)\]$/,Rue=e=>{if(cD.test(e)){const t=cD.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Lue=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Due(Object.entries(e.classGroups),r).forEach(([i,o])=>{ZP(o,n,i,t)}),n},ZP=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:uD(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(Uue(a)){ZP(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{ZP(o,uD(t,i),r,n)})})},uD=(e,t)=>{let r=e;return t.split(PF).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Uue=e=>e.isThemeGetter,Due=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,Mue=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},$W="!",Que=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,A;for(let v=0;v<l.length;v++){let x=l[v];if(u===0){if(x===a&&(n||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(x==="/"){A=v;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith($W),y=m?h.substring(1):h,g=A&&A>d?A-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},Hue=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},$ue=e=>({cache:Mue(e.cacheSize),parseClassName:Que(e),...Fue(e)}),Vue=/\s+/,que=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(Vue);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:A,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let y=!!m,g=n(y?h.substring(0,m):h);if(!g){if(!y){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}y=!1}const v=Hue(d).join(":"),x=A?v+$W:v,b=x+g;if(i.includes(b))continue;i.push(b);const j=a(g,y);for(let _=0;_<j.length;++_){const N=j[_];i.push(x+N)}l=u+(l.length>0?" "+l:l)}return l};function Kue(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=VW(t))&&(n&&(n+=" "),n+=r);return n}const VW=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=VW(e[n]))&&(r&&(r+=" "),r+=t);return r};function zue(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,A)=>A(d),e());return r=$ue(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=que(c,r);return a(c,d),d}return function(){return i(Kue.apply(null,arguments))}}const js=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},qW=/^\[(?:([a-z-]+):)?(.+)\]$/i,Wue=/^\d+\/\d+$/,Gue=new Set(["px","full","screen"]),Yue=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xue=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Jue=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Zue=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ede=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hA=e=>vv(e)||Gue.has(e)||Wue.test(e),Rf=e=>_y(e,"length",lde),vv=e=>!!e&&!Number.isNaN(Number(e)),JS=e=>_y(e,"number",vv),Cx=e=>!!e&&Number.isInteger(Number(e)),tde=e=>e.endsWith("%")&&vv(e.slice(0,-1)),Yr=e=>qW.test(e),Lf=e=>Yue.test(e),rde=new Set(["length","size","percentage"]),nde=e=>_y(e,rde,KW),sde=e=>_y(e,"position",KW),ade=new Set(["image","url"]),ide=e=>_y(e,ade,ude),ode=e=>_y(e,"",cde),Sx=()=>!0,_y=(e,t,r)=>{const n=qW.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},lde=e=>Xue.test(e)&&!Jue.test(e),KW=()=>!1,cde=e=>Zue.test(e),ude=e=>ede.test(e),dde=()=>{const e=js("colors"),t=js("spacing"),r=js("blur"),n=js("brightness"),a=js("borderColor"),i=js("borderRadius"),o=js("borderSpacing"),l=js("borderWidth"),c=js("contrast"),u=js("grayscale"),d=js("hueRotate"),A=js("invert"),h=js("gap"),m=js("gradientColorStops"),y=js("gradientColorStopPositions"),g=js("inset"),v=js("margin"),x=js("opacity"),b=js("padding"),j=js("saturate"),_=js("scale"),N=js("sepia"),B=js("skew"),T=js("space"),O=js("translate"),P=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Yr,t],D=()=>[Yr,t],$=()=>["",hA,Rf],F=()=>["auto",vv,Yr],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Yr],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[vv,Yr];return{cacheSize:500,separator:":",theme:{colors:[Sx],spacing:[hA,Rf],blur:["none","",Lf,Yr],brightness:G(),borderColor:[e],borderRadius:["none","","full",Lf,Yr],borderSpacing:D(),borderWidth:$(),contrast:G(),grayscale:z(),hueRotate:G(),invert:z(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[tde,Rf],inset:I(),margin:I(),opacity:G(),padding:D(),saturate:G(),scale:G(),sepia:z(),skew:G(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Yr]}],container:["container"],columns:[{columns:[Lf]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),Yr]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cx,Yr]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Yr]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Cx,Yr]}],"grid-cols":[{"grid-cols":[Sx]}],"col-start-end":[{col:["auto",{span:["full",Cx,Yr]},Yr]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Sx]}],"row-start-end":[{row:["auto",{span:[Cx,Yr]},Yr]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Yr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Yr]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Yr,t]}],"min-w":[{"min-w":[Yr,t,"min","max","fit"]}],"max-w":[{"max-w":[Yr,t,"none","full","min","max","fit","prose",{screen:[Lf]},Lf]}],h:[{h:[Yr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Yr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Yr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Yr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Lf,Rf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",JS]}],"font-family":[{font:[Sx]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Yr]}],"line-clamp":[{"line-clamp":["none",vv,JS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hA,Yr]}],"list-image":[{"list-image":["none",Yr]}],"list-style-type":[{list:["none","disc","decimal",Yr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hA,Rf]}],"underline-offset":[{"underline-offset":["auto",hA,Yr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Yr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Yr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),sde]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nde]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ide]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:X()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[hA,Yr]}],"outline-w":[{outline:[hA,Rf]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[hA,Rf]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Lf,ode]}],"shadow-color":[{shadow:[Sx]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Lf,Yr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[A]}],saturate:[{saturate:[j]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[A]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Yr]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Yr]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Yr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Cx,Yr]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Yr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Yr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Yr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[hA,Rf,JS]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ade=zue(dde);function st(...e){return Ade(Mr(e))}const fde=Jce,zW=C.forwardRef(({className:e,...t},r)=>s.jsx(bW,{ref:r,className:st("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));zW.displayName=bW.displayName;const hde=Gw("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),WW=C.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(jW,{ref:n,className:st(hde({variant:t}),e),...r}));WW.displayName=jW.displayName;const mde=C.forwardRef(({className:e,...t},r)=>s.jsx(CW,{ref:r,className:st("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));mde.displayName=CW.displayName;const GW=C.forwardRef(({className:e,...t},r)=>s.jsx(SW,{ref:r,className:st("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Jw,{className:"h-4 w-4"})}));GW.displayName=SW.displayName;const YW=C.forwardRef(({className:e,...t},r)=>s.jsx(_W,{ref:r,className:st("text-sm font-semibold",e),...t}));YW.displayName=_W.displayName;const XW=C.forwardRef(({className:e,...t},r)=>s.jsx(NW,{ref:r,className:st("text-sm opacity-90",e),...t}));XW.displayName=NW.displayName;function pde(){const{toasts:e}=Nd();return s.jsxs(fde,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(WW,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(YW,{children:r}),n&&s.jsx(XW,{children:n})]}),a,s.jsx(GW,{})]},t)}),s.jsx(zW,{})]})}var dD=["light","dark"],gde="(prefers-color-scheme: dark)",vde=C.createContext(void 0),yde={setTheme:e=>{},themes:[]},xde=()=>{var e;return(e=C.useContext(vde))!=null?e:yde};C.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,A=a?dD.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,g=!1,v=!0)=>{let x=o?o[y]:y,b=g?y+"|| ''":`'${x}'`,j="";return a&&v&&!g&&dD.includes(y)&&(j+=`d.style.colorScheme = '${y}';`),r==="class"?g||x?j+=`c.add(${b})`:j+="null":x&&(j+=`d[s](n,${b})`),j},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${gde}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${A}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${A}}catch(t){}}();`;return C.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var wde=e=>{switch(e){case"success":return _de;case"info":return Cde;case"warning":return Nde;case"error":return Sde;default:return null}},bde=Array(12).fill(0),jde=({visible:e,className:t})=>se.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},se.createElement("div",{className:"sonner-spinner"},bde.map((r,n)=>se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),_de=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Nde=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Cde=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Sde=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Bde=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ede=()=>{let[e,t]=se.useState(document.hidden);return se.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},eT=1,kde=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...a}=t,i=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:eT++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:n}),{...c,...t,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...a,dismissible:l,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let a=t instanceof Promise?t:t(),i=n!==void 0,o,l=a.then(async u=>{if(o=["resolve",u],se.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(Tde(u)&&!u.ok){i=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,A=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:d,description:A})}else if(r.success!==void 0){i=!1;let d=typeof r.success=="function"?await r.success(u):r.success,A=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:d,description:A})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){i=!1;let d=typeof r.error=="function"?await r.error(u):r.error,A=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:d,description:A})}}).finally(()=>{var u;i&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{let n=r?.id||eT++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},tl=new kde,Pde=(e,t)=>{let r=t?.id||eT++;return tl.addToast({title:e,...t,id:r}),r},Tde=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Ode=Pde,Ide=()=>tl.toasts,Fde=()=>tl.getActiveToasts(),He=Object.assign(Ode,{success:tl.success,info:tl.info,warning:tl.warning,error:tl.error,custom:tl.custom,message:tl.message,promise:tl.promise,dismiss:tl.dismiss,loading:tl.loading},{getHistory:Ide,getToasts:Fde});function Rde(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Rde(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function b1(e){return e.label!==void 0}var Lde=3,Ude="32px",Dde="16px",AD=4e3,Mde=356,Qde=14,Hde=20,$de=200;function Zc(...e){return e.filter(Boolean).join(" ")}function Vde(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var qde=e=>{var t,r,n,a,i,o,l,c,u,d,A;let{invert:h,toast:m,unstyled:y,interacting:g,setHeights:v,visibleToasts:x,heights:b,index:j,toasts:_,expanded:N,removeToast:B,defaultRichColors:T,closeButton:O,style:P,cancelButtonStyle:M,actionButtonStyle:I,className:D="",descriptionClassName:$="",duration:F,position:V,gap:X,loadingIcon:K,expandByDefault:W,classNames:z,icons:te,closeButtonAriaLabel:G="Close toast",pauseWhenPageIsHidden:U}=e,[Y,ee]=se.useState(null),[ae,Ae]=se.useState(null),[ce,we]=se.useState(!1),[ge,je]=se.useState(!1),[Oe,Ne]=se.useState(!1),[et,nt]=se.useState(!1),[le,lt]=se.useState(!1),[Pt,Pe]=se.useState(0),[Me,fe]=se.useState(0),ve=se.useRef(m.duration||F||AD),Ee=se.useRef(null),xe=se.useRef(null),qe=j===0,Ke=j+1<=x,tt=m.type,jt=m.dismissible!==!1,Ct=m.className||"",_t=m.descriptionClassName||"",tr=se.useMemo(()=>b.findIndex(cr=>cr.toastId===m.id)||0,[b,m.id]),St=se.useMemo(()=>{var cr;return(cr=m.closeButton)!=null?cr:O},[m.closeButton,O]),Zn=se.useMemo(()=>m.duration||F||AD,[m.duration,F]),Hr=se.useRef(0),dr=se.useRef(0),Fr=se.useRef(0),tn=se.useRef(null),[Wt,vn]=V.split("-"),sr=se.useMemo(()=>b.reduce((cr,Er,ln)=>ln>=tr?cr:cr+Er.height,0),[b,tr]),xr=Ede(),Nn=m.invert||h,Cr=tt==="loading";dr.current=se.useMemo(()=>tr*X+sr,[tr,sr]),se.useEffect(()=>{ve.current=Zn},[Zn]),se.useEffect(()=>{we(!0)},[]),se.useEffect(()=>{let cr=xe.current;if(cr){let Er=cr.getBoundingClientRect().height;return fe(Er),v(ln=>[{toastId:m.id,height:Er,position:m.position},...ln]),()=>v(ln=>ln.filter(us=>us.toastId!==m.id))}},[v,m.id]),se.useLayoutEffect(()=>{if(!ce)return;let cr=xe.current,Er=cr.style.height;cr.style.height="auto";let ln=cr.getBoundingClientRect().height;cr.style.height=Er,fe(ln),v(us=>us.find(Dt=>Dt.toastId===m.id)?us.map(Dt=>Dt.toastId===m.id?{...Dt,height:ln}:Dt):[{toastId:m.id,height:ln,position:m.position},...us])},[ce,m.title,m.description,v,m.id]);let qt=se.useCallback(()=>{je(!0),Pe(dr.current),v(cr=>cr.filter(Er=>Er.toastId!==m.id)),setTimeout(()=>{B(m)},$de)},[m,B,v,dr]);se.useEffect(()=>{if(m.promise&&tt==="loading"||m.duration===1/0||m.type==="loading")return;let cr;return N||g||U&&xr?(()=>{if(Fr.current<Hr.current){let Er=new Date().getTime()-Hr.current;ve.current=ve.current-Er}Fr.current=new Date().getTime()})():ve.current!==1/0&&(Hr.current=new Date().getTime(),cr=setTimeout(()=>{var Er;(Er=m.onAutoClose)==null||Er.call(m,m),qt()},ve.current)),()=>clearTimeout(cr)},[N,g,m,tt,U,xr,qt]),se.useEffect(()=>{m.delete&&qt()},[qt,m.delete]);function yn(){var cr,Er,ln;return te!=null&&te.loading?se.createElement("div",{className:Zc(z?.loader,(cr=m?.classNames)==null?void 0:cr.loader,"sonner-loader"),"data-visible":tt==="loading"},te.loading):K?se.createElement("div",{className:Zc(z?.loader,(Er=m?.classNames)==null?void 0:Er.loader,"sonner-loader"),"data-visible":tt==="loading"},K):se.createElement(jde,{className:Zc(z?.loader,(ln=m?.classNames)==null?void 0:ln.loader),visible:tt==="loading"})}return se.createElement("li",{tabIndex:0,ref:xe,className:Zc(D,Ct,z?.toast,(t=m?.classNames)==null?void 0:t.toast,z?.default,z?.[tt],(r=m?.classNames)==null?void 0:r[tt]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:T,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":ce,"data-promise":!!m.promise,"data-swiped":le,"data-removed":ge,"data-visible":Ke,"data-y-position":Wt,"data-x-position":vn,"data-index":j,"data-front":qe,"data-swiping":Oe,"data-dismissible":jt,"data-type":tt,"data-invert":Nn,"data-swipe-out":et,"data-swipe-direction":ae,"data-expanded":!!(N||W&&ce),style:{"--index":j,"--toasts-before":j,"--z-index":_.length-j,"--offset":`${ge?Pt:dr.current}px`,"--initial-height":W?"auto":`${Me}px`,...P,...m.style},onDragEnd:()=>{Ne(!1),ee(null),tn.current=null},onPointerDown:cr=>{Cr||!jt||(Ee.current=new Date,Pe(dr.current),cr.target.setPointerCapture(cr.pointerId),cr.target.tagName!=="BUTTON"&&(Ne(!0),tn.current={x:cr.clientX,y:cr.clientY}))},onPointerUp:()=>{var cr,Er,ln,us;if(et||!jt)return;tn.current=null;let Dt=Number(((cr=xe.current)==null?void 0:cr.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Cs=Number(((Er=xe.current)==null?void 0:Er.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),da=new Date().getTime()-((ln=Ee.current)==null?void 0:ln.getTime()),Ln=Y==="x"?Dt:Cs,Us=Math.abs(Ln)/da;if(Math.abs(Ln)>=Hde||Us>.11){Pe(dr.current),(us=m.onDismiss)==null||us.call(m,m),Ae(Y==="x"?Dt>0?"right":"left":Cs>0?"down":"up"),qt(),nt(!0),lt(!1);return}Ne(!1),ee(null)},onPointerMove:cr=>{var Er,ln,us,Dt;if(!tn.current||!jt||((Er=window.getSelection())==null?void 0:Er.toString().length)>0)return;let Cs=cr.clientY-tn.current.y,da=cr.clientX-tn.current.x,Ln=(ln=e.swipeDirections)!=null?ln:Vde(V);!Y&&(Math.abs(da)>1||Math.abs(Cs)>1)&&ee(Math.abs(da)>Math.abs(Cs)?"x":"y");let Us={x:0,y:0};Y==="y"?(Ln.includes("top")||Ln.includes("bottom"))&&(Ln.includes("top")&&Cs<0||Ln.includes("bottom")&&Cs>0)&&(Us.y=Cs):Y==="x"&&(Ln.includes("left")||Ln.includes("right"))&&(Ln.includes("left")&&da<0||Ln.includes("right")&&da>0)&&(Us.x=da),(Math.abs(Us.x)>0||Math.abs(Us.y)>0)&&lt(!0),(us=xe.current)==null||us.style.setProperty("--swipe-amount-x",`${Us.x}px`),(Dt=xe.current)==null||Dt.style.setProperty("--swipe-amount-y",`${Us.y}px`)}},St&&!m.jsx?se.createElement("button",{"aria-label":G,"data-disabled":Cr,"data-close-button":!0,onClick:Cr||!jt?()=>{}:()=>{var cr;qt(),(cr=m.onDismiss)==null||cr.call(m,m)},className:Zc(z?.closeButton,(a=m?.classNames)==null?void 0:a.closeButton)},(i=te?.close)!=null?i:Bde):null,m.jsx||C.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:se.createElement(se.Fragment,null,tt||m.icon||m.promise?se.createElement("div",{"data-icon":"",className:Zc(z?.icon,(o=m?.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||yn():null,m.type!=="loading"?m.icon||te?.[tt]||wde(tt):null):null,se.createElement("div",{"data-content":"",className:Zc(z?.content,(l=m?.classNames)==null?void 0:l.content)},se.createElement("div",{"data-title":"",className:Zc(z?.title,(c=m?.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?se.createElement("div",{"data-description":"",className:Zc($,_t,z?.description,(u=m?.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),C.isValidElement(m.cancel)?m.cancel:m.cancel&&b1(m.cancel)?se.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||M,onClick:cr=>{var Er,ln;b1(m.cancel)&&jt&&((ln=(Er=m.cancel).onClick)==null||ln.call(Er,cr),qt())},className:Zc(z?.cancelButton,(d=m?.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,C.isValidElement(m.action)?m.action:m.action&&b1(m.action)?se.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||I,onClick:cr=>{var Er,ln;b1(m.action)&&((ln=(Er=m.action).onClick)==null||ln.call(Er,cr),!cr.defaultPrevented&&qt())},className:Zc(z?.actionButton,(A=m?.classNames)==null?void 0:A.actionButton)},m.action.label):null))};function fD(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Kde(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?Dde:Ude;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var zde=C.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:A,duration:h,style:m,visibleToasts:y=Lde,toastOptions:g,dir:v=fD(),gap:x=Qde,loadingIcon:b,icons:j,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:N}=e,[B,T]=se.useState([]),O=se.useMemo(()=>Array.from(new Set([n].concat(B.filter(U=>U.position).map(U=>U.position)))),[B,n]),[P,M]=se.useState([]),[I,D]=se.useState(!1),[$,F]=se.useState(!1),[V,X]=se.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=se.useRef(null),W=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=se.useRef(null),te=se.useRef(!1),G=se.useCallback(U=>{T(Y=>{var ee;return(ee=Y.find(ae=>ae.id===U.id))!=null&&ee.delete||tl.dismiss(U.id),Y.filter(({id:ae})=>ae!==U.id)})},[]);return se.useEffect(()=>tl.subscribe(U=>{if(U.dismiss){T(Y=>Y.map(ee=>ee.id===U.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{tW.flushSync(()=>{T(Y=>{let ee=Y.findIndex(ae=>ae.id===U.id);return ee!==-1?[...Y.slice(0,ee),{...Y[ee],...U},...Y.slice(ee+1)]:[U,...Y]})})})}),[]),se.useEffect(()=>{if(d!=="system"){X(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;let U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:Y})=>{X(Y?"dark":"light")})}catch{U.addListener(({matches:ee})=>{try{X(ee?"dark":"light")}catch(ae){console.error(ae)}})}},[d]),se.useEffect(()=>{B.length<=1&&D(!1)},[B]),se.useEffect(()=>{let U=Y=>{var ee,ae;a.every(Ae=>Y[Ae]||Y.code===Ae)&&(D(!0),(ee=K.current)==null||ee.focus()),Y.code==="Escape"&&(document.activeElement===K.current||(ae=K.current)!=null&&ae.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[a]),se.useEffect(()=>{if(K.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,te.current=!1)}},[K.current]),se.createElement("section",{ref:t,"aria-label":`${_} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((U,Y)=>{var ee;let[ae,Ae]=U.split("-");return B.length?se.createElement("ol",{key:U,dir:v==="auto"?fD():v,tabIndex:-1,ref:K,className:l,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":ae,"data-lifted":I&&B.length>1&&!i,"data-x-position":Ae,style:{"--front-toast-height":`${((ee=P[0])==null?void 0:ee.height)||0}px`,"--width":`${Mde}px`,"--gap":`${x}px`,...m,...Kde(c,u)},onBlur:ce=>{te.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(te.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||te.current||(te.current=!0,z.current=ce.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{$||D(!1)},onDragEnd:()=>D(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},B.filter(ce=>!ce.position&&Y===0||ce.position===U).map((ce,we)=>{var ge,je;return se.createElement(qde,{key:ce.id,icons:j,index:we,toast:ce,defaultRichColors:A,duration:(ge=g?.duration)!=null?ge:h,className:g?.className,descriptionClassName:g?.descriptionClassName,invert:r,visibleToasts:y,closeButton:(je=g?.closeButton)!=null?je:o,interacting:$,position:U,style:g?.style,unstyled:g?.unstyled,classNames:g?.classNames,cancelButtonStyle:g?.cancelButtonStyle,actionButtonStyle:g?.actionButtonStyle,removeToast:G,toasts:B.filter(Oe=>Oe.position==ce.position),heights:P.filter(Oe=>Oe.position==ce.position),setHeights:M,expandByDefault:i,gap:x,loadingIcon:b,expanded:I,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const Wde=({...e})=>{const{theme:t="system"}=xde();return s.jsx(zde,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Gde=vF[" useId ".trim().toString()]||(()=>{}),Yde=0;function vi(e){const[t,r]=C.useState(Gde());return Sa(()=>{r(n=>n??String(Yde++))},[e]),t?`radix-${t}`:""}const Xde=["top","right","bottom","left"],yh=Math.min,Dl=Math.max,mj=Math.round,j1=Math.floor,fd=e=>({x:e,y:e}),Jde={left:"right",right:"left",bottom:"top",top:"bottom"},Zde={start:"end",end:"start"};function tT(e,t,r){return Dl(e,yh(t,r))}function RA(e,t){return typeof e=="function"?e(t):e}function LA(e){return e.split("-")[0]}function Ny(e){return e.split("-")[1]}function TF(e){return e==="x"?"y":"x"}function OF(e){return e==="y"?"height":"width"}const eAe=new Set(["top","bottom"]);function od(e){return eAe.has(LA(e))?"y":"x"}function IF(e){return TF(od(e))}function tAe(e,t,r){r===void 0&&(r=!1);const n=Ny(e),a=IF(e),i=OF(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=pj(o)),[o,pj(o)]}function rAe(e){const t=pj(e);return[rT(e),t,rT(t)]}function rT(e){return e.replace(/start|end/g,t=>Zde[t])}const hD=["left","right"],mD=["right","left"],nAe=["top","bottom"],sAe=["bottom","top"];function aAe(e,t,r){switch(e){case"top":case"bottom":return r?t?mD:hD:t?hD:mD;case"left":case"right":return t?nAe:sAe;default:return[]}}function iAe(e,t,r,n){const a=Ny(e);let i=aAe(LA(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(rT)))),i}function pj(e){return e.replace(/left|right|bottom|top/g,t=>Jde[t])}function oAe(e){return{top:0,right:0,bottom:0,left:0,...e}}function JW(e){return typeof e!="number"?oAe(e):{top:e,right:e,bottom:e,left:e}}function gj(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function pD(e,t,r){let{reference:n,floating:a}=e;const i=od(t),o=IF(t),l=OF(o),c=LA(t),u=i==="y",d=n.x+n.width/2-a.width/2,A=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:A};break;case"left":m={x:n.x-a.width,y:A};break;default:m={x:n.x,y:n.y}}switch(Ny(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const lAe=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:A}=pD(u,n,c),h=n,m={},y=0;for(let g=0;g<l.length;g++){const{name:v,fn:x}=l[g],{x:b,y:j,data:_,reset:N}=await x({x:d,y:A,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,A=j??A,m={...m,[v]:{...m[v],..._}},N&&y<=50&&(y++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:d,y:A}=pD(u,h,c)),g=-1)}return{x:d,y:A,placement:h,strategy:a,middlewareData:m}};async function M0(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:A="floating",altBoundary:h=!1,padding:m=0}=RA(t,e),y=JW(m),v=l[h?A==="floating"?"reference":"floating":A],x=gj(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=A==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},N=gj(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:j,strategy:c}):b);return{top:(x.top-N.top+y.top)/_.y,bottom:(N.bottom-x.bottom+y.bottom)/_.y,left:(x.left-N.left+y.left)/_.x,right:(N.right-x.right+y.right)/_.x}}const cAe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=RA(e,t)||{};if(u==null)return{};const A=JW(d),h={x:r,y:n},m=IF(a),y=OF(m),g=await o.getDimensions(u),v=m==="y",x=v?"top":"left",b=v?"bottom":"right",j=v?"clientHeight":"clientWidth",_=i.reference[y]+i.reference[m]-h[m]-i.floating[y],N=h[m]-i.reference[m],B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=B?B[j]:0;(!T||!await(o.isElement==null?void 0:o.isElement(B)))&&(T=l.floating[j]||i.floating[y]);const O=_/2-N/2,P=T/2-g[y]/2-1,M=yh(A[x],P),I=yh(A[b],P),D=M,$=T-g[y]-I,F=T/2-g[y]/2+O,V=tT(D,F,$),X=!c.arrow&&Ny(a)!=null&&F!==V&&i.reference[y]/2-(F<D?M:I)-g[y]/2<0,K=X?F<D?F-D:F-$:0;return{[m]:h[m]+K,data:{[m]:V,centerOffset:F-V-K,...X&&{alignmentOffset:K}},reset:X}}}),uAe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:A=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=RA(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=LA(a),b=od(l),j=LA(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(j||!g?[pj(l)]:rAe(l)),B=y!=="none";!h&&B&&N.push(...iAe(l,g,y,_));const T=[l,...N],O=await M0(t,v),P=[];let M=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&P.push(O[x]),A){const F=tAe(a,o,_);P.push(O[F[0]],O[F[1]])}if(M=[...M,{placement:a,overflows:P}],!P.every(F=>F<=0)){var I,D;const F=(((I=i.flip)==null?void 0:I.index)||0)+1,V=T[F];if(V&&(!(A==="alignment"?b!==od(V):!1)||M.every(W=>W.overflows[0]>0&&od(W.placement)===b)))return{data:{index:F,overflows:M},reset:{placement:V}};let X=(D=M.filter(K=>K.overflows[0]<=0).sort((K,W)=>K.overflows[1]-W.overflows[1])[0])==null?void 0:D.placement;if(!X)switch(m){case"bestFit":{var $;const K=($=M.filter(W=>{if(B){const z=od(W.placement);return z===b||z==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(z=>z>0).reduce((z,te)=>z+te,0)]).sort((W,z)=>W[1]-z[1])[0])==null?void 0:$[0];K&&(X=K);break}case"initialPlacement":X=l;break}if(a!==X)return{reset:{placement:X}}}return{}}}};function gD(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function vD(e){return Xde.some(t=>e[t]>=0)}const dAe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=RA(e,t);switch(n){case"referenceHidden":{const i=await M0(t,{...a,elementContext:"reference"}),o=gD(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:vD(o)}}}case"escaped":{const i=await M0(t,{...a,altBoundary:!0}),o=gD(i,r.floating);return{data:{escapedOffsets:o,escaped:vD(o)}}}default:return{}}}}},ZW=new Set(["left","top"]);async function AAe(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=LA(r),l=Ny(r),c=od(r)==="y",u=ZW.has(o)?-1:1,d=i&&c?-1:1,A=RA(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof A=="number"?{mainAxis:A,crossAxis:0,alignmentAxis:null}:{mainAxis:A.mainAxis||0,crossAxis:A.crossAxis||0,alignmentAxis:A.alignmentAxis};return l&&typeof y=="number"&&(m=l==="end"?y*-1:y),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const fAe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await AAe(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},hAe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x,y:b}=v;return{x,y:b}}},...c}=RA(e,t),u={x:r,y:n},d=await M0(t,c),A=od(LA(a)),h=TF(A);let m=u[h],y=u[A];if(i){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=m+d[v],j=m-d[x];m=tT(b,m,j)}if(o){const v=A==="y"?"top":"left",x=A==="y"?"bottom":"right",b=y+d[v],j=y-d[x];y=tT(b,y,j)}const g=l.fn({...t,[h]:m,[A]:y});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:i,[A]:o}}}}}},mAe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=RA(e,t),d={x:r,y:n},A=od(a),h=TF(A);let m=d[h],y=d[A];const g=RA(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const j=h==="y"?"height":"width",_=i.reference[h]-i.floating[j]+v.mainAxis,N=i.reference[h]+i.reference[j]-v.mainAxis;m<_?m=_:m>N&&(m=N)}if(u){var x,b;const j=h==="y"?"width":"height",_=ZW.has(LA(a)),N=i.reference[A]-i.floating[j]+(_&&((x=o.offset)==null?void 0:x[A])||0)+(_?0:v.crossAxis),B=i.reference[A]+i.reference[j]+(_?0:((b=o.offset)==null?void 0:b[A])||0)-(_?v.crossAxis:0);y<N?y=N:y>B&&(y=B)}return{[h]:m,[A]:y}}}},pAe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=RA(e,t),d=await M0(t,u),A=LA(a),h=Ny(a),m=od(a)==="y",{width:y,height:g}=i.floating;let v,x;A==="top"||A==="bottom"?(v=A,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=A,v=h==="end"?"top":"bottom");const b=g-d.top-d.bottom,j=y-d.left-d.right,_=yh(g-d[v],b),N=yh(y-d[x],j),B=!t.middlewareData.shift;let T=_,O=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(O=j),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(T=b),B&&!h){const M=Dl(d.left,0),I=Dl(d.right,0),D=Dl(d.top,0),$=Dl(d.bottom,0);m?O=y-2*(M!==0||I!==0?M+I:Dl(d.left,d.right)):T=g-2*(D!==0||$!==0?D+$:Dl(d.top,d.bottom))}await c({...t,availableWidth:O,availableHeight:T});const P=await o.getDimensions(l.floating);return y!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function yN(){return typeof window<"u"}function Cy(e){return eG(e)?(e.nodeName||"").toLowerCase():"#document"}function ql(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Cd(e){var t;return(t=(eG(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function eG(e){return yN()?e instanceof Node||e instanceof ql(e).Node:!1}function bu(e){return yN()?e instanceof Element||e instanceof ql(e).Element:!1}function xd(e){return yN()?e instanceof HTMLElement||e instanceof ql(e).HTMLElement:!1}function yD(e){return!yN()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ql(e).ShadowRoot}const gAe=new Set(["inline","contents"]);function Zw(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ju(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!gAe.has(a)}const vAe=new Set(["table","td","th"]);function yAe(e){return vAe.has(Cy(e))}const xAe=[":popover-open",":modal"];function xN(e){return xAe.some(t=>{try{return e.matches(t)}catch{return!1}})}const wAe=["transform","translate","scale","rotate","perspective"],bAe=["transform","translate","scale","rotate","perspective","filter"],jAe=["paint","layout","strict","content"];function FF(e){const t=RF(),r=bu(e)?ju(e):e;return wAe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||bAe.some(n=>(r.willChange||"").includes(n))||jAe.some(n=>(r.contain||"").includes(n))}function _Ae(e){let t=xh(e);for(;xd(t)&&!Fv(t);){if(FF(t))return t;if(xN(t))return null;t=xh(t)}return null}function RF(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const NAe=new Set(["html","body","#document"]);function Fv(e){return NAe.has(Cy(e))}function ju(e){return ql(e).getComputedStyle(e)}function wN(e){return bu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xh(e){if(Cy(e)==="html")return e;const t=e.assignedSlot||e.parentNode||yD(e)&&e.host||Cd(e);return yD(t)?t.host:t}function tG(e){const t=xh(e);return Fv(t)?e.ownerDocument?e.ownerDocument.body:e.body:xd(t)&&Zw(t)?t:tG(t)}function Q0(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=tG(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=ql(a);if(i){const l=nT(o);return t.concat(o,o.visualViewport||[],Zw(a)?a:[],l&&r?Q0(l):[])}return t.concat(a,Q0(a,[],r))}function nT(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function rG(e){const t=ju(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=xd(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=mj(r)!==i||mj(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function LF(e){return bu(e)?e:e.contextElement}function yv(e){const t=LF(e);if(!xd(t))return fd(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=rG(t);let o=(i?mj(r.width):r.width)/n,l=(i?mj(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const CAe=fd(0);function nG(e){const t=ql(e);return!RF()||!t.visualViewport?CAe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function SAe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ql(e)?!1:t}function ip(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=LF(e);let o=fd(1);t&&(n?bu(n)&&(o=yv(n)):o=yv(e));const l=SAe(i,r,n)?nG(i):fd(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,A=a.height/o.y;if(i){const h=ql(i),m=n&&bu(n)?ql(n):n;let y=h,g=nT(y);for(;g&&n&&m!==y;){const v=yv(g),x=g.getBoundingClientRect(),b=ju(g),j=x.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,_=x.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,A*=v.y,c+=j,u+=_,y=ql(g),g=nT(y)}}return gj({width:d,height:A,x:c,y:u})}function UF(e,t){const r=wN(e).scrollLeft;return t?t.left+r:ip(Cd(e)).left+r}function sG(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:UF(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function BAe(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Cd(n),l=t?xN(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=fd(1);const d=fd(0),A=xd(n);if((A||!A&&!i)&&((Cy(n)!=="body"||Zw(o))&&(c=wN(n)),xd(n))){const m=ip(n);u=yv(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!A&&!i?sG(o,c,!0):fd(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function EAe(e){return Array.from(e.getClientRects())}function kAe(e){const t=Cd(e),r=wN(e),n=e.ownerDocument.body,a=Dl(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Dl(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+UF(e);const l=-r.scrollTop;return ju(n).direction==="rtl"&&(o+=Dl(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function PAe(e,t){const r=ql(e),n=Cd(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=RF();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const TAe=new Set(["absolute","fixed"]);function OAe(e,t){const r=ip(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=xd(e)?yv(e):fd(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function xD(e,t,r){let n;if(t==="viewport")n=PAe(e,r);else if(t==="document")n=kAe(Cd(e));else if(bu(t))n=OAe(t,r);else{const a=nG(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return gj(n)}function aG(e,t){const r=xh(e);return r===t||!bu(r)||Fv(r)?!1:ju(r).position==="fixed"||aG(r,t)}function IAe(e,t){const r=t.get(e);if(r)return r;let n=Q0(e,[],!1).filter(l=>bu(l)&&Cy(l)!=="body"),a=null;const i=ju(e).position==="fixed";let o=i?xh(e):e;for(;bu(o)&&!Fv(o);){const l=ju(o),c=FF(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&TAe.has(a.position)||Zw(o)&&!c&&aG(e,o))?n=n.filter(d=>d!==o):a=l,o=xh(o)}return t.set(e,n),n}function FAe(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?xN(t)?[]:IAe(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const A=xD(t,d,a);return u.top=Dl(A.top,u.top),u.right=yh(A.right,u.right),u.bottom=yh(A.bottom,u.bottom),u.left=Dl(A.left,u.left),u},xD(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function RAe(e){const{width:t,height:r}=rG(e);return{width:t,height:r}}function LAe(e,t,r){const n=xd(t),a=Cd(t),i=r==="fixed",o=ip(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=fd(0);function u(){c.x=UF(a)}if(n||!n&&!i)if((Cy(t)!=="body"||Zw(a))&&(l=wN(t)),n){const m=ip(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?sG(a,l):fd(0),A=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:A,y:h,width:o.width,height:o.height}}function ZS(e){return ju(e).position==="static"}function wD(e,t){if(!xd(e)||ju(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Cd(e)===r&&(r=r.ownerDocument.body),r}function iG(e,t){const r=ql(e);if(xN(e))return r;if(!xd(e)){let a=xh(e);for(;a&&!Fv(a);){if(bu(a)&&!ZS(a))return a;a=xh(a)}return r}let n=wD(e,t);for(;n&&yAe(n)&&ZS(n);)n=wD(n,t);return n&&Fv(n)&&ZS(n)&&!FF(n)?r:n||_Ae(e)||r}const UAe=async function(e){const t=this.getOffsetParent||iG,r=this.getDimensions,n=await r(e.floating);return{reference:LAe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function DAe(e){return ju(e).direction==="rtl"}const MAe={convertOffsetParentRelativeRectToViewportRelativeRect:BAe,getDocumentElement:Cd,getClippingRect:FAe,getOffsetParent:iG,getElementRects:UAe,getClientRects:EAe,getDimensions:RAe,getScale:yv,isElement:bu,isRTL:DAe};function oG(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function QAe(e,t){let r=null,n;const a=Cd(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:A,width:h,height:m}=u;if(l||t(),!h||!m)return;const y=j1(A),g=j1(a.clientWidth-(d+h)),v=j1(a.clientHeight-(A+m)),x=j1(d),j={rootMargin:-y+"px "+-g+"px "+-v+"px "+-x+"px",threshold:Dl(0,yh(1,c))||1};let _=!0;function N(B){const T=B[0].intersectionRatio;if(T!==c){if(!_)return o();T?o(!1,T):n=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!oG(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(N,{...j,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,j)}r.observe(e)}return o(!0),i}function HAe(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=LF(e),d=a||i?[...u?Q0(u):[],...Q0(t)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const A=u&&l?QAe(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var j;(j=m)==null||j.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let y,g=c?ip(e):null;c&&v();function v(){const x=ip(e);g&&!oG(g,x)&&r(),g=x,y=requestAnimationFrame(v)}return r(),()=>{var x;d.forEach(b=>{a&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),A?.(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const $Ae=fAe,VAe=hAe,qAe=uAe,KAe=pAe,zAe=dAe,bD=cAe,WAe=mAe,GAe=(e,t,r)=>{const n=new Map,a={platform:MAe,...r},i={...a.platform,_c:n};return lAe(e,t,{...a,platform:i})};var YAe=typeof document<"u",XAe=function(){},M2=YAe?C.useLayoutEffect:XAe;function vj(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!vj(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!vj(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function lG(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function jD(e,t){const r=lG(e);return Math.round(t*r)/r}function eB(e){const t=C.useRef(e);return M2(()=>{t.current=e}),t}function JAe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,A]=C.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=C.useState(n);vj(h,n)||m(n);const[y,g]=C.useState(null),[v,x]=C.useState(null),b=C.useCallback(W=>{W!==B.current&&(B.current=W,g(W))},[]),j=C.useCallback(W=>{W!==T.current&&(T.current=W,x(W))},[]),_=i||y,N=o||v,B=C.useRef(null),T=C.useRef(null),O=C.useRef(d),P=c!=null,M=eB(c),I=eB(a),D=eB(u),$=C.useCallback(()=>{if(!B.current||!T.current)return;const W={placement:t,strategy:r,middleware:h};I.current&&(W.platform=I.current),GAe(B.current,T.current,W).then(z=>{const te={...z,isPositioned:D.current!==!1};F.current&&!vj(O.current,te)&&(O.current=te,wy.flushSync(()=>{A(te)}))})},[h,t,r,I,D]);M2(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,A(W=>({...W,isPositioned:!1})))},[u]);const F=C.useRef(!1);M2(()=>(F.current=!0,()=>{F.current=!1}),[]),M2(()=>{if(_&&(B.current=_),N&&(T.current=N),_&&N){if(M.current)return M.current(_,N,$);$()}},[_,N,$,M,P]);const V=C.useMemo(()=>({reference:B,floating:T,setReference:b,setFloating:j}),[b,j]),X=C.useMemo(()=>({reference:_,floating:N}),[_,N]),K=C.useMemo(()=>{const W={position:r,left:0,top:0};if(!X.floating)return W;const z=jD(X.floating,d.x),te=jD(X.floating,d.y);return l?{...W,transform:"translate("+z+"px, "+te+"px)",...lG(X.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:z,top:te}},[r,l,X.floating,d.x,d.y]);return C.useMemo(()=>({...d,update:$,refs:V,elements:X,floatingStyles:K}),[d,$,V,X,K])}const ZAe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?bD({element:n.current,padding:a}).fn(r):{}:n?bD({element:n,padding:a}).fn(r):{}}}},efe=(e,t)=>({...$Ae(e),options:[e,t]}),tfe=(e,t)=>({...VAe(e),options:[e,t]}),rfe=(e,t)=>({...WAe(e),options:[e,t]}),nfe=(e,t)=>({...qAe(e),options:[e,t]}),sfe=(e,t)=>({...KAe(e),options:[e,t]}),afe=(e,t)=>({...zAe(e),options:[e,t]}),ife=(e,t)=>({...ZAe(e),options:[e,t]});var ofe="Arrow",cG=C.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(kt.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});cG.displayName=ofe;var lfe=cG;function DF(e){const[t,r]=C.useState(void 0);return Sa(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var MF="Popper",[uG,Oh]=$i(MF),[cfe,dG]=uG(MF),AG=e=>{const{__scopePopper:t,children:r}=e,[n,a]=C.useState(null);return s.jsx(cfe,{scope:t,anchor:n,onAnchorChange:a,children:r})};AG.displayName=MF;var fG="PopperAnchor",hG=C.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=dG(fG,r),o=C.useRef(null),l=Qr(t,o);return C.useEffect(()=>{i.onAnchorChange(n?.current||o.current)}),n?null:s.jsx(kt.div,{...a,ref:l})});hG.displayName=fG;var QF="PopperContent",[ufe,dfe]=uG(QF),mG=C.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:A="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=e,v=dG(QF,r),[x,b]=C.useState(null),j=Qr(t,ce=>b(ce)),[_,N]=C.useState(null),B=DF(_),T=B?.width??0,O=B?.height??0,P=n+(i!=="center"?"-"+i:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],D=I.length>0,$={padding:M,boundary:I.filter(ffe),altBoundary:D},{refs:F,floatingStyles:V,placement:X,isPositioned:K,middlewareData:W}=JAe({strategy:"fixed",placement:P,whileElementsMounted:(...ce)=>HAe(...ce,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[efe({mainAxis:a+O,alignmentAxis:o}),c&&tfe({mainAxis:!0,crossAxis:!1,limiter:A==="partial"?rfe():void 0,...$}),c&&nfe({...$}),sfe({...$,apply:({elements:ce,rects:we,availableWidth:ge,availableHeight:je})=>{const{width:Oe,height:Ne}=we.reference,et=ce.floating.style;et.setProperty("--radix-popper-available-width",`${ge}px`),et.setProperty("--radix-popper-available-height",`${je}px`),et.setProperty("--radix-popper-anchor-width",`${Oe}px`),et.setProperty("--radix-popper-anchor-height",`${Ne}px`)}}),_&&ife({element:_,padding:l}),hfe({arrowWidth:T,arrowHeight:O}),h&&afe({strategy:"referenceHidden",...$})]}),[z,te]=vG(X),G=la(y);Sa(()=>{K&&G?.()},[K,G]);const U=W.arrow?.x,Y=W.arrow?.y,ee=W.arrow?.centerOffset!==0,[ae,Ae]=C.useState();return Sa(()=>{x&&Ae(window.getComputedStyle(x).zIndex)},[x]),s.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:K?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(ufe,{scope:r,placedSide:z,onArrowChange:N,arrowX:U,arrowY:Y,shouldHideArrow:ee,children:s.jsx(kt.div,{"data-side":z,"data-align":te,...g,ref:j,style:{...g.style,animation:K?void 0:"none"}})})})});mG.displayName=QF;var pG="PopperArrow",Afe={top:"bottom",right:"left",bottom:"top",left:"right"},gG=C.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=dfe(pG,n),o=Afe[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(lfe,{...a,ref:r,style:{...a.style,display:"block"}})})});gG.displayName=pG;function ffe(e){return e!==null}var hfe=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=vG(r),A={start:"0%",center:"50%",end:"100%"}[d],h=(a.arrow?.x??0)+l/2,m=(a.arrow?.y??0)+c/2;let y="",g="";return u==="bottom"?(y=o?A:`${h}px`,g=`${-c}px`):u==="top"?(y=o?A:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=o?A:`${m}px`):u==="left"&&(y=`${n.floating.width+c}px`,g=o?A:`${m}px`),{data:{x:y,y:g}}}});function vG(e){const[t,r="center"]=e.split("-");return[t,r]}var bN=AG,eb=hG,jN=mG,_N=gG,[NN]=$i("Tooltip",[Oh]),CN=Oh(),yG="TooltipProvider",mfe=700,sT="tooltip.open",[pfe,HF]=NN(yG),xG=e=>{const{__scopeTooltip:t,delayDuration:r=mfe,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=C.useRef(!0),l=C.useRef(!1),c=C.useRef(0);return C.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(pfe,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:C.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:C.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};xG.displayName=yG;var H0="Tooltip",[gfe,SN]=NN(H0),wG=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=HF(H0,e.__scopeTooltip),u=CN(t),[d,A]=C.useState(null),h=vi(),m=C.useRef(0),y=o??c.disableHoverableContent,g=l??c.delayDuration,v=C.useRef(!1),[x,b]=xu({prop:n,defaultProp:a??!1,onChange:T=>{T?(c.onOpen(),document.dispatchEvent(new CustomEvent(sT))):c.onClose(),i?.(T)},caller:H0}),j=C.useMemo(()=>x?v.current?"delayed-open":"instant-open":"closed",[x]),_=C.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v.current=!1,b(!0)},[b]),N=C.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b(!1)},[b]),B=C.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{v.current=!0,b(!0),m.current=0},g)},[g,b]);return C.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),s.jsx(bN,{...u,children:s.jsx(gfe,{scope:t,contentId:h,open:x,stateAttribute:j,trigger:d,onTriggerChange:A,onTriggerEnter:C.useCallback(()=>{c.isOpenDelayedRef.current?B():_()},[c.isOpenDelayedRef,B,_]),onTriggerLeave:C.useCallback(()=>{y?N():(window.clearTimeout(m.current),m.current=0)},[N,y]),onOpen:_,onClose:N,disableHoverableContent:y,children:r})})};wG.displayName=H0;var aT="TooltipTrigger",bG=C.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=SN(aT,r),i=HF(aT,r),o=CN(r),l=C.useRef(null),c=Qr(t,l,a.onTriggerChange),u=C.useRef(!1),d=C.useRef(!1),A=C.useCallback(()=>u.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",A),[A]),s.jsx(eb,{asChild:!0,...o,children:s.jsx(kt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:yt(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:yt(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:yt(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",A,{once:!0})}),onFocus:yt(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:yt(e.onBlur,a.onClose),onClick:yt(e.onClick,a.onClose)})})});bG.displayName=aT;var vfe="TooltipPortal",[eYe,yfe]=NN(vfe,{forceMount:void 0}),Rv="TooltipContent",jG=C.forwardRef((e,t)=>{const r=yfe(Rv,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=SN(Rv,e.__scopeTooltip);return s.jsx(wi,{present:n||o.open,children:o.disableHoverableContent?s.jsx(_G,{side:a,...i,ref:t}):s.jsx(xfe,{side:a,...i,ref:t})})}),xfe=C.forwardRef((e,t)=>{const r=SN(Rv,e.__scopeTooltip),n=HF(Rv,e.__scopeTooltip),a=C.useRef(null),i=Qr(t,a),[o,l]=C.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:A}=n,h=C.useCallback(()=>{l(null),A(!1)},[A]),m=C.useCallback((y,g)=>{const v=y.currentTarget,x={x:y.clientX,y:y.clientY},b=Nfe(x,v.getBoundingClientRect()),j=Cfe(x,b),_=Sfe(g.getBoundingClientRect()),N=Efe([...j,..._]);l(N),A(!0)},[A]);return C.useEffect(()=>()=>h(),[h]),C.useEffect(()=>{if(c&&d){const y=v=>m(v,d),g=v=>m(v,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[c,d,m,h]),C.useEffect(()=>{if(o){const y=g=>{const v=g.target,x={x:g.clientX,y:g.clientY},b=c?.contains(v)||d?.contains(v),j=!Bfe(x,o);b?h():j&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,h]),s.jsx(_G,{...e,ref:i})}),[wfe,bfe]=NN(H0,{isInside:!1}),jfe=sW("TooltipContent"),_G=C.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=SN(Rv,r),u=CN(r),{onClose:d}=c;return C.useEffect(()=>(document.addEventListener(sT,d),()=>document.removeEventListener(sT,d)),[d]),C.useEffect(()=>{if(c.trigger){const A=h=>{h.target?.contains(c.trigger)&&d()};return window.addEventListener("scroll",A,{capture:!0}),()=>window.removeEventListener("scroll",A,{capture:!0})}},[c.trigger,d]),s.jsx(kp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:A=>A.preventDefault(),onDismiss:d,children:s.jsxs(jN,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(jfe,{children:n}),s.jsx(wfe,{scope:r,isInside:!0,children:s.jsx(Ice,{id:c.contentId,role:"tooltip",children:a||n})})]})})});jG.displayName=Rv;var NG="TooltipArrow",_fe=C.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=CN(r);return bfe(NG,r).isInside?null:s.jsx(_N,{...a,...n,ref:t})});_fe.displayName=NG;function Nfe(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Cfe(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Sfe(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function Bfe(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,A=c.x,h=c.y;d>n!=h>n&&r<(A-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function Efe(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),kfe(t)}function kfe(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Pfe=xG,Tfe=wG,Ofe=bG,CG=jG;const SG=Pfe,_D=Tfe,ND=Ofe,iT=C.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(CG,{ref:n,sideOffset:t,className:st("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));iT.displayName=CG.displayName;var Sy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},op=typeof window>"u"||"Deno"in globalThis;function So(){}function Ife(e,t){return typeof e=="function"?e(t):e}function oT(e){return typeof e=="number"&&e>=0&&e!==1/0}function BG(e,t){return Math.max(e+(t||0)-Date.now(),0)}function lh(e,t){return typeof e=="function"?e(t):e}function vc(e,t){return typeof e=="function"?e(t):e}function CD(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==$F(o,t.options))return!1}else if(!$0(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function SD(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(lp(t.options.mutationKey)!==lp(i))return!1}else if(!$0(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function $F(e,t){return(t?.queryKeyHashFn||lp)(e)}function lp(e){return JSON.stringify(e,(t,r)=>lT(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function $0(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>$0(e[r],t[r])):!1}function EG(e,t){if(e===t)return e;const r=BD(e)&&BD(t);if(r||lT(e)&&lT(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const A=r?d:i[d];(!r&&c.has(A)||r)&&e[A]===void 0&&t[A]===void 0?(l[A]=void 0,u++):(l[A]=EG(e[A],t[A]),l[A]===e[A]&&e[A]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function yj(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function BD(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function lT(e){if(!ED(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!ED(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ED(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ffe(e){return new Promise(t=>{setTimeout(t,e)})}function cT(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?EG(e,t):t}function Rfe(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Lfe(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var VF=Symbol();function kG(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===VF?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function PG(e,t){return typeof e=="function"?e(...t):!!e}var Ufe=class extends Sy{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!op&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},qF=new Ufe,Dfe=class extends Sy{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!op&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},xj=new Dfe;function uT(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function Mfe(e){return Math.min(1e3*2**e,3e4)}function TG(e){return(e??"online")==="online"?xj.isOnline():!0}var OG=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function tB(e){return e instanceof OG}function IG(e){let t=!1,r=0,n=!1,a;const i=uT(),o=g=>{n||(h(new OG(g)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},u=()=>qF.isFocused()&&(e.networkMode==="always"||xj.isOnline())&&e.canRun(),d=()=>TG(e.networkMode)&&e.canRun(),A=g=>{n||(n=!0,e.onSuccess?.(g),a?.(),i.resolve(g))},h=g=>{n||(n=!0,e.onError?.(g),a?.(),i.reject(g))},m=()=>new Promise(g=>{a=v=>{(n||u())&&g(v)},e.onPause?.()}).then(()=>{a=void 0,n||e.onContinue?.()}),y=()=>{if(n)return;let g;const v=r===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(A).catch(x=>{if(n)return;const b=e.retry??(op?0:3),j=e.retryDelay??Mfe,_=typeof j=="function"?j(r,x):j,N=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,x);if(t||!N){h(x);return}r++,e.onFail?.(r,x),Ffe(_).then(()=>u()?void 0:m()).then(()=>{t?h(x):y()})})};return{promise:i,cancel:o,continue:()=>(a?.(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():m().then(y),i)}}var Qfe=e=>setTimeout(e,0);function Hfe(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=Qfe;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var ei=Hfe(),FG=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),oT(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(op?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},$fe=class extends FG{#t;#e;#r;#n;#s;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=Vfe(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=cT(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(So).catch(So):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>vc(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===VF||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>lh(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!BG(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},a=()=>{const c=kG(this.options,t),d=(()=>{const A={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(A),A})();return this.#o=!1,this.options.persister?this.options.persister(c,d,this):c(d)},o=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:a};return n(c),c})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta});const l=c=>{tB(c)&&c.silent||this.#a({type:"error",error:c}),tB(c)||(this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#s=IG({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(u){l(u);return}this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,u)=>{this.#a({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#s.start()}#a(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...RG(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return tB(n)&&n.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),ei.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function RG(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:TG(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Vfe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var qfe=class extends Sy{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const n=t.queryKey,a=t.queryHash??$F(n,t);let i=this.get(a);return i||(i=new $fe({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ei.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>CD(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>CD(e,r)):t}notify(e){ei.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ei.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ei.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Kfe=class extends FG{#t;#e;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||LG(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=IG({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,i)=>{this.#n({type:"failed",failureCount:a,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#e.config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&this.#n({type:"pending",context:i,variables:e,isPaused:n})}const a=await this.#r.start();return await this.#e.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#e.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#n({type:"success",data:a}),a}catch(a){try{throw await this.#e.config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await this.#e.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{this.#n({type:"error",error:a})}}finally{this.#e.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ei.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function LG(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zfe=class extends Sy{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const n=new Kfe({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);const t=_1(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=_1(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=_1(e);if(typeof t=="string"){const n=this.#e.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=_1(e);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ei.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>SD(t,r))}findAll(e={}){return this.getAll().filter(t=>SD(e,t))}notify(e){ei.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ei.batch(()=>Promise.all(e.map(t=>t.continue().catch(So))))}};function _1(e){return e.options.scope?.id}function kD(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const A=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},h=kG(t.options,t.fetchOptions),m=async(y,g,v)=>{if(d)return Promise.reject();if(g==null&&y.pages.length)return Promise.resolve(y);const b=(()=>{const B={client:t.client,queryKey:t.queryKey,pageParam:g,direction:v?"backward":"forward",meta:t.options.meta};return A(B),B})(),j=await h(b),{maxPages:_}=t.options,N=v?Lfe:Rfe;return{pages:N(y.pages,j,_),pageParams:N(y.pageParams,g,_)}};if(a&&i.length){const y=a==="backward",g=y?Wfe:PD,v={pages:i,pageParams:o},x=g(n,v);l=await m(v,x,y)}else{const y=e??i.length;do{const g=c===0?o[0]??n.initialPageParam:PD(n,l);if(c>0&&g==null)break;l=await m(l,g),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function PD(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Wfe(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var Gfe=class{#t;#e;#r;#n;#s;#i;#o;#a;constructor(e={}){this.#t=e.queryCache||new qfe,this.#e=e.mutationCache||new zfe,this.#r=e.defaultOptions||{},this.#n=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=qF.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=xj.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(lh(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#t.get(n.queryHash)?.state.data,o=Ife(t,i);if(o!==void 0)return this.#t.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ei.batch(()=>this.#t.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;ei.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return ei.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ei.batch(()=>this.#t.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(So).catch(So)}invalidateQueries(e,t={}){return ei.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ei.batch(()=>this.#t.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(So)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(So)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(lh(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(So).catch(So)}fetchInfiniteQuery(e){return e.behavior=kD(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(So).catch(So)}ensureInfiniteQueryData(e){return e.behavior=kD(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return xj.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(lp(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{$0(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#s.set(lp(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],r={};return t.forEach(n=>{$0(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=$F(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===VF&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},Yfe=class extends Sy{constructor(e,t){super(),this.options=t,this.#t=e,this.#a=null,this.#o=uT(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#n=void 0;#s;#i;#o;#a;#m;#A;#f;#c;#u;#l;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),TD(this.#e,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dT(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dT(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof vc(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#e.setOptions(this.options),t._defaulted&&!yj(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&OD(this.#e,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#e!==r||vc(this.options.enabled,this.#e)!==vc(t.enabled,this.#e)||lh(this.options.staleTime,this.#e)!==lh(t.staleTime,this.#e))&&this.#p();const a=this.#g();n&&(this.#e!==r||vc(this.options.enabled,this.#e)!==vc(t.enabled,this.#e)||a!==this.#l)&&this.#v(a)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return Jfe(this,r)&&(this.#n=r,this.#i=this.options,this.#s=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),Reflect.get(r,n))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#b();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(So)),t}#p(){this.#x();const e=lh(this.options.staleTime,this.#e);if(op||this.#n.isStale||!oT(e))return;const r=BG(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(op||vc(this.options.enabled,this.#e)===!1||!oT(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||qF.isFocused())&&this.#d()},this.#l))}#y(){this.#p(),this.#v(this.#g())}#x(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#e,n=this.options,a=this.#n,i=this.#s,o=this.#i,c=e!==r?e.state:this.#r,{state:u}=e;let d={...u},A=!1,h;if(t._optimisticResults){const O=this.hasListeners(),P=!O&&TD(e,t),M=O&&OD(e,r,t,n);(P||M)&&(d={...d,...RG(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:g}=d;h=d.data;let v=!1;if(t.placeholderData!==void 0&&h===void 0&&g==="pending"){let O;a?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(O=a.data,v=!0):O=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,O!==void 0&&(g="success",h=cT(a?.data,O,t),A=!0)}if(t.select&&h!==void 0&&!v)if(a&&h===i?.data&&t.select===this.#m)h=this.#A;else try{this.#m=t.select,h=t.select(h),h=cT(a?.data,h,t),this.#A=h,this.#a=null}catch(O){this.#a=O}this.#a&&(m=this.#a,h=this.#A,y=Date.now(),g="error");const x=d.fetchStatus==="fetching",b=g==="pending",j=g==="error",_=b&&x,N=h!==void 0,T={status:g,fetchStatus:d.fetchStatus,isPending:b,isSuccess:g==="success",isError:j,isInitialLoading:_,isLoading:_,data:h,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:j&&!N,isPaused:d.fetchStatus==="paused",isPlaceholderData:A,isRefetchError:j&&N,isStale:KF(e,t),refetch:this.refetch,promise:this.#o,isEnabled:vc(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const O=I=>{T.status==="error"?I.reject(T.error):T.data!==void 0&&I.resolve(T.data)},P=()=>{const I=this.#o=T.promise=uT();O(I)},M=this.#o;switch(M.status){case"pending":e.queryHash===r.queryHash&&O(M);break;case"fulfilled":(T.status==="error"||T.data!==M.value)&&P();break;case"rejected":(T.status!=="error"||T.error!==M.reason)&&P();break}}return T}updateResult(){const e=this.#n,t=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#i=this.options,this.#s.data!==void 0&&(this.#f=this.#e),yj(t,e))return;this.#n=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#h.size)return!0;const i=new Set(a??this.#h);return this.options.throwOnError&&i.add("error"),Object.keys(this.#n).some(o=>{const l=o;return this.#n[l]!==e[l]&&i.has(l)})};this.#j({listeners:r()})}#b(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#j(e){ei.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Xfe(e,t){return vc(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function TD(e,t){return Xfe(e,t)||e.state.data!==void 0&&dT(e,t,t.refetchOnMount)}function dT(e,t,r){if(vc(t.enabled,e)!==!1&&lh(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&KF(e,t)}return!1}function OD(e,t,r,n){return(e!==t||vc(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&KF(e,r)}function KF(e,t){return vc(t.enabled,e)!==!1&&e.isStaleByTime(lh(t.staleTime,e))}function Jfe(e,t){return!yj(e.getCurrentResult(),t)}var Zfe=class extends Sy{#t;#e=void 0;#r;#n;constructor(t,r){super(),this.#t=t,this.setOptions(r),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#t.defaultMutationOptions(t),yj(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&lp(r.mutationKey)!==lp(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#s(),this.#i(t)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#s(),this.#i()}mutate(t,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(t)}#s(){const t=this.#r?.state??LG();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){ei.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#e.variables,n=this.#e.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,r,n),this.#n.onSettled?.(t.data,null,r,n)):t?.type==="error"&&(this.#n.onError?.(t.error,r,n),this.#n.onSettled?.(void 0,t.error,r,n))}this.listeners.forEach(r=>{r(this.#e)})})}},UG=C.createContext(void 0),In=e=>{const t=C.useContext(UG);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ehe=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(UG.Provider,{value:e,children:t})),DG=C.createContext(!1),the=()=>C.useContext(DG);DG.Provider;function rhe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var nhe=C.createContext(rhe()),she=()=>C.useContext(nhe),ahe=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},ihe=e=>{C.useEffect(()=>{e.clearReset()},[e])},ohe=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||PG(r,[e.error,n])),lhe=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},che=(e,t)=>e.isLoading&&e.isFetching&&!t,uhe=(e,t)=>e?.suspense&&t.isPending,ID=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function dhe(e,t,r){const n=the(),a=she(),i=In(),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",lhe(o),ahe(o,a),ihe(a);const l=!i.getQueryCache().get(o.queryHash),[c]=C.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(A=>{const h=d?c.subscribe(ei.batchCalls(A)):So;return c.updateResult(),h},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),C.useEffect(()=>{c.setOptions(o)},[o,c]),uhe(o,u))throw ID(o,c,a);if(ohe({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!op&&che(u,n)&&(l?ID(o,c,a):i.getQueryCache().get(o.queryHash)?.promise)?.catch(So).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function Ir(e,t){return dhe(e,Yfe)}function er(e,t){const r=In(),[n]=C.useState(()=>new Zfe(r,e));C.useEffect(()=>{n.setOptions(e)},[n,e]);const a=C.useSyncExternalStore(C.useCallback(o=>n.subscribe(ei.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=C.useCallback((o,l)=>{n.mutate(o,l).catch(So)},[n]);if(a.error&&PG(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V0.apply(this,arguments)}var eh;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(eh||(eh={}));const FD="popstate";function Ahe(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return AT("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:wj(a)}return hhe(t,r,null,e)}function Na(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zF(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fhe(){return Math.random().toString(36).substr(2,8)}function RD(e,t){return{usr:e.state,key:e.key,idx:t}}function AT(e,t,r,n){return r===void 0&&(r=null),V0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?By(t):t,{state:r,key:t&&t.key||n||fhe()})}function wj(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function By(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function hhe(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=eh.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(V0({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function A(){l=eh.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:x})}function h(v,x){l=eh.Push;let b=AT(g.location,v,x);u=d()+1;let j=RD(b,u),_=g.createHref(b);try{o.pushState(j,"",_)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(_)}i&&c&&c({action:l,location:g.location,delta:1})}function m(v,x){l=eh.Replace;let b=AT(g.location,v,x);u=d();let j=RD(b,u),_=g.createHref(b);o.replaceState(j,"",_),i&&c&&c({action:l,location:g.location,delta:0})}function y(v){let x=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:wj(v);return b=b.replace(/ $/,"%20"),Na(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let g={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(FD,A),c=v,()=>{a.removeEventListener(FD,A),c=null}},createHref(v){return t(a,v)},createURL:y,encodeLocation(v){let x=y(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(v){return o.go(v)}};return g}var LD;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(LD||(LD={}));function mhe(e,t,r){return r===void 0&&(r="/"),phe(e,t,r)}function phe(e,t,r,n){let a=typeof t=="string"?By(t):t,i=WF(a.pathname||"/",r);if(i==null)return null;let o=MG(e);ghe(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Ehe(i);l=Che(o[c],u)}return l}function MG(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Na(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ch([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Na(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),MG(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:_he(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of QG(i.path))a(i,o,c)}),t}function QG(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=QG(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function ghe(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Nhe(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const vhe=/^:[\w-]+$/,yhe=3,xhe=2,whe=1,bhe=10,jhe=-2,UD=e=>e==="*";function _he(e,t){let r=e.split("/"),n=r.length;return r.some(UD)&&(n+=jhe),t&&(n+=xhe),r.filter(a=>!UD(a)).reduce((a,i)=>a+(vhe.test(i)?yhe:i===""?whe:bhe),n)}function Nhe(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Che(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",A=She({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!A)return null;Object.assign(a,A.params),o.push({params:a,pathname:ch([i,A.pathname]),pathnameBase:Ihe(ch([i,A.pathnameBase])),route:h}),A.pathnameBase!=="/"&&(i=ch([i,A.pathnameBase]))}return o}function She(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Bhe(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,A)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=l[A]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[A];return m&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Bhe(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),zF(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Ehe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zF(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function WF(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const khe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Phe=e=>khe.test(e);function The(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?By(e):e,i;if(r)if(Phe(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),zF(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=DD(r.substring(1),"/"):i=DD(r,t)}else i=t;return{pathname:i,search:Fhe(n),hash:Rhe(a)}}function DD(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function rB(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ohe(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function GF(e,t){let r=Ohe(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function YF(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=By(e):(a=V0({},e),Na(!a.pathname||!a.pathname.includes("?"),rB("?","pathname","search",a)),Na(!a.pathname||!a.pathname.includes("#"),rB("#","pathname","hash",a)),Na(!a.search||!a.search.includes("#"),rB("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let A=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),A-=1;a.pathname=h.join("/")}l=A>=0?t[A]:"/"}let c=The(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ch=e=>e.join("/").replace(/\/\/+/g,"/"),Ihe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Fhe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Rhe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Lhe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const HG=["post","put","patch","delete"];new Set(HG);const Uhe=["get",...HG];new Set(Uhe);function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q0.apply(this,arguments)}const XF=C.createContext(null),Dhe=C.createContext(null),Ih=C.createContext(null),BN=C.createContext(null),zA=C.createContext({outlet:null,matches:[],isDataRoute:!1}),$G=C.createContext(null);function Mhe(e,t){let{relative:r}=t===void 0?{}:t;Ey()||Na(!1);let{basename:n,navigator:a}=C.useContext(Ih),{hash:i,pathname:o,search:l}=KG(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ch([n,o])),a.createHref({pathname:c,search:l,hash:i})}function Ey(){return C.useContext(BN)!=null}function Vi(){return Ey()||Na(!1),C.useContext(BN).location}function VG(e){C.useContext(Ih).static||C.useLayoutEffect(e)}function bi(){let{isDataRoute:e}=C.useContext(zA);return e?Zhe():Qhe()}function Qhe(){Ey()||Na(!1);let e=C.useContext(XF),{basename:t,future:r,navigator:n}=C.useContext(Ih),{matches:a}=C.useContext(zA),{pathname:i}=Vi(),o=JSON.stringify(GF(a,r.v7_relativeSplatPath)),l=C.useRef(!1);return VG(()=>{l.current=!0}),C.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let A=YF(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:ch([t,A.pathname])),(d.replace?n.replace:n.push)(A,d.state,d)},[t,n,o,i,e])}function qG(){let{matches:e}=C.useContext(zA),t=e[e.length-1];return t?t.params:{}}function KG(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=C.useContext(Ih),{matches:a}=C.useContext(zA),{pathname:i}=Vi(),o=JSON.stringify(GF(a,n.v7_relativeSplatPath));return C.useMemo(()=>YF(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Hhe(e,t){return $he(e,t)}function $he(e,t,r,n){Ey()||Na(!1);let{navigator:a}=C.useContext(Ih),{matches:i}=C.useContext(zA),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Vi(),d;if(t){var A;let v=typeof t=="string"?By(t):t;c==="/"||(A=v.pathname)!=null&&A.startsWith(c)||Na(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=mhe(e,{pathname:m}),g=Whe(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:ch([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:ch([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&g?C.createElement(BN.Provider,{value:{location:q0({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:eh.Pop}},g):g}function Vhe(){let e=Jhe(),t=Lhe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:a},r):null,null)}const qhe=C.createElement(Vhe,null);class Khe extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?C.createElement(zA.Provider,{value:this.props.routeContext},C.createElement($G.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zhe(e){let{routeContext:t,match:r,children:n}=e,a=C.useContext(XF);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(zA.Provider,{value:t},n)}function Whe(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(A=>A.route.id&&l?.[A.route.id]!==void 0);d>=0||Na(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let A=o[d];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(u=d),A.route.id){let{loaderData:h,errors:m}=r,y=A.route.loader&&h[A.route.id]===void 0&&(!m||m[A.route.id]===void 0);if(A.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,A,h)=>{let m,y=!1,g=null,v=null;r&&(m=l&&A.route.id?l[A.route.id]:void 0,g=A.route.errorElement||qhe,c&&(u<0&&h===0?(eme("route-fallback"),y=!0,v=null):u===h&&(y=!0,v=A.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),b=()=>{let j;return m?j=g:y?j=v:A.route.Component?j=C.createElement(A.route.Component,null):A.route.element?j=A.route.element:j=d,C.createElement(zhe,{match:A,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:j})};return r&&(A.route.ErrorBoundary||A.route.errorElement||h===0)?C.createElement(Khe,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var zG=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(zG||{}),WG=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(WG||{});function Ghe(e){let t=C.useContext(XF);return t||Na(!1),t}function Yhe(e){let t=C.useContext(Dhe);return t||Na(!1),t}function Xhe(e){let t=C.useContext(zA);return t||Na(!1),t}function GG(e){let t=Xhe(),r=t.matches[t.matches.length-1];return r.route.id||Na(!1),r.route.id}function Jhe(){var e;let t=C.useContext($G),r=Yhe(),n=GG();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Zhe(){let{router:e}=Ghe(zG.UseNavigateStable),t=GG(WG.UseNavigateStable),r=C.useRef(!1);return VG(()=>{r.current=!0}),C.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,q0({fromRouteId:t},i)))},[e,t])}const MD={};function eme(e,t,r){MD[e]||(MD[e]=!0)}function tme(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Co(e){let{to:t,replace:r,state:n,relative:a}=e;Ey()||Na(!1);let{future:i,static:o}=C.useContext(Ih),{matches:l}=C.useContext(zA),{pathname:c}=Vi(),u=bi(),d=YF(t,GF(l,i.v7_relativeSplatPath),c,a==="path"),A=JSON.stringify(d);return C.useEffect(()=>u(JSON.parse(A),{replace:r,state:n,relative:a}),[u,A,a,r,n]),null}function Bt(e){Na(!1)}function rme(e){let{basename:t="/",children:r=null,location:n,navigationType:a=eh.Pop,navigator:i,static:o=!1,future:l}=e;Ey()&&Na(!1);let c=t.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:c,navigator:i,static:o,future:q0({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=By(n));let{pathname:d="/",search:A="",hash:h="",state:m=null,key:y="default"}=n,g=C.useMemo(()=>{let v=WF(d,c);return v==null?null:{location:{pathname:v,search:A,hash:h,state:m,key:y},navigationType:a}},[c,d,A,h,m,y,a]);return g==null?null:C.createElement(Ih.Provider,{value:u},C.createElement(BN.Provider,{children:r,value:g}))}function nme(e){let{children:t,location:r}=e;return Hhe(fT(t),r)}new Promise(()=>{});function fT(e,t){t===void 0&&(t=[]);let r=[];return C.Children.forEach(e,(n,a)=>{if(!C.isValidElement(n))return;let i=[...t,a];if(n.type===C.Fragment){r.push.apply(r,fT(n.props.children,i));return}n.type!==Bt&&Na(!1),!n.props.index||!n.props.children||Na(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=fT(n.props.children,i)),r.push(o)}),r}function hT(){return hT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hT.apply(this,arguments)}function sme(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function ame(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ime(e,t){return e.button===0&&(!t||t==="_self")&&!ame(e)}const ome=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lme="6";try{window.__reactRouterVersion=lme}catch{}const cme="startTransition",QD=vF[cme];function ume(e){let{basename:t,children:r,future:n,window:a}=e,i=C.useRef();i.current==null&&(i.current=Ahe({window:a,v5Compat:!0}));let o=i.current,[l,c]=C.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=C.useCallback(A=>{u&&QD?QD(()=>c(A)):c(A)},[c,u]);return C.useLayoutEffect(()=>o.listen(d),[o,d]),C.useEffect(()=>tme(n),[n]),C.createElement(rme,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const dme=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ame=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uh=C.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:A}=t,h=sme(t,ome),{basename:m}=C.useContext(Ih),y,g=!1;if(typeof u=="string"&&Ame.test(u)&&(y=u,dme))try{let j=new URL(window.location.href),_=u.startsWith("//")?new URL(j.protocol+u):new URL(u),N=WF(_.pathname,m);_.origin===j.origin&&N!=null?u=N+_.search+_.hash:g=!0}catch{}let v=Mhe(u,{relative:a}),x=fme(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:A});function b(j){n&&n(j),j.defaultPrevented||x(j)}return C.createElement("a",hT({},h,{href:y||v,onClick:g||i?n:b,ref:r,target:c}))});var HD;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(HD||(HD={}));var $D;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($D||($D={}));function fme(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=bi(),u=Vi(),d=KG(e,{relative:o});return C.useCallback(A=>{if(ime(A,r)){A.preventDefault();let h=n!==void 0?n:wj(u)===wj(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}var id=function(){return id=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},id.apply(this,arguments)};function ky(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function hme(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(A){o(A)}}function c(d){try{u(n.throw(d))}catch(A){o(A)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function mme(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const pme=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class JF extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class gme extends JF{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class VD extends JF{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class qD extends JF{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var mT;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(mT||(mT={}));class vme{constructor(t,{headers:r={},customFetch:n,region:a=mT.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=pme(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return hme(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:A}=n;let h={},{region:m}=n;m||(m=this.region);const y=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?g=JSON.stringify(u):g=u;let v=d;A&&(o=new AbortController,i=setTimeout(()=>o.abort(),A),d?(v=o.signal,d.addEventListener("abort",()=>o.abort())):v=o.signal);const x=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:g,signal:v}).catch(N=>{throw new gme(N)}),b=x.headers.get("x-relay-error");if(b&&b==="true")throw new VD(x);if(!x.ok)throw new qD(x);let j=((a=x.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return j==="application/json"?_=yield x.json():j==="application/octet-stream"||j==="application/pdf"?_=yield x.blob():j==="text/event-stream"?_=x:j==="multipart/form-data"?_=yield x.formData():_=yield x.text(),{data:_,error:null,response:x}}catch(l){return{data:null,error:l,response:l instanceof qD||l instanceof VD?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var yme=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},xme=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var A,h;if(r.method!=="HEAD"){var m;const x=await i.text();x===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=x:l=JSON.parse(x))}const g=(A=r.headers.get("Prefer"))===null||A===void 0?void 0:A.match(/count=(exact|planned|estimated)/),v=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&v&&v.length>1&&(c=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var y;const g=await i.text();try{o=JSON.parse(g),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&g===""?(u=204,d="No Content"):o={message:g}}if(o&&r.isMaybeSingle&&(!(o==null||(y=o.details)===null||y===void 0)&&y.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new yme(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let l="",c="",u="";const d=i?.cause;if(d){var A,h,m,y;const x=(A=d?.message)!==null&&A!==void 0?A:"",b=(h=d?.code)!==null&&h!==void 0?h:"";l=`${(m=i?.name)!==null&&m!==void 0?m:"FetchError"}: ${i?.message}`,l+=`

Caused by: ${(y=d?.name)!==null&&y!==void 0?y:"Error"}: ${x}`,b&&(l+=` (${b})`),d?.stack&&(l+=`
${d.stack}`)}else{var g;l=(g=i?.stack)!==null&&g!==void 0?g:""}const v=this.url.toString().length;return i?.name==="AbortError"||i?.code==="ABORT_ERR"?(u="",c="Request was aborted (timeout or manual cancellation)",v>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${v} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(d?.name==="HeadersOverflowError"||d?.code==="UND_ERR_HEADERS_OVERFLOW")&&(u="",c="HTTP headers exceeded server limits (typically 16KB)",v>this.urlLengthLimit&&(c+=`. Your request URL is ${v} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=i?.name)!==null&&o!==void 0?o:"FetchError"}: ${i?.message}`,details:l,hint:c,code:u},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},wme=class extends xme{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const KD=new RegExp("[,()]");var zg=class extends wme{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&KD.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&KD.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},bme=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:a=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new zg({method:a,url:l,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new zg({method:a,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),a||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,A)=>d.concat(Object.keys(A)),[]);if(u.length>0){const d=[...new Set(u)].map(A=>`"${A}"`);l.searchParams.set("columns",d.join(","))}}return new zg({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new zg({method:n,url:a,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new zg({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function K0(e){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K0(e)}function jme(e,t){if(K0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(K0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _me(e){var t=jme(e,"string");return K0(t)=="symbol"?t:t+""}function Nme(e,t,r){return(t=_me(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zD(Object(r),!0).forEach(function(n){Nme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Cme=class YG{constructor(t,{headers:r={},schema:n,fetch:a,timeout:i,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=o;const l=a??globalThis.fetch;i!==void 0&&i>0?this.fetch=(c,u)=>{const d=new AbortController,A=setTimeout(()=>d.abort(),i),h=u?.signal;if(h){if(h.aborted)return clearTimeout(A),l(c,u);const m=()=>{clearTimeout(A),d.abort()};return h.addEventListener("abort",m,{once:!0}),l(c,N1(N1({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(A),h.removeEventListener("abort",m)})}return l(c,N1(N1({},u),{},{signal:d.signal})).finally(()=>clearTimeout(A))}:this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new bme(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new YG(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),A=n&&Object.values(r).some(d);A?(l="POST",u=r):n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{c.searchParams.append(m,y)})):(l="POST",u=r);const h=new Headers(this.headers);return A?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new zg({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class Sme{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Bme="2.95.3",Eme=`realtime-js/${Bme}`,kme="1.0.0",XG="2.0.0",WD=XG,pT=1e4,Pme=1e3,Tme=100;var Wf;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wf||(Wf={}));var Xa;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Xa||(Xa={}));var lu;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(lu||(lu={}));var gT;(function(e){e.websocket="websocket"})(gT||(gT={}));var Im;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Im||(Im={}));class Ome{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},A=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(A.length>255)throw new Error(`metadata length ${A.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+A.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(m),g=0;y.setUint8(g++,this.KINDS.userBroadcastPush),y.setUint8(g++,c.length),y.setUint8(g++,l.length),y.setUint8(g++,o.length),y.setUint8(g++,u.length),y.setUint8(g++,A.length),y.setUint8(g++,r),Array.from(c,x=>y.setUint8(g++,x.charCodeAt(0))),Array.from(l,x=>y.setUint8(g++,x.charCodeAt(0))),Array.from(o,x=>y.setUint8(g++,x.charCodeAt(0))),Array.from(u,x=>y.setUint8(g++,x.charCodeAt(0))),Array.from(A,x=>y.setUint8(g++,x.charCodeAt(0)));var v=new Uint8Array(m.byteLength+n.byteLength);return v.set(new Uint8Array(m),0),v.set(new Uint8Array(n),m.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,l,c]=n;return r({join_ref:a,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,r,a)}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const A=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(y.meta=JSON.parse(A)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class JG{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var hs;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(hs||(hs={}));const GD=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Ime(o,e,t,a),i),{}):{}},Ime=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a?.type,o=r[e];return i&&!n.includes(i)?ZG(i,o):vT(o)},ZG=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Ume(t,r)}switch(e){case hs.bool:return Fme(t);case hs.float4:case hs.float8:case hs.int2:case hs.int4:case hs.int8:case hs.numeric:case hs.oid:return Rme(t);case hs.json:case hs.jsonb:return Lme(t);case hs.timestamp:return Dme(t);case hs.abstime:case hs.date:case hs.daterange:case hs.int4range:case hs.int8range:case hs.money:case hs.reltime:case hs.text:case hs.time:case hs.timestamptz:case hs.timetz:case hs.tsrange:case hs.tstzrange:return vT(t);default:return vT(t)}},vT=e=>e,Fme=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Rme=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Lme=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Ume=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>ZG(t,l))}return e},Dme=e=>typeof e=="string"?e.replace(" ","T"):e,eY=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class nB{constructor(t,r,n={},a=pT){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var YD;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(YD||(YD={}));class m0{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=m0.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=m0.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=m0.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const A=i[u];if(A){const h=d.map(v=>v.presence_ref),m=A.map(v=>v.presence_ref),y=d.filter(v=>m.indexOf(v.presence_ref)<0),g=A.filter(v=>h.indexOf(v.presence_ref)<0);y.length>0&&(l[u]=y),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const A=t[l].map(m=>m.presence_ref),h=d.filter(m=>A.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(A=>A.presence_ref);u=u.filter(A=>d.indexOf(A.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var XD;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(XD||(XD={}));var p0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(p0||(p0={}));var jA;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(jA||(jA={}));class sv{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Xa.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new nB(this,lu.join,this.params,this.timeout),this.rejoinTimer=new JG(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xa.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xa.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Xa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Xa.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lu.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new m0(this),this.broadcastEndpointURL=eY(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Xa.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[p0.PRESENCE]&&this.bindings[p0.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,A={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(A.access_token=this.socket.accessTokenValue),this._onError(m=>t?.(jA.CHANNEL_ERROR,m)),this._onClose(()=>t?.(jA.CLOSED)),this.updateJoinPayload(Object.assign({config:h},A)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t?.(jA.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(y=g?.length)!==null&&y!==void 0?y:0,x=[];for(let b=0;b<v;b++){const j=g[b],{filter:{event:_,schema:N,table:B,filter:T}}=j,O=m&&m[b];if(O&&O.event===_&&sv.isFilterValueEqual(O.schema,N)&&sv.isFilterValueEqual(O.table,B)&&sv.isFilterValueEqual(O.filter,T))x.push(Object.assign(Object.assign({},j),{id:O.id}));else{this.unsubscribe(),this.state=Xa.errored,t?.(jA.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(jA.SUBSCRIBED);return}}).receive("error",m=>{this.state=Xa.errored,t?.(jA.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t?.(jA.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Xa.joined&&t===p0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Xa.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lu.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new nB(this,lu.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Xa.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new nB(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Tme){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=lu;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var y,g,v;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(g=m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var y,g,v,x,b,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,N=(y=m.filter)===null||y===void 0?void 0:y.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(N==="*"||N?.toLocaleLowerCase()===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(b=(x=m?.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((j=r?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:g,table:v,commit_timestamp:x,type:b,errors:j}=y;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:x,eventType:b,new:{},old:{},errors:j}),this._getPayloadRecords(y))}m.callback(h,n)})}_isClosed(){return this.state===Xa.closed}_isJoined(){return this.state===Xa.joined}_isJoining(){return this.state===Xa.joining}_isLeaving(){return this.state===Xa.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&sv.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(lu.close,{},t)}_onError(t){this._on(lu.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xa.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=GD(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=GD(t.columns,t.old_record)),r}}const sB=()=>{},C1={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Mme=[1e3,2e3,5e3,1e4],Qme=1e4,Hme=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $me{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pT,this.transport=null,this.heartbeatIntervalMs=C1.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=sB,this.ref=0,this.reconnectTimer=null,this.vsn=WD,this.logger=sB,this.conn=null,this.sendBuffer=[],this.serializer=new Ome,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${gT.websocket}`,this.httpEndpoint=eY(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Sme.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Wf.connecting:return Im.Connecting;case Wf.open:return Im.Open;case Wf.closing:return Im.Closing;default:return Im.Closed}}isConnected(){return this.connectionState()===Im.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new sv(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Pme,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},C1.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Wf.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Wf.open||this.conn.readyState===Wf.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(lu.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Hme],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:Eme};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(lu.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new JG(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},C1.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d,A,h,m;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:pT,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:C1.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:sB,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:WD,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t?.reconnectAfterMs)!==null&&u!==void 0?u:(y=>Mme[y-1]||Qme),this.vsn){case kme:this.encode=(d=t?.encode)!==null&&d!==void 0?d:((y,g)=>g(JSON.stringify(y))),this.decode=(A=t?.decode)!==null&&A!==void 0?A:((y,g)=>g(JSON.parse(y)));break;case XG:this.encode=(h=t?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var z0=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Vme(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function qme(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Kme(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const l=Vme(e.baseUrl,n,a),c=await qme(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),A=(u.headers.get("content-type")||"").includes("application/json"),h=A&&d?JSON.parse(d):d;if(!u.ok){const m=A?h:void 0,y=m?.error;throw new z0(y?.message??`Request failed with status ${u.status}`,{status:u.status,icebergType:y?.type,icebergCode:y?.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function S1(e){return e.join("")}var zme=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:S1(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${S1(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${S1(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${S1(e.namespace)}`}),!0}catch(t){if(t instanceof z0&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof z0&&r.status===409)return;throw r}}};function bg(e){return e.join("")}var Wme=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bg(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bg(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bg(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bg(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bg(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bg(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof z0&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof z0&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Gme=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Kme({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new zme(this.client,t),this.tableOps=new Wme(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},EN=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function kN(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var B1=class extends EN{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},tY=class extends EN{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Yme=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Xme=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yT=e=>{if(Array.isArray(e))return e.map(r=>yT(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=yT(n)}),t},Jme=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function W0(e){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W0(e)}function Zme(e,t){if(W0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(W0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function epe(e){var t=Zme(e,"string");return W0(t)=="symbol"?t:t+""}function tpe(e,t,r){return(t=epe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JD(Object(r),!0).forEach(function(n){tpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const ZD=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},rpe=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const a=e,i=a.status||500;if(typeof a.json=="function")a.json().then(o=>{const l=o?.statusCode||o?.code||i+"";t(new B1(ZD(o),i,l,n))}).catch(()=>{if(n==="vectors"){const o=i+"";t(new B1(a.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";t(new B1(a.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";t(new B1(a.statusText||`HTTP ${i} error`,i,o,n))}}else t(new tY(ZD(e),e,n))},npe=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!n?Br(Br({},a),r):(Xme(n)?(a.headers=Br({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Br(Br({},a),r))};async function Bx(e,t,r,n,a,i,o){return new Promise((l,c)=>{e(r,npe(t,n,a,i)).then(u=>{if(!u.ok)throw u;if(n?.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>rpe(u,c,n,o))})}function rY(e="storage"){return{get:async(t,r,n,a)=>Bx(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,i)=>Bx(t,"POST",r,a,i,n,e),put:async(t,r,n,a,i)=>Bx(t,"PUT",r,a,i,n,e),head:async(t,r,n,a)=>Bx(t,"HEAD",r,Br(Br({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,i)=>Bx(t,"DELETE",r,a,i,n,e)}}const spe=rY("storage"),{get:G0,post:ou,put:xT,head:ape,remove:ZF}=spe,Ml=rY("vectors");var Py=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Yme(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(kN(r))return{data:null,error:r};throw r}}},ipe=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kN(t))return{data:null,error:t};throw t}}};let nY;nY=Symbol.toStringTag;var ope=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[nY]="BlobDownloadBuilder",this.promise=null}asStream(){return new ipe(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kN(t))return{data:null,error:t};throw t}}};const lpe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eM={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var cpe=class extends Py{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let i;const o=Br(Br({},eM),n);let l=Br(Br({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n?.headers&&(l=Br(Br({},l),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),A=await(e=="PUT"?xT:ou)(a.fetch,`${a.url}/object/${d}`,i,Br({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{path:u,id:A.Id,fullPath:A.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),o=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),a.handleOperation(async()=>{let c;const u=Br({upsert:eM.upsert},n),d=Br(Br({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await xT(a.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=Br({},r.headers);t?.upsert&&(a["x-upsert"]="true");const i=await ou(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new EN("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await ou(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await ou(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),i=await ou(n.fetch,`${n.url}/object/sign/${a}`,Br({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await ou(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(o=>Br(Br({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(e,t,r){const n=typeof t?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(t?.transform||{}),i=a?`?${a}`:"",o=this._getFinalPath(e),l=()=>G0(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0},r);return new ope(l,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>yT(await G0(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await ape(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(kN(n)&&n instanceof tY){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t?.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof t?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(t?.transform||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await ZF(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=Br(Br(Br({},lpe),t),{},{prefix:e||""});return await ou(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Br({},e);return await ou(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const upe="2.95.3",tb={"X-Client-Info":`storage-js/${upe}`};var dpe=class extends Py{constructor(e,t={},r,n){const a=new URL(e);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const i=a.href.replace(/\/$/,""),o=Br(Br({},tb),t);super(i,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await G0(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await G0(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await ou(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await xT(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ou(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ZF(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Ape=class extends Py{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Br(Br({},tb),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ou(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await G0(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ZF(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Jme(e))throw new EN("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Gme({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},fpe=class extends Py{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Br(Br({},tb),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Ml.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Ml.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Ml.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Ml.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},hpe=class extends Py{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Br(Br({},tb),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ml.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Ml.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Ml.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Ml.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ml.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},mpe=class extends Py{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Br(Br({},tb),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ml.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ml.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Ml.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ml.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},ppe=class extends mpe{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new gpe(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},gpe=class extends fpe{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Br(Br({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Br(Br({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new vpe(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},vpe=class extends hpe{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Br(Br({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Br(Br({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Br(Br({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Br(Br({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Br(Br({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},ype=class extends dpe{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new cpe(this.url,this.headers,e,this.fetch)}get vectors(){return new ppe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ape(this.url+"/iceberg",this.headers,this.fetch)}};const sY="2.95.3",Wg=30*1e3,wT=3,aB=wT*Wg,xpe="http://localhost:9999",wpe="supabase.auth.token",bpe={"X-Client-Info":`gotrue-js/${sY}`},bT="X-Supabase-Api-Version",aY={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jpe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_pe=600*1e3;class Y0 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Zt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Npe extends Y0{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Cpe(e){return Zt(e)&&e.name==="AuthApiError"}class Fm extends Y0{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class WA extends Y0{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Ol extends WA{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iB(e){return Zt(e)&&e.name==="AuthSessionMissingError"}class jg extends WA{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class E1 extends WA{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class k1 extends WA{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Spe(e){return Zt(e)&&e.name==="AuthImplicitGrantRedirectError"}class tM extends WA{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bpe extends WA{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class jT extends WA{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function oB(e){return Zt(e)&&e.name==="AuthRetryableFetchError"}class rM extends WA{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class _T extends WA{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const bj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),nM=` 	
\r=`.split(""),Epe=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<nM.length;t+=1)e[nM[t].charCodeAt(0)]=-2;for(let t=0;t<bj.length;t+=1)e[bj[t].charCodeAt(0)]=t;return e})();function sM(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bj[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bj[n]),t.queuedBits-=6}}function iY(e,t,r){const n=Epe[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function aM(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Tpe(o,n,r)};for(let o=0;o<e.length;o+=1)iY(e.charCodeAt(o),a,i);return t.join("")}function kpe(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ppe(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}kpe(n,t)}}function Tpe(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function xv(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)iY(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Ope(e){const t=[];return Ppe(e,r=>t.push(r)),new Uint8Array(t)}function Dm(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>sM(a,r,n)),sM(null,r,n),t.join("")}function Ipe(e){return Math.round(Date.now()/1e3)+e}function Fpe(){return Symbol("auth-callback")}const Pi=()=>typeof window<"u"&&typeof document<"u",wm={tested:!1,writable:!1},oY=()=>{if(!Pi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wm.tested)return wm.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wm.tested=!0,wm.writable=!0}catch{wm.tested=!0,wm.writable=!1}return wm.writable};function Rpe(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const lY=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Lpe=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Gg=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},bm=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ki=async(e,t)=>{await e.removeItem(t)};class PN{constructor(){this.promise=new PN.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}PN.promiseConstructor=Promise;function P1(e){const t=e.split(".");if(t.length!==3)throw new _T("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!jpe.test(t[n]))throw new _T("JWT not in base64url format");return{header:JSON.parse(aM(t[0])),payload:JSON.parse(aM(t[1])),signature:xv(t[2]),raw:{header:t[0],payload:t[1]}}}async function Upe(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Dpe(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function Mpe(e){return("0"+e.toString(16)).substr(-2)}function Qpe(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Mpe).join("")}async function Hpe(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function $pe(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Hpe(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _g(e,t,r=!1){const n=Qpe();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Gg(e,`${t}-code-verifier`,a);const i=await $pe(n);return[i,n===i?"plain":"s256"]}const Vpe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qpe(e){const t=e.headers.get(bT);if(!t||!t.match(Vpe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Kpe(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function zpe(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Wpe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ng(e){if(!Wpe.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lB(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gpe(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function iM(e){return JSON.parse(JSON.stringify(e))}const Bm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ype=[502,503,504];async function oM(e){var t;if(!Lpe(e))throw new jT(Bm(e),0);if(Ype.includes(e.status))throw new jT(Bm(e),e.status);let r;try{r=await e.json()}catch(i){throw new Fm(Bm(i),i)}let n;const a=qpe(e);if(a&&a.getTime()>=aY["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new rM(Bm(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ol}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new rM(Bm(r),e.status,r.weak_password.reasons);throw new Npe(Bm(r),e.status||500,n)}const Xpe=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function br(e,t,r,n){var a;const i=Object.assign({},n?.headers);i[bT]||(i[bT]=aY["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Jpe(e,t,r+l,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function Jpe(e,t,r,n,a,i){const o=Xpe(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new jT(Bm(c),0)}if(l.ok||await oM(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await oM(c)}}function nu(e){var t;let r=null;tge(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ipe(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function lM(e){const t=nu(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Jf(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Zpe(e){return{data:e,error:null}}function ege(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=ky(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function cM(e){return e}function tge(e){return e.access_token&&e.refresh_token&&e.expires_in}const cB=["global","local","others"];class rge{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=lY(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=cB[0]){if(cB.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cB.join(", ")}`);try{return await br(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await br(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Jf})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ky(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await br(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:ege,redirectTo:r?.redirectTo})}catch(r){if(Zt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await br(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Jf})}catch(r){if(Zt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await br(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:cM});if(d.error)throw d.error;const A=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},A),u),error:null}}catch(u){if(Zt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ng(t);try{return await br(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Jf})}catch(r){if(Zt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ng(t);try{return await br(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Jf})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ng(t);try{return await br(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Jf})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ng(t.userId);try{const{data:r,error:n}=await br(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ng(t.userId),Ng(t.id);try{return{data:await br(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await br(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:cM});if(d.error)throw d.error;const A=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},A),u),error:null}}catch(u){if(Zt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await br(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await br(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await br(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Zt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await br(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await br(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Zt(r))return{data:null,error:r};throw r}}}function uM(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Cg={debug:!!(globalThis&&oY()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cY extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class nge extends cY{}async function sge(e,t,r){Cg.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Cg.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Cg.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Cg.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Cg.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new nge(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Cg.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function age(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function uY(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function ige(e){return parseInt(e,16)}function oge(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function lge(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:A,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!A)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=uY(e.address),y=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",v=`${y} wants you to sign in with your Ethereum account:
${m}

${g}`;let x=`URI: ${A}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let b=`
Resources:`;for(const j of u){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);b+=`
- ${j}`}x+=b}return`${v}
${x}`}class Fa extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class jj extends Fa{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function cge({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fa({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Fa({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Fa({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Fa({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Fa({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Fa({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Fa({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Fa({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(dY(o)){if(i.rp.id!==o)return new Fa({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Fa({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Fa({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function uge({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fa({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Fa({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(dY(n)){if(r.rpId!==n)return new Fa({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Fa({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class dge{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Age=new dge;function fge(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=ky(e,["challenge","user","excludeCredentials"]),i=xv(t).buffer,o=Object.assign(Object.assign({},r),{id:xv(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:xv(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function hge(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ky(e,["challenge","allowCredentials"]),a=xv(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:xv(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function mge(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Dm(new Uint8Array(e.response.attestationObject)),clientDataJSON:Dm(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function pge(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Dm(new Uint8Array(a.authenticatorData)),clientDataJSON:Dm(new Uint8Array(a.clientDataJSON)),signature:Dm(new Uint8Array(a.signature)),userHandle:a.userHandle?Dm(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function dY(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function dM(){var e,t;return!!(Pi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function gge(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jj("Browser returned unexpected credential type",t)}:{data:null,error:new jj("Empty credential response",t)}}catch(t){return{data:null,error:cge({error:t,options:e})}}}async function vge(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jj("Browser returned unexpected credential type",t)}:{data:null,error:new jj("Empty credential response",t)}}catch(t){return{data:null,error:uge({error:t,options:e})}}}const yge={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},xge={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _j(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=_j(l,o):n[i]=_j(o)}else n[i]=o}return n}function wge(e,t){return _j(yge,e,t||{})}function bge(e,t){return _j(xge,e,t||{})}class jge{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=a??Age.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const A=n;if(A)d.name=`${d.id}:${A}`;else{const m=(await this.client.getUser()).data.user,y=((o=m?.user_metadata)===null||o===void 0?void 0:o.name)||m?.email||m?.id||"User";d.name=`${d.id}:${y}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=wge(l.webauthn.credential_options.publicKey,i?.create),{data:A,error:h}=await gge({publicKey:d,signal:u});return A?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:A}},error:null}:{data:null,error:h}}case"request":{const d=bge(l.webauthn.credential_options.publicKey,i?.request),{data:A,error:h}=await vge(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return A?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:A}},error:null}:{data:null,error:h}}}}catch(l){return Zt(l)?{data:null,error:l}:{data:null,error:new Fm("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Y0("rpId is required for WebAuthn authentication")};try{if(!dM())return{data:null,error:new Fm("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Zt(o)?{data:null,error:o}:{data:null,error:new Fm("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Y0("rpId is required for WebAuthn registration")};try{if(!dM())return{data:null,error:new Fm("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var A;return(A=d.data)===null||A===void 0?void 0:A.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Zt(o)?{data:null,error:o}:{data:null,error:new Fm("Unexpected error in register",o)}}}}age();const _ge={url:xpe,storageKey:wpe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bpe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function AM(e,t,r){return await r()}const Sg={};class X0{get jwks(){var t,r;return(r=(t=Sg[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Sg[this.storageKey]=Object.assign(Object.assign({},Sg[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Sg[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Sg[this.storageKey]=Object.assign(Object.assign({},Sg[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},_ge),t);if(this.storageKey=i.storageKey,this.instanceID=(r=X0.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,X0.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Pi()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new rge({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=lY(i.fetch),this.lock=i.lock||AM,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Pi()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=sge:this.lock=AM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new jge(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:oY()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=uM(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=uM(this.memoryStorage)),Pi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${sY}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Pi()&&(r=Rpe(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Pi()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Spe(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Zt(r)?this._returnResult({error:r}):this._returnResult({error:new Fm("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await br(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:nu}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Zt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:A,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await _g(this.storage,this.storageKey)),i=await br(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:d,password:A,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:y},xform:nu})}else if("phone"in t){const{phone:d,password:A,options:h}=t;i=await br(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:A,data:(n=h?.data)!==null&&n!==void 0?n:{},channel:(a=h?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:nu})}else throw new E1("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await ki(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await ki(this.storage,`${this.storageKey}-code-verifier`),Zt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await br(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:lM})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await br(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:lM})}else throw new E1("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new jg;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Zt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,A,h;let m,y;if("message"in t)m=t.message,y=t.signature;else{const{chain:g,wallet:v,statement:x,options:b}=t;let j;if(Pi())if(typeof v=="object")j=v;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")j=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=v}const _=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href),N=await j.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=uY(N[0]);let T=(n=b?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!T){const P=await j.request({method:"eth_chainId"});T=ige(P)}const O={domain:_.host,address:B,statement:x,uri:_.href,version:"1",chainId:T,nonce:(a=b?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=b?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=b?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=b?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=b?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b?.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=lge(O),y=await j.request({method:"personal_sign",params:[oge(m),B]})}try{const{data:g,error:v}=await br(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((A=t.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:nu});if(v)throw v;if(!g||!g.session||!g.user){const x=new jg;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if(Zt(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,A,h,m;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:v,wallet:x,statement:b,options:j}=t;let _;if(Pi())if(typeof x=="object")_=x;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))_=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const N=new URL((r=j?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const B=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),b?{statement:b}:null));let T;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")T=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)T=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)y=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),g=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${N.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=j?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=j?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((u=j?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((A=(d=j?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||A===void 0)&&A.length?["Resources",...j.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const B=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=B}}try{const{data:v,error:x}=await br(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Dm(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:nu});if(x)throw x;if(!v||!v.session||!v.user){const b=new jg;return this._returnResult({data:{user:null,session:null},error:b})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(Zt(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await bm(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Bpe;const{data:i,error:o}=await br(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:nu});if(await ki(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new jg;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await ki(this.storage,`${this.storageKey}-code-verifier`),Zt(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await br(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:nu}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new jg;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Zt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await _g(this.storage,this.storageKey));const{error:A}=await br(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:A})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await br(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c?.data)!==null&&a!==void 0?a:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new E1("You must provide either an email or phone number.")}catch(l){if(await ki(this.storage,`${this.storageKey}-code-verifier`),Zt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await br(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:nu});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Zt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await _g(this.storage,this.storageKey));const u=await br(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:Zpe});return!((i=u.data)===null||i===void 0)&&i.url&&Pi()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await ki(this.storage,`${this.storageKey}-code-verifier`),Zt(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ol;const{error:a}=await br(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Zt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await br(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await br(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:l})}throw new E1("You must provide either an email or phone number and a type")}catch(r){if(Zt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await bm(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<aB:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await bm(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=lB()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Gpe(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await br(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Jf}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ol}:await br(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Jf})})}catch(r){if(Zt(r))return iB(r)&&(await this._removeSession(),await ki(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Ol;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await _g(this.storage,this.storageKey));const{data:u,error:d}=await br(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Jf});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await ki(this.storage,`${this.storageKey}-code-verifier`),Zt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ol;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=P1(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Zt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Ol;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Zt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Pi())throw new k1("No browser detected.");if(t.error||t.error_description||t.error_code)throw new k1(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new tM("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new k1("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new tM("No code detected.");const{data:b,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new k1("No session defined in URL");const d=Math.round(Date.now()/1e3),A=parseInt(l);let h=d+A;c&&(h=parseInt(c));const m=h-d;m*1e3<=Wg&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${A}s`);const y=h-A;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:g,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:A,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(n){if(Zt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await bm(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i&&!iB(i))return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Cpe(l)&&(l.status===404||l.status===401||l.status===403)||iB(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await ki(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Fpe(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await _g(this.storage,this.storageKey,!0));try{return await br(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ki(this.storage,`${this.storageKey}-code-verifier`),Zt(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Zt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:A,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await br(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=A.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Pi()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(Zt(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,A=await br(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:nu}),{data:h,error:m}=A;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new jg}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(a){if(await ki(this.storage,`${this.storageKey}-code-verifier`),Zt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await br(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Zt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Dpe(async a=>(a>0&&await Upe(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await br(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:nu})),(a,i)=>{const o=200*Math.pow(2,a);return i&&oB(i)&&Date.now()+o-n<Wg})}catch(n){if(this._debug(r,"error",n),Zt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Pi()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await bm(this.storage,this.storageKey);if(a&&this.userStorage){let o=await bm(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Gg(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o?.user)!==null&&t!==void 0?t:lB()}else if(a&&!a.user&&!a.user){const o=await bm(this.storage,this.storageKey+"-user");o&&o?.user?(a.user=o.user,await ki(this.storage,this.storageKey+"-user"),await Gg(this.storage,this.storageKey,a)):a.user=lB()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<aB;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${aB}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),oB(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&o?.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ol;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new PN;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ol;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Zt(i)){const o={data:null,error:i};return oB(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ki(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Gg(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=iM(a);await Gg(this.storage,this.storageKey,i)}else{const a=iM(r);await Gg(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ki(this.storage,this.storageKey),await ki(this.storage,this.storageKey+"-code-verifier"),await ki(this.storage,this.storageKey+"-user"),this.userStorage&&await ki(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wg);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Wg);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Wg}ms, refresh threshold is ${wT} ticks`),a<=wT&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cY)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await _g(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await br(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Zt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await br(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c?.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Zt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?mge(t.webauthn.credential_response):pge(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await br(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Zt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await br(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:fge(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:hge(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Zt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,i;if(t)try{const{payload:m}=P1(t);let y=null;m.aal&&(y=m.aal);let g=y;const{data:{user:v},error:x}=await this.getUser(t);if(x)return this._returnResult({data:null,error:x});((n=(r=v?.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(g="aal2");const j=m.amr||[];return{data:{currentLevel:y,nextLevel:g,currentAuthenticationMethods:j},error:null}}catch(m){if(Zt(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=P1(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(a=o.user.factors)===null||a===void 0?void 0:a.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await br(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ol})})}catch(r){if(Zt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Ol});const o=await br(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Pi()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Zt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Ol});const o=await br(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Pi()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Zt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await br(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ol})})}catch(t){if(Zt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await br(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ol})})}catch(r){if(Zt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+_pe>a)return n;const{data:i,error:o}=await br(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=P1(n);r?.allowExpired||Kpe(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=zpe(a.alg),A=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,A,o,Ope(`${l}.${c}`)))throw new _T("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Zt(n))return this._returnResult({data:null,error:n});throw n}}}X0.nextInstanceID={};const Nge=X0,Cge="2.95.3";let Jx="";typeof Deno<"u"?Jx="deno":typeof document<"u"?Jx="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jx="react-native":Jx="node";const Sge={"X-Client-Info":`supabase-js-${Jx}/${Cge}`},Bge={headers:Sge},Ege={schema:"public"},kge={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Pge={};function J0(e){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J0(e)}function Tge(e,t){if(J0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(J0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oge(e){var t=Tge(e,"string");return J0(t)=="symbol"?t:t+""}function Ige(e,t,r){return(t=Oge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(r),!0).forEach(function(n){Ige(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Fge=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Rge=()=>Headers,Lge=(e,t,r)=>{const n=Fge(r),a=Rge();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,aa(aa({},o),{},{headers:u}))}};function Uge(e){return e.endsWith("/")?e:e+"/"}function Dge(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:A}=t,h={db:aa(aa({},c),a),auth:aa(aa({},u),i),realtime:aa(aa({},d),o),storage:{},global:aa(aa(aa({},A),l),{},{headers:aa(aa({},(r=A?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Mge(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Uge(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Qge=class extends Nge{constructor(e){super(e)}},Hge=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=Mge(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:Ege,realtime:Pge,auth:aa(aa({},kge),{},{storageKey:o}),global:Bge},c=Dge(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=Lge(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(aa({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Cme(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new ype(this.storageUrl.href,this.headers,this.fetch,r?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new vme(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,A){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qge({url:this.authUrl.href,headers:aa(aa({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:A,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new $me(this.realtimeUrl.href,aa(aa({},e),{},{params:aa(aa({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const $ge=(e,t,r)=>new Hge(e,t,r);function Vge(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Vge()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qge="https://aggacdtmyphgtkldjmvk.supabase.co",Kge="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFnZ2FjZHRteXBoZ3RrbGRqbXZrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA4MTQ1NTAsImV4cCI6MjA4NjM5MDU1MH0.n_yayVeBZtihYYCxM3w0wYey5PbygDc9oMhuuO0cPj0",be=$ge(qge,Kge,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),AY=C.createContext(void 0),zge=({children:e})=>{const[t,r]=C.useState(null),[n,a]=C.useState(null),[i,o]=C.useState(null),[l,c]=C.useState(!0),u=bi(),d=async g=>{const{data:v}=await be.from("profiles").select("id, email, full_name, organization_id").eq("id",g).single();o(v)};C.useEffect(()=>{const{data:{subscription:g}}=be.auth.onAuthStateChange(async(v,x)=>{if(r(x),a(x?.user??null),x?.user){setTimeout(()=>d(x.user.id),0);const b=localStorage.getItem("pending_signup_strict");if(b)try{const{userId:_,fullName:N,email:B,role:T,timestamp:O,method:P}=JSON.parse(b),M=Date.now()-O<1800*1e3;if(x.user.id===_&&M&&P==="strict_assignment"){console.log(" Completing pending strict signup setup");const I=await h(_,N,B,T);I.error?console.error(" Strict signup setup failed:",I.error):console.log(" Strict signup setup completed"),localStorage.removeItem("pending_signup_strict"),setTimeout(()=>d(x.user.id),500)}else M||(console.log(" Pending strict signup expired, removing"),localStorage.removeItem("pending_signup_strict"))}catch(_){console.error(" Error completing pending strict signup:",_),localStorage.removeItem("pending_signup_strict")}const j=localStorage.getItem("pending_signup");if(j&&!b)try{const{userId:_,fullName:N,email:B,role:T}=JSON.parse(j);x.user.id===_&&(console.log(" Completing legacy pending signup setup"),await h(_,N,B,T),localStorage.removeItem("pending_signup"),setTimeout(()=>d(x.user.id),500))}catch(_){console.error(" Error completing legacy pending signup:",_),localStorage.removeItem("pending_signup")}}else o(null);c(!1)});return be.auth.getSession().then(({data:{session:v}})=>{r(v),a(v?.user??null),v?.user&&d(v.user.id),c(!1)}),()=>g.unsubscribe()},[]);const A=async(g,v,x,b)=>{try{if(!b)return{error:{message:"Please select a role. Role selection is mandatory."}};if(!["super_admin","admin","manager","user","tenant"].includes(b))return{error:{message:"Invalid role selected. Please choose a valid role."}};if(b==="super_admin"||b==="admin"||b==="manager"){if(!x||x.trim().length<2)return{error:{message:"Full name is required for super admin/admin/manager accounts."}}}else if(b==="tenant"){if(!x||x.trim().length<2)return{error:{message:"Full name is required for tenant accounts."}}}else if(b==="user"&&(!x||x.trim().length<2))return{error:{message:"Full name is required for user accounts."}};console.log(` Starting strict signup process for role: ${b}`),console.log(" Frontend role validation passed (backend function not available)");const{data:_,error:N}=await be.auth.signUp({email:g,password:v,options:{emailRedirectTo:window.location.origin,data:{full_name:x,role:b,signup_role:b,signup_method:"frontend_strict_validation",role_validated:!0}}});if(N)return console.error(" Auth signup error:",N),{error:N};if(console.log(" User account created successfully with frontend validation"),_.user&&_.user.email_confirmed_at){console.log(" User confirmed immediately, setting up strict role assignment");const B=await h(_.user.id,x,g,b);if(B.error)return{error:B.error}}else console.log(" User requires email verification, storing for post-verification setup"),localStorage.setItem("pending_signup_strict",JSON.stringify({userId:_.user?.id,fullName:x,email:g,role:b,timestamp:Date.now(),method:"frontend_strict_validation"}));return{error:null}}catch(j){return console.error(" Signup error:",j),{error:{message:"An unexpected error occurred during signup"}}}},h=async(g,v,x,b)=>{let j=null;try{console.log(` Setting up strict profile for user ${g} with role ${b}`);const{data:{user:_}}=await be.auth.getUser();if(j=_,j?.user_metadata?.role&&j.user_metadata.role!==b){const P=j.user_metadata.role;throw console.error(` ROLE MISMATCH: Selected=${b}, Metadata=${P}`),new Error(`Role mismatch detected. Selected role: ${b}, but metadata contains: ${P}`)}const{error:N}=await be.from("profiles").insert({id:g,email:x,full_name:v});if(N)throw console.error(" Profile creation error:",N),N;if(console.log(" Profile created successfully"),b==="tenant"){console.log(" Setting up tenant profile");const{error:P}=await be.from("tenants_profile").insert({user_id:g,tenant_code:`TEN${Date.now().toString().slice(-6)}`,full_name:v,email:x,status:"active"});if(P)throw console.error(" Tenant profile creation error:",P),P;console.log(" Tenant profile created successfully")}else{let P=null;if(b==="admin"){console.log(" Setting up admin organization");const{data:M,error:I}=await be.from("organizations").insert({name:`${v}'s Organization`}).select().single();I?console.error(" Organization creation error:",I):(P=M.id,await be.from("profiles").update({organization_id:P}).eq("id",g)),console.log(" Admin organization setup completed")}}console.log(` Assigning strict role: ${b}`);const{error:B}=await be.rpc("assign_user_role_strict",{_user_id:g,_selected_role:b,_metadata_role:j?.user_metadata?.role});if(B){console.error(" Strict role assignment error:",B),console.log(" Falling back to direct role assignment");const{error:P}=await be.from("user_roles").insert({user_id:g,role:b});if(P)throw console.error(" Fallback role assignment also failed:",P),P}else console.log(" Strict role assignment completed successfully");const{data:T,error:O}=await be.from("user_roles").select("role").eq("user_id",g).single();if(O||!T||T.role!==b)throw console.error(" ROLE VERIFICATION FAILED:",O,T),new Error(`Role verification failed. Expected: ${b}, Found: ${T?.role||"none"}`);if(console.log(" Role verification passed"),j){const{error:P}=await be.auth.updateUser({data:{role:b,full_name:v,role_verified:!0,role_assignment_method:"strict"}});P?console.error(" Error updating user metadata with role:",P):console.log(" Role stored in user metadata as backup")}return console.log(" Strict user profile and role setup completed successfully"),{error:null}}catch(_){return console.error(" Error setting up strict user profile:",_),{error:_}}},m=async(g,v)=>{const{error:x}=await be.auth.signInWithPassword({email:g,password:v});return{error:x}},y=async()=>{await be.auth.signOut(),u("/auth")};return s.jsx(AY.Provider,{value:{session:t,user:n,profile:i,loading:l,signUp:A,signIn:m,signOut:y},children:e})},ua=()=>{const e=C.useContext(AY);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},fY=C.createContext({theme:"dark",setTheme:()=>{}}),Wge=({children:e})=>{const[t,r]=C.useState(()=>localStorage.getItem("app-theme")||"dark");return C.useEffect(()=>{const n=document.documentElement;t==="dark"?n.classList.add("dark"):n.classList.remove("dark"),localStorage.setItem("app-theme",t)},[t]),s.jsx(fY.Provider,{value:{theme:t,setTheme:r},children:e})},e3=()=>C.useContext(fY),hY=C.createContext(void 0),ji=()=>{const e=C.useContext(hY);if(!e)throw new Error("useCurrency must be used within a CurrencyProvider");return e},Gge=({children:e})=>{const[t,r]=C.useState("INR");C.useEffect(()=>{const o=localStorage.getItem("currency");o&&(o==="INR"||o==="USD")&&r(o)},[]);const n=o=>{r(o),localStorage.setItem("currency",o)},a=o=>{const l=t==="INR"?"":"$",c=o.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return`${l}${c}`},i=()=>t==="INR"?"":"$";return s.jsx(hY.Provider,{value:{currency:t,setCurrency:n,formatAmount:a,getCurrencySymbol:i},children:e})},Ec=()=>{const{user:e}=ua(),{data:t=[],isLoading:r}=Ir({queryKey:["user-roles",e?.id],queryFn:async()=>{if(!e?.id)return[];try{console.log(" Fetching user roles for user:",e.id);const{data:m,error:y}=await be.from("user_roles").select("role").eq("user_id",e.id);if(y){if(console.error(" Error fetching user roles from database:",y),y.message?.includes("permission")||y.code==="PGRST116"){console.log(" RLS blocking role access, checking user metadata");const v=e.user_metadata;if(v?.role)return console.log(" Found role in user metadata:",v.role),[v.role]}throw y}if(m&&m.length>0)return console.log(" Found roles in database:",m.map(v=>v.role)),m.map(v=>v.role);console.log(" No roles found in database for user:",e.id);const g=e.user_metadata;return g?.role?(console.log(" Using fallback role from user metadata:",g.role),[g.role]):g?.signup_role?(console.log(" Using fallback signup_role from user metadata:",g.signup_role),[g.signup_role]):(console.log(" No role found in any location for user:",e.id),[])}catch(m){console.error(" All role fetching methods failed:",m);const y=e.user_metadata,g=[y?.role,y?.signup_role,y?.user_role].filter(Boolean);return g.length>0?(console.log(" Using last resort role from metadata:",g[0]),[g[0]]):(console.log(" No role found anywhere for user:",e.id),[])}},enabled:!!e?.id,retry:2,staleTime:3e4}),n=Array.isArray(t)?t:[],a=["super_admin","admin","manager","user","tenant","staff","guest"],i=n.filter(m=>a.includes(m)),o=i.includes("super_admin"),l=i.includes("admin"),c=i.includes("manager"),u=i.includes("user"),d=i.includes("tenant"),A=i.includes("staff"),h=i.includes("guest");return{roles:i,isSuperAdmin:o,isAdmin:l,isManager:c,isUser:u,isTenant:d,isStaff:A,isGuest:h,isLoading:r,hasAnyRole:i.length>0}},fi=({children:e,fallback:t="/auth"})=>{const{session:r,loading:n}=ua(),{isAdmin:a,isLoading:i}=Ec(),o=Vi();return n||i?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full"})}):r?a?s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-6 max-w-md mx-auto p-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center mx-auto",children:s.jsx(xi,{className:"w-8 h-8 text-destructive"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-xl font-semibold text-destructive",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground",children:"This area is restricted to Administrator accounts only."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"You are trying to access the Admin dashboard with insufficient permissions."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>window.location.href="/auth",className:"w-full px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Go to Login"}),s.jsx("button",{onClick:()=>window.history.back(),className:"w-full px-4 py-2 bg-muted text-muted-foreground rounded-lg hover:bg-muted/80 transition-colors",children:"Go Back"})]})]})}):s.jsx(Co,{to:"/auth",state:{from:o},replace:!0})},mA=({children:e,fallback:t="/auth"})=>{const{session:r,loading:n}=ua(),{isAdmin:a,isTenant:i,isUser:o,isLoading:l}=Ec(),c=Vi();return n||l?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full"})}):r?a||i||!o?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-6 max-w-md mx-auto p-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center mx-auto",children:s.jsx(xi,{className:"w-8 h-8 text-destructive"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-xl font-semibold text-destructive",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground",children:"This area is restricted to Staff User accounts only."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:a?"Administrators should use the Admin dashboard.":i?"Tenants should use the Tenant dashboard.":"You don't have permission to access this page."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>window.location.href="/auth",className:"w-full px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Go to Login"}),s.jsx("button",{onClick:()=>window.history.back(),className:"w-full px-4 py-2 bg-muted text-muted-foreground rounded-lg hover:bg-muted/80 transition-colors",children:"Go Back"})]})]})}):s.jsx(s.Fragment,{children:e}):s.jsx(Co,{to:"/auth",state:{from:c},replace:!0})},ed=({children:e,fallback:t="/auth"})=>{const{session:r,loading:n}=ua(),{isTenant:a,isLoading:i}=Ec(),o=Vi();return n||i?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full"})}):r?a?s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-6 max-w-md mx-auto p-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center mx-auto",children:s.jsx(xi,{className:"w-8 h-8 text-destructive"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-xl font-semibold text-destructive",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground",children:"This area is restricted to Tenant accounts only."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"You are trying to access the Tenant dashboard with a different account type."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>window.location.href="/auth",className:"w-full px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Go to Login"}),s.jsx("button",{onClick:()=>window.history.back(),className:"w-full px-4 py-2 bg-muted text-muted-foreground rounded-lg hover:bg-muted/80 transition-colors",children:"Go Back"})]})]})}):s.jsx(Co,{to:"/auth",state:{from:o},replace:!0})},Yge=()=>{const e=bi(),{session:t,loading:r}=ua(),{isSuperAdmin:n,isAdmin:a,isManager:i,isUser:o,isTenant:l,isStaff:c,isLoading:u}=Ec();return C.useEffect(()=>{!r&&!u&&e(t?n?"/super-admin":a?"/admin":i?"/manager":c?"/staff":l?"/tenant":"/user":"/auth")},[e,t,r,u,n,a,i,o,l,c]),s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full mx-auto"}),s.jsx("p",{className:"text-muted-foreground",children:"Redirecting to your dashboard..."})]})})},Uf=({children:e})=>{const{session:t,loading:r}=ua(),{isManager:n,isLoading:a}=Ec(),i=Vi();return r||a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full"})}):t?n?s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-6 max-w-md mx-auto p-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center mx-auto",children:s.jsx(xi,{className:"w-8 h-8 text-destructive"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-xl font-semibold text-destructive",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground",children:"This area is restricted to Manager accounts only."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>window.location.href="/auth",className:"w-full px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Go to Login"}),s.jsx("button",{onClick:()=>window.history.back(),className:"w-full px-4 py-2 bg-muted text-muted-foreground rounded-lg hover:bg-muted/80 transition-colors",children:"Go Back"})]})]})}):s.jsx(Co,{to:"/auth",state:{from:i},replace:!0})},td=({children:e})=>{const{session:t,loading:r}=ua(),{isSuperAdmin:n,isLoading:a}=Ec(),i=Vi();return r||a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full"})}):t?n?s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-6 max-w-md mx-auto p-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center mx-auto",children:s.jsx(UW,{className:"w-8 h-8 text-destructive"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-xl font-semibold text-destructive",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground",children:"This area is restricted to Super Administrators only."})]}),s.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-muted text-muted-foreground rounded-lg hover:bg-muted/80 transition-colors",children:"Go Back"})]})}):s.jsx(Co,{to:"/auth",state:{from:i},replace:!0})},Ex=({children:e})=>{const{session:t,loading:r}=ua(),{isStaff:n,isLoading:a}=Ec(),i=Vi();return r||a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full"})}):t?n?s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-6 max-w-md mx-auto p-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center mx-auto",children:s.jsx(xi,{className:"w-8 h-8 text-destructive"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-xl font-semibold text-destructive",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground",children:"This area is restricted to Staff accounts only."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>window.location.href="/auth",className:"w-full px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Go to Login"}),s.jsx("button",{onClick:()=>window.history.back(),className:"w-full px-4 py-2 bg-muted text-muted-foreground rounded-lg hover:bg-muted/80 transition-colors",children:"Go Back"})]})]})}):s.jsx(Co,{to:"/auth",state:{from:i},replace:!0})},t3=C.createContext({});function r3(e){const t=C.useRef(null);return t.current===null&&(t.current=e()),t.current}const mY=typeof window<"u",pY=mY?C.useLayoutEffect:C.useEffect,TN=C.createContext(null);function n3(e,t){e.indexOf(t)===-1&&e.push(t)}function Nj(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const wd=(e,t,r)=>r>t?t:r<e?e:r;let s3=()=>{};const UA={},gY=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function vY(e){return typeof e=="object"&&e!==null}const yY=e=>/^0[^.\s]+$/u.test(e);function a3(e){let t;return()=>(t===void 0&&(t=e()),t)}const Nc=e=>e,Xge=(e,t)=>r=>t(e(r)),rb=(...e)=>e.reduce(Xge),Z0=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class i3{constructor(){this.subscriptions=[]}add(t){return n3(this.subscriptions,t),()=>Nj(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hu=e=>e*1e3,wc=e=>e/1e3;function xY(e,t){return t?e*(1e3/t):0}const wY=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Jge=1e-7,Zge=12;function eve(e,t,r,n,a){let i,o,l=0;do o=t+(r-t)/2,i=wY(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>Jge&&++l<Zge);return o}function nb(e,t,r,n){if(e===t&&r===n)return Nc;const a=i=>eve(i,0,1,e,r);return i=>i===0||i===1?i:wY(a(i),t,n)}const bY=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,jY=e=>t=>1-e(1-t),_Y=nb(.33,1.53,.69,.99),o3=jY(_Y),NY=bY(o3),CY=e=>(e*=2)<1?.5*o3(e):.5*(2-Math.pow(2,-10*(e-1))),l3=e=>1-Math.sin(Math.acos(e)),SY=jY(l3),BY=bY(l3),tve=nb(.42,0,1,1),rve=nb(0,0,.58,1),EY=nb(.42,0,.58,1),nve=e=>Array.isArray(e)&&typeof e[0]!="number",kY=e=>Array.isArray(e)&&typeof e[0]=="number",sve={linear:Nc,easeIn:tve,easeInOut:EY,easeOut:rve,circIn:l3,circInOut:BY,circOut:SY,backIn:o3,backInOut:NY,backOut:_Y,anticipate:CY},ave=e=>typeof e=="string",hM=e=>{if(kY(e)){s3(e.length===4);const[t,r,n,a]=e;return nb(t,r,n,a)}else if(ave(e))return sve[e];return e},T1=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ive(e,t){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,A=!1,h=!1)=>{const y=h&&a?r:n;return A&&o.add(d),y.has(d)||y.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(l=d,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),r.clear(),a=!1,i&&(i=!1,u.process(d))}};return u}const ove=40;function PY(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=T1.reduce((j,_)=>(j[_]=ive(i),j),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:A,preRender:h,render:m,postRender:y}=o,g=()=>{const j=UA.useManualTiming?a.timestamp:performance.now();r=!1,UA.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(j-a.timestamp,ove),1)),a.timestamp=j,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),A.process(a),h.process(a),m.process(a),y.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(g))},v=()=>{r=!0,n=!0,a.isProcessing||e(g)};return{schedule:T1.reduce((j,_)=>{const N=o[_];return j[_]=(B,T=!1,O=!1)=>(r||v(),N.schedule(B,T,O)),j},{}),cancel:j=>{for(let _=0;_<T1.length;_++)o[T1[_]].cancel(j)},state:a,steps:o}}const{schedule:vs,cancel:wh,state:Oi,steps:uB}=PY(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nc,!0);let Q2;function lve(){Q2=void 0}const ko={now:()=>(Q2===void 0&&ko.set(Oi.isProcessing||UA.useManualTiming?Oi.timestamp:performance.now()),Q2),set:e=>{Q2=e,queueMicrotask(lve)}},TY=e=>t=>typeof t=="string"&&t.startsWith(e),OY=TY("--"),cve=TY("var(--"),c3=e=>cve(e)?uve.test(e.split("/*")[0].trim()):!1,uve=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function mM(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Ty={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ew={...Ty,transform:e=>wd(0,1,e)},O1={...Ty,default:1},g0=e=>Math.round(e*1e5)/1e5,u3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function dve(e){return e==null}const Ave=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,d3=(e,t)=>r=>!!(typeof r=="string"&&Ave.test(r)&&r.startsWith(e)||t&&!dve(r)&&Object.prototype.hasOwnProperty.call(r,t)),IY=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(u3);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},fve=e=>wd(0,255,e),dB={...Ty,transform:e=>Math.round(fve(e))},Mm={test:d3("rgb","red"),parse:IY("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+dB.transform(e)+", "+dB.transform(t)+", "+dB.transform(r)+", "+g0(ew.transform(n))+")"};function hve(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const NT={test:d3("#"),parse:hve,transform:Mm.transform},sb=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),$f=sb("deg"),hd=sb("%"),$t=sb("px"),mve=sb("vh"),pve=sb("vw"),pM={...hd,parse:e=>hd.parse(e)/100,transform:e=>hd.transform(e*100)},av={test:d3("hsl","hue"),parse:IY("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+hd.transform(g0(t))+", "+hd.transform(g0(r))+", "+g0(ew.transform(n))+")"},Ra={test:e=>Mm.test(e)||NT.test(e)||av.test(e),parse:e=>Mm.test(e)?Mm.parse(e):av.test(e)?av.parse(e):NT.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Mm.transform(e):av.transform(e),getAnimatableNone:e=>{const t=Ra.parse(e);return t.alpha=0,Ra.transform(t)}},gve=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vve(e){return isNaN(e)&&typeof e=="string"&&(e.match(u3)?.length||0)+(e.match(gve)?.length||0)>0}const FY="number",RY="color",yve="var",xve="var(",gM="${}",wve=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tw(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(wve,c=>(Ra.test(c)?(n.color.push(i),a.push(RY),r.push(Ra.parse(c))):c.startsWith(xve)?(n.var.push(i),a.push(yve),r.push(c)):(n.number.push(i),a.push(FY),r.push(parseFloat(c))),++i,gM)).split(gM);return{values:r,split:l,indexes:n,types:a}}function LY(e){return tw(e).values}function UY(e){const{split:t,types:r}=tw(e),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===FY?i+=g0(a[o]):l===RY?i+=Ra.transform(a[o]):i+=a[o]}return i}}const bve=e=>typeof e=="number"?0:Ra.test(e)?Ra.getAnimatableNone(e):e;function jve(e){const t=LY(e);return UY(e)(t.map(bve))}const bh={test:vve,parse:LY,createTransformer:UY,getAnimatableNone:jve};function AB(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function _ve({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=AB(c,l,e+1/3),i=AB(c,l,e),o=AB(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function Cj(e,t){return r=>r>0?t:e}const Ws=(e,t,r)=>e+(t-e)*r,fB=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},Nve=[NT,Mm,av],Cve=e=>Nve.find(t=>t.test(e));function vM(e){const t=Cve(e);if(!t)return!1;let r=t.parse(e);return t===av&&(r=_ve(r)),r}const yM=(e,t)=>{const r=vM(e),n=vM(t);if(!r||!n)return Cj(e,t);const a={...r};return i=>(a.red=fB(r.red,n.red,i),a.green=fB(r.green,n.green,i),a.blue=fB(r.blue,n.blue,i),a.alpha=Ws(r.alpha,n.alpha,i),Mm.transform(a))},CT=new Set(["none","hidden"]);function Sve(e,t){return CT.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Bve(e,t){return r=>Ws(e,t,r)}function A3(e){return typeof e=="number"?Bve:typeof e=="string"?c3(e)?Cj:Ra.test(e)?yM:Pve:Array.isArray(e)?DY:typeof e=="object"?Ra.test(e)?yM:Eve:Cj}function DY(e,t){const r=[...e],n=r.length,a=e.map((i,o)=>A3(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function Eve(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=A3(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function kve(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][n[i]],l=e.values[o]??0;r[a]=l,n[i]++}return r}const Pve=(e,t)=>{const r=bh.createTransformer(t),n=tw(e),a=tw(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?CT.has(e)&&!a.values.length||CT.has(t)&&!n.values.length?Sve(e,t):rb(DY(kve(n,a),a.values),r):Cj(e,t)};function MY(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ws(e,t,r):A3(e)(e,t)}const Tve=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>vs.update(t,r),stop:()=>wh(t),now:()=>Oi.isProcessing?Oi.timestamp:ko.now()}},QY=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Sj=2e4;function f3(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Sj;)t+=r,n=e.next(t);return t>=Sj?1/0:t}function Ove(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(f3(n),Sj);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:wc(a)}}const Ive=5;function HY(e,t,r){const n=Math.max(t-Ive,0);return xY(r-e(n),t-n)}const ia={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hB=.001;function Fve({duration:e=ia.duration,bounce:t=ia.bounce,velocity:r=ia.velocity,mass:n=ia.mass}){let a,i,o=1-t;o=wd(ia.minDamping,ia.maxDamping,o),e=wd(ia.minDuration,ia.maxDuration,wc(e)),o<1?(a=u=>{const d=u*o,A=d*e,h=d-r,m=ST(u,o),y=Math.exp(-A);return hB-h/m*y},i=u=>{const A=u*o*e,h=A*r+r,m=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-A),g=ST(Math.pow(u,2),o);return(-a(u)+hB>0?-1:1)*((h-m)*y)/g}):(a=u=>{const d=Math.exp(-u*e),A=(u-r)*e+1;return-hB+d*A},i=u=>{const d=Math.exp(-u*e),A=(r-u)*(e*e);return d*A});const l=5/e,c=Lve(a,i,l);if(e=hu(e),isNaN(c))return{stiffness:ia.stiffness,damping:ia.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const Rve=12;function Lve(e,t,r){let n=r;for(let a=1;a<Rve;a++)n=n-e(n)/t(n);return n}function ST(e,t){return e*Math.sqrt(1-t*t)}const Uve=["duration","bounce"],Dve=["stiffness","damping","mass"];function xM(e,t){return t.some(r=>e[r]!==void 0)}function Mve(e){let t={velocity:ia.velocity,stiffness:ia.stiffness,damping:ia.damping,mass:ia.mass,isResolvedFromDuration:!1,...e};if(!xM(e,Dve)&&xM(e,Uve))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*wd(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ia.mass,stiffness:a,damping:i}}else{const r=Fve(e);t={...t,...r,mass:ia.mass},t.isResolvedFromDuration=!0}return t}function Bj(e=ia.visualDuration,t=ia.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:A,velocity:h,isResolvedFromDuration:m}=Mve({...r,velocity:-wc(r.velocity||0)}),y=h||0,g=u/(2*Math.sqrt(c*d)),v=o-i,x=wc(Math.sqrt(c/d)),b=Math.abs(v)<5;n||(n=b?ia.restSpeed.granular:ia.restSpeed.default),a||(a=b?ia.restDelta.granular:ia.restDelta.default);let j;if(g<1){const N=ST(x,g);j=B=>{const T=Math.exp(-g*x*B);return o-T*((y+g*x*v)/N*Math.sin(N*B)+v*Math.cos(N*B))}}else if(g===1)j=N=>o-Math.exp(-x*N)*(v+(y+x*v)*N);else{const N=x*Math.sqrt(g*g-1);j=B=>{const T=Math.exp(-g*x*B),O=Math.min(N*B,300);return o-T*((y+g*x*v)*Math.sinh(O)+N*v*Math.cosh(O))/N}}const _={calculatedDuration:m&&A||null,next:N=>{const B=j(N);if(m)l.done=N>=A;else{let T=N===0?y:0;g<1&&(T=N===0?hu(y):HY(j,N,B));const O=Math.abs(T)<=n,P=Math.abs(o-B)<=a;l.done=O&&P}return l.value=l.done?o:B,l},toString:()=>{const N=Math.min(f3(_),Sj),B=QY(T=>_.next(N*T).value,N,30);return N+"ms "+B},toTransition:()=>{}};return _}Bj.applyToOptions=e=>{const t=Ove(e,100,Bj);return e.ease=t.ease,e.duration=hu(t.duration),e.type="keyframes",e};function BT({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const A=e[0],h={done:!1,value:A},m=O=>l!==void 0&&O<l||c!==void 0&&O>c,y=O=>l===void 0?c:c===void 0||Math.abs(l-O)<Math.abs(c-O)?l:c;let g=r*t;const v=A+g,x=o===void 0?v:o(v);x!==v&&(g=x-A);const b=O=>-g*Math.exp(-O/n),j=O=>x+b(O),_=O=>{const P=b(O),M=j(O);h.done=Math.abs(P)<=u,h.value=h.done?x:M};let N,B;const T=O=>{m(h.value)&&(N=O,B=Bj({keyframes:[h.value,y(h.value)],velocity:HY(j,O,h.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:O=>{let P=!1;return!B&&N===void 0&&(P=!0,_(O),T(O)),N!==void 0&&O>=N?B.next(O-N):(!P&&_(O),h)}}}function Qve(e,t,r){const n=[],a=r||UA.mix||MY,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Nc:t;l=rb(c,l)}n.push(l)}return n}function Hve(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(s3(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Qve(t,n,a),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let A=0;if(c>1)for(;A<e.length-2&&!(d<e[A+1]);A++);const h=Z0(e[A],e[A+1],d);return l[A](h)};return r?d=>u(wd(e[0],e[i-1],d)):u}function $ve(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=Z0(0,t,n);e.push(Ws(r,1,a))}}function Vve(e){const t=[0];return $ve(t,e.length-1),t}function qve(e,t){return e.map(r=>r*t)}function Kve(e,t){return e.map(()=>t||EY).splice(0,e.length-1)}function v0({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=nve(n)?n.map(hM):hM(n),i={done:!1,value:t[0]},o=qve(r&&r.length===t.length?r:Vve(t),e),l=Hve(o,t,{ease:Array.isArray(a)?a:Kve(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const zve=e=>e!==null;function h3(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(zve),l=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const Wve={decay:BT,inertia:BT,tween:v0,keyframes:v0,spring:Bj};function $Y(e){typeof e.type=="string"&&(e.type=Wve[e.type])}class m3{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Gve=e=>e/100;class p3 extends m3{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==ko.now()&&this.tick(ko.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;$Y(t);const{type:r=v0,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=r||v0;c!==v0&&typeof l[0]!="number"&&(this.mixKeyframes=rb(Gve,MY(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=f3(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:A,repeatType:h,repeatDelay:m,type:y,onUpdate:g,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const x=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?x<0:x>a;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let j=this.currentTime,_=n;if(A){const O=Math.min(this.currentTime,a)/l;let P=Math.floor(O),M=O%1;!M&&O>=1&&(M=1),M===1&&P--,P=Math.min(P,A+1),P%2&&(h==="reverse"?(M=1-M,m&&(M-=m/l)):h==="mirror"&&(_=o)),j=wd(0,1,M)*l}const N=b?{done:!1,value:d[0]}:_.next(j);i&&(N.value=i(N.value));let{done:B}=N;!b&&c!==null&&(B=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return T&&y!==BT&&(N.value=h3(d,this.options,v,this.speed)),g&&g(N.value),T&&this.finish(),N}then(t,r){return this.finished.then(t,r)}get duration(){return wc(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+wc(t)}get time(){return wc(this.currentTime)}set time(t){t=hu(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ko.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=wc(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Tve,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ko.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Yve(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Qm=e=>e*180/Math.PI,ET=e=>{const t=Qm(Math.atan2(e[1],e[0]));return kT(t)},Xve={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ET,rotateZ:ET,skewX:e=>Qm(Math.atan(e[1])),skewY:e=>Qm(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},kT=e=>(e=e%360,e<0&&(e+=360),e),wM=ET,bM=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),jM=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Jve={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bM,scaleY:jM,scale:e=>(bM(e)+jM(e))/2,rotateX:e=>kT(Qm(Math.atan2(e[6],e[5]))),rotateY:e=>kT(Qm(Math.atan2(-e[2],e[0]))),rotateZ:wM,rotate:wM,skewX:e=>Qm(Math.atan(e[4])),skewY:e=>Qm(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function PT(e){return e.includes("scale")?1:0}function TT(e,t){if(!e||e==="none")return PT(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Jve,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Xve,a=l}if(!a)return PT(t);const i=n[t],o=a[1].split(",").map(eye);return typeof i=="function"?i(o):o[i]}const Zve=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return TT(r,t)};function eye(e){return parseFloat(e.trim())}const Oy=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Iy=new Set(Oy),_M=e=>e===Ty||e===$t,tye=new Set(["x","y","z"]),rye=Oy.filter(e=>!tye.has(e));function nye(e){const t=[];return rye.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const th={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>TT(t,"x"),y:(e,{transform:t})=>TT(t,"y")};th.translateX=th.x;th.translateY=th.y;const Ym=new Set;let OT=!1,IT=!1,FT=!1;function VY(){if(IT){const e=Array.from(Ym).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=nye(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{n.getValue(i)?.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}IT=!1,OT=!1,Ym.forEach(e=>e.complete(FT)),Ym.clear()}function qY(){Ym.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(IT=!0)})}function sye(){FT=!0,qY(),VY(),FT=!1}class g3{constructor(t,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ym.add(this),OT||(OT=!0,vs.read(qY),vs.resolveKeyframes(VY))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a?.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}Yve(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ym.delete(this)}cancel(){this.state==="scheduled"&&(Ym.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const aye=e=>e.startsWith("--");function iye(e,t,r){aye(t)?e.style.setProperty(t,r):e.style[t]=r}const oye=a3(()=>window.ScrollTimeline!==void 0),lye={};function cye(e,t){const r=a3(e);return()=>lye[t]??r()}const KY=cye(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zx=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,NM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zx([0,.65,.55,1]),circOut:Zx([.55,0,1,.45]),backIn:Zx([.31,.01,.66,-.59]),backOut:Zx([.33,1.53,.69,.99])};function zY(e,t){if(e)return typeof e=="function"?KY()?QY(e,t):"ease-out":kY(e)?Zx(e):Array.isArray(e)?e.map(r=>zY(r,t)||NM.easeOut):NM[e]}function uye(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const A=zY(l,a);Array.isArray(A)&&(d.easing=A);const h={delay:n,duration:a,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function WY(e){return typeof e=="function"&&"applyToOptions"in e}function dye({type:e,...t}){return WY(e)&&KY()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class GY extends m3{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,s3(typeof t.type!="string");const u=dye(t);this.animation=uye(r,n,a,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=h3(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):iye(r,n,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return wc(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+wc(t)}get time(){return wc(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=hu(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&oye()?(this.animation.timeline=t,Nc):r(this)}}const YY={anticipate:CY,backInOut:NY,circInOut:BY};function Aye(e){return e in YY}function fye(e){typeof e.ease=="string"&&Aye(e.ease)&&(e.ease=YY[e.ease])}const mB=10;class hye extends GY{constructor(t){fye(t),$Y(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new p3({...o,autoplay:!1}),c=Math.max(mB,ko.now()-this.startTime),u=wd(0,mB,c-mB);r.setWithVelocity(l.sample(Math.max(0,c-u)).value,l.sample(c).value,u),l.stop()}}const CM=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(bh.test(e)||e==="0")&&!e.startsWith("url("));function mye(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function pye(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=CM(a,t),l=CM(i,t);return!o||!l?!1:mye(e)||(r==="spring"||WY(r))&&n}function RT(e){e.duration=0,e.type="keyframes"}const gye=new Set(["opacity","clipPath","filter","transform"]),vye=a3(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yye(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return vye()&&r&&gye.has(r)&&(r!=="transform"||!u)&&!c&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const xye=40;class wye extends m3{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...A}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ko.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...A},m=d?.KeyframeResolver||g3;this.keyframeResolver=new m(l,(y,g,v)=>this.onKeyframesResolved(y,g,h,!v),c,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=ko.now(),pye(t,i,o,l)||((UA.instantAnimations||!c)&&d?.(h3(t,n,r)),t[0]=t[t.length-1],RT(n),n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>xye?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&yye(h),y=h.motionValue?.owner?.current,g=m?new hye({...h,element:y}):new p3(h);g.finished.then(()=>{this.notifyFinished()}).catch(Nc),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),sye()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function XY(e,t,r,n=0,a=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*n;return typeof r=="function"?r(i,o):a===1?i*n:l-i*n}const bye=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jye(e){const t=bye.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function JY(e,t,r=1){const[n,a]=jye(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return gY(o)?parseFloat(o):o}return c3(a)?JY(a,t,r+1):a}const _ye={type:"spring",stiffness:500,damping:25,restSpeed:10},Nye=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Cye={type:"keyframes",duration:.8},Sye={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bye=(e,{keyframes:t})=>t.length>2?Cye:Iy.has(e)?e.startsWith("scale")?Nye(t[1]):_ye:Sye,Eye=e=>e!==null;function kye(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(Eye),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}function ZY(e,t){if(e?.inherit&&t){const{inherit:r,...n}=e;return{...t,...n}}return e}function v3(e,t){const r=e?.[t]??e?.default??e;return r!==e?ZY(r,e):r}function Pye({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const y3=(e,t,r,n={},a,i)=>o=>{const l=v3(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-hu(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};Pye(l)||Object.assign(d,Bye(e,d)),d.duration&&(d.duration=hu(d.duration)),d.repeatDelay&&(d.repeatDelay=hu(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let A=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(RT(d),d.delay===0&&(A=!0)),(UA.instantAnimations||UA.skipAnimations||a?.shouldSkipAnimations)&&(A=!0,RT(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,A&&!i&&t.get()!==void 0){const h=kye(d.keyframes,l);if(h!==void 0){vs.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new p3(d):new wye(d)};function SM(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function x3(e,t,r,n){if(typeof t=="function"){const[a,i]=SM(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=SM(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function wv(e,t,r){const n=e.getProps();return x3(n,t,r!==void 0?r:n.custom,e)}const eX=new Set(["width","height","top","left","right","bottom",...Oy]),BM=30,Tye=e=>!isNaN(parseFloat(e));class Oye{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const a=ko.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=ko.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Tye(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new i3);const n=this.events[t].add(r);return t==="change"?()=>{n(),vs.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ko.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>BM)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,BM);return xY(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lv(e,t){return new Oye(e,t)}const LT=e=>Array.isArray(e);function Iye(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Lv(r))}function Fye(e){return LT(e)?e[e.length-1]||0:e}function Rye(e,t){const r=wv(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=Fye(i[o]);Iye(e,o,l)}}const uo=e=>!!(e&&e.getVelocity);function Lye(e){return!!(uo(e)&&e.add)}function UT(e,t){const r=e.getValue("willChange");if(Lye(r))return r.add(t);if(!r&&UA.WillChange){const n=new UA.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function w3(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const Uye="framerAppearId",tX="data-"+w3(Uye);function rX(e){return e.props[tX]}function Dye({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function nX(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i,transitionEnd:o,...l}=t;const c=e.getDefaultTransition();i=i?ZY(i,c):c;const u=i?.reduceMotion;n&&(i=n);const d=[],A=a&&e.animationState&&e.animationState.getState()[a];for(const h in l){const m=e.getValue(h,e.latestValues[h]??null),y=l[h];if(y===void 0||A&&Dye(A,h))continue;const g={delay:r,...v3(i||{},h)},v=m.get();if(v!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===v&&!g.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const _=rX(e);if(_){const N=window.MotionHandoffAnimation(_,h,vs);N!==null&&(g.startTime=N,x=!0)}}UT(e,h);const b=u??e.shouldReduceMotion;m.start(y3(h,m,y,b&&eX.has(h)?{type:!1}:g,e,x));const j=m.animation;j&&d.push(j)}if(o){const h=()=>vs.update(()=>{o&&Rye(e,o)});d.length?Promise.all(d).then(h):h()}return d}function DT(e,t,r={}){const n=wv(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(nX(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:A}=a;return Mye(e,t,c,u,d,A,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function Mye(e,t,r=0,n=0,a=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(DT(c,t,{...o,delay:r+(typeof n=="function"?0:n)+XY(e.variantChildren,c,n,a,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function Qye(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>DT(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=DT(e,t,r);else{const a=typeof t=="function"?wv(e,t,r.custom):t;n=Promise.all(nX(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const Hye={test:e=>e==="auto",parse:e=>e},sX=e=>t=>t.test(e),aX=[Ty,$t,hd,$f,pve,mve,Hye],EM=e=>aX.find(sX(e));function $ye(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||yY(e):!0}const Vye=new Set(["brightness","contrast","saturate","opacity"]);function qye(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(u3)||[];if(!n)return e;const a=r.replace(n,"");let i=Vye.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const Kye=/\b([a-z-]*)\(.*?\)/gu,MT={...bh,getAnimatableNone:e=>{const t=e.match(Kye);return t?t.map(qye).join(" "):e}},kM={...Ty,transform:Math.round},zye={rotate:$f,rotateX:$f,rotateY:$f,rotateZ:$f,scale:O1,scaleX:O1,scaleY:O1,scaleZ:O1,skew:$f,skewX:$f,skewY:$f,distance:$t,translateX:$t,translateY:$t,translateZ:$t,x:$t,y:$t,z:$t,perspective:$t,transformPerspective:$t,opacity:ew,originX:pM,originY:pM,originZ:$t},b3={borderWidth:$t,borderTopWidth:$t,borderRightWidth:$t,borderBottomWidth:$t,borderLeftWidth:$t,borderRadius:$t,borderTopLeftRadius:$t,borderTopRightRadius:$t,borderBottomRightRadius:$t,borderBottomLeftRadius:$t,width:$t,maxWidth:$t,height:$t,maxHeight:$t,top:$t,right:$t,bottom:$t,left:$t,inset:$t,insetBlock:$t,insetBlockStart:$t,insetBlockEnd:$t,insetInline:$t,insetInlineStart:$t,insetInlineEnd:$t,padding:$t,paddingTop:$t,paddingRight:$t,paddingBottom:$t,paddingLeft:$t,paddingBlock:$t,paddingBlockStart:$t,paddingBlockEnd:$t,paddingInline:$t,paddingInlineStart:$t,paddingInlineEnd:$t,margin:$t,marginTop:$t,marginRight:$t,marginBottom:$t,marginLeft:$t,marginBlock:$t,marginBlockStart:$t,marginBlockEnd:$t,marginInline:$t,marginInlineStart:$t,marginInlineEnd:$t,fontSize:$t,backgroundPositionX:$t,backgroundPositionY:$t,...zye,zIndex:kM,fillOpacity:ew,strokeOpacity:ew,numOctaves:kM},Wye={...b3,color:Ra,backgroundColor:Ra,outlineColor:Ra,fill:Ra,stroke:Ra,borderColor:Ra,borderTopColor:Ra,borderRightColor:Ra,borderBottomColor:Ra,borderLeftColor:Ra,filter:MT,WebkitFilter:MT},iX=e=>Wye[e];function oX(e,t){let r=iX(e);return r!==MT&&(r=bh),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Gye=new Set(["auto","none","0"]);function Yye(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!Gye.has(i)&&tw(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=oX(r,a)}class Xye extends g3{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let A=t[d];if(typeof A=="string"&&(A=A.trim(),c3(A))){const h=JY(A,r.current);h!==void 0&&(t[d]=h),d===t.length-1&&(this.finalKeyframe=A)}}if(this.resolveNoneKeyframes(),!eX.has(n)||t.length!==2)return;const[a,i]=t,o=EM(a),l=EM(i),c=mM(a),u=mM(i);if(c!==u&&th[n]){this.needsMeasurement=!0;return}if(o!==l)if(_M(o)&&_M(l))for(let d=0;d<t.length;d++){const A=t[d];typeof A=="string"&&(t[d]=parseFloat(A))}else th[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||$ye(t[a]))&&n.push(a);n.length&&Yye(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=th[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=th[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const Jye=new Set(["opacity","clipPath","filter","transform"]);function lX(e,t,r){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=r?.[e]??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e).filter(n=>n!=null)}const cX=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function QT(e){return vY(e)&&"offsetHeight"in e}const{schedule:j3}=PY(queueMicrotask,!1),au={x:!1,y:!1};function uX(){return au.x||au.y}function Zye(e){return e==="x"||e==="y"?au[e]?null:(au[e]=!0,()=>{au[e]=!1}):au.x||au.y?null:(au.x=au.y=!0,()=>{au.x=au.y=!1})}function dX(e,t){const r=lX(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function exe(e){return!(e.pointerType==="touch"||uX())}function txe(e,t,r={}){const[n,a,i]=dX(e,r);return n.forEach(o=>{let l=!1,c=!1,u;const d=()=>{o.removeEventListener("pointerleave",y)},A=v=>{u&&(u(v),u=void 0),d()},h=v=>{l=!1,window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",h),c&&(c=!1,A(v))},m=()=>{l=!0,window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",h,a)},y=v=>{if(v.pointerType!=="touch"){if(l){c=!0;return}A(v)}},g=v=>{if(!exe(v))return;c=!1;const x=t(o,v);typeof x=="function"&&(u=x,o.addEventListener("pointerleave",y,a))};o.addEventListener("pointerenter",g,a),o.addEventListener("pointerdown",m,a)}),i}const AX=(e,t)=>t?e===t?!0:AX(e,t.parentElement):!1,_3=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,rxe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function nxe(e){return rxe.has(e.tagName)||e.isContentEditable===!0}const sxe=new Set(["INPUT","SELECT","TEXTAREA"]);function axe(e){return sxe.has(e.tagName)||e.isContentEditable===!0}const H2=new WeakSet;function PM(e){return t=>{t.key==="Enter"&&e(t)}}function pB(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ixe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=PM(()=>{if(H2.has(r))return;pB(r,"down");const a=PM(()=>{pB(r,"up")}),i=()=>pB(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function TM(e){return _3(e)&&!uX()}const OM=new WeakSet;function oxe(e,t,r={}){const[n,a,i]=dX(e,r),o=l=>{const c=l.currentTarget;if(!TM(l)||OM.has(l))return;H2.add(c),r.stopPropagation&&OM.add(l);const u=t(c,l),d=(m,y)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",h),H2.has(c)&&H2.delete(c),TM(m)&&typeof u=="function"&&u(m,{success:y})},A=m=>{d(m,c===window||c===document||r.useGlobalTarget||AX(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",A,a),window.addEventListener("pointercancel",h,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),QT(l)&&(l.addEventListener("focus",u=>ixe(u,a)),!nxe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function N3(e){return vY(e)&&"ownerSVGElement"in e}const $2=new WeakMap;let V2;const fX=(e,t,r)=>(n,a)=>a&&a[0]?a[0][e+"Size"]:N3(n)&&"getBBox"in n?n.getBBox()[t]:n[r],lxe=fX("inline","width","offsetWidth"),cxe=fX("block","height","offsetHeight");function uxe({target:e,borderBoxSize:t}){$2.get(e)?.forEach(r=>{r(e,{get width(){return lxe(e,t)},get height(){return cxe(e,t)}})})}function dxe(e){e.forEach(uxe)}function Axe(){typeof ResizeObserver>"u"||(V2=new ResizeObserver(dxe))}function fxe(e,t){V2||Axe();const r=lX(e);return r.forEach(n=>{let a=$2.get(n);a||(a=new Set,$2.set(n,a)),a.add(t),V2?.observe(n)}),()=>{r.forEach(n=>{const a=$2.get(n);a?.delete(t),a?.size||V2?.unobserve(n)})}}const q2=new Set;let iv;function hxe(){iv=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};q2.forEach(t=>t(e))},window.addEventListener("resize",iv)}function mxe(e){return q2.add(e),iv||hxe(),()=>{q2.delete(e),!q2.size&&typeof iv=="function"&&(window.removeEventListener("resize",iv),iv=void 0)}}function IM(e,t){return typeof e=="function"?mxe(e):fxe(e,t)}function pxe(e){return N3(e)&&e.tagName==="svg"}const gxe=[...aX,Ra,bh],vxe=e=>gxe.find(sX(e)),FM=()=>({translate:0,scale:1,origin:0,originPoint:0}),ov=()=>({x:FM(),y:FM()}),RM=()=>({min:0,max:0}),Za=()=>({x:RM(),y:RM()}),yxe=new WeakMap;function ON(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function rw(e){return typeof e=="string"||Array.isArray(e)}const C3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],S3=["initial",...C3];function IN(e){return ON(e.animate)||S3.some(t=>rw(e[t]))}function hX(e){return!!(IN(e)||e.variants)}function xxe(e,t,r){for(const n in t){const a=t[n],i=r[n];if(uo(a))e.addValue(n,a);else if(uo(i))e.addValue(n,Lv(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,Lv(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const HT={current:null},mX={current:!1},wxe=typeof window<"u";function bxe(){if(mX.current=!0,!!wxe)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>HT.current=e.matches;e.addEventListener("change",t),t()}else HT.current=!1}const LM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Ej={};function pX(e){Ej=e}function jxe(){return Ej}class _xe{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,skipAnimations:i,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=g3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=ko.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,vs.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=l;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=i,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=IN(r),this.isVariantNode=hX(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:A,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in h){const y=h[m];u[m]!==void 0&&uo(y)&&y.set(u[m])}}mount(t){if(this.hasBeenMounted)for(const r in this.initialValues)this.values.get(r)?.jump(this.initialValues[r]),this.latestValues[r]=this.initialValues[r];this.current=t,yxe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(mX.current||bxe(),this.shouldReduceMotion=HT.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),wh(this.notifyUpdate),wh(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),r.accelerate&&Jye.has(t)&&this.current instanceof HTMLElement){const{factory:o,keyframes:l,times:c,ease:u,duration:d}=r.accelerate,A=new GY({element:this.current,name:t,keyframes:l,times:c,ease:u,duration:hu(d)}),h=o(A);this.valueSubscriptions.set(t,()=>{h(),A.cancel()});return}const n=Iy.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&vs.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;typeof window<"u"&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ej){const r=Ej[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Za()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<LM.length;n++){const a=LM[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=xxe(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Lv(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(gY(n)||yY(n))?n=parseFloat(n):!vxe(n)&&bh.test(r)&&(n=oX(t,r)),this.setBaseTarget(t,uo(n)?n.get():n)),uo(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=x3(this.props,r,this.presenceContext?.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!uo(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new i3),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){j3.render(this.render)}}class gX extends _xe{constructor(){super(...arguments),this.KeyframeResolver=Xye}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){const n=t.style;return n?n[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;uo(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class Fh{constructor(t){this.isMounted=!1,this.node=t}update(){}}function vX({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Nxe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Cxe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function gB(e){return e===void 0||e===1}function $T({scale:e,scaleX:t,scaleY:r}){return!gB(e)||!gB(t)||!gB(r)}function Em(e){return $T(e)||yX(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function yX(e){return UM(e.x)||UM(e.y)}function UM(e){return e&&e!=="0%"}function kj(e,t,r){const n=e-r,a=t*n;return r+a}function DM(e,t,r,n,a){return a!==void 0&&(e=kj(e,a,n)),kj(e,r,n)+t}function VT(e,t=0,r=1,n,a){e.min=DM(e.min,t,r,n,a),e.max=DM(e.max,t,r,n,a)}function xX(e,{x:t,y:r}){VT(e.x,t.translate,t.scale,t.originPoint),VT(e.y,r.translate,r.scale,r.originPoint)}const MM=.999999999999,QM=1.0000000000001;function Sxe(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&cv(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,xX(e,o)),n&&Em(i.latestValues)&&cv(e,i.latestValues))}t.x<QM&&t.x>MM&&(t.x=1),t.y<QM&&t.y>MM&&(t.y=1)}function lv(e,t){e.min=e.min+t,e.max=e.max+t}function HM(e,t,r,n,a=.5){const i=Ws(e.min,e.max,a);VT(e,t,r,i,n)}function cv(e,t){HM(e.x,t.x,t.scaleX,t.scale,t.originX),HM(e.y,t.y,t.scaleY,t.scale,t.originY)}function wX(e,t){return vX(Cxe(e.getBoundingClientRect(),t))}function Bxe(e,t,r){const n=wX(e,r),{scroll:a}=t;return a&&(lv(n.x,a.offset.x),lv(n.y,a.offset.y)),n}const Exe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kxe=Oy.length;function Pxe(e,t,r){let n="",a=!0;for(let i=0;i<kxe;i++){const o=Oy[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number")c=l===(o.startsWith("scale")?1:0);else{const u=parseFloat(l);c=o.startsWith("scale")?u===1:u===0}if(!c||r){const u=cX(l,b3[o]);if(!c){a=!1;const d=Exe[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function B3(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Iy.has(c)){o=!0;continue}else if(OY(c)){a[c]=u;continue}else{const d=cX(u,b3[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=Pxe(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}function bX(e,{style:t,vars:r},n,a){const i=e.style;let o;for(o in t)i[o]=t[o];a?.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function $M(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const kx={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($t.test(e))e=parseFloat(e);else return e;const r=$M(e,t.target.x),n=$M(e,t.target.y);return`${r}% ${n}%`}},Txe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=bh.parse(e);if(a.length>5)return n;const i=bh.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=Ws(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}},qT={borderRadius:{...kx,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:kx,borderTopRightRadius:kx,borderBottomLeftRadius:kx,borderBottomRightRadius:kx,boxShadow:Txe};function jX(e,{layout:t,layoutId:r}){return Iy.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!qT[e]||e==="opacity")}function E3(e,t,r){const n=e.style,a=t?.style,i={};if(!n)return i;for(const o in n)(uo(n[o])||a&&uo(a[o])||jX(o,e)||r?.getValue(o)?.liveStyle!==void 0)&&(i[o]=n[o]);return i}function Oxe(e){return window.getComputedStyle(e)}class Ixe extends gX{constructor(){super(...arguments),this.type="html",this.renderInstance=bX}readValueFromInstance(t,r){if(Iy.has(r))return this.projection?.isProjecting?PT(r):Zve(t,r);{const n=Oxe(t),a=(OY(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return wX(t,r)}build(t,r,n){B3(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return E3(t,r,n)}}const Fxe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Rxe={offset:"strokeDashoffset",array:"strokeDasharray"};function Lxe(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?Fxe:Rxe;e[i.offset]=`${-n}`,e[i.array]=`${t} ${r}`}const Uxe=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function _X(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if(B3(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:A,style:h}=e;A.transform&&(h.transform=A.transform,delete A.transform),(h.transform||A.transformOrigin)&&(h.transformOrigin=A.transformOrigin??"50% 50%",delete A.transformOrigin),h.transform&&(h.transformBox=d?.transformBox??"fill-box",delete A.transformBox);for(const m of Uxe)A[m]!==void 0&&(h[m]=A[m],delete A[m]);t!==void 0&&(A.x=t),r!==void 0&&(A.y=r),n!==void 0&&(A.scale=n),a!==void 0&&Lxe(A,a,i,o,!1)}const NX=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),CX=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Dxe(e,t,r,n){bX(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(NX.has(a)?a:w3(a),t.attrs[a])}function SX(e,t,r){const n=E3(e,t,r);for(const a in e)if(uo(e[a])||uo(t[a])){const i=Oy.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}class Mxe extends gX{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Za}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Iy.has(r)){const n=iX(r);return n&&n.default||0}return r=NX.has(r)?r:w3(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return SX(t,r,n)}build(t,r,n){_X(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){Dxe(t,r,n,a)}mount(t){this.isSVGTag=CX(t.tagName),super.mount(t)}}const Qxe=S3.length;function BX(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?BX(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Qxe;r++){const n=S3[r],a=e.props[n];(rw(a)||a===!1)&&(t[n]=a)}return t}function EX(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Hxe=[...C3].reverse(),$xe=C3.length;function Vxe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Qye(e,r,n)))}function qxe(e){let t=Vxe(e),r=VM(),n=!0;const a=c=>(u,d)=>{const A=wv(e,d,c==="exit"?e.presenceContext?.custom:void 0);if(A){const{transition:h,transitionEnd:m,...y}=A;u={...u,...y,...m}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=BX(e.parent)||{},A=[],h=new Set;let m={},y=1/0;for(let v=0;v<$xe;v++){const x=Hxe[v],b=r[x],j=u[x]!==void 0?u[x]:d[x],_=rw(j),N=x===c?b.isActive:null;N===!1&&(y=v);let B=j===d[x]&&j!==u[x]&&_;if(B&&n&&e.manuallyAnimateOnMount&&(B=!1),b.protectedKeys={...m},!b.isActive&&N===null||!j&&!b.prevProp||ON(j)||typeof j=="boolean")continue;if(x==="exit"&&b.isActive&&N!==!0){b.prevResolvedValues&&(m={...m,...b.prevResolvedValues});continue}const T=Kxe(b.prevProp,j);let O=T||x===c&&b.isActive&&!B&&_||v>y&&_,P=!1;const M=Array.isArray(j)?j:[j];let I=M.reduce(a(x),{});N===!1&&(I={});const{prevResolvedValues:D={}}=b,$={...D,...I},F=K=>{O=!0,h.has(K)&&(P=!0,h.delete(K)),b.needsAnimating[K]=!0;const W=e.getValue(K);W&&(W.liveStyle=!1)};for(const K in $){const W=I[K],z=D[K];if(m.hasOwnProperty(K))continue;let te=!1;LT(W)&&LT(z)?te=!EX(W,z):te=W!==z,te?W!=null?F(K):h.add(K):W!==void 0&&h.has(K)?F(K):b.protectedKeys[K]=!0}b.prevProp=j,b.prevResolvedValues=I,b.isActive&&(m={...m,...I}),n&&e.blockInitialAnimation&&(O=!1);const V=B&&T;O&&(!V||P)&&A.push(...M.map(K=>{const W={type:x};if(typeof K=="string"&&n&&!V&&e.manuallyAnimateOnMount&&e.parent){const{parent:z}=e,te=wv(z,K);if(z.enteringChildren&&te){const{delayChildren:G}=te.transition||{};W.delay=XY(z.enteringChildren,e,G)}}return{animation:K,options:W}}))}if(h.size){const v={};if(typeof u.initial!="boolean"){const x=wv(e,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(v.transition=x.transition)}h.forEach(x=>{const b=e.getBaseTarget(x),j=e.getValue(x);j&&(j.liveStyle=!0),v[x]=b??null}),A.push({animation:v})}let g=!!A.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(A):Promise.resolve()}function l(c,u){if(r[c].isActive===u)return Promise.resolve();e.variantChildren?.forEach(A=>A.animationState?.setActive(c,u)),r[c].isActive=u;const d=o(c);for(const A in r)r[A].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=VM()}}}function Kxe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!EX(t,e):!1}function jm(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function VM(){return{animate:jm(!0),whileInView:jm(),whileHover:jm(),whileTap:jm(),whileDrag:jm(),whileFocus:jm(),exit:jm()}}function qM(e,t){e.min=t.min,e.max=t.max}function eu(e,t){qM(e.x,t.x),qM(e.y,t.y)}function KM(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const kX=1e-4,zxe=1-kX,Wxe=1+kX,PX=.01,Gxe=0-PX,Yxe=0+PX;function Po(e){return e.max-e.min}function Xxe(e,t,r){return Math.abs(e-t)<=r}function zM(e,t,r,n=.5){e.origin=n,e.originPoint=Ws(t.min,t.max,e.origin),e.scale=Po(r)/Po(t),e.translate=Ws(r.min,r.max,e.origin)-e.originPoint,(e.scale>=zxe&&e.scale<=Wxe||isNaN(e.scale))&&(e.scale=1),(e.translate>=Gxe&&e.translate<=Yxe||isNaN(e.translate))&&(e.translate=0)}function y0(e,t,r,n){zM(e.x,t.x,r.x,n?n.originX:void 0),zM(e.y,t.y,r.y,n?n.originY:void 0)}function WM(e,t,r){e.min=r.min+t.min,e.max=e.min+Po(t)}function Jxe(e,t,r){WM(e.x,t.x,r.x),WM(e.y,t.y,r.y)}function GM(e,t,r){e.min=t.min-r.min,e.max=e.min+Po(t)}function Pj(e,t,r){GM(e.x,t.x,r.x),GM(e.y,t.y,r.y)}function YM(e,t,r,n,a){return e-=t,e=kj(e,1/r,n),a!==void 0&&(e=kj(e,1/a,n)),e}function Zxe(e,t=0,r=1,n=.5,a,i=e,o=e){if(hd.test(t)&&(t=parseFloat(t),t=Ws(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Ws(i.min,i.max,n);e===i&&(l-=t),e.min=YM(e.min,t,r,l,a),e.max=YM(e.max,t,r,l,a)}function XM(e,t,[r,n,a],i,o){Zxe(e,t[r],t[n],t[a],t.scale,i,o)}const e0e=["x","scaleX","originX"],t0e=["y","scaleY","originY"];function JM(e,t,r,n){XM(e.x,t,e0e,r?r.x:void 0,n?n.x:void 0),XM(e.y,t,t0e,r?r.y:void 0,n?n.y:void 0)}function ZM(e){return e.translate===0&&e.scale===1}function TX(e){return ZM(e.x)&&ZM(e.y)}function e6(e,t){return e.min===t.min&&e.max===t.max}function r0e(e,t){return e6(e.x,t.x)&&e6(e.y,t.y)}function t6(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function OX(e,t){return t6(e.x,t.x)&&t6(e.y,t.y)}function r6(e){return Po(e.x)/Po(e.y)}function n6(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function ad(e){return[e("x"),e("y")]}function n0e(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=r?.z||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:A,rotateY:h,skewX:m,skewY:y}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),A&&(n+=`rotateX(${A}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),y&&(n+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const IX=["TopLeft","TopRight","BottomLeft","BottomRight"],s0e=IX.length,s6=e=>typeof e=="string"?parseFloat(e):e,a6=e=>typeof e=="number"||$t.test(e);function a0e(e,t,r,n,a,i){a?(e.opacity=Ws(0,r.opacity??1,i0e(n)),e.opacityExit=Ws(t.opacity??1,0,o0e(n))):i&&(e.opacity=Ws(t.opacity??1,r.opacity??1,n));for(let o=0;o<s0e;o++){const l=`border${IX[o]}Radius`;let c=i6(t,l),u=i6(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||a6(c)===a6(u)?(e[l]=Math.max(Ws(s6(c),s6(u),n),0),(hd.test(u)||hd.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Ws(t.rotate||0,r.rotate||0,n))}function i6(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const i0e=FX(0,.5,SY),o0e=FX(.5,.95,Nc);function FX(e,t,r){return n=>n<e?0:n>t?1:r(Z0(e,t,n))}function l0e(e,t,r){const n=uo(e)?e:Lv(e);return n.start(y3("",n,t,r)),n.animation}function nw(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const c0e=(e,t)=>e.depth-t.depth;class u0e{constructor(){this.children=[],this.isDirty=!1}add(t){n3(this.children,t),this.isDirty=!0}remove(t){Nj(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(c0e),this.isDirty=!1,this.children.forEach(t)}}function d0e(e,t){const r=ko.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(wh(n),e(i-t))};return vs.setup(n,!0),()=>wh(n)}function K2(e){return uo(e)?e.get():e}class A0e{constructor(){this.members=[]}add(t){n3(this.members,t);for(let r=this.members.length-1;r>=0;r--){const n=this.members[r];if(n===t||n===this.lead||n===this.prevLead)continue;const a=n.instance;a&&a.isConnected===!1&&n.isPresent!==!1&&!n.snapshot&&Nj(this.members,n)}t.scheduleRender()}remove(t){if(Nj(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a],o=i.instance;if(i.isPresent!==!1&&(!o||o.isConnected!==!1)){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender();const a=n.options.layoutDependency,i=t.options.layoutDependency;if(!(a!==void 0&&i!==void 0&&a===i)){const c=n.instance;c&&c.isConnected===!1&&!n.snapshot||(t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:l}=t.options;l===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const z2={hasAnimatedSinceResize:!0,hasEverUpdated:!1},vB=["","X","Y","Z"],f0e=1e3;let h0e=0;function yB(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function RX(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=rX(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",vs,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&RX(n)}function LX({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t?.()){this.id=h0e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(g0e),this.nodes.forEach(w0e),this.nodes.forEach(b0e),this.nodes.forEach(v0e)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new u0e)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new i3),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=N3(o)&&!pxe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,A=0;const h=()=>this.root.updateBlockedByResize=!1;vs.read(()=>{A=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==A&&(A=m,this.root.updateBlockedByResize=!0,d&&d(),d=d0e(h,250),z2.hasAnimatedSinceResize&&(z2.hasAnimatedSinceResize=!1,this.nodes.forEach(c6)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:A,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||S0e,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=u.getProps(),x=!this.targetLayout||!OX(this.targetLayout,m),b=!A&&h;if(this.options.layoutRoot||this.resumeFrom||b||A&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...v3(y,"layout"),onPlay:g,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(d,b)}else A||c6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(j0e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RX(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const A=this.path[d];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(o6);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(l6);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(x0e),this.nodes.forEach(m0e),this.nodes.forEach(p0e)):this.nodes.forEach(l6),this.clearAllSnapshots();const l=ko.now();Oi.delta=wd(0,1e3/60,l-Oi.timestamp),Oi.timestamp=l,Oi.isProcessing=!0,uB.update.process(Oi),uB.preRender.process(Oi),uB.render.process(Oi),Oi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,j3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(y0e),this.sharedNodes.forEach(_0e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vs.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vs.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Po(this.snapshot.measuredBox.x)&&!Po(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Za(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!TX(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Em(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),B0e(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Za();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(E0e))){const{scroll:u}=this.root;u&&(lv(l.x,u.offset.x),lv(l.y,u.offset.y))}return l}removeElementScroll(o){const l=Za();if(eu(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:A}=u;u!==this.root&&d&&A.layoutScroll&&(d.wasRoot&&eu(l,o),lv(l.x,d.offset.x),lv(l.y,d.offset.y))}return l}applyTransform(o,l=!1){const c=Za();eu(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&cv(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Em(d.latestValues)&&cv(c,d.latestValues)}return Em(this.latestValues)&&cv(c,this.latestValues),c}removeTransform(o){const l=Za();eu(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Em(u.latestValues))continue;$T(u.latestValues)&&u.updateSnapshot();const d=Za(),A=u.measurePageBox();eu(d,A),JM(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Em(this.latestValues)&&JM(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Oi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:A}=this.options;if(!this.layout||!(d||A))return;this.resolvedRelativeTargetAt=Oi.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Za(),this.targetWithTransforms=Za()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Jxe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):eu(this.target,this.layout.layoutBox),xX(this.target,this.targetDelta)):eu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||$T(this.parent.latestValues)||yX(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Za(),this.relativeTargetOrigin=Za(),Pj(this.relativeTargetOrigin,l,c),eu(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Oi.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;eu(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,h=this.treeScale.y;Sxe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Za());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(KM(this.prevProjectionDelta.x,this.projectionDelta.x),KM(this.prevProjectionDelta.y,this.projectionDelta.y)),y0(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==h||!n6(this.projectionDelta.x,this.prevProjectionDelta.x)||!n6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ov(),this.projectionDelta=ov(),this.projectionDeltaWithTransform=ov()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},A=ov();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Za(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,g=m!==y,v=this.getStack(),x=!v||v.members.length<=1,b=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(C0e));this.animationProgress=0;let j;this.mixTargetDelta=_=>{const N=_/1e3;u6(A.x,o.x,N),u6(A.y,o.y,N),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pj(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),N0e(this.relativeTarget,this.relativeTargetOrigin,h,N),j&&r0e(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Za()),eu(j,this.relativeTarget)),g&&(this.animationValues=d,a0e(d,u,this.latestValues,N,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(wh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vs.update(()=>{z2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Lv(0)),this.currentAnimation=l0e(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(f0e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&UX(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Za();const A=Po(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+A;const h=Po(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}eu(l,c),cv(l,d),y0(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new A0e),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&yB("z",o,u,this.animationValues);for(let d=0;d<vB.length;d++)yB(`rotate${vB[d]}`,o,u,this.animationValues),yB(`skew${vB[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=K2(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=K2(l?.pointerEvents)||""),this.hasProjected&&!Em(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let A=n0e(this.projectionDeltaWithTransform,this.treeScale,d);c&&(A=c(d,A)),o.transform=A;const{x:h,y:m}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in qT){if(d[y]===void 0)continue;const{correct:g,applyTo:v,isCSSVariable:x}=qT[y],b=A==="none"?d[y]:g(d[y],u);if(v){const j=v.length;for(let _=0;_<j;_++)o[v[_]]=b}else x?this.options.visualElement.renderState.vars[y]=b:o[y]=b}this.options.layoutId&&(o.pointerEvents=u===this?K2(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(o6),this.root.sharedNodes.clear()}}}function m0e(e){e.updateLayout()}function p0e(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:a}=e.options,i=t.source!==e.layout.source;a==="size"?ad(d=>{const A=i?t.measuredBox[d]:t.layoutBox[d],h=Po(A);A.min=r[d].min,A.max=A.min+h}):UX(a,t.layoutBox,r)&&ad(d=>{const A=i?t.measuredBox[d]:t.layoutBox[d],h=Po(r[d]);A.max=A.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const o=ov();y0(o,r,t.layoutBox);const l=ov();i?y0(l,e.applyTransform(n,!0),t.measuredBox):y0(l,r,t.layoutBox);const c=!TX(o);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:A,layout:h}=d;if(A&&h){const m=Za();Pj(m,t.layoutBox,A.layoutBox);const y=Za();Pj(y,r,h.layoutBox),OX(m,y)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function g0e(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function v0e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function y0e(e){e.clearSnapshot()}function o6(e){e.clearMeasurements()}function l6(e){e.isLayoutDirty=!1}function x0e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function c6(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function w0e(e){e.resolveTargetDelta()}function b0e(e){e.calcProjection()}function j0e(e){e.resetSkewAndRotation()}function _0e(e){e.removeLeadSnapshot()}function u6(e,t,r){e.translate=Ws(t.translate,0,r),e.scale=Ws(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function d6(e,t,r,n){e.min=Ws(t.min,r.min,n),e.max=Ws(t.max,r.max,n)}function N0e(e,t,r,n){d6(e.x,t.x,r.x,n),d6(e.y,t.y,r.y,n)}function C0e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const S0e={duration:.45,ease:[.4,0,.1,1]},A6=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),f6=A6("applewebkit/")&&!A6("chrome/")?Math.round:Nc;function h6(e){e.min=f6(e.min),e.max=f6(e.max)}function B0e(e){h6(e.x),h6(e.y)}function UX(e,t,r){return e==="position"||e==="preserve-aspect"&&!Xxe(r6(t),r6(r),.2)}function E0e(e){return e!==e.root&&e.scroll?.wasRoot}const k0e=LX({attachResizeListener:(e,t)=>nw(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),xB={current:void 0},DX=LX({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!xB.current){const e=new k0e({});e.mount(window),e.setOptions({layoutScroll:!0}),xB.current=e}return xB.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),k3=C.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function m6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function P0e(...e){return t=>{let r=!1;const n=e.map(a=>{const i=m6(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():m6(e[a],null)}}}}function T0e(...e){return C.useCallback(P0e(...e),e)}class O0e extends C.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const n=r.offsetParent,a=QT(n)&&n.offsetWidth||0,i=QT(n)&&n.offsetHeight||0,o=this.props.sizeRef.current;o.height=r.offsetHeight||0,o.width=r.offsetWidth||0,o.top=r.offsetTop,o.left=r.offsetLeft,o.right=a-o.width-o.left,o.bottom=i-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function I0e({children:e,isPresent:t,anchorX:r,anchorY:n,root:a,pop:i}){const o=C.useId(),l=C.useRef(null),c=C.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:u}=C.useContext(k3),d=e.props?.ref??e?.ref,A=T0e(l,d);return C.useInsertionEffect(()=>{const{width:h,height:m,top:y,left:g,right:v,bottom:x}=c.current;if(t||i===!1||!l.current||!h||!m)return;const b=r==="left"?`left: ${g}`:`right: ${v}`,j=n==="bottom"?`bottom: ${x}`:`top: ${y}`;l.current.dataset.motionPopId=o;const _=document.createElement("style");u&&(_.nonce=u);const N=a??document.head;return N.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${b}px !important;
            ${j}px !important;
          }
        `),()=>{N.contains(_)&&N.removeChild(_)}},[t]),s.jsx(O0e,{isPresent:t,childRef:l,sizeRef:c,pop:i,children:i===!1?e:C.cloneElement(e,{ref:A})})}const F0e=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,anchorY:c,root:u})=>{const d=r3(R0e),A=C.useId();let h=!0,m=C.useMemo(()=>(h=!1,{id:A,initial:t,isPresent:r,custom:a,onExitComplete:y=>{d.set(y,!0);for(const g of d.values())if(!g)return;n&&n()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[r,d,n]);return i&&h&&(m={...m}),C.useMemo(()=>{d.forEach((y,g)=>d.set(g,!1))},[r]),C.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),e=s.jsx(I0e,{pop:o==="popLayout",isPresent:r,anchorX:l,anchorY:c,root:u,children:e}),s.jsx(TN.Provider,{value:m,children:e})};function R0e(){return new Map}function MX(e=!0){const t=C.useContext(TN);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=C.useId();C.useEffect(()=>{if(e)return a(i)},[e]);const o=C.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const I1=e=>e.key||"";function p6(e){const t=[];return C.Children.forEach(e,r=>{C.isValidElement(r)&&t.push(r)}),t}const mu=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",anchorY:c="top",root:u})=>{const[d,A]=MX(o),h=C.useMemo(()=>p6(e),[e]),m=o&&!d?[]:h.map(I1),y=C.useRef(!0),g=C.useRef(h),v=r3(()=>new Map),x=C.useRef(new Set),[b,j]=C.useState(h),[_,N]=C.useState(h);pY(()=>{y.current=!1,g.current=h;for(let O=0;O<_.length;O++){const P=I1(_[O]);m.includes(P)?(v.delete(P),x.current.delete(P)):v.get(P)!==!0&&v.set(P,!1)}},[_,m.length,m.join("-")]);const B=[];if(h!==b){let O=[...h];for(let P=0;P<_.length;P++){const M=_[P],I=I1(M);m.includes(I)||(O.splice(P,0,M),B.push(M))}return i==="wait"&&B.length&&(O=B),N(p6(O)),j(h),null}const{forceRender:T}=C.useContext(t3);return s.jsx(s.Fragment,{children:_.map(O=>{const P=I1(O),M=o&&!d?!1:h===_||m.includes(P),I=()=>{if(x.current.has(P))return;if(x.current.add(P),v.has(P))v.set(P,!0);else return;let D=!0;v.forEach($=>{$||(D=!1)}),D&&(T?.(),N(g.current),o&&A?.(),n&&n())};return s.jsx(F0e,{isPresent:M,initial:!y.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:u,onExitComplete:M?void 0:I,anchorX:l,anchorY:c,children:O},P)})})},QX=C.createContext({strict:!1}),g6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let v6=!1;function L0e(){if(v6)return;const e={};for(const t in g6)e[t]={isEnabled:r=>g6[t].some(n=>!!r[n])};pX(e),v6=!0}function HX(){return L0e(),jxe()}function U0e(e){const t=HX();for(const r in e)t[r]={...t[r],...e[r]};pX(t)}const D0e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Tj(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||D0e.has(e)}let $X=e=>!Tj(e);function M0e(e){typeof e=="function"&&($X=t=>t.startsWith("on")?!Tj(t):e(t))}try{M0e(require("@emotion/is-prop-valid").default)}catch{}function Q0e(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||($X(a)||r===!0&&Tj(a)||!t&&!Tj(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const FN=C.createContext({});function H0e(e,t){if(IN(e)){const{initial:r,animate:n}=e;return{initial:r===!1||rw(r)?r:void 0,animate:rw(n)?n:void 0}}return e.inherit!==!1?t:{}}function $0e(e){const{initial:t,animate:r}=H0e(e,C.useContext(FN));return C.useMemo(()=>({initial:t,animate:r}),[y6(t),y6(r)])}function y6(e){return Array.isArray(e)?e.join(" "):e}const P3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VX(e,t,r){for(const n in t)!uo(t[n])&&!jX(n,r)&&(e[n]=t[n])}function V0e({transformTemplate:e},t){return C.useMemo(()=>{const r=P3();return B3(r,t,e),Object.assign({},r.vars,r.style)},[t])}function q0e(e,t){const r=e.style||{},n={};return VX(n,r,e),Object.assign(n,V0e(e,t)),n}function K0e(e,t){const r={},n=q0e(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const qX=()=>({...P3(),attrs:{}});function z0e(e,t,r,n){const a=C.useMemo(()=>{const i=qX();return _X(i,t,CX(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};VX(i,e.style,e),a.style={...i,...a.style}}return a}const W0e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function T3(e){return typeof e!="string"||e.includes("-")?!1:!!(W0e.indexOf(e)>-1||/[A-Z]/u.test(e))}function G0e(e,t,r,{latestValues:n},a,i=!1,o){const c=(o??T3(e)?z0e:K0e)(t,n,a,e),u=Q0e(t,typeof e=="string",i),d=e!==C.Fragment?{...u,...c,ref:r}:{},{children:A}=t,h=C.useMemo(()=>uo(A)?A.get():A,[A]);return C.createElement(e,{...d,children:h})}function Y0e({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:X0e(r,n,a,e),renderState:t()}}function X0e(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=K2(i[h]);let{initial:o,animate:l}=e;const c=IN(e),u=hX(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const A=d?l:o;if(A&&typeof A!="boolean"&&!ON(A)){const h=Array.isArray(A)?A:[A];for(let m=0;m<h.length;m++){const y=x3(e,h[m]);if(y){const{transitionEnd:g,transition:v,...x}=y;for(const b in x){let j=x[b];if(Array.isArray(j)){const _=d?j.length-1:0;j=j[_]}j!==null&&(a[b]=j)}for(const b in g)a[b]=g[b]}}}return a}const KX=e=>(t,r)=>{const n=C.useContext(FN),a=C.useContext(TN),i=()=>Y0e(e,t,n,a);return r?i():r3(i)},J0e=KX({scrapeMotionValuesFromProps:E3,createRenderState:P3}),Z0e=KX({scrapeMotionValuesFromProps:SX,createRenderState:qX}),ewe=Symbol.for("motionComponentSymbol");function twe(e,t,r){const n=C.useRef(r);C.useInsertionEffect(()=>{n.current=r});const a=C.useRef(null);return C.useCallback(i=>{i&&e.onMount?.(i),t&&(i?t.mount(i):t.unmount());const o=n.current;if(typeof o=="function")if(i){const l=o(i);typeof l=="function"&&(a.current=l)}else a.current?(a.current(),a.current=null):o(i);else o&&(o.current=i)},[t])}const zX=C.createContext({});function Yg(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function rwe(e,t,r,n,a,i){const{visualElement:o}=C.useContext(FN),l=C.useContext(QX),c=C.useContext(TN),u=C.useContext(k3),d=u.reducedMotion,A=u.skipAnimations,h=C.useRef(null),m=C.useRef(!1);n=n||l.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:o,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d,skipAnimations:A,isSVG:i}),m.current&&h.current&&(h.current.manuallyAnimateOnMount=!0));const y=h.current,g=C.useContext(zX);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&nwe(h.current,r,a,g);const v=C.useRef(!1);C.useInsertionEffect(()=>{y&&v.current&&y.update(r,c)});const x=r[tX],b=C.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return pY(()=>{m.current=!0,y&&(v.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),b.current&&y.animationState&&y.animationState.animateChanges())}),C.useEffect(()=>{y&&(!b.current&&y.animationState&&y.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),b.current=!1),y.enteringChildren=void 0)}),y}function nwe(e,t,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:WX(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Yg(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function WX(e){if(e)return e.options.allowProjection!==!1?e.projection:WX(e.parent)}function wB(e,{forwardMotionProps:t=!1,type:r}={},n,a){n&&U0e(n);const i=r?r==="svg":T3(e),o=i?Z0e:J0e;function l(u,d){let A;const h={...C.useContext(k3),...u,layoutId:swe(u)},{isStatic:m}=h,y=$0e(u),g=o(u,m);if(!m&&mY){awe();const v=iwe(h);A=v.MeasureLayout,y.visualElement=rwe(e,g,h,a,v.ProjectionNode,i)}return s.jsxs(FN.Provider,{value:y,children:[A&&y.visualElement?s.jsx(A,{visualElement:y.visualElement,...h}):null,G0e(e,u,twe(g,y.visualElement,d),g,m,t,i)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=C.forwardRef(l);return c[ewe]=e,c}function swe({layoutId:e}){const t=C.useContext(t3).id;return t&&e!==void 0?t+"-"+e:e}function awe(e,t){C.useContext(QX).strict}function iwe(e){const t=HX(),{drag:r,layout:n}=t;if(!r&&!n)return{};const a={...r,...n};return{MeasureLayout:r?.isEnabled(e)||n?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function owe(e,t){if(typeof Proxy>"u")return wB;const r=new Map,n=(i,o)=>wB(i,o,e,t),a=(i,o)=>n(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,wB(o,void 0,e,t)),r.get(o))})}const lwe=(e,t)=>t.isSVG??T3(e)?new Mxe(t):new Ixe(t,{allowProjection:e!==C.Fragment});class cwe extends Fh{constructor(t){super(t),t.animationState||(t.animationState=qxe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ON(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let uwe=0;class dwe extends Fh{constructor(){super(...arguments),this.id=uwe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Awe={animation:{Feature:cwe},exit:{Feature:dwe}};function ab(e){return{point:{x:e.pageX,y:e.pageY}}}const fwe=e=>t=>_3(t)&&e(t,ab(t));function x0(e,t,r,n){return nw(e,t,fwe(r),n)}const GX=({current:e})=>e?e.ownerDocument.defaultView:null,x6=(e,t)=>Math.abs(e-t);function hwe(e,t){const r=x6(e.x,t.x),n=x6(e.y,t.y);return Math.sqrt(r**2+n**2)}const w6=new Set(["auto","scroll"]);class YX{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=jB(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,g=hwe(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!g)return;const{point:v}=m,{timestamp:x}=Oi;this.history.push({...v,timestamp:x});const{onStart:b,onMove:j}=this.handlers;y||(b&&b(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=bB(y,this.transformPagePoint),vs.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:x}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=jB(m.type==="pointercancel"?this.lastMoveEventInfo:bB(y,this.transformPagePoint),this.history);this.startEvent&&g&&g(m,b),v&&v(m,b)},!_3(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const c=ab(t),u=bB(c,this.transformPagePoint),{point:d}=u,{timestamp:A}=Oi;this.history=[{...d,timestamp:A}];const{onSessionStart:h}=r;h&&h(t,jB(u,this.history)),this.removeListeners=rb(x0(this.contextWindow,"pointermove",this.handlePointerMove),x0(this.contextWindow,"pointerup",this.handlePointerUp),x0(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let r=t.parentElement;for(;r;){const n=getComputedStyle(r);(w6.has(n.overflowX)||w6.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const r=this.scrollPositions.get(t);if(!r)return;const n=t===window,a=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:a.x-r.x,y:a.y-r.y};i.x===0&&i.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,a),vs.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),wh(this.updatePoint)}}function bB(e,t){return t?{point:t(e.point)}:e}function b6(e,t){return{x:e.x-t.x,y:e.y-t.y}}function jB({point:e},t){return{point:e,delta:b6(e,XX(t)),offset:b6(e,mwe(t)),velocity:pwe(t,.1)}}function mwe(e){return e[0]}function XX(e){return e[e.length-1]}function pwe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=XX(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>hu(t)));)r--;if(!n)return{x:0,y:0};n===e[0]&&e.length>2&&a.timestamp-n.timestamp>hu(t)*2&&(n=e[1]);const i=wc(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function gwe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ws(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ws(r,e,n.max):Math.min(e,r)),e}function j6(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function vwe(e,{top:t,left:r,bottom:n,right:a}){return{x:j6(e.x,r,a),y:j6(e.y,t,n)}}function _6(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function ywe(e,t){return{x:_6(e.x,t.x),y:_6(e.y,t.y)}}function xwe(e,t){let r=.5;const n=Po(e),a=Po(t);return a>n?r=Z0(t.min,t.max-n,e.min):n>a&&(r=Z0(e.min,e.max-a,t.min)),wd(0,1,r)}function wwe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const KT=.35;function bwe(e=KT){return e===!1?e=0:e===!0&&(e=KT),{x:N6(e,"left","right"),y:N6(e,"top","bottom")}}function N6(e,t,r){return{min:C6(e,t),max:C6(e,r)}}function C6(e,t){return typeof e=="number"?e:e[t]||0}const jwe=new WeakMap;class _we{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Za(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=A=>{r&&this.snapToCursor(ab(A).point),this.stopAnimation()},o=(A,h)=>{const{drag:m,dragPropagation:y,onDragStart:g}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Zye(m),!this.openDragLock))return;this.latestPointerEvent=A,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ad(x=>{let b=this.getAxisMotionValue(x).get()||0;if(hd.test(b)){const{projection:j}=this.visualElement;if(j&&j.layout){const _=j.layout.layoutBox[x];_&&(b=Po(_)*(parseFloat(b)/100))}}this.originPoint[x]=b}),g&&vs.update(()=>g(A,h),!1,!0),UT(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(A,h)=>{this.latestPointerEvent=A,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:g,onDrag:v}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:x}=h;if(y&&this.currentDirection===null){this.currentDirection=Cwe(x),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),v&&vs.update(()=>v(A,h),!1,!0)},c=(A,h)=>{this.latestPointerEvent=A,this.latestPanInfo=h,this.stop(A,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>{const{dragSnapToOrigin:A}=this.getProps();(A||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:d}=this.getProps();this.panSession=new YX(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:GX(this.visualElement),element:this.visualElement.current})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&vs.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!F1(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=gwe(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Yg(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=vwe(n.layoutBox,t):this.constraints=!1,this.elastic=bwe(r),a!==this.constraints&&!Yg(t)&&n&&this.constraints&&!this.hasMutatedConstraints&&ad(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=wwe(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Yg(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Bxe(n,a.root,this.visualElement.getTransformPagePoint());let o=ywe(a.layout.layoutBox,i);if(r){const l=r(Nxe(o));this.hasMutatedConstraints=!!l,l&&(o=vX(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ad(d=>{if(!F1(d,r,this.currentDirection))return;let A=c&&c[d]||{};o&&(A={min:0,max:0});const h=a?200:1e6,m=a?40:1e7,y={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...A};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return UT(this.visualElement,t),n.start(y3(t,n,0,r,this.visualElement,!1))}stopAnimation(){ad(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ad(r=>{const{drag:n}=this.getProps();if(!F1(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r],c=i.get()||0;i.set(t[r]-Ws(o,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Yg(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ad(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=xwe({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),ad(o=>{if(!F1(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Ws(c,u,a[o]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;jwe.set(this.visualElement,this);const t=this.visualElement.current,r=x0(t,"pointerdown",u=>{const{drag:d,dragListener:A=!0}=this.getProps(),h=u.target,m=h!==t&&axe(h);d&&A&&!m&&this.start(u)});let n;const a=()=>{const{dragConstraints:u}=this.getProps();Yg(u)&&u.current&&(this.constraints=this.resolveRefConstraints(),n||(n=Nwe(t,u.current,()=>this.scalePositionWithinConstraints())))},{projection:i}=this.visualElement,o=i.addEventListener("measure",a);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),vs.read(a);const l=nw(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(ad(A=>{const h=this.getAxisMotionValue(A);h&&(this.originPoint[A]+=u[A].translate,h.set(h.get()+u[A].translate))}),this.visualElement.render())}));return()=>{l(),r(),o(),c&&c(),n&&n()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=KT,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function S6(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function Nwe(e,t,r){const n=IM(e,S6(r)),a=IM(t,S6(r));return()=>{n(),a()}}function F1(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Cwe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Swe extends Fh{constructor(t){super(t),this.removeGroupControls=Nc,this.removeListeners=Nc,this.controls=new _we(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nc}update(){const{dragControls:t}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};t!==r&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const _B=e=>(t,r)=>{e&&vs.update(()=>e(t,r),!1,!0)};class Bwe extends Fh{constructor(){super(...arguments),this.removePointerDownListener=Nc}onPointerDown(t){this.session=new YX(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GX(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:_B(t),onStart:_B(r),onMove:_B(n),onEnd:(i,o)=>{delete this.session,a&&vs.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=x0(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let NB=!1;class Ewe extends C.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),NB&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),z2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,t.layoutDependency!==r&&o.setOptions({...o.options,layoutDependency:r}),NB=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||vs.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),j3.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;NB=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function JX(e){const[t,r]=MX(),n=C.useContext(t3);return s.jsx(Ewe,{...e,layoutGroup:n,switchLayoutGroup:C.useContext(zX),isPresent:t,safeToRemove:r})}const kwe={pan:{Feature:Bwe},drag:{Feature:Swe,ProjectionNode:DX,MeasureLayout:JX}};function B6(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&vs.postRender(()=>i(t,ab(t)))}class Pwe extends Fh{mount(){const{current:t}=this.node;t&&(this.unmount=txe(t,(r,n)=>(B6(this.node,n,"Start"),a=>B6(this.node,a,"End"))))}unmount(){}}class Twe extends Fh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rb(nw(this.node.current,"focus",()=>this.onFocus()),nw(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function E6(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&vs.postRender(()=>i(t,ab(t)))}class Owe extends Fh{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:r,propagate:n}=this.node.props;this.unmount=oxe(t,(a,i)=>(E6(this.node,i,"Start"),(o,{success:l})=>E6(this.node,o,l?"End":"Cancel")),{useGlobalTarget:r,stopPropagation:n?.tap===!1})}unmount(){}}const zT=new WeakMap,CB=new WeakMap,Iwe=e=>{const t=zT.get(e.target);t&&t(e)},Fwe=e=>{e.forEach(Iwe)};function Rwe({root:e,...t}){const r=e||document;CB.has(r)||CB.set(r,{});const n=CB.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(Fwe,{root:e,...t})),n[a]}function Lwe(e,t,r){const n=Rwe(t);return zT.set(e,r),n.observe(e),()=>{zT.delete(e),n.unobserve(e)}}const Uwe={some:0,all:1};class Dwe extends Fh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:Uwe[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:A}=this.node.getProps(),h=u?d:A;h&&h(c)};return Lwe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Mwe(t,r))&&this.startObserver()}unmount(){}}function Mwe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Qwe={inView:{Feature:Dwe},tap:{Feature:Owe},focus:{Feature:Twe},hover:{Feature:Pwe}},Hwe={layout:{ProjectionNode:DX,MeasureLayout:JX}},$we={...Awe,...Qwe,...kwe,...Hwe},vt=owe($we,lwe),sw=Gw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),de=C.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?rW:"button";return s.jsx(o,{className:st(sw({variant:t,size:r,className:e})),ref:i,...a})});de.displayName="Button";const it=C.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:st("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));it.displayName="Input";var Vwe="Label",ZX=C.forwardRef((e,t)=>s.jsx(kt.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ZX.displayName=Vwe;var eJ=ZX;const qwe=Gw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Je=C.forwardRef(({className:e,...t},r)=>s.jsx(eJ,{ref:r,className:st(qwe(),e),...t}));Je.displayName=eJ.displayName;function O3(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var RN="Checkbox",[Kwe]=$i(RN),[zwe,I3]=Kwe(RN);function Wwe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:A}=e,[h,m]=xu({prop:r,defaultProp:a??!1,onChange:c,caller:RN}),[y,g]=C.useState(null),[v,x]=C.useState(null),b=C.useRef(!1),j=y?!!o||!!y.closest("form"):!0,_={checked:h,disabled:i,setChecked:m,control:y,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:dh(a)?!1:a,isFormControl:j,bubbleInput:v,setBubbleInput:x};return s.jsx(zwe,{scope:t,..._,children:Gwe(A)?A(_):n})}var tJ="CheckboxTrigger",rJ=C.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:A,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:y}=I3(tJ,e),g=Qr(a,d),v=C.useRef(c);return C.useEffect(()=>{const x=i?.form;if(x){const b=()=>A(v.current);return x.addEventListener("reset",b),()=>x.removeEventListener("reset",b)}},[i,A]),s.jsx(kt.button,{type:"button",role:"checkbox","aria-checked":dh(c)?"mixed":c,"aria-required":u,"data-state":oJ(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:yt(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:yt(r,x=>{A(b=>dh(b)?!0:!b),y&&m&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});rJ.displayName=tJ;var F3=C.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...A}=e;return s.jsx(Wwe,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(rJ,{...A,ref:t,__scopeCheckbox:r}),h&&s.jsx(iJ,{__scopeCheckbox:r})]})})});F3.displayName=RN;var nJ="CheckboxIndicator",sJ=C.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=I3(nJ,r);return s.jsx(wi,{present:n||dh(i.checked)||i.checked===!0,children:s.jsx(kt.span,{"data-state":oJ(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});sJ.displayName=nJ;var aJ="CheckboxBubbleInput",iJ=C.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:A,bubbleInput:h,setBubbleInput:m}=I3(aJ,e),y=Qr(r,m),g=O3(i),v=DF(n);C.useEffect(()=>{const b=h;if(!b)return;const j=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(j,"checked").set,B=!a.current;if(g!==i&&N){const T=new Event("click",{bubbles:B});b.indeterminate=dh(i),N.call(b,dh(i)?!1:i),b.dispatchEvent(T)}},[h,g,i,a]);const x=C.useRef(dh(i)?!1:i);return s.jsx(kt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:u,value:d,form:A,...t,tabIndex:-1,ref:y,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});iJ.displayName=aJ;function Gwe(e){return typeof e=="function"}function dh(e){return e==="indeterminate"}function oJ(e){return dh(e)?"indeterminate":e?"checked":"unchecked"}const jh=C.forwardRef(({className:e,...t},r)=>s.jsx(F3,{ref:r,className:st("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(sJ,{className:st("flex items-center justify-center text-current"),children:s.jsx(CF,{className:"h-4 w-4"})})}));jh.displayName=F3.displayName;const Ywe=[{value:"super_admin",label:"Platform Super Admin",icon:Lo,description:"Platform control"},{value:"admin",label:"Organization Admin",icon:OW,description:"Organization management"},{value:"manager",label:"Manager",icon:Nr,description:"Property operations"},{value:"staff",label:"Staff",icon:PW,description:"Staff operations"},{value:"tenant",label:"Tenant",icon:Fs,description:"Tenant portal"},{value:"user",label:"User",icon:si,description:"User access"}],Xwe=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(""),[a,i]=C.useState("admin"),[o,l]=C.useState(!1),[c,u]=C.useState(!1),{signIn:d}=ua(),A=bi(),h=async m=>{if(m.preventDefault(),!e.trim()||!r.trim()){He.error("Please enter your email and password");return}u(!0);try{const{error:y}=await d(e,r);if(y){He.error(y.message),u(!1);return}const{data:{user:g}}=await be.auth.getUser();if(!g){He.error("Authentication failed"),await be.auth.signOut(),u(!1);return}const{data:v,error:x}=await be.from("user_roles").select("role").eq("user_id",g.id);if(x||!v?.length){He.error("No role assigned to this account. Contact your administrator."),await be.auth.signOut(),u(!1);return}if(!v.map(_=>_.role).includes(a)){He.error("Invalid role for this account."),await be.auth.signOut(),u(!1);return}He.success("Welcome back!"),A({super_admin:"/super-admin",admin:"/admin",manager:"/manager",staff:"/staff",tenant:"/tenant",user:"/user"}[a]||"/")}catch{He.error("An unexpected error occurred")}finally{u(!1)}};return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-sm",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-14 h-14 rounded-2xl bg-primary/15 glow-primary flex items-center justify-center mx-auto mb-4",children:s.jsx(sn,{className:"w-7 h-7 text-primary"})}),s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"PropFlow"}),s.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Enterprise Property Management"})]}),s.jsxs("div",{className:"glass-card p-5 space-y-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Je,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Login as"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Ywe.map(({value:m,label:y,icon:g})=>s.jsxs("button",{type:"button",onClick:()=>i(m),className:st("flex min-h-12 min-w-0 items-center justify-center gap-2 px-3 py-2 rounded-xl text-[13px] sm:text-sm font-medium transition-all border",a===m?"bg-primary text-primary-foreground border-primary shadow-md":"bg-secondary/50 text-muted-foreground border-border hover:bg-secondary hover:text-foreground"),children:[s.jsx(g,{className:"w-4 h-4 shrink-0"}),s.jsx("span",{className:"min-w-0 whitespace-normal break-words text-center leading-snug",title:y,children:y})]},m))})]}),s.jsxs("form",{onSubmit:h,className:"space-y-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Je,{htmlFor:"email",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Bu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(it,{id:"email",type:"email",placeholder:"you@example.com",value:e,onChange:m=>t(m.target.value),className:"pl-9",required:!0,autoComplete:"email"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Je,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(U0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(it,{id:"password",type:"password",placeholder:"",value:r,onChange:m=>n(m.target.value),className:"pl-9",required:!0,autoComplete:"current-password"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jh,{id:"remember",checked:o,onCheckedChange:m=>l(m===!0)}),s.jsx(Je,{htmlFor:"remember",className:"text-sm text-muted-foreground cursor-pointer",children:"Remember me"})]}),s.jsx(de,{type:"submit",className:"w-full rounded-xl",disabled:c,children:c?"Signing in...":"Sign In"})]}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Account access is managed by your administrator."})]})]})})},Jwe=()=>{const e=Vi();return C.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},k6=e=>{let t;const r=new Set,n=(u,d)=>{const A=typeof u=="function"?u(t):u;if(!Object.is(A,t)){const h=t;t=d??(typeof A!="object"||A===null)?A:Object.assign({},t,A),r.forEach(m=>m(t,h))}},a=()=>t,l={setState:n,getState:a,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=t=e(n,a,l);return l},Zwe=(e=>e?k6(e):k6),ebe=e=>e;function tbe(e,t=ebe){const r=se.useSyncExternalStore(e.subscribe,se.useCallback(()=>t(e.getState()),[e,t]),se.useCallback(()=>t(e.getInitialState()),[e,t]));return se.useDebugValue(r),r}const P6=e=>{const t=Zwe(e),r=n=>tbe(t,n);return Object.assign(r,t),r},rbe=(e=>e?P6(e):P6),Fy=rbe(e=>({sidebarCollapsed:!1,toggleSidebar:()=>e(t=>({sidebarCollapsed:!t.sidebarCollapsed})),commandPaletteOpen:!1,setCommandPaletteOpen:t=>e({commandPaletteOpen:t})}));var nbe=C.createContext(void 0);function ib(e){const t=C.useContext(nbe);return e||t||"ltr"}var SB=0;function LN(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??T6()),document.body.insertAdjacentElement("beforeend",e[1]??T6()),SB++,()=>{SB===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),SB--}},[])}function T6(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var BB="focusScope.autoFocusOnMount",EB="focusScope.autoFocusOnUnmount",O6={bubbles:!1,cancelable:!0},sbe="FocusScope",ob=C.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=C.useState(null),u=la(a),d=la(i),A=C.useRef(null),h=Qr(t,g=>c(g)),m=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(n){let g=function(j){if(m.paused||!l)return;const _=j.target;l.contains(_)?A.current=_:Vf(A.current,{select:!0})},v=function(j){if(m.paused||!l)return;const _=j.relatedTarget;_!==null&&(l.contains(_)||Vf(A.current,{select:!0}))},x=function(j){if(document.activeElement===document.body)for(const N of j)N.removedNodes.length>0&&Vf(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,m.paused]),C.useEffect(()=>{if(l){F6.add(m);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(BB,O6);l.addEventListener(BB,u),l.dispatchEvent(x),x.defaultPrevented||(abe(ube(lJ(l)),{select:!0}),document.activeElement===g&&Vf(l))}return()=>{l.removeEventListener(BB,u),setTimeout(()=>{const x=new CustomEvent(EB,O6);l.addEventListener(EB,d),l.dispatchEvent(x),x.defaultPrevented||Vf(g??document.body,{select:!0}),l.removeEventListener(EB,d),F6.remove(m)},0)}}},[l,u,d,m]);const y=C.useCallback(g=>{if(!r&&!n||m.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(v&&x){const b=g.currentTarget,[j,_]=ibe(b);j&&_?!g.shiftKey&&x===_?(g.preventDefault(),r&&Vf(j,{select:!0})):g.shiftKey&&x===j&&(g.preventDefault(),r&&Vf(_,{select:!0})):x===b&&g.preventDefault()}},[r,n,m.paused]);return s.jsx(kt.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});ob.displayName=sbe;function abe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Vf(n,{select:t}),document.activeElement!==r)return}function ibe(e){const t=lJ(e),r=I6(t,e),n=I6(t.reverse(),e);return[r,n]}function lJ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function I6(e,t){for(const r of e)if(!obe(r,{upTo:t}))return r}function obe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function lbe(e){return e instanceof HTMLInputElement&&"select"in e}function Vf(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&lbe(e)&&t&&e.select()}}var F6=cbe();function cbe(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=R6(e,t),e.unshift(t)},remove(t){e=R6(e,t),e[0]?.resume()}}}function R6(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function ube(e){return e.filter(t=>t.tagName!=="A")}var kB="rovingFocusGroup.onEntryFocus",dbe={bubbles:!1,cancelable:!0},lb="RovingFocusGroup",[WT,cJ,Abe]=hN(lb),[fbe,UN]=$i(lb,[Abe]),[hbe,mbe]=fbe(lb),uJ=C.forwardRef((e,t)=>s.jsx(WT.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(WT.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(pbe,{...e,ref:t})})}));uJ.displayName=lb;var pbe=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...A}=e,h=C.useRef(null),m=Qr(t,h),y=ib(i),[g,v]=xu({prop:o,defaultProp:l??null,onChange:c,caller:lb}),[x,b]=C.useState(!1),j=la(u),_=cJ(r),N=C.useRef(!1),[B,T]=C.useState(0);return C.useEffect(()=>{const O=h.current;if(O)return O.addEventListener(kB,j),()=>O.removeEventListener(kB,j)},[j]),s.jsx(hbe,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:g,onItemFocus:C.useCallback(O=>v(O),[v]),onItemShiftTab:C.useCallback(()=>b(!0),[]),onFocusableItemAdd:C.useCallback(()=>T(O=>O+1),[]),onFocusableItemRemove:C.useCallback(()=>T(O=>O-1),[]),children:s.jsx(kt.div,{tabIndex:x||B===0?-1:0,"data-orientation":n,...A,ref:m,style:{outline:"none",...e.style},onMouseDown:yt(e.onMouseDown,()=>{N.current=!0}),onFocus:yt(e.onFocus,O=>{const P=!N.current;if(O.target===O.currentTarget&&P&&!x){const M=new CustomEvent(kB,dbe);if(O.currentTarget.dispatchEvent(M),!M.defaultPrevented){const I=_().filter(X=>X.focusable),D=I.find(X=>X.active),$=I.find(X=>X.id===g),V=[D,$,...I].filter(Boolean).map(X=>X.ref.current);fJ(V,d)}}N.current=!1}),onBlur:yt(e.onBlur,()=>b(!1))})})}),dJ="RovingFocusGroupItem",AJ=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=vi(),u=i||c,d=mbe(dJ,r),A=d.currentTabStopId===u,h=cJ(r),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:g}=d;return C.useEffect(()=>{if(n)return m(),()=>y()},[n,m,y]),s.jsx(WT.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(kt.span,{tabIndex:A?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:yt(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:yt(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:yt(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=ybe(v,d.orientation,d.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let j=h().filter(_=>_.focusable).map(_=>_.ref.current);if(x==="last")j.reverse();else if(x==="prev"||x==="next"){x==="prev"&&j.reverse();const _=j.indexOf(v.currentTarget);j=d.loop?xbe(j,_+1):j.slice(_+1)}setTimeout(()=>fJ(j))}}),children:typeof o=="function"?o({isCurrentTabStop:A,hasTabStop:g!=null}):o})})});AJ.displayName=dJ;var gbe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vbe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ybe(e,t,r){const n=vbe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return gbe[n]}function fJ(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function xbe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var hJ=uJ,mJ=AJ,wbe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Bg=new WeakMap,R1=new WeakMap,L1={},PB=0,pJ=function(e){return e&&(e.host||pJ(e.parentNode))},bbe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=pJ(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},jbe=function(e,t,r,n){var a=bbe(t,Array.isArray(e)?e:[e]);L1[r]||(L1[r]=new WeakMap);var i=L1[r],o=[],l=new Set,c=new Set(a),u=function(A){!A||l.has(A)||(l.add(A),u(A.parentNode))};a.forEach(u);var d=function(A){!A||c.has(A)||Array.prototype.forEach.call(A.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),y=m!==null&&m!=="false",g=(Bg.get(h)||0)+1,v=(i.get(h)||0)+1;Bg.set(h,g),i.set(h,v),o.push(h),g===1&&y&&R1.set(h,!0),v===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),PB++,function(){o.forEach(function(A){var h=Bg.get(A)-1,m=i.get(A)-1;Bg.set(A,h),i.set(A,m),h||(R1.has(A)||A.removeAttribute(n),R1.delete(A)),m||A.removeAttribute(r)}),PB--,PB||(Bg=new WeakMap,Bg=new WeakMap,R1=new WeakMap,L1={})}},DN=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=wbe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),jbe(n,a,r,"aria-hidden")):function(){return null}},W2="right-scroll-bar-position",G2="width-before-scroll-bar",_be="with-scroll-bars-hidden",Nbe="--removed-body-scroll-bar-size";function TB(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Cbe(e,t){var r=C.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Sbe=typeof window<"u"?C.useLayoutEffect:C.useEffect,L6=new WeakMap;function Bbe(e,t){var r=Cbe(null,function(n){return e.forEach(function(a){return TB(a,n)})});return Sbe(function(){var n=L6.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||TB(l,null)}),i.forEach(function(l){a.has(l)||TB(l,o)})}L6.set(r,e)},[e]),r}function Ebe(e){return e}function kbe(e,t){t===void 0&&(t=Ebe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function Pbe(e){e===void 0&&(e={});var t=kbe(null);return t.options=id({async:!0,ssr:!1},e),t}var gJ=function(e){var t=e.sideCar,r=ky(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return C.createElement(n,id({},r))};gJ.isSideCarExport=!0;function Tbe(e,t){return e.useMedium(t),gJ}var vJ=Pbe(),OB=function(){},MN=C.forwardRef(function(e,t){var r=C.useRef(null),n=C.useState({onScrollCapture:OB,onWheelCapture:OB,onTouchMoveCapture:OB}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,A=e.shards,h=e.sideCar,m=e.noRelative,y=e.noIsolation,g=e.inert,v=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,j=e.gapMode,_=ky(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,B=Bbe([r,t]),T=id(id({},_),a);return C.createElement(C.Fragment,null,d&&C.createElement(N,{sideCar:vJ,removeScrollBar:u,shards:A,noRelative:m,noIsolation:y,inert:g,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:j}),o?C.cloneElement(C.Children.only(l),id(id({},T),{ref:B})):C.createElement(b,id({},T,{className:c,ref:B}),l))});MN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};MN.classNames={fullWidth:G2,zeroRight:W2};var Obe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ibe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Obe();return t&&e.setAttribute("nonce",t),e}function Fbe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Rbe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Lbe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Ibe())&&(Fbe(t,r),Rbe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Ube=function(){var e=Lbe();return function(t,r){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},yJ=function(){var e=Ube(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Dbe={left:0,top:0,right:0,gap:0},IB=function(e){return parseInt(e||"",10)||0},Mbe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[IB(r),IB(n),IB(a)]},Qbe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Dbe;var t=Mbe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Hbe=yJ(),bv="data-scroll-locked",$be=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(_be,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(bv,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(W2,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(G2,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(W2," .").concat(W2,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(G2," .").concat(G2,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(bv,`] {
    `).concat(Nbe,": ").concat(l,`px;
  }
`)},U6=function(){var e=parseInt(document.body.getAttribute(bv)||"0",10);return isFinite(e)?e:0},Vbe=function(){C.useEffect(function(){return document.body.setAttribute(bv,(U6()+1).toString()),function(){var e=U6()-1;e<=0?document.body.removeAttribute(bv):document.body.setAttribute(bv,e.toString())}},[])},qbe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Vbe();var i=C.useMemo(function(){return Qbe(a)},[a]);return C.createElement(Hbe,{styles:$be(i,!t,a,r?"":"!important")})},GT=!1;if(typeof window<"u")try{var U1=Object.defineProperty({},"passive",{get:function(){return GT=!0,!0}});window.addEventListener("test",U1,U1),window.removeEventListener("test",U1,U1)}catch{GT=!1}var Eg=GT?{passive:!1}:!1,Kbe=function(e){return e.tagName==="TEXTAREA"},xJ=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Kbe(e)&&r[t]==="visible")},zbe=function(e){return xJ(e,"overflowY")},Wbe=function(e){return xJ(e,"overflowX")},D6=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=wJ(e,n);if(a){var i=bJ(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Gbe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Ybe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},wJ=function(e,t){return e==="v"?zbe(t):Wbe(t)},bJ=function(e,t){return e==="v"?Gbe(t):Ybe(t)},Xbe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Jbe=function(e,t,r,n,a){var i=Xbe(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,A=0,h=0;do{if(!l)break;var m=bJ(e,l),y=m[0],g=m[1],v=m[2],x=g-v-i*y;(y||x)&&wJ(e,l)&&(A+=x,h+=y);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(A)<1||!d&&Math.abs(h)<1)&&(u=!0),u},D1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},M6=function(e){return[e.deltaX,e.deltaY]},Q6=function(e){return e&&"current"in e?e.current:e},Zbe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},e1e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},t1e=0,kg=[];function r1e(e){var t=C.useRef([]),r=C.useRef([0,0]),n=C.useRef(),a=C.useState(t1e++)[0],i=C.useState(yJ)[0],o=C.useRef(e);C.useEffect(function(){o.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=mme([e.lockRef.current],(e.shards||[]).map(Q6),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=C.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=D1(g),b=r.current,j="deltaX"in g?g.deltaX:b[0]-x[0],_="deltaY"in g?g.deltaY:b[1]-x[1],N,B=g.target,T=Math.abs(j)>Math.abs(_)?"h":"v";if("touches"in g&&T==="h"&&B.type==="range")return!1;var O=D6(T,B);if(!O)return!0;if(O?N=T:(N=T==="v"?"h":"v",O=D6(T,B)),!O)return!1;if(!n.current&&"changedTouches"in g&&(j||_)&&(n.current=N),!N)return!0;var P=n.current||N;return Jbe(P,v,g,P==="h"?j:_)},[]),c=C.useCallback(function(g){var v=g;if(!(!kg.length||kg[kg.length-1]!==i)){var x="deltaY"in v?M6(v):D1(v),b=t.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&Zbe(N.delta,x)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var j=(o.current.shards||[]).map(Q6).filter(Boolean).filter(function(N){return N.contains(v.target)}),_=j.length>0?l(v,j[0]):!o.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=C.useCallback(function(g,v,x,b){var j={name:g,delta:v,target:x,should:b,shadowParent:n1e(x)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(_){return _!==j})},1)},[]),d=C.useCallback(function(g){r.current=D1(g),n.current=void 0},[]),A=C.useCallback(function(g){u(g.type,M6(g),g.target,l(g,e.lockRef.current))},[]),h=C.useCallback(function(g){u(g.type,D1(g),g.target,l(g,e.lockRef.current))},[]);C.useEffect(function(){return kg.push(i),e.setCallbacks({onScrollCapture:A,onWheelCapture:A,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Eg),document.addEventListener("touchmove",c,Eg),document.addEventListener("touchstart",d,Eg),function(){kg=kg.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Eg),document.removeEventListener("touchmove",c,Eg),document.removeEventListener("touchstart",d,Eg)}},[]);var m=e.removeScrollBar,y=e.inert;return C.createElement(C.Fragment,null,y?C.createElement(i,{styles:e1e(a)}):null,m?C.createElement(qbe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function n1e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const s1e=Tbe(vJ,r1e);var cb=C.forwardRef(function(e,t){return C.createElement(MN,id({},e,{ref:t,sideCar:s1e}))});cb.classNames=MN.classNames;var YT=["Enter"," "],a1e=["ArrowDown","PageUp","Home"],jJ=["ArrowUp","PageDown","End"],i1e=[...a1e,...jJ],o1e={ltr:[...YT,"ArrowRight"],rtl:[...YT,"ArrowLeft"]},l1e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ub="Menu",[aw,c1e,u1e]=hN(ub),[Op,_J]=$i(ub,[u1e,Oh,UN]),QN=Oh(),NJ=UN(),[d1e,Ip]=Op(ub),[A1e,db]=Op(ub),CJ=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=QN(t),[c,u]=C.useState(null),d=C.useRef(!1),A=la(i),h=ib(a);return C.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),s.jsx(bN,{...l,children:s.jsx(d1e,{scope:t,open:r,onOpenChange:A,content:c,onContentChange:u,children:s.jsx(A1e,{scope:t,onClose:C.useCallback(()=>A(!1),[A]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};CJ.displayName=ub;var f1e="MenuAnchor",R3=C.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=QN(r);return s.jsx(eb,{...a,...n,ref:t})});R3.displayName=f1e;var L3="MenuPortal",[h1e,SJ]=Op(L3,{forceMount:void 0}),BJ=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Ip(L3,t);return s.jsx(h1e,{scope:t,forceMount:r,children:s.jsx(wi,{present:r||i.open,children:s.jsx(by,{asChild:!0,container:a,children:n})})})};BJ.displayName=L3;var Cc="MenuContent",[m1e,U3]=Op(Cc),EJ=C.forwardRef((e,t)=>{const r=SJ(Cc,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Ip(Cc,e.__scopeMenu),o=db(Cc,e.__scopeMenu);return s.jsx(aw.Provider,{scope:e.__scopeMenu,children:s.jsx(wi,{present:n||i.open,children:s.jsx(aw.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(p1e,{...a,ref:t}):s.jsx(g1e,{...a,ref:t})})})})}),p1e=C.forwardRef((e,t)=>{const r=Ip(Cc,e.__scopeMenu),n=C.useRef(null),a=Qr(t,n);return C.useEffect(()=>{const i=n.current;if(i)return DN(i)},[]),s.jsx(D3,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:yt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),g1e=C.forwardRef((e,t)=>{const r=Ip(Cc,e.__scopeMenu);return s.jsx(D3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),v1e=gh("MenuContent.ScrollLock"),D3=C.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:A,onInteractOutside:h,onDismiss:m,disableOutsideScroll:y,...g}=e,v=Ip(Cc,r),x=db(Cc,r),b=QN(r),j=NJ(r),_=c1e(r),[N,B]=C.useState(null),T=C.useRef(null),O=Qr(t,T,v.onContentChange),P=C.useRef(0),M=C.useRef(""),I=C.useRef(0),D=C.useRef(null),$=C.useRef("right"),F=C.useRef(0),V=y?cb:C.Fragment,X=y?{as:v1e,allowPinchZoom:!0}:void 0,K=z=>{const te=M.current+z,G=_().filter(ce=>!ce.disabled),U=document.activeElement,Y=G.find(ce=>ce.ref.current===U)?.textValue,ee=G.map(ce=>ce.textValue),ae=k1e(ee,te,Y),Ae=G.find(ce=>ce.textValue===ae)?.ref.current;(function ce(we){M.current=we,window.clearTimeout(P.current),we!==""&&(P.current=window.setTimeout(()=>ce(""),1e3))})(te),Ae&&setTimeout(()=>Ae.focus())};C.useEffect(()=>()=>window.clearTimeout(P.current),[]),LN();const W=C.useCallback(z=>$.current===D.current?.side&&T1e(z,D.current?.area),[]);return s.jsx(m1e,{scope:r,searchRef:M,onItemEnter:C.useCallback(z=>{W(z)&&z.preventDefault()},[W]),onItemLeave:C.useCallback(z=>{W(z)||(T.current?.focus(),B(null))},[W]),onTriggerLeave:C.useCallback(z=>{W(z)&&z.preventDefault()},[W]),pointerGraceTimerRef:I,onPointerGraceIntentChange:C.useCallback(z=>{D.current=z},[]),children:s.jsx(V,{...X,children:s.jsx(ob,{asChild:!0,trapped:a,onMountAutoFocus:yt(i,z=>{z.preventDefault(),T.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(kp,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:A,onInteractOutside:h,onDismiss:m,children:s.jsx(hJ,{asChild:!0,...j,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:B,onEntryFocus:yt(c,z=>{x.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(jN,{role:"menu","aria-orientation":"vertical","data-state":qJ(v.open),"data-radix-menu-content":"",dir:x.dir,...b,...g,ref:O,style:{outline:"none",...g.style},onKeyDown:yt(g.onKeyDown,z=>{const G=z.target.closest("[data-radix-menu-content]")===z.currentTarget,U=z.ctrlKey||z.altKey||z.metaKey,Y=z.key.length===1;G&&(z.key==="Tab"&&z.preventDefault(),!U&&Y&&K(z.key));const ee=T.current;if(z.target!==ee||!i1e.includes(z.key))return;z.preventDefault();const Ae=_().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);jJ.includes(z.key)&&Ae.reverse(),B1e(Ae)}),onBlur:yt(e.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(P.current),M.current="")}),onPointerMove:yt(e.onPointerMove,iw(z=>{const te=z.target,G=F.current!==z.clientX;if(z.currentTarget.contains(te)&&G){const U=z.clientX>F.current?"right":"left";$.current=U,F.current=z.clientX}}))})})})})})})});EJ.displayName=Cc;var y1e="MenuGroup",M3=C.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(kt.div,{role:"group",...n,ref:t})});M3.displayName=y1e;var x1e="MenuLabel",kJ=C.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(kt.div,{...n,ref:t})});kJ.displayName=x1e;var Oj="MenuItem",H6="menu.itemSelect",HN=C.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=C.useRef(null),o=db(Oj,e.__scopeMenu),l=U3(Oj,e.__scopeMenu),c=Qr(t,i),u=C.useRef(!1),d=()=>{const A=i.current;if(!r&&A){const h=new CustomEvent(H6,{bubbles:!0,cancelable:!0});A.addEventListener(H6,m=>n?.(m),{once:!0}),yF(A,h),h.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(PJ,{...a,ref:c,disabled:r,onClick:yt(e.onClick,d),onPointerDown:A=>{e.onPointerDown?.(A),u.current=!0},onPointerUp:yt(e.onPointerUp,A=>{u.current||A.currentTarget?.click()}),onKeyDown:yt(e.onKeyDown,A=>{const h=l.searchRef.current!=="";r||h&&A.key===" "||YT.includes(A.key)&&(A.currentTarget.click(),A.preventDefault())})})});HN.displayName=Oj;var PJ=C.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=U3(Oj,r),l=NJ(r),c=C.useRef(null),u=Qr(t,c),[d,A]=C.useState(!1),[h,m]=C.useState("");return C.useEffect(()=>{const y=c.current;y&&m((y.textContent??"").trim())},[i.children]),s.jsx(aw.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:s.jsx(mJ,{asChild:!0,...l,focusable:!n,children:s.jsx(kt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:yt(e.onPointerMove,iw(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:yt(e.onPointerLeave,iw(y=>o.onItemLeave(y))),onFocus:yt(e.onFocus,()=>A(!0)),onBlur:yt(e.onBlur,()=>A(!1))})})})}),w1e="MenuCheckboxItem",TJ=C.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(LJ,{scope:e.__scopeMenu,checked:r,children:s.jsx(HN,{role:"menuitemcheckbox","aria-checked":Ij(r)?"mixed":r,...a,ref:t,"data-state":H3(r),onSelect:yt(a.onSelect,()=>n?.(Ij(r)?!0:!r),{checkForDefaultPrevented:!1})})})});TJ.displayName=w1e;var OJ="MenuRadioGroup",[b1e,j1e]=Op(OJ,{value:void 0,onValueChange:()=>{}}),IJ=C.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=la(n);return s.jsx(b1e,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(M3,{...a,ref:t})})});IJ.displayName=OJ;var FJ="MenuRadioItem",RJ=C.forwardRef((e,t)=>{const{value:r,...n}=e,a=j1e(FJ,e.__scopeMenu),i=r===a.value;return s.jsx(LJ,{scope:e.__scopeMenu,checked:i,children:s.jsx(HN,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":H3(i),onSelect:yt(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});RJ.displayName=FJ;var Q3="MenuItemIndicator",[LJ,_1e]=Op(Q3,{checked:!1}),UJ=C.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=_1e(Q3,r);return s.jsx(wi,{present:n||Ij(i.checked)||i.checked===!0,children:s.jsx(kt.span,{...a,ref:t,"data-state":H3(i.checked)})})});UJ.displayName=Q3;var N1e="MenuSeparator",DJ=C.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(kt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});DJ.displayName=N1e;var C1e="MenuArrow",MJ=C.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=QN(r);return s.jsx(_N,{...a,...n,ref:t})});MJ.displayName=C1e;var S1e="MenuSub",[nYe,QJ]=Op(S1e),e0="MenuSubTrigger",HJ=C.forwardRef((e,t)=>{const r=Ip(e0,e.__scopeMenu),n=db(e0,e.__scopeMenu),a=QJ(e0,e.__scopeMenu),i=U3(e0,e.__scopeMenu),o=C.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=C.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return C.useEffect(()=>d,[d]),C.useEffect(()=>{const A=l.current;return()=>{window.clearTimeout(A),c(null)}},[l,c]),s.jsx(R3,{asChild:!0,...u,children:s.jsx(PJ,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":qJ(r.open),...e,ref:FA(t,a.onTriggerChange),onClick:A=>{e.onClick?.(A),!(e.disabled||A.defaultPrevented)&&(A.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:yt(e.onPointerMove,iw(A=>{i.onItemEnter(A),!A.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:yt(e.onPointerLeave,iw(A=>{d();const h=r.content?.getBoundingClientRect();if(h){const m=r.content?.dataset.side,y=m==="right",g=y?-5:5,v=h[y?"left":"right"],x=h[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:A.clientX+g,y:A.clientY},{x:v,y:h.top},{x,y:h.top},{x,y:h.bottom},{x:v,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(A),A.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:yt(e.onKeyDown,A=>{const h=i.searchRef.current!=="";e.disabled||h&&A.key===" "||o1e[n.dir].includes(A.key)&&(r.onOpenChange(!0),r.content?.focus(),A.preventDefault())})})})});HJ.displayName=e0;var $J="MenuSubContent",VJ=C.forwardRef((e,t)=>{const r=SJ(Cc,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Ip(Cc,e.__scopeMenu),o=db(Cc,e.__scopeMenu),l=QJ($J,e.__scopeMenu),c=C.useRef(null),u=Qr(t,c);return s.jsx(aw.Provider,{scope:e.__scopeMenu,children:s.jsx(wi,{present:n||i.open,children:s.jsx(aw.Slot,{scope:e.__scopeMenu,children:s.jsx(D3,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{o.isUsingKeyboardRef.current&&c.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:yt(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:yt(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:yt(e.onKeyDown,d=>{const A=d.currentTarget.contains(d.target),h=l1e[o.dir].includes(d.key);A&&h&&(i.onOpenChange(!1),l.trigger?.focus(),d.preventDefault())})})})})})});VJ.displayName=$J;function qJ(e){return e?"open":"closed"}function Ij(e){return e==="indeterminate"}function H3(e){return Ij(e)?"indeterminate":e?"checked":"unchecked"}function B1e(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function E1e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function k1e(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=E1e(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function P1e(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,A=c.x,h=c.y;d>n!=h>n&&r<(A-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function T1e(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return P1e(r,t)}function iw(e){return t=>t.pointerType==="mouse"?e(t):void 0}var O1e=CJ,I1e=R3,F1e=BJ,R1e=EJ,L1e=M3,U1e=kJ,D1e=HN,M1e=TJ,Q1e=IJ,H1e=RJ,$1e=UJ,V1e=DJ,q1e=MJ,K1e=HJ,z1e=VJ,$N="DropdownMenu",[W1e]=$i($N,[_J]),Uo=_J(),[G1e,KJ]=W1e($N),zJ=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Uo(t),u=C.useRef(null),[d,A]=xu({prop:a,defaultProp:i??!1,onChange:o,caller:$N});return s.jsx(G1e,{scope:t,triggerId:vi(),triggerRef:u,contentId:vi(),open:d,onOpenChange:A,onOpenToggle:C.useCallback(()=>A(h=>!h),[A]),modal:l,children:s.jsx(O1e,{...c,open:d,onOpenChange:A,dir:n,modal:l,children:r})})};zJ.displayName=$N;var WJ="DropdownMenuTrigger",GJ=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=KJ(WJ,r),o=Uo(r);return s.jsx(I1e,{asChild:!0,...o,children:s.jsx(kt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:FA(t,i.triggerRef),onPointerDown:yt(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:yt(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});GJ.displayName=WJ;var Y1e="DropdownMenuPortal",YJ=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Uo(t);return s.jsx(F1e,{...n,...r})};YJ.displayName=Y1e;var XJ="DropdownMenuContent",JJ=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=KJ(XJ,r),i=Uo(r),o=C.useRef(!1);return s.jsx(R1e,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:yt(e.onCloseAutoFocus,l=>{o.current||a.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:yt(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JJ.displayName=XJ;var X1e="DropdownMenuGroup",J1e=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Uo(r);return s.jsx(L1e,{...a,...n,ref:t})});J1e.displayName=X1e;var Z1e="DropdownMenuLabel",ZJ=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Uo(r);return s.jsx(U1e,{...a,...n,ref:t})});ZJ.displayName=Z1e;var e2e="DropdownMenuItem",eZ=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Uo(r);return s.jsx(D1e,{...a,...n,ref:t})});eZ.displayName=e2e;var t2e="DropdownMenuCheckboxItem",tZ=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Uo(r);return s.jsx(M1e,{...a,...n,ref:t})});tZ.displayName=t2e;var r2e="DropdownMenuRadioGroup",n2e=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Uo(r);return s.jsx(Q1e,{...a,...n,ref:t})});n2e.displayName=r2e;var s2e="DropdownMenuRadioItem",rZ=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Uo(r);return s.jsx(H1e,{...a,...n,ref:t})});rZ.displayName=s2e;var a2e="DropdownMenuItemIndicator",nZ=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Uo(r);return s.jsx($1e,{...a,...n,ref:t})});nZ.displayName=a2e;var i2e="DropdownMenuSeparator",sZ=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Uo(r);return s.jsx(V1e,{...a,...n,ref:t})});sZ.displayName=i2e;var o2e="DropdownMenuArrow",l2e=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Uo(r);return s.jsx(q1e,{...a,...n,ref:t})});l2e.displayName=o2e;var c2e="DropdownMenuSubTrigger",aZ=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Uo(r);return s.jsx(K1e,{...a,...n,ref:t})});aZ.displayName=c2e;var u2e="DropdownMenuSubContent",iZ=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Uo(r);return s.jsx(z1e,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});iZ.displayName=u2e;var d2e=zJ,A2e=GJ,f2e=YJ,oZ=JJ,lZ=ZJ,cZ=eZ,uZ=tZ,dZ=rZ,AZ=nZ,fZ=sZ,hZ=aZ,mZ=iZ;const cl=d2e,ul=A2e,h2e=C.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(hZ,{ref:a,className:st("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(Pp,{className:"ml-auto h-4 w-4"})]}));h2e.displayName=hZ.displayName;const m2e=C.forwardRef(({className:e,...t},r)=>s.jsx(mZ,{ref:r,className:st("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));m2e.displayName=mZ.displayName;const Fo=C.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(f2e,{children:s.jsx(oZ,{ref:n,sideOffset:t,className:st("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Fo.displayName=oZ.displayName;const qr=C.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(cZ,{ref:n,className:st("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));qr.displayName=cZ.displayName;const p2e=C.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(uZ,{ref:a,className:st("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(AZ,{children:s.jsx(CF,{className:"h-4 w-4"})})}),t]}));p2e.displayName=uZ.displayName;const g2e=C.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(dZ,{ref:n,className:st("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(AZ,{children:s.jsx(fue,{className:"h-2 w-2 fill-current"})})}),t]}));g2e.displayName=dZ.displayName;const v2e=C.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(lZ,{ref:n,className:st("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));v2e.displayName=lZ.displayName;const w0=C.forwardRef(({className:e,...t},r)=>s.jsx(fZ,{ref:r,className:st("-mx-1 my-1 h-px bg-muted",e),...t}));w0.displayName=fZ.displayName;const y2e=Gw("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ze({className:e,variant:t,...r}){return s.jsx("div",{className:st(y2e({variant:t}),e),...r})}const x2e=[{title:"Main",items:[{title:"Dashboard",path:"/super-admin",icon:jy,badge:null},{title:"Analytics",path:"/super-admin/analytics",icon:KA,badge:"New"}]},{title:"Management",items:[{title:"Users",path:"/super-admin/users",icon:Nr,badge:null},{title:"Roles & Permissions",path:"/super-admin/roles",icon:Lo,badge:null},{title:"Organizations",path:"/super-admin/organizations",icon:sn,badge:null}]},{title:"Operations",items:[{title:"Subscriptions",path:"/super-admin/subscriptions",icon:bn,badge:null},{title:"Activity Logs",path:"/super-admin/logs",icon:Hl,badge:"Live"},{title:"Database",path:"/super-admin/database",icon:ll,badge:null}]},{title:"System",items:[{title:"Settings",path:"/super-admin/settings",icon:Is,badge:null},{title:"Security",path:"/super-admin/security",icon:U0,badge:null},{title:"Documentation",path:"/super-admin/docs",icon:ur,badge:null}]}];function w2e(){const{sidebarCollapsed:e,toggleSidebar:t}=Fy(),r=Vi(),n=bi();return s.jsx(SG,{children:s.jsxs(vt.aside,{initial:!1,animate:{width:e?68:260},transition:{duration:.3,ease:[.4,0,.2,1]},className:"fixed left-0 top-0 h-screen bg-gradient-to-b from-card to-card/95 border-r border-border/50 flex flex-col z-40 backdrop-blur-sm",children:[s.jsx("div",{className:"h-16 flex items-center px-4 border-b border-border/50 bg-gradient-to-r from-destructive/5 to-transparent",children:s.jsxs(cl,{children:[s.jsx(ul,{asChild:!0,children:s.jsxs("button",{className:"flex items-center gap-3 overflow-hidden w-full text-left hover:bg-muted/50 rounded-lg p-2 transition-colors",children:[s.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-destructive to-destructive/80 flex items-center justify-center shrink-0 shadow-lg",children:s.jsx(UW,{className:"w-5 h-5 text-destructive-foreground"})}),s.jsx(mu,{children:!e&&s.jsxs(vt.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"flex flex-col items-start",children:[s.jsx("span",{className:"text-lg font-bold bg-gradient-to-r from-destructive to-destructive/70 bg-clip-text text-transparent",children:"Super Admin"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Platform Control"})]})})]})}),s.jsxs(Fo,{align:"start",className:"w-56",children:[s.jsxs(qr,{onClick:()=>n("/super-admin/organizations"),children:[s.jsx(BF,{className:"w-4 h-4 mr-2"}),"My Workspace"]}),s.jsxs(qr,{onClick:()=>n("/super-admin/organizations?create=1"),children:[s.jsx(sn,{className:"w-4 h-4 mr-2"}),"Create Workspace"]}),s.jsx(w0,{}),s.jsxs(qr,{onClick:()=>n("/super-admin/settings"),children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Settings"]}),s.jsxs(qr,{onClick:()=>n("/super-admin/docs"),children:[s.jsx(due,{className:"w-4 h-4 mr-2"}),"Help & Docs"]})]})]})}),s.jsx("nav",{className:"flex-1 py-4 px-3 space-y-6 overflow-y-auto scrollbar-thin",children:x2e.map((a,i)=>s.jsxs("div",{className:"space-y-2",children:[!e&&s.jsx(vt.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:i*.1},className:"px-3 py-1",children:s.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:a.title})}),s.jsx("div",{className:"space-y-1",children:a.items.map((o,l)=>{const c=r.pathname===o.path;return s.jsxs(_D,{delayDuration:e?0:1e3,children:[s.jsx(ND,{asChild:!0,children:s.jsxs(uh,{to:o.path,className:st("group relative flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium transition-all duration-200","hover:bg-gradient-to-r hover:from-primary/10 hover:to-primary/5",c?"bg-gradient-to-r from-primary/15 to-primary/10 text-primary shadow-sm border border-primary/20":"text-muted-foreground hover:text-foreground"),children:[s.jsxs("div",{className:st("relative flex items-center justify-center w-5 h-5",c&&"text-primary"),children:[s.jsx(o.icon,{className:st("w-5 h-5 shrink-0 transition-transform duration-200",c&&"scale-110","group-hover:scale-105")}),c&&s.jsx(vt.div,{layoutId:"activeIndicator",className:"absolute inset-0 bg-primary/20 rounded-md blur-sm",initial:!1,transition:{type:"spring",stiffness:300,damping:30}})]}),s.jsx(mu,{children:!e&&s.jsxs(vt.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-2 flex-1",children:[s.jsx("span",{className:"whitespace-nowrap",children:o.title}),o.badge&&s.jsx(Ze,{variant:o.badge==="Live"?"destructive":"secondary",className:"text-xs px-1.5 py-0.5 h-auto",children:o.badge})]})}),c&&!e&&s.jsx(vt.div,{className:"w-1 h-6 bg-primary rounded-full",layoutId:"activeTab",initial:!1,transition:{type:"spring",stiffness:300,damping:30}})]})}),s.jsxs(iT,{side:"right",className:"bg-popover border-border",children:[s.jsx("p",{children:o.title}),o.badge&&s.jsx(Ze,{variant:"secondary",className:"ml-2 text-xs",children:o.badge})]})]},o.path)})})]},a.title))}),s.jsx("div",{className:"p-3 border-t border-border/50 bg-gradient-to-t from-muted/20 to-transparent",children:s.jsxs(_D,{delayDuration:e?0:1e3,children:[s.jsx(ND,{asChild:!0,children:s.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center gap-2 px-3 py-2 rounded-xl text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-all duration-200 group",children:[s.jsx(vt.div,{animate:{rotate:e?180:0},transition:{duration:.3},children:e?s.jsx(Pp,{className:"w-4 h-4"}):s.jsx(Yw,{className:"w-4 h-4"})}),s.jsx(mu,{children:!e&&s.jsx(vt.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"text-sm group-hover:text-primary transition-colors",children:"Collapse"})})]})}),s.jsx(iT,{side:"right",className:"bg-popover border-border",children:s.jsxs("p",{children:[e?"Expand":"Collapse"," sidebar"]})})]})})]})})}const b2e=()=>{const{user:e}=ua(),t=In(),{data:r=[],isLoading:n}=Ir({queryKey:["notifications",e?.id],queryFn:async()=>{if(!e?.id)return[];const{data:c,error:u}=await be.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(50);if(u)throw u;return c},enabled:!!e?.id});C.useEffect(()=>{if(!e?.id)return;const c=be.channel("notifications-realtime").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},()=>{t.invalidateQueries({queryKey:["notifications",e.id]})}).subscribe();return()=>{be.removeChannel(c)}},[e?.id,t]);const a=r.filter(c=>!c.is_read).length,i=er({mutationFn:async c=>{const{error:u}=await be.from("notifications").update({is_read:!0}).eq("id",c);if(u)throw u},onSuccess:()=>t.invalidateQueries({queryKey:["notifications",e?.id]})}),o=er({mutationFn:async()=>{if(!e?.id)return;const{error:c}=await be.from("notifications").update({is_read:!0}).eq("user_id",e.id).eq("is_read",!1);if(c)throw c},onSuccess:()=>t.invalidateQueries({queryKey:["notifications",e?.id]})}),l=er({mutationFn:async c=>{const{error:u}=await be.from("notifications").delete().eq("id",c);if(u)throw u},onSuccess:()=>t.invalidateQueries({queryKey:["notifications",e?.id]})});return{notifications:r,unreadCount:a,isLoading:n,markAsRead:i,markAllAsRead:o,deleteNotification:l}};function Lr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function fl(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Bo(e,t){const r=Lr(e);return isNaN(t)?fl(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function _u(e,t){const r=Lr(e);if(isNaN(t))return fl(e,NaN);if(!t)return r;const n=r.getDate(),a=fl(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const $3=6048e5,j2e=864e5,M1=43200,$6=1440;let _2e={};function Ry(){return _2e}function bd(e,t){const r=Ry(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Lr(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function cp(e){return bd(e,{weekStartsOn:1})}function pZ(e){const t=Lr(e),r=t.getFullYear(),n=fl(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=cp(n),i=fl(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=cp(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Uv(e){const t=Lr(e);return t.setHours(0,0,0,0),t}function Dv(e){const t=Lr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ld(e,t){const r=Uv(e),n=Uv(t),a=+r-Dv(r),i=+n-Dv(n);return Math.round((a-i)/j2e)}function N2e(e){const t=pZ(e),r=fl(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),cp(r)}function XT(e,t){const r=t*7;return Bo(e,r)}function C2e(e,t){return _u(e,t*12)}function S2e(e){let t;return e.forEach(function(r){const n=Lr(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function B2e(e){let t;return e.forEach(r=>{const n=Lr(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Y2(e,t){const r=Lr(e),n=Lr(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function E2e(e){return fl(e,Date.now())}function al(e,t){const r=Uv(e),n=Uv(t);return+r==+n}function V3(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function k2e(e){if(!V3(e)&&typeof e!="number")return!1;const t=Lr(e);return!isNaN(Number(t))}function Mv(e,t){const r=Lr(e),n=Lr(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function P2e(e,t,r){const n=bd(e,r),a=bd(t,r),i=+n-Dv(n),o=+a-Dv(a);return Math.round((i-o)/$3)}function T2e(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function O2e(e,t){return+Lr(e)-+Lr(t)}function I2e(e){const t=Lr(e);return t.setHours(23,59,59,999),t}function VN(e){const t=Lr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function F2e(e){const t=Lr(e);return+I2e(t)==+VN(t)}function R2e(e,t){const r=Lr(e),n=Lr(t),a=Y2(r,n),i=Math.abs(Mv(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=Y2(r,n)===-a;F2e(Lr(e))&&i===1&&Y2(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function L2e(e,t,r){const n=O2e(e,t)/1e3;return T2e(r?.roundingMethod)(n)}function dl(e){const t=Lr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function gZ(e){const t=Lr(e),r=fl(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function q3(e,t){const r=Ry(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Lr(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function vZ(e){return q3(e,{weekStartsOn:1})}const U2e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},D2e=(e,t,r)=>{let n;const a=U2e[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function FB(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const M2e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Q2e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},H2e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$2e={date:FB({formats:M2e,defaultWidth:"full"}),time:FB({formats:Q2e,defaultWidth:"full"}),dateTime:FB({formats:H2e,defaultWidth:"full"})},V2e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},q2e=(e,t,r,n)=>V2e[e];function Px(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const K2e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},z2e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},W2e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},G2e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Y2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},X2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},J2e=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Z2e={ordinalNumber:J2e,era:Px({values:K2e,defaultWidth:"wide"}),quarter:Px({values:z2e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Px({values:W2e,defaultWidth:"wide"}),day:Px({values:G2e,defaultWidth:"wide"}),dayPeriod:Px({values:Y2e,defaultWidth:"wide",formattingValues:X2e,defaultFormattingWidth:"wide"})};function Tx(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?tje(l,A=>A.test(o)):eje(l,A=>A.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function eje(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function tje(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function rje(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const nje=/^(\d+)(th|st|nd|rd)?/i,sje=/\d+/i,aje={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ije={any:[/^b/i,/^(a|c)/i]},oje={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lje={any:[/1/i,/2/i,/3/i,/4/i]},cje={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uje={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dje={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Aje={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fje={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hje={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mje={ordinalNumber:rje({matchPattern:nje,parsePattern:sje,valueCallback:e=>parseInt(e,10)}),era:Tx({matchPatterns:aje,defaultMatchWidth:"wide",parsePatterns:ije,defaultParseWidth:"any"}),quarter:Tx({matchPatterns:oje,defaultMatchWidth:"wide",parsePatterns:lje,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Tx({matchPatterns:cje,defaultMatchWidth:"wide",parsePatterns:uje,defaultParseWidth:"any"}),day:Tx({matchPatterns:dje,defaultMatchWidth:"wide",parsePatterns:Aje,defaultParseWidth:"any"}),dayPeriod:Tx({matchPatterns:fje,defaultMatchWidth:"any",parsePatterns:hje,defaultParseWidth:"any"})},K3={code:"en-US",formatDistance:D2e,formatLong:$2e,formatRelative:q2e,localize:Z2e,match:mje,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pje(e){const t=Lr(e);return ld(t,gZ(t))+1}function yZ(e){const t=Lr(e),r=+cp(t)-+N2e(t);return Math.round(r/$3)+1}function xZ(e,t){const r=Lr(e),n=r.getFullYear(),a=Ry(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=fl(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=bd(o,t),c=fl(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=bd(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function gje(e,t){const r=Ry(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=xZ(e,t),i=fl(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),bd(i,t)}function wZ(e,t){const r=Lr(e),n=+bd(r,t)-+gje(r,t);return Math.round(n/$3)+1}function Yn(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Df={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Yn(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Yn(r+1,2)},d(e,t){return Yn(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Yn(e.getHours()%12||12,t.length)},H(e,t){return Yn(e.getHours(),t.length)},m(e,t){return Yn(e.getMinutes(),t.length)},s(e,t){return Yn(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Yn(a,t.length)}},Pg={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},V6={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Df.y(e,t)},Y:function(e,t,r,n){const a=xZ(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Yn(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Yn(i,t.length)},R:function(e,t){const r=pZ(e);return Yn(r,t.length)},u:function(e,t){const r=e.getFullYear();return Yn(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Yn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Yn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Df.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Yn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=wZ(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Yn(a,t.length)},I:function(e,t,r){const n=yZ(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Yn(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Df.d(e,t)},D:function(e,t,r){const n=pje(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Yn(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Yn(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Yn(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Yn(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Pg.noon:n===0?a=Pg.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Pg.evening:n>=12?a=Pg.afternoon:n>=4?a=Pg.morning:a=Pg.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Df.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Df.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Yn(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Yn(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Df.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Df.s(e,t)},S:function(e,t){return Df.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return K6(n);case"XXXX":case"XX":return km(n);default:return km(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return K6(n);case"xxxx":case"xx":return km(n);default:return km(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+q6(n,":");default:return"GMT"+km(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+q6(n,":");default:return"GMT"+km(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Yn(n,t.length)},T:function(e,t,r){const n=e.getTime();return Yn(n,t.length)}};function q6(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Yn(i,2)}function K6(e,t){return e%60===0?(e>0?"-":"+")+Yn(Math.abs(e)/60,2):km(e,t)}function km(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Yn(Math.trunc(n/60),2),i=Yn(n%60,2);return r+a+t+i}const z6=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},bZ=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},vje=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return z6(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",z6(n,t)).replace("{{time}}",bZ(a,t))},yje={p:bZ,P:vje},xje=/^D+$/,wje=/^Y+$/,bje=["D","DD","YY","YYYY"];function jje(e){return xje.test(e)}function _je(e){return wje.test(e)}function Nje(e,t,r){const n=Cje(e,t,r);if(console.warn(n),bje.includes(e))throw new RangeError(n)}function Cje(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Sje=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bje=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Eje=/^'([^]*?)'?$/,kje=/''/g,Pje=/[a-zA-Z]/;function Rn(e,t,r){const n=Ry(),a=r?.locale??n.locale??K3,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=Lr(e);if(!k2e(l))throw new RangeError("Invalid time value");let c=t.match(Bje).map(d=>{const A=d[0];if(A==="p"||A==="P"){const h=yje[A];return h(d,a.formatLong)}return d}).join("").match(Sje).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const A=d[0];if(A==="'")return{isToken:!1,value:Tje(d)};if(V6[A])return{isToken:!0,value:d};if(A.match(Pje))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:d}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(d=>{if(!d.isToken)return d.value;const A=d.value;(!r?.useAdditionalWeekYearTokens&&_je(A)||!r?.useAdditionalDayOfYearTokens&&jje(A))&&Nje(A,t,String(e));const h=V6[A[0]];return h(l,A,a.localize,u)}).join("")}function Tje(e){const t=e.match(Eje);return t?t[1].replace(kje,"'"):e}function Oje(e,t,r){const n=Ry(),a=r?.locale??n.locale??K3,i=2520,o=Y2(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o});let c,u;o>0?(c=Lr(t),u=Lr(e)):(c=Lr(e),u=Lr(t));const d=L2e(u,c),A=(Dv(u)-Dv(c))/1e3,h=Math.round((d-A)/60);let m;if(h<2)return r?.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<$6){const y=Math.round(h/60);return a.formatDistance("aboutXHours",y,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<M1){const y=Math.round(h/$6);return a.formatDistance("xDays",y,l)}else if(h<M1*2)return m=Math.round(h/M1),a.formatDistance("aboutXMonths",m,l)}if(m=R2e(u,c),m<12){const y=Math.round(h/M1);return a.formatDistance("xMonths",y,l)}else{const y=m%12,g=Math.trunc(m/12);return y<3?a.formatDistance("aboutXYears",g,l):y<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function jZ(e,t){return Oje(e,E2e(e),t)}function Ije(e){const t=Lr(e),r=t.getFullYear(),n=t.getMonth(),a=fl(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Fje(e){return Math.trunc(+Lr(e)/1e3)}function Rje(e){const t=Lr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Lje(e,t){return P2e(Rje(e),dl(e),t)+1}function JT(e,t){const r=Lr(e),n=Lr(t);return r.getTime()>n.getTime()}function _Z(e,t){const r=Lr(e),n=Lr(t);return+r<+n}function z3(e,t){const r=Lr(e),n=Lr(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Uje(e,t){const r=Lr(e),n=Lr(t);return r.getFullYear()===n.getFullYear()}function RB(e,t){return Bo(e,-t)}function LB(e,t){const r=Lr(e),n=r.getFullYear(),a=r.getDate(),i=fl(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=Ije(i);return r.setMonth(t,Math.min(a,o)),r}function W6(e,t){const r=Lr(e);return isNaN(+r)?fl(e,NaN):(r.setFullYear(t),r)}function ZT(e,[t,r]){return Math.min(r,Math.max(t,e))}function Dje(e,t){return C.useReducer((r,n)=>t[r][n]??r,e)}var W3="ScrollArea",[NZ]=$i(W3),[Mje,kc]=NZ(W3),CZ=C.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=C.useState(null),[u,d]=C.useState(null),[A,h]=C.useState(null),[m,y]=C.useState(null),[g,v]=C.useState(null),[x,b]=C.useState(0),[j,_]=C.useState(0),[N,B]=C.useState(!1),[T,O]=C.useState(!1),P=Qr(t,I=>c(I)),M=ib(a);return s.jsx(Mje,{scope:r,type:n,dir:M,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:A,onContentChange:h,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:N,onScrollbarXEnabledChange:B,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:T,onScrollbarYEnabledChange:O,onCornerWidthChange:b,onCornerHeightChange:_,children:s.jsx(kt.div,{dir:M,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});CZ.displayName=W3;var SZ="ScrollAreaViewport",BZ=C.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=kc(SZ,r),l=C.useRef(null),c=Qr(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(kt.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});BZ.displayName=SZ;var Sd="ScrollAreaScrollbar",G3=C.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=kc(Sd,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return C.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(Qje,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(Hje,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(EZ,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(Y3,{...n,ref:t}):null});G3.displayName=Sd;var Qje=C.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=kc(Sd,e.__scopeScrollArea),[i,o]=C.useState(!1);return C.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(wi,{present:r||i,children:s.jsx(EZ,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Hje=C.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=kc(Sd,e.__scopeScrollArea),i=e.orientation==="horizontal",o=KN(()=>c("SCROLL_END"),100),[l,c]=Dje("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),C.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let A=u[d];const h=()=>{const m=u[d];A!==m&&(c("SCROLL"),o()),A=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(wi,{present:r||l!=="hidden",children:s.jsx(Y3,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:yt(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:yt(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),EZ=C.forwardRef((e,t)=>{const r=kc(Sd,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=C.useState(!1),l=e.orientation==="horizontal",c=KN(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Qv(r.viewport,c),Qv(r.content,c),s.jsx(wi,{present:n||i,children:s.jsx(Y3,{"data-state":i?"visible":"hidden",...a,ref:t})})}),Y3=C.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=kc(Sd,e.__scopeScrollArea),i=C.useRef(null),o=C.useRef(0),[l,c]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=IZ(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function A(h,m){return Wje(h,o.current,l,m)}return r==="horizontal"?s.jsx($je,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,m=G6(h,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=A(h,a.dir))}}):r==="vertical"?s.jsx(Vje,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,m=G6(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=A(h))}}):null}),$je=C.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=kc(Sd,e.__scopeScrollArea),[o,l]=C.useState(),c=C.useRef(null),u=Qr(t,c,i.onScrollbarXChange);return C.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(PZ,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":qN(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,A)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),RZ(h,A)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Rj(o.paddingLeft),paddingEnd:Rj(o.paddingRight)}})}})}),Vje=C.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=kc(Sd,e.__scopeScrollArea),[o,l]=C.useState(),c=C.useRef(null),u=Qr(t,c,i.onScrollbarYChange);return C.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(PZ,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":qN(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,A)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),RZ(h,A)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Rj(o.paddingTop),paddingEnd:Rj(o.paddingBottom)}})}})}),[qje,kZ]=NZ(Sd),PZ=C.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:A,...h}=e,m=kc(Sd,r),[y,g]=C.useState(null),v=Qr(t,P=>g(P)),x=C.useRef(null),b=C.useRef(""),j=m.viewport,_=n.content-n.viewport,N=la(d),B=la(c),T=KN(A,10);function O(P){if(x.current){const M=P.clientX-x.current.left,I=P.clientY-x.current.top;u({x:M,y:I})}}return C.useEffect(()=>{const P=M=>{const I=M.target;y?.contains(I)&&N(M,_)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[j,y,_,N]),C.useEffect(B,[n,B]),Qv(y,T),Qv(m.content,T),s.jsx(qje,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:la(i),onThumbPointerUp:la(o),onThumbPositionChange:B,onThumbPointerDown:la(l),children:s.jsx(kt.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:yt(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),x.current=y.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),O(P))}),onPointerMove:yt(e.onPointerMove,O),onPointerUp:yt(e.onPointerUp,P=>{const M=P.target;M.hasPointerCapture(P.pointerId)&&M.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Fj="ScrollAreaThumb",TZ=C.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=kZ(Fj,e.__scopeScrollArea);return s.jsx(wi,{present:r||a.hasThumb,children:s.jsx(Kje,{ref:t,...n})})}),Kje=C.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=kc(Fj,r),o=kZ(Fj,r),{onThumbPositionChange:l}=o,c=Qr(t,A=>o.onThumbChange(A)),u=C.useRef(void 0),d=KN(()=>{u.current&&(u.current(),u.current=void 0)},100);return C.useEffect(()=>{const A=i.viewport;if(A){const h=()=>{if(d(),!u.current){const m=Gje(A,l);u.current=m,l()}};return l(),A.addEventListener("scroll",h),()=>A.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx(kt.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:yt(e.onPointerDownCapture,A=>{const m=A.target.getBoundingClientRect(),y=A.clientX-m.left,g=A.clientY-m.top;o.onThumbPointerDown({x:y,y:g})}),onPointerUp:yt(e.onPointerUp,o.onThumbPointerUp)})});TZ.displayName=Fj;var X3="ScrollAreaCorner",OZ=C.forwardRef((e,t)=>{const r=kc(X3,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(zje,{...e,ref:t}):null});OZ.displayName=X3;var zje=C.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=kc(X3,r),[i,o]=C.useState(0),[l,c]=C.useState(0),u=!!(i&&l);return Qv(a.scrollbarX,()=>{const d=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(d),c(d)}),Qv(a.scrollbarY,()=>{const d=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(kt.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Rj(e){return e?parseInt(e,10):0}function IZ(e,t){const r=e/t;return isNaN(r)?0:r}function qN(e){const t=IZ(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Wje(e,t,r,n="ltr"){const a=qN(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,A=n==="ltr"?[0,d]:[d*-1,0];return FZ([c,u],A)(e)}function G6(e,t,r="ltr"){const n=qN(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=ZT(e,c);return FZ([0,o],[0,l])(u)}function FZ(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function RZ(e,t){return e>0&&e<t}var Gje=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function KN(e,t){const r=la(e),n=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),C.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Qv(e,t){const r=la(t);Sa(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var LZ=CZ,Yje=BZ,Xje=OZ;const Lj=C.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(LZ,{ref:n,className:st("relative overflow-hidden",e),...r,children:[s.jsx(Yje,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(UZ,{}),s.jsx(Xje,{})]}));Lj.displayName=LZ.displayName;const UZ=C.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(G3,{ref:n,orientation:t,className:st("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(TZ,{className:"relative flex-1 rounded-full bg-border"})}));UZ.displayName=G3.displayName;const Jje={info:gN,warning:xi,billing:bn,maintenance:Ma};function Zje(){const{notifications:e,unreadCount:t,markAsRead:r,markAllAsRead:n}=b2e(),a=bi(),i=o=>{o.is_read||r.mutate(o.id),o.link&&a(o.link)};return s.jsxs(cl,{children:[s.jsx(ul,{asChild:!0,children:s.jsxs(de,{variant:"ghost",size:"icon",className:"relative rounded-xl",children:[s.jsx(sl,{className:"w-5 h-5 text-muted-foreground"}),t>0&&s.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[18px] h-[18px] flex items-center justify-center bg-destructive text-destructive-foreground text-[10px] font-bold rounded-full px-1 animate-pulse-glow",children:t>99?"99+":t})]})}),s.jsxs(Fo,{align:"end",className:"w-80 rounded-xl glass-card p-0",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border/50",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),t>0&&s.jsxs(de,{variant:"ghost",size:"sm",className:"h-7 text-xs gap-1",onClick:()=>n.mutate(),children:[s.jsx(cue,{className:"w-3 h-3"})," Mark all read"]})]}),s.jsx(Lj,{className:"max-h-80",children:e.length===0?s.jsx("div",{className:"py-8 text-center text-sm text-muted-foreground",children:"No notifications yet"}):e.slice(0,20).map(o=>{const l=Jje[o.type]||gN;return s.jsxs(qr,{className:st("flex items-start gap-3 px-4 py-3 rounded-none cursor-pointer",!o.is_read&&"bg-primary/5"),onClick:()=>i(o),children:[s.jsx("div",{className:st("w-8 h-8 rounded-lg flex items-center justify-center shrink-0 mt-0.5",o.type==="warning"?"bg-yellow-500/10":"bg-primary/10"),children:s.jsx(l,{className:st("w-4 h-4",o.type==="warning"?"text-yellow-500":"text-primary")})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:st("text-sm leading-tight",!o.is_read&&"font-medium"),children:o.title}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:o.message}),s.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:jZ(new Date(o.created_at),{addSuffix:!0})})]}),!o.is_read&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-primary shrink-0 mt-1.5"})]},o.id)})})]})]})}function DZ(){const{setCommandPaletteOpen:e}=Fy(),{signOut:t,profile:r}=ua(),{isAdmin:n,isManager:a,isTenant:i,isSuperAdmin:o}=Ec(),{currency:l,setCurrency:c,getCurrencySymbol:u}=ji(),d=bi(),A=o?"/super-admin/settings":n?"/admin/settings":a?"/manager/settings":i?"/tenant/settings":"/user/settings",h=o?"/super-admin/organizations":A,m=o?"/super-admin/organizations?create=1":A;return s.jsxs("header",{className:"h-16 border-b border-border/50 bg-card/80 backdrop-blur-xl flex items-center justify-between px-6 sticky top-0 z-30",children:[s.jsxs("button",{onClick:()=>e(!0),className:"flex items-center gap-3 px-4 py-2 rounded-xl bg-muted/50 text-muted-foreground hover:bg-muted transition-colors w-72",children:[s.jsx(Ba,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Search..."}),s.jsx("kbd",{className:"ml-auto text-xs bg-background/80 px-2 py-0.5 rounded-md border border-border/50 font-mono",children:"K"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(cl,{children:[s.jsx(ul,{asChild:!0,children:s.jsxs(de,{variant:"ghost",size:"sm",className:"rounded-xl gap-1 px-3 h-9 text-muted-foreground hover:text-foreground",children:[l==="INR"?s.jsx(sp,{className:"w-4 h-4"}):s.jsx(ja,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:l}),s.jsx(Ov,{className:"w-3 h-3"})]})}),s.jsxs(Fo,{align:"end",className:"w-40 rounded-xl glass-card",children:[s.jsxs(qr,{className:"rounded-lg cursor-pointer gap-2",onClick:()=>c("INR"),children:[s.jsx(sp,{className:"w-4 h-4"}),"INR - Indian Rupee"]}),s.jsxs(qr,{className:"rounded-lg cursor-pointer gap-2",onClick:()=>c("USD"),children:[s.jsx(ja,{className:"w-4 h-4"}),"USD - US Dollar"]}),s.jsx(w0,{}),s.jsx(uh,{to:A,children:s.jsx(qr,{className:"rounded-lg cursor-pointer text-xs text-muted-foreground",children:"Currency Settings"})})]})]}),s.jsx(Zje,{}),s.jsxs(cl,{children:[s.jsx(ul,{asChild:!0,children:s.jsxs(de,{variant:"ghost",className:"rounded-xl gap-2 text-muted-foreground",children:[s.jsx("div",{className:"w-6 h-6 rounded-lg bg-primary/20 flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-bold text-primary",children:r?.full_name?.charAt(0)||"A"})}),s.jsx("span",{className:"text-sm font-medium text-foreground truncate max-w-[120px]",children:r?.full_name||"Workspace"}),s.jsx(Ov,{className:"w-3 h-3"})]})}),s.jsxs(Fo,{align:"end",className:"w-56 rounded-xl glass-card",children:[s.jsx(qr,{className:"rounded-lg cursor-pointer",onClick:()=>d(h),children:"My Workspace"}),s.jsx(w0,{}),s.jsx(qr,{className:"rounded-lg cursor-pointer",onClick:()=>d(m),children:"Create workspace..."})]})]}),s.jsxs(cl,{children:[s.jsx(ul,{asChild:!0,children:s.jsx(de,{variant:"ghost",size:"icon",className:"rounded-xl",children:s.jsx("div",{className:"w-8 h-8 rounded-xl bg-primary/20 flex items-center justify-center",children:s.jsx(Fs,{className:"w-4 h-4 text-primary"})})})}),s.jsxs(Fo,{align:"end",className:"w-56 rounded-xl glass-card",children:[s.jsx(uh,{to:A,children:s.jsxs(qr,{className:"rounded-lg cursor-pointer",children:[s.jsx(Aue,{className:"w-4 h-4 mr-2"}),"Profile"]})}),s.jsx(uh,{to:A,children:s.jsxs(qr,{className:"rounded-lg cursor-pointer",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Settings"]})}),s.jsx(w0,{}),s.jsxs(qr,{className:"rounded-lg text-destructive focus:text-destructive cursor-pointer",onClick:()=>t(),children:[s.jsx(EF,{className:"w-4 h-4 mr-2"}),"Sign out"]})]})]})]})]})}const GA=({children:e})=>{const{sidebarCollapsed:t}=Fy();return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(w2e,{}),s.jsxs(vt.div,{initial:!1,animate:{marginLeft:t?68:260},transition:{duration:.3,ease:[.4,0,.2,1]},className:"flex flex-col min-h-screen",children:[s.jsx(DZ,{}),s.jsx("main",{className:"flex-1 p-6 pt-4",children:e})]})]})};function Rh({title:e,value:t,change:r,changeType:n,icon:a,index:i}){return s.jsx(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:i*.1,ease:[.4,0,.2,1]},className:"glass-card-hover p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:e}),s.jsx("p",{className:"text-3xl font-bold tracking-tight",children:t}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:st("text-xs font-semibold px-2 py-0.5 rounded-full",n==="positive"&&"bg-success/10 text-success",n==="negative"&&"bg-destructive/10 text-destructive",n==="neutral"&&"bg-muted text-muted-foreground"),children:r}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"vs last month"})]})]}),s.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 flex items-center justify-center",children:s.jsx(a,{className:"w-6 h-6 text-primary"})})]})})}var J3="Progress",Z3=100,[e_e]=$i(J3),[t_e,r_e]=e_e(J3),MZ=C.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=n_e,...o}=e;(a||a===0)&&!Y6(a)&&console.error(s_e(`${a}`,"Progress"));const l=Y6(a)?a:Z3;n!==null&&!X6(n,l)&&console.error(a_e(`${n}`,"Progress"));const c=X6(n,l)?n:null,u=Uj(c)?i(c,l):void 0;return s.jsx(t_e,{scope:r,value:c,max:l,children:s.jsx(kt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Uj(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":$Z(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});MZ.displayName=J3;var QZ="ProgressIndicator",HZ=C.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=r_e(QZ,r);return s.jsx(kt.div,{"data-state":$Z(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});HZ.displayName=QZ;function n_e(e,t){return`${Math.round(e/t*100)}%`}function $Z(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Uj(e){return typeof e=="number"}function Y6(e){return Uj(e)&&!isNaN(e)&&e>0}function X6(e,t){return Uj(e)&&!isNaN(e)&&e<=t&&e>=0}function s_e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Z3}\`.`}function a_e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Z3} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var VZ=MZ,i_e=HZ;const DA=C.forwardRef(({className:e,value:t,...r},n)=>s.jsx(VZ,{ref:n,className:st("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(i_e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));DA.displayName=VZ.displayName;var UB,J6;function ml(){if(J6)return UB;J6=1;var e=Array.isArray;return UB=e,UB}var DB,Z6;function qZ(){if(Z6)return DB;Z6=1;var e=typeof v1=="object"&&v1&&v1.Object===Object&&v1;return DB=e,DB}var MB,eQ;function Bd(){if(eQ)return MB;eQ=1;var e=qZ(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return MB=r,MB}var QB,tQ;function Ab(){if(tQ)return QB;tQ=1;var e=Bd(),t=e.Symbol;return QB=t,QB}var HB,rQ;function o_e(){if(rQ)return HB;rQ=1;var e=Ab(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(o){var l=r.call(o,a),c=o[a];try{o[a]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(l?o[a]=c:delete o[a]),d}return HB=i,HB}var $B,nQ;function l_e(){if(nQ)return $B;nQ=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return $B=r,$B}var VB,sQ;function YA(){if(sQ)return VB;sQ=1;var e=Ab(),t=o_e(),r=l_e(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:i&&i in Object(l)?t(l):r(l)}return VB=o,VB}var qB,aQ;function XA(){if(aQ)return qB;aQ=1;function e(t){return t!=null&&typeof t=="object"}return qB=e,qB}var KB,iQ;function Ly(){if(iQ)return KB;iQ=1;var e=YA(),t=XA(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return KB=n,KB}var zB,oQ;function eR(){if(oQ)return zB;oQ=1;var e=ml(),t=Ly(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return zB=a,zB}var WB,lQ;function Lh(){if(lQ)return WB;lQ=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return WB=e,WB}var GB,cQ;function tR(){if(cQ)return GB;cQ=1;var e=YA(),t=Lh(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==n||c==a||c==r||c==i}return GB=o,GB}var YB,uQ;function c_e(){if(uQ)return YB;uQ=1;var e=Bd(),t=e["__core-js_shared__"];return YB=t,YB}var XB,dQ;function u_e(){if(dQ)return XB;dQ=1;var e=c_e(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return XB=r,XB}var JB,AQ;function KZ(){if(AQ)return JB;AQ=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return JB=r,JB}var ZB,fQ;function d_e(){if(fQ)return ZB;fQ=1;var e=tR(),t=u_e(),r=Lh(),n=KZ(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function A(h){if(!r(h)||t(h))return!1;var m=e(h)?d:i;return m.test(n(h))}return ZB=A,ZB}var e5,hQ;function A_e(){if(hQ)return e5;hQ=1;function e(t,r){return t?.[r]}return e5=e,e5}var t5,mQ;function Fp(){if(mQ)return t5;mQ=1;var e=d_e(),t=A_e();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return t5=r,t5}var r5,pQ;function zN(){if(pQ)return r5;pQ=1;var e=Fp(),t=e(Object,"create");return r5=t,r5}var n5,gQ;function f_e(){if(gQ)return n5;gQ=1;var e=zN();function t(){this.__data__=e?e(null):{},this.size=0}return n5=t,n5}var s5,vQ;function h_e(){if(vQ)return s5;vQ=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return s5=e,s5}var a5,yQ;function m_e(){if(yQ)return a5;yQ=1;var e=zN(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(e){var l=o[i];return l===t?void 0:l}return n.call(o,i)?o[i]:void 0}return a5=a,a5}var i5,xQ;function p_e(){if(xQ)return i5;xQ=1;var e=zN(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return i5=n,i5}var o5,wQ;function g_e(){if(wQ)return o5;wQ=1;var e=zN(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return o5=r,o5}var l5,bQ;function v_e(){if(bQ)return l5;bQ=1;var e=f_e(),t=h_e(),r=m_e(),n=p_e(),a=g_e();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,l5=i,l5}var c5,jQ;function y_e(){if(jQ)return c5;jQ=1;function e(){this.__data__=[],this.size=0}return c5=e,c5}var u5,_Q;function rR(){if(_Q)return u5;_Q=1;function e(t,r){return t===r||t!==t&&r!==r}return u5=e,u5}var d5,NQ;function WN(){if(NQ)return d5;NQ=1;var e=rR();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return d5=t,d5}var A5,CQ;function x_e(){if(CQ)return A5;CQ=1;var e=WN(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return A5=n,A5}var f5,SQ;function w_e(){if(SQ)return f5;SQ=1;var e=WN();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return f5=t,f5}var h5,BQ;function b_e(){if(BQ)return h5;BQ=1;var e=WN();function t(r){return e(this.__data__,r)>-1}return h5=t,h5}var m5,EQ;function j_e(){if(EQ)return m5;EQ=1;var e=WN();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return m5=t,m5}var p5,kQ;function GN(){if(kQ)return p5;kQ=1;var e=y_e(),t=x_e(),r=w_e(),n=b_e(),a=j_e();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,p5=i,p5}var g5,PQ;function nR(){if(PQ)return g5;PQ=1;var e=Fp(),t=Bd(),r=e(t,"Map");return g5=r,g5}var v5,TQ;function __e(){if(TQ)return v5;TQ=1;var e=v_e(),t=GN(),r=nR();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return v5=n,v5}var y5,OQ;function N_e(){if(OQ)return y5;OQ=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return y5=e,y5}var x5,IQ;function YN(){if(IQ)return x5;IQ=1;var e=N_e();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return x5=t,x5}var w5,FQ;function C_e(){if(FQ)return w5;FQ=1;var e=YN();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return w5=t,w5}var b5,RQ;function S_e(){if(RQ)return b5;RQ=1;var e=YN();function t(r){return e(this,r).get(r)}return b5=t,b5}var j5,LQ;function B_e(){if(LQ)return j5;LQ=1;var e=YN();function t(r){return e(this,r).has(r)}return j5=t,j5}var _5,UQ;function E_e(){if(UQ)return _5;UQ=1;var e=YN();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return _5=t,_5}var N5,DQ;function sR(){if(DQ)return N5;DQ=1;var e=__e(),t=C_e(),r=S_e(),n=B_e(),a=E_e();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,N5=i,N5}var C5,MQ;function zZ(){if(MQ)return C5;MQ=1;var e=sR(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return i.cache=c.set(l,u)||c,u};return i.cache=new(r.Cache||e),i}return r.Cache=e,C5=r,C5}var S5,QQ;function k_e(){if(QQ)return S5;QQ=1;var e=zZ(),t=500;function r(n){var a=e(n,function(o){return i.size===t&&i.clear(),o}),i=a.cache;return a}return S5=r,S5}var B5,HQ;function P_e(){if(HQ)return B5;HQ=1;var e=k_e(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(o,l,c,u){i.push(c?u.replace(r,"$1"):l||o)}),i});return B5=n,B5}var E5,$Q;function aR(){if($Q)return E5;$Q=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return E5=e,E5}var k5,VQ;function T_e(){if(VQ)return k5;VQ=1;var e=Ab(),t=aR(),r=ml(),n=Ly(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return k5=o,k5}var P5,qQ;function WZ(){if(qQ)return P5;qQ=1;var e=T_e();function t(r){return r==null?"":e(r)}return P5=t,P5}var T5,KQ;function GZ(){if(KQ)return T5;KQ=1;var e=ml(),t=eR(),r=P_e(),n=WZ();function a(i,o){return e(i)?i:t(i,o)?[i]:r(n(i))}return T5=a,T5}var O5,zQ;function XN(){if(zQ)return O5;zQ=1;var e=Ly();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return O5=t,O5}var I5,WQ;function iR(){if(WQ)return I5;WQ=1;var e=GZ(),t=XN();function r(n,a){a=e(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[t(a[i++])];return i&&i==o?n:void 0}return I5=r,I5}var F5,GQ;function YZ(){if(GQ)return F5;GQ=1;var e=iR();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return F5=t,F5}var O_e=YZ();const Kl=Vn(O_e);var R5,YQ;function I_e(){if(YQ)return R5;YQ=1;function e(t){return t==null}return R5=e,R5}var F_e=I_e();const Ur=Vn(F_e);var L5,XQ;function R_e(){if(XQ)return L5;XQ=1;var e=YA(),t=ml(),r=XA(),n="[object String]";function a(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return L5=a,L5}var L_e=R_e();const up=Vn(L_e);var U_e=tR();const _r=Vn(U_e);var D_e=Lh();const Uy=Vn(D_e);var U5={exports:{}},Qn={};var JQ;function M_e(){if(JQ)return Qn;JQ=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function g(v){if(typeof v=="object"&&v!==null){var x=v.$$typeof;switch(x){case e:switch(v=v.type,v){case r:case a:case n:case u:case d:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case c:case h:case A:case i:return v;default:return x}}case t:return x}}}return Qn.ContextConsumer=o,Qn.ContextProvider=i,Qn.Element=e,Qn.ForwardRef=c,Qn.Fragment=r,Qn.Lazy=h,Qn.Memo=A,Qn.Portal=t,Qn.Profiler=a,Qn.StrictMode=n,Qn.Suspense=u,Qn.SuspenseList=d,Qn.isAsyncMode=function(){return!1},Qn.isConcurrentMode=function(){return!1},Qn.isContextConsumer=function(v){return g(v)===o},Qn.isContextProvider=function(v){return g(v)===i},Qn.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},Qn.isForwardRef=function(v){return g(v)===c},Qn.isFragment=function(v){return g(v)===r},Qn.isLazy=function(v){return g(v)===h},Qn.isMemo=function(v){return g(v)===A},Qn.isPortal=function(v){return g(v)===t},Qn.isProfiler=function(v){return g(v)===a},Qn.isStrictMode=function(v){return g(v)===n},Qn.isSuspense=function(v){return g(v)===u},Qn.isSuspenseList=function(v){return g(v)===d},Qn.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===a||v===n||v===u||v===d||v===m||typeof v=="object"&&v!==null&&(v.$$typeof===h||v.$$typeof===A||v.$$typeof===i||v.$$typeof===o||v.$$typeof===c||v.$$typeof===y||v.getModuleId!==void 0)},Qn.typeOf=g,Qn}var ZQ;function Q_e(){return ZQ||(ZQ=1,U5.exports=M_e()),U5.exports}var H_e=Q_e(),D5,e8;function XZ(){if(e8)return D5;e8=1;var e=YA(),t=XA(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return D5=n,D5}var M5,t8;function $_e(){if(t8)return M5;t8=1;var e=XZ();function t(r){return e(r)&&r!=+r}return M5=t,M5}var V_e=$_e();const Dy=Vn(V_e);var q_e=XZ();const K_e=Vn(q_e);var To=function(t){return t===0?0:t>0?1:-1},Hm=function(t){return up(t)&&t.indexOf("%")===t.length-1},mt=function(t){return K_e(t)&&!Dy(t)},z_e=function(t){return Ur(t)},ni=function(t){return mt(t)||up(t)},W_e=0,Rp=function(t){var r=++W_e;return"".concat(t||"").concat(r)},Oo=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!mt(t)&&!up(t))return n;var i;if(Hm(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Dy(i)&&(i=n),a&&i>r&&(i=r),i},Zf=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},G_e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},ti=function(t,r){return mt(t)&&mt(r)?function(n){return t+n*(r-t)}:function(){return r}};function Dj(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Kl(n,t))===r})}var Y_e=function(t,r){return mt(t)&&mt(r)?t-r:up(t)&&up(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function jv(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function eO(e){"@babel/helpers - typeof";return eO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eO(e)}var X_e=["viewBox","children"],J_e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],r8=["points","pathLength"],Q5={svg:X_e,polygon:r8,polyline:r8},oR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Mj=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),!Uy(n))return null;var a={};return Object.keys(n).forEach(function(i){oR.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},Z_e=function(t,r,n){return function(a){return t(r,n,a),null}},dp=function(t,r,n){if(!Uy(t)||eO(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];oR.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Z_e(o,r,n))}),a},eNe=["children"],tNe=["children"];function n8(e,t){if(e==null)return{};var r=rNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tO(e){"@babel/helpers - typeof";return tO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tO(e)}var s8={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},TA=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},a8=null,H5=null,lR=function e(t){if(t===a8&&Array.isArray(H5))return H5;var r=[];return C.Children.forEach(t,function(n){Ur(n)||(H_e.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),H5=r,a8=t,r};function zl(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return TA(a)}):n=[TA(t)],lR(e).forEach(function(a){var i=Kl(a,"type.displayName")||Kl(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Ll(e,t){var r=zl(e,t);return r&&r[0]}var i8=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!mt(n)||n<=0||!mt(a)||a<=0)},nNe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],sNe=function(t){return t&&t.type&&up(t.type)&&nNe.indexOf(t.type)>=0},JZ=function(t){return t&&tO(t)==="object"&&"clipDot"in t},aNe=function(t,r,n,a){var i,o=(i=Q5?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!_r(t)&&(a&&o.includes(r)||J_e.includes(r))||n&&oR.includes(r)},nr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(C.isValidElement(t)&&(a=t.props),!Uy(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;aNe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},rO=function e(t,r){if(t===r)return!0;var n=C.Children.count(t);if(n!==C.Children.count(r))return!1;if(n===0)return!0;if(n===1)return o8(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!o8(i,o))return!1}return!0},o8=function(t,r){if(Ur(t)&&Ur(r))return!0;if(!Ur(t)&&!Ur(r)){var n=t.props||{},a=n.children,i=n8(n,eNe),o=r.props||{},l=o.children,c=n8(o,tNe);return a&&l?jv(i,c)&&rO(a,l):!a&&!l?jv(i,c):!1}return!1},l8=function(t,r){var n=[],a={};return lR(t).forEach(function(i,o){if(sNe(i))n.push(i);else if(i){var l=TA(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var A=u(i,l,o);n.push(A),a[l]=!0}}}),n},iNe=function(t){var r=t&&t.type;return r&&s8[r]?s8[r]:null},oNe=function(t,r){return lR(r).indexOf(t)},lNe=["children","width","height","viewBox","className","style","title","desc"];function nO(){return nO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nO.apply(this,arguments)}function cNe(e,t){if(e==null)return{};var r=uNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sO(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=cNe(e,lNe),d=a||{width:r,height:n,x:0,y:0},A=Mr("recharts-surface",i);return se.createElement("svg",nO({},nr(u,!0,"svg"),{className:A,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),se.createElement("title",null,l),se.createElement("desc",null,c),t)}var dNe=["children","className"];function aO(){return aO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aO.apply(this,arguments)}function ANe(e,t){if(e==null)return{};var r=fNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var un=se.forwardRef(function(e,t){var r=e.children,n=e.className,a=ANe(e,dNe),i=Mr("recharts-layer",n);return se.createElement("g",aO({className:i},nr(a,!0),{ref:t}),r)}),pu=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},$5,c8;function hNe(){if(c8)return $5;c8=1;function e(t,r,n){var a=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=t[a+r];return o}return $5=e,$5}var V5,u8;function mNe(){if(u8)return V5;u8=1;var e=hNe();function t(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:e(r,n,a)}return V5=t,V5}var q5,d8;function ZZ(){if(d8)return q5;d8=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+a+i+"]");function c(u){return l.test(u)}return q5=c,q5}var K5,A8;function pNe(){if(A8)return K5;A8=1;function e(t){return t.split("")}return K5=e,K5}var z5,f8;function gNe(){if(f8)return z5;f8=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",o="["+e+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+e+"]",A="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",y=u+"?",g="["+i+"]?",v="(?:"+m+"(?:"+[d,A,h].join("|")+")"+g+y+")*",x=g+y+v,b="(?:"+[d+l+"?",l,A,h,o].join("|")+")",j=RegExp(c+"(?="+c+")|"+b+x,"g");function _(N){return N.match(j)||[]}return z5=_,z5}var W5,h8;function vNe(){if(h8)return W5;h8=1;var e=pNe(),t=ZZ(),r=gNe();function n(a){return t(a)?r(a):e(a)}return W5=n,W5}var G5,m8;function yNe(){if(m8)return G5;m8=1;var e=mNe(),t=ZZ(),r=vNe(),n=WZ();function a(i){return function(o){o=n(o);var l=t(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?e(l,1).join(""):o.slice(1);return c[i]()+u}}return G5=a,G5}var Y5,p8;function xNe(){if(p8)return Y5;p8=1;var e=yNe(),t=e("toUpperCase");return Y5=t,Y5}var wNe=xNe();const JN=Vn(wNe);function ps(e){return function(){return e}}const eee=Math.cos,Qj=Math.sin,Eu=Math.sqrt,Hj=Math.PI,ZN=2*Hj,iO=Math.PI,oO=2*iO,Pm=1e-6,bNe=oO-Pm;function tee(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function jNe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return tee;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class _Ne{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?tee:jNe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,A=l-r,h=d*d+A*A;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Pm)if(!(Math.abs(A*c-u*d)>Pm)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,y=a-l,g=c*c+u*u,v=m*m+y*y,x=Math.sqrt(g),b=Math.sqrt(h),j=i*Math.tan((iO-Math.acos((g+h-v)/(2*x*b)))/2),_=j/b,N=j/x;Math.abs(_-1)>Pm&&this._append`L${t+_*d},${r+_*A}`,this._append`A${i},${i},0,0,${+(A*m>d*y)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,A=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Pm||Math.abs(this._y1-d)>Pm)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%oO+oO),h>bNe?this._append`A${n},${n},0,1,${A},${t-l},${r-c}A${n},${n},0,1,${A},${this._x1=u},${this._y1=d}`:h>Pm&&this._append`A${n},${n},0,${+(h>=iO)},${A},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function cR(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new _Ne(t)}function uR(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ree(e){this._context=e}ree.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function eC(e){return new ree(e)}function nee(e){return e[0]}function see(e){return e[1]}function aee(e,t){var r=ps(!0),n=null,a=eC,i=null,o=cR(l);e=typeof e=="function"?e:e===void 0?nee:ps(e),t=typeof t=="function"?t:t===void 0?see:ps(t);function l(c){var u,d=(c=uR(c)).length,A,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(A=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(A,u,c),+t(A,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:ps(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:ps(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:ps(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Q1(e,t,r){var n=null,a=ps(!0),i=null,o=eC,l=null,c=cR(u);e=typeof e=="function"?e:e===void 0?nee:ps(+e),t=typeof t=="function"?t:ps(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?see:ps(+r);function u(A){var h,m,y,g=(A=uR(A)).length,v,x=!1,b,j=new Array(g),_=new Array(g);for(i==null&&(l=o(b=c())),h=0;h<=g;++h){if(!(h<g&&a(v=A[h],h,A))===x)if(x=!x)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=m;--y)l.point(j[y],_[y]);l.lineEnd(),l.areaEnd()}x&&(j[h]=+e(v,h,A),_[h]=+t(v,h,A),l.point(n?+n(v,h,A):j[h],r?+r(v,h,A):_[h]))}if(b)return l=null,b+""||null}function d(){return aee().defined(a).curve(o).context(i)}return u.x=function(A){return arguments.length?(e=typeof A=="function"?A:ps(+A),n=null,u):e},u.x0=function(A){return arguments.length?(e=typeof A=="function"?A:ps(+A),u):e},u.x1=function(A){return arguments.length?(n=A==null?null:typeof A=="function"?A:ps(+A),u):n},u.y=function(A){return arguments.length?(t=typeof A=="function"?A:ps(+A),r=null,u):t},u.y0=function(A){return arguments.length?(t=typeof A=="function"?A:ps(+A),u):t},u.y1=function(A){return arguments.length?(r=A==null?null:typeof A=="function"?A:ps(+A),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(A){return arguments.length?(a=typeof A=="function"?A:ps(!!A),u):a},u.curve=function(A){return arguments.length?(o=A,i!=null&&(l=o(i)),u):o},u.context=function(A){return arguments.length?(A==null?i=l=null:l=o(i=A),u):i},u}class iee{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function NNe(e){return new iee(e,!0)}function CNe(e){return new iee(e,!1)}const dR={draw(e,t){const r=Eu(t/Hj);e.moveTo(r,0),e.arc(0,0,r,0,ZN)}},SNe={draw(e,t){const r=Eu(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},oee=Eu(1/3),BNe=oee*2,ENe={draw(e,t){const r=Eu(t/BNe),n=r*oee;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},kNe={draw(e,t){const r=Eu(t),n=-r/2;e.rect(n,n,r,r)}},PNe=.8908130915292852,lee=Qj(Hj/10)/Qj(7*Hj/10),TNe=Qj(ZN/10)*lee,ONe=-eee(ZN/10)*lee,INe={draw(e,t){const r=Eu(t*PNe),n=TNe*r,a=ONe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=ZN*i/5,l=eee(o),c=Qj(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},X5=Eu(3),FNe={draw(e,t){const r=-Eu(t/(X5*3));e.moveTo(0,r*2),e.lineTo(-X5*r,-r),e.lineTo(X5*r,-r),e.closePath()}},hc=-.5,mc=Eu(3)/2,lO=1/Eu(12),RNe=(lO/2+1)*3,LNe={draw(e,t){const r=Eu(t/RNe),n=r/2,a=r*lO,i=n,o=r*lO+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(hc*n-mc*a,mc*n+hc*a),e.lineTo(hc*i-mc*o,mc*i+hc*o),e.lineTo(hc*l-mc*c,mc*l+hc*c),e.lineTo(hc*n+mc*a,hc*a-mc*n),e.lineTo(hc*i+mc*o,hc*o-mc*i),e.lineTo(hc*l+mc*c,hc*c-mc*l),e.closePath()}};function UNe(e,t){let r=null,n=cR(a);e=typeof e=="function"?e:ps(e||dR),t=typeof t=="function"?t:ps(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:ps(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:ps(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function $j(){}function Vj(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function cee(e){this._context=e}cee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vj(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DNe(e){return new cee(e)}function uee(e){this._context=e}uee.prototype={areaStart:$j,areaEnd:$j,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Vj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function MNe(e){return new uee(e)}function dee(e){this._context=e}dee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Vj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function QNe(e){return new dee(e)}function Aee(e){this._context=e}Aee.prototype={areaStart:$j,areaEnd:$j,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function HNe(e){return new Aee(e)}function g8(e){return e<0?-1:1}function v8(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(g8(i)+g8(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function y8(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function J5(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function qj(e){this._context=e}qj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:J5(this,this._t0,y8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,J5(this,y8(this,r=v8(this,e,t)),r);break;default:J5(this,this._t0,r=v8(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function fee(e){this._context=new hee(e)}(fee.prototype=Object.create(qj.prototype)).point=function(e,t){qj.prototype.point.call(this,t,e)};function hee(e){this._context=e}hee.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function $Ne(e){return new qj(e)}function VNe(e){return new fee(e)}function mee(e){this._context=e}mee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=x8(e),a=x8(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function x8(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function qNe(e){return new mee(e)}function tC(e,t){this._context=e,this._t=t}tC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function KNe(e){return new tC(e,.5)}function zNe(e){return new tC(e,0)}function WNe(e){return new tC(e,1)}function Hv(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function cO(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function GNe(e,t){return e[t]}function YNe(e){const t=[];return t.key=e,t}function XNe(){var e=ps([]),t=cO,r=Hv,n=GNe;function a(i){var o=Array.from(e.apply(this,arguments),YNe),l,c=o.length,u=-1,d;for(const A of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(A,o[l].key,u,i)]).data=A;for(l=0,d=uR(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:ps(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:ps(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?cO:typeof i=="function"?i:ps(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Hv,a):r},a}function JNe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Hv(e,t)}}function ZNe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Hv(e,t)}}function eCe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],A=d[n][1]||0,h=d[n-1][1]||0,m=(A-h)/2,y=0;y<l;++y){var g=e[t[y]],v=g[n][1]||0,x=g[n-1][1]||0;m+=v-x}c+=A,u+=m*A}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Hv(e,t)}}function ow(e){"@babel/helpers - typeof";return ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ow(e)}var tCe=["type","size","sizeType"];function uO(){return uO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uO.apply(this,arguments)}function w8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w8(Object(r),!0).forEach(function(n){rCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rCe(e,t,r){return t=nCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nCe(e){var t=sCe(e,"string");return ow(t)=="symbol"?t:t+""}function sCe(e,t){if(ow(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ow(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aCe(e,t){if(e==null)return{};var r=iCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var pee={symbolCircle:dR,symbolCross:SNe,symbolDiamond:ENe,symbolSquare:kNe,symbolStar:INe,symbolTriangle:FNe,symbolWye:LNe},oCe=Math.PI/180,lCe=function(t){var r="symbol".concat(JN(t));return pee[r]||dR},cCe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*oCe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},uCe=function(t,r){pee["symbol".concat(JN(t))]=r},AR=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=aCe(t,tCe),u=b8(b8({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=lCe(n),x=UNe().type(v).size(cCe(i,l,n));return x()},A=u.className,h=u.cx,m=u.cy,y=nr(u,!0);return h===+h&&m===+m&&i===+i?se.createElement("path",uO({},y,{className:Mr("recharts-symbols",A),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};AR.registerSymbol=uCe;function $v(e){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(e)}function dO(){return dO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dO.apply(this,arguments)}function j8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dCe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(r),!0).forEach(function(n){lw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ACe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vee(n.key),n)}}function hCe(e,t,r){return t&&fCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mCe(e,t,r){return t=Kj(t),pCe(e,gee()?Reflect.construct(t,r||[],Kj(e).constructor):t.apply(e,r))}function pCe(e,t){if(t&&($v(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gCe(e)}function gCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gee=function(){return!!e})()}function Kj(e){return Kj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kj(e)}function vCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AO(e,t)}function AO(e,t){return AO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AO(e,t)}function lw(e,t,r){return t=vee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vee(e){var t=yCe(e,"string");return $v(t)=="symbol"?t:t+""}function yCe(e,t){if($v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pc=32,fR=(function(e){function t(){return ACe(this,t),mCe(this,t,arguments)}return vCe(t,e),hCe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=pc/2,o=pc/6,l=pc/3,c=n.inactive?a:n.color;if(n.type==="plainline")return se.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:pc,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return se.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(pc,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return se.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(pc/8,"h").concat(pc,"v").concat(pc*3/4,"h").concat(-pc,"z"),className:"recharts-legend-icon"});if(se.isValidElement(n.legendIcon)){var u=dCe({},n);return delete u.legendIcon,se.cloneElement(n.legendIcon,u)}return se.createElement(AR,{fill:c,cx:i,cy:i,size:pc,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:pc,height:pc},A={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,y){var g=m.formatter||c,v=Mr(lw(lw({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=_r(m.value)?null:m.value;pu(!_r(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return se.createElement("li",dO({className:v,style:A,key:"legend-item-".concat(y)},dp(n.props,m,y)),se.createElement(sO,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),se.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(x,m,y):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return se.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(C.PureComponent);lw(fR,"displayName","Legend");lw(fR,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Z5,_8;function xCe(){if(_8)return Z5;_8=1;var e=GN();function t(){this.__data__=new e,this.size=0}return Z5=t,Z5}var eE,N8;function wCe(){if(N8)return eE;N8=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return eE=e,eE}var tE,C8;function bCe(){if(C8)return tE;C8=1;function e(t){return this.__data__.get(t)}return tE=e,tE}var rE,S8;function jCe(){if(S8)return rE;S8=1;function e(t){return this.__data__.has(t)}return rE=e,rE}var nE,B8;function _Ce(){if(B8)return nE;B8=1;var e=GN(),t=nR(),r=sR(),n=200;function a(i,o){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<n-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,o),this.size=l.size,this}return nE=a,nE}var sE,E8;function yee(){if(E8)return sE;E8=1;var e=GN(),t=xCe(),r=wCe(),n=bCe(),a=jCe(),i=_Ce();function o(l){var c=this.__data__=new e(l);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=i,sE=o,sE}var aE,k8;function NCe(){if(k8)return aE;k8=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return aE=t,aE}var iE,P8;function CCe(){if(P8)return iE;P8=1;function e(t){return this.__data__.has(t)}return iE=e,iE}var oE,T8;function xee(){if(T8)return oE;T8=1;var e=sR(),t=NCe(),r=CCe();function n(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new e;++i<o;)this.add(a[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,oE=n,oE}var lE,O8;function wee(){if(O8)return lE;O8=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return lE=e,lE}var cE,I8;function bee(){if(I8)return cE;I8=1;function e(t,r){return t.has(r)}return cE=e,cE}var uE,F8;function jee(){if(F8)return uE;F8=1;var e=xee(),t=wee(),r=bee(),n=1,a=2;function i(o,l,c,u,d,A){var h=c&n,m=o.length,y=l.length;if(m!=y&&!(h&&y>m))return!1;var g=A.get(o),v=A.get(l);if(g&&v)return g==l&&v==o;var x=-1,b=!0,j=c&a?new e:void 0;for(A.set(o,l),A.set(l,o);++x<m;){var _=o[x],N=l[x];if(u)var B=h?u(N,_,x,l,o,A):u(_,N,x,o,l,A);if(B!==void 0){if(B)continue;b=!1;break}if(j){if(!t(l,function(T,O){if(!r(j,O)&&(_===T||d(_,T,c,u,A)))return j.push(O)})){b=!1;break}}else if(!(_===N||d(_,N,c,u,A))){b=!1;break}}return A.delete(o),A.delete(l),b}return uE=i,uE}var dE,R8;function SCe(){if(R8)return dE;R8=1;var e=Bd(),t=e.Uint8Array;return dE=t,dE}var AE,L8;function BCe(){if(L8)return AE;L8=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,i){n[++r]=[i,a]}),n}return AE=e,AE}var fE,U8;function hR(){if(U8)return fE;U8=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return fE=e,fE}var hE,D8;function ECe(){if(D8)return hE;D8=1;var e=Ab(),t=SCe(),r=rR(),n=jee(),a=BCe(),i=hR(),o=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",A="[object Map]",h="[object Number]",m="[object RegExp]",y="[object Set]",g="[object String]",v="[object Symbol]",x="[object ArrayBuffer]",b="[object DataView]",j=e?e.prototype:void 0,_=j?j.valueOf:void 0;function N(B,T,O,P,M,I,D){switch(O){case b:if(B.byteLength!=T.byteLength||B.byteOffset!=T.byteOffset)return!1;B=B.buffer,T=T.buffer;case x:return!(B.byteLength!=T.byteLength||!I(new t(B),new t(T)));case c:case u:case h:return r(+B,+T);case d:return B.name==T.name&&B.message==T.message;case m:case g:return B==T+"";case A:var $=a;case y:var F=P&o;if($||($=i),B.size!=T.size&&!F)return!1;var V=D.get(B);if(V)return V==T;P|=l,D.set(B,T);var X=n($(B),$(T),P,M,I,D);return D.delete(B),X;case v:if(_)return _.call(B)==_.call(T)}return!1}return hE=N,hE}var mE,M8;function _ee(){if(M8)return mE;M8=1;function e(t,r){for(var n=-1,a=r.length,i=t.length;++n<a;)t[i+n]=r[n];return t}return mE=e,mE}var pE,Q8;function kCe(){if(Q8)return pE;Q8=1;var e=_ee(),t=ml();function r(n,a,i){var o=a(n);return t(n)?o:e(o,i(n))}return pE=r,pE}var gE,H8;function PCe(){if(H8)return gE;H8=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=0,o=[];++n<a;){var l=t[n];r(l,n,t)&&(o[i++]=l)}return o}return gE=e,gE}var vE,$8;function TCe(){if($8)return vE;$8=1;function e(){return[]}return vE=e,vE}var yE,V8;function OCe(){if(V8)return yE;V8=1;var e=PCe(),t=TCe(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(l){return n.call(o,l)}))}:t;return yE=i,yE}var xE,q8;function ICe(){if(q8)return xE;q8=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return xE=e,xE}var wE,K8;function FCe(){if(K8)return wE;K8=1;var e=YA(),t=XA(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return wE=n,wE}var bE,z8;function mR(){if(z8)return bE;z8=1;var e=FCe(),t=XA(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return bE=i,bE}var t0={exports:{}},jE,W8;function RCe(){if(W8)return jE;W8=1;function e(){return!1}return jE=e,jE}t0.exports;var G8;function Nee(){return G8||(G8=1,(function(e,t){var r=Bd(),n=RCe(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(t0,t0.exports)),t0.exports}var _E,Y8;function pR(){if(Y8)return _E;Y8=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return _E=r,_E}var NE,X8;function gR(){if(X8)return NE;X8=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return NE=t,NE}var CE,J8;function LCe(){if(J8)return CE;J8=1;var e=YA(),t=gR(),r=XA(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",A="[object Object]",h="[object RegExp]",m="[object Set]",y="[object String]",g="[object WeakMap]",v="[object ArrayBuffer]",x="[object DataView]",b="[object Float32Array]",j="[object Float64Array]",_="[object Int8Array]",N="[object Int16Array]",B="[object Int32Array]",T="[object Uint8Array]",O="[object Uint8ClampedArray]",P="[object Uint16Array]",M="[object Uint32Array]",I={};I[b]=I[j]=I[_]=I[N]=I[B]=I[T]=I[O]=I[P]=I[M]=!0,I[n]=I[a]=I[v]=I[i]=I[x]=I[o]=I[l]=I[c]=I[u]=I[d]=I[A]=I[h]=I[m]=I[y]=I[g]=!1;function D($){return r($)&&t($.length)&&!!I[e($)]}return CE=D,CE}var SE,Z8;function Cee(){if(Z8)return SE;Z8=1;function e(t){return function(r){return t(r)}}return SE=e,SE}var r0={exports:{}};r0.exports;var eH;function UCe(){return eH||(eH=1,(function(e,t){var r=qZ(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(r0,r0.exports)),r0.exports}var BE,tH;function See(){if(tH)return BE;tH=1;var e=LCe(),t=Cee(),r=UCe(),n=r&&r.isTypedArray,a=n?t(n):e;return BE=a,BE}var EE,rH;function DCe(){if(rH)return EE;rH=1;var e=ICe(),t=mR(),r=ml(),n=Nee(),a=pR(),i=See(),o=Object.prototype,l=o.hasOwnProperty;function c(u,d){var A=r(u),h=!A&&t(u),m=!A&&!h&&n(u),y=!A&&!h&&!m&&i(u),g=A||h||m||y,v=g?e(u.length,String):[],x=v.length;for(var b in u)(d||l.call(u,b))&&!(g&&(b=="length"||m&&(b=="offset"||b=="parent")||y&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||a(b,x)))&&v.push(b);return v}return EE=c,EE}var kE,nH;function MCe(){if(nH)return kE;nH=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return kE=t,kE}var PE,sH;function Bee(){if(sH)return PE;sH=1;function e(t,r){return function(n){return t(r(n))}}return PE=e,PE}var TE,aH;function QCe(){if(aH)return TE;aH=1;var e=Bee(),t=e(Object.keys,Object);return TE=t,TE}var OE,iH;function HCe(){if(iH)return OE;iH=1;var e=MCe(),t=QCe(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!e(i))return t(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return OE=a,OE}var IE,oH;function fb(){if(oH)return IE;oH=1;var e=tR(),t=gR();function r(n){return n!=null&&t(n.length)&&!e(n)}return IE=r,IE}var FE,lH;function rC(){if(lH)return FE;lH=1;var e=DCe(),t=HCe(),r=fb();function n(a){return r(a)?e(a):t(a)}return FE=n,FE}var RE,cH;function $Ce(){if(cH)return RE;cH=1;var e=kCe(),t=OCe(),r=rC();function n(a){return e(a,r,t)}return RE=n,RE}var LE,uH;function VCe(){if(uH)return LE;uH=1;var e=$Ce(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,o,l,c,u,d){var A=l&t,h=e(i),m=h.length,y=e(o),g=y.length;if(m!=g&&!A)return!1;for(var v=m;v--;){var x=h[v];if(!(A?x in o:n.call(o,x)))return!1}var b=d.get(i),j=d.get(o);if(b&&j)return b==o&&j==i;var _=!0;d.set(i,o),d.set(o,i);for(var N=A;++v<m;){x=h[v];var B=i[x],T=o[x];if(c)var O=A?c(T,B,x,o,i,d):c(B,T,x,i,o,d);if(!(O===void 0?B===T||u(B,T,l,c,d):O)){_=!1;break}N||(N=x=="constructor")}if(_&&!N){var P=i.constructor,M=o.constructor;P!=M&&"constructor"in i&&"constructor"in o&&!(typeof P=="function"&&P instanceof P&&typeof M=="function"&&M instanceof M)&&(_=!1)}return d.delete(i),d.delete(o),_}return LE=a,LE}var UE,dH;function qCe(){if(dH)return UE;dH=1;var e=Fp(),t=Bd(),r=e(t,"DataView");return UE=r,UE}var DE,AH;function KCe(){if(AH)return DE;AH=1;var e=Fp(),t=Bd(),r=e(t,"Promise");return DE=r,DE}var ME,fH;function Eee(){if(fH)return ME;fH=1;var e=Fp(),t=Bd(),r=e(t,"Set");return ME=r,ME}var QE,hH;function zCe(){if(hH)return QE;hH=1;var e=Fp(),t=Bd(),r=e(t,"WeakMap");return QE=r,QE}var HE,mH;function WCe(){if(mH)return HE;mH=1;var e=qCe(),t=nR(),r=KCe(),n=Eee(),a=zCe(),i=YA(),o=KZ(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",A="[object WeakMap]",h="[object DataView]",m=o(e),y=o(t),g=o(r),v=o(n),x=o(a),b=i;return(e&&b(new e(new ArrayBuffer(1)))!=h||t&&b(new t)!=l||r&&b(r.resolve())!=u||n&&b(new n)!=d||a&&b(new a)!=A)&&(b=function(j){var _=i(j),N=_==c?j.constructor:void 0,B=N?o(N):"";if(B)switch(B){case m:return h;case y:return l;case g:return u;case v:return d;case x:return A}return _}),HE=b,HE}var $E,pH;function GCe(){if(pH)return $E;pH=1;var e=yee(),t=jee(),r=ECe(),n=VCe(),a=WCe(),i=ml(),o=Nee(),l=See(),c=1,u="[object Arguments]",d="[object Array]",A="[object Object]",h=Object.prototype,m=h.hasOwnProperty;function y(g,v,x,b,j,_){var N=i(g),B=i(v),T=N?d:a(g),O=B?d:a(v);T=T==u?A:T,O=O==u?A:O;var P=T==A,M=O==A,I=T==O;if(I&&o(g)){if(!o(v))return!1;N=!0,P=!1}if(I&&!P)return _||(_=new e),N||l(g)?t(g,v,x,b,j,_):r(g,v,T,x,b,j,_);if(!(x&c)){var D=P&&m.call(g,"__wrapped__"),$=M&&m.call(v,"__wrapped__");if(D||$){var F=D?g.value():g,V=$?v.value():v;return _||(_=new e),j(F,V,x,b,_)}}return I?(_||(_=new e),n(g,v,x,b,j,_)):!1}return $E=y,$E}var VE,gH;function vR(){if(gH)return VE;gH=1;var e=GCe(),t=XA();function r(n,a,i,o,l){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,i,o,r,l)}return VE=r,VE}var qE,vH;function YCe(){if(vH)return qE;vH=1;var e=yee(),t=vR(),r=1,n=2;function a(i,o,l,c){var u=l.length,d=u,A=!c;if(i==null)return!d;for(i=Object(i);u--;){var h=l[u];if(A&&h[2]?h[1]!==i[h[0]]:!(h[0]in i))return!1}for(;++u<d;){h=l[u];var m=h[0],y=i[m],g=h[1];if(A&&h[2]){if(y===void 0&&!(m in i))return!1}else{var v=new e;if(c)var x=c(y,g,m,i,o,v);if(!(x===void 0?t(g,y,r|n,c,v):x))return!1}}return!0}return qE=a,qE}var KE,yH;function kee(){if(yH)return KE;yH=1;var e=Lh();function t(r){return r===r&&!e(r)}return KE=t,KE}var zE,xH;function XCe(){if(xH)return zE;xH=1;var e=kee(),t=rC();function r(n){for(var a=t(n),i=a.length;i--;){var o=a[i],l=n[o];a[i]=[o,l,e(l)]}return a}return zE=r,zE}var WE,wH;function Pee(){if(wH)return WE;wH=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return WE=e,WE}var GE,bH;function JCe(){if(bH)return GE;bH=1;var e=YCe(),t=XCe(),r=Pee();function n(a){var i=t(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||e(o,a,i)}}return GE=n,GE}var YE,jH;function ZCe(){if(jH)return YE;jH=1;function e(t,r){return t!=null&&r in Object(t)}return YE=e,YE}var XE,_H;function eSe(){if(_H)return XE;_H=1;var e=GZ(),t=mR(),r=ml(),n=pR(),a=gR(),i=XN();function o(l,c,u){c=e(c,l);for(var d=-1,A=c.length,h=!1;++d<A;){var m=i(c[d]);if(!(h=l!=null&&u(l,m)))break;l=l[m]}return h||++d!=A?h:(A=l==null?0:l.length,!!A&&a(A)&&n(m,A)&&(r(l)||t(l)))}return XE=o,XE}var JE,NH;function tSe(){if(NH)return JE;NH=1;var e=ZCe(),t=eSe();function r(n,a){return n!=null&&t(n,a,e)}return JE=r,JE}var ZE,CH;function rSe(){if(CH)return ZE;CH=1;var e=vR(),t=YZ(),r=tSe(),n=eR(),a=kee(),i=Pee(),o=XN(),l=1,c=2;function u(d,A){return n(d)&&a(A)?i(o(d),A):function(h){var m=t(h,d);return m===void 0&&m===A?r(h,d):e(A,m,l|c)}}return ZE=u,ZE}var e4,SH;function My(){if(SH)return e4;SH=1;function e(t){return t}return e4=e,e4}var t4,BH;function nSe(){if(BH)return t4;BH=1;function e(t){return function(r){return r?.[t]}}return t4=e,t4}var r4,EH;function sSe(){if(EH)return r4;EH=1;var e=iR();function t(r){return function(n){return e(n,r)}}return r4=t,r4}var n4,kH;function aSe(){if(kH)return n4;kH=1;var e=nSe(),t=sSe(),r=eR(),n=XN();function a(i){return r(i)?e(n(i)):t(i)}return n4=a,n4}var s4,PH;function Ed(){if(PH)return s4;PH=1;var e=JCe(),t=rSe(),r=My(),n=ml(),a=aSe();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):a(o)}return s4=i,s4}var a4,TH;function Tee(){if(TH)return a4;TH=1;function e(t,r,n,a){for(var i=t.length,o=n+(a?1:-1);a?o--:++o<i;)if(r(t[o],o,t))return o;return-1}return a4=e,a4}var i4,OH;function iSe(){if(OH)return i4;OH=1;function e(t){return t!==t}return i4=e,i4}var o4,IH;function oSe(){if(IH)return o4;IH=1;function e(t,r,n){for(var a=n-1,i=t.length;++a<i;)if(t[a]===r)return a;return-1}return o4=e,o4}var l4,FH;function lSe(){if(FH)return l4;FH=1;var e=Tee(),t=iSe(),r=oSe();function n(a,i,o){return i===i?r(a,i,o):e(a,t,o)}return l4=n,l4}var c4,RH;function cSe(){if(RH)return c4;RH=1;var e=lSe();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return c4=t,c4}var u4,LH;function uSe(){if(LH)return u4;LH=1;function e(t,r,n){for(var a=-1,i=t==null?0:t.length;++a<i;)if(n(r,t[a]))return!0;return!1}return u4=e,u4}var d4,UH;function dSe(){if(UH)return d4;UH=1;function e(){}return d4=e,d4}var A4,DH;function ASe(){if(DH)return A4;DH=1;var e=Eee(),t=dSe(),r=hR(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return A4=a,A4}var f4,MH;function fSe(){if(MH)return f4;MH=1;var e=xee(),t=cSe(),r=uSe(),n=bee(),a=ASe(),i=hR(),o=200;function l(c,u,d){var A=-1,h=t,m=c.length,y=!0,g=[],v=g;if(d)y=!1,h=r;else if(m>=o){var x=u?null:a(c);if(x)return i(x);y=!1,h=n,v=new e}else v=u?[]:g;e:for(;++A<m;){var b=c[A],j=u?u(b):b;if(b=d||b!==0?b:0,y&&j===j){for(var _=v.length;_--;)if(v[_]===j)continue e;u&&v.push(j),g.push(b)}else h(v,j,d)||(v!==g&&v.push(j),g.push(b))}return g}return f4=l,f4}var h4,QH;function hSe(){if(QH)return h4;QH=1;var e=Ed(),t=fSe();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return h4=r,h4}var mSe=hSe();const HH=Vn(mSe);function Oee(e,t,r){return t===!0?HH(e,r):_r(t)?HH(e,t):e}function Vv(e){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vv(e)}var pSe=["ref"];function $H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$H(Object(r),!0).forEach(function(n){nC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$H(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fee(n.key),n)}}function vSe(e,t,r){return t&&VH(e.prototype,t),r&&VH(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ySe(e,t,r){return t=zj(t),xSe(e,Iee()?Reflect.construct(t,r||[],zj(e).constructor):t.apply(e,r))}function xSe(e,t){if(t&&(Vv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wSe(e)}function wSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iee=function(){return!!e})()}function zj(e){return zj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zj(e)}function bSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fO(e,t)}function fO(e,t){return fO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fO(e,t)}function nC(e,t,r){return t=Fee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fee(e){var t=jSe(e,"string");return Vv(t)=="symbol"?t:t+""}function jSe(e,t){if(Vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _Se(e,t){if(e==null)return{};var r=NSe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CSe(e){return e.value}function SSe(e,t){if(se.isValidElement(e))return se.cloneElement(e,t);if(typeof e=="function")return se.createElement(e,t);t.ref;var r=_Se(t,pSe);return se.createElement(fR,r)}var qH=1,_v=(function(e){function t(){var r;gSe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ySe(this,t,[].concat(a)),nC(r,"lastBoundingBox",{width:-1,height:-1}),r}return bSe(t,e),vSe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>qH||Math.abs(a.height-this.lastBoundingBox.height)>qH)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?pA({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,A,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();A={left:((u||0)-m.width)/2}}else A=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return pA(pA({},A),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,A=pA(pA({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return se.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:function(m){n.wrapperNode=m}},SSe(i,pA(pA({},this.props),{},{payload:Oee(d,u,CSe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=pA(pA({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&mt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])})(C.PureComponent);nC(_v,"displayName","Legend");nC(_v,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var m4,KH;function BSe(){if(KH)return m4;KH=1;var e=Ab(),t=mR(),r=ml(),n=e?e.isConcatSpreadable:void 0;function a(i){return r(i)||t(i)||!!(n&&i&&i[n])}return m4=a,m4}var p4,zH;function Ree(){if(zH)return p4;zH=1;var e=_ee(),t=BSe();function r(n,a,i,o,l){var c=-1,u=n.length;for(i||(i=t),l||(l=[]);++c<u;){var d=n[c];a>0&&i(d)?a>1?r(d,a-1,i,o,l):e(l,d):o||(l[l.length]=d)}return l}return p4=r,p4}var g4,WH;function ESe(){if(WH)return g4;WH=1;function e(t){return function(r,n,a){for(var i=-1,o=Object(r),l=a(r),c=l.length;c--;){var u=l[t?c:++i];if(n(o[u],u,o)===!1)break}return r}}return g4=e,g4}var v4,GH;function kSe(){if(GH)return v4;GH=1;var e=ESe(),t=e();return v4=t,v4}var y4,YH;function Lee(){if(YH)return y4;YH=1;var e=kSe(),t=rC();function r(n,a){return n&&e(n,a,t)}return y4=r,y4}var x4,XH;function PSe(){if(XH)return x4;XH=1;var e=fb();function t(r,n){return function(a,i){if(a==null)return a;if(!e(a))return r(a,i);for(var o=a.length,l=n?o:-1,c=Object(a);(n?l--:++l<o)&&i(c[l],l,c)!==!1;);return a}}return x4=t,x4}var w4,JH;function yR(){if(JH)return w4;JH=1;var e=Lee(),t=PSe(),r=t(e);return w4=r,w4}var b4,ZH;function Uee(){if(ZH)return b4;ZH=1;var e=yR(),t=fb();function r(n,a){var i=-1,o=t(n)?Array(n.length):[];return e(n,function(l,c,u){o[++i]=a(l,c,u)}),o}return b4=r,b4}var j4,e7;function TSe(){if(e7)return j4;e7=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return j4=e,j4}var _4,t7;function OSe(){if(t7)return _4;t7=1;var e=Ly();function t(r,n){if(r!==n){var a=r!==void 0,i=r===null,o=r===r,l=e(r),c=n!==void 0,u=n===null,d=n===n,A=e(n);if(!u&&!A&&!l&&r>n||l&&c&&d&&!u&&!A||i&&c&&d||!a&&d||!o)return 1;if(!i&&!l&&!A&&r<n||A&&a&&o&&!i&&!l||u&&a&&o||!c&&o||!d)return-1}return 0}return _4=t,_4}var N4,r7;function ISe(){if(r7)return N4;r7=1;var e=OSe();function t(r,n,a){for(var i=-1,o=r.criteria,l=n.criteria,c=o.length,u=a.length;++i<c;){var d=e(o[i],l[i]);if(d){if(i>=u)return d;var A=a[i];return d*(A=="desc"?-1:1)}}return r.index-n.index}return N4=t,N4}var C4,n7;function FSe(){if(n7)return C4;n7=1;var e=aR(),t=iR(),r=Ed(),n=Uee(),a=TSe(),i=Cee(),o=ISe(),l=My(),c=ml();function u(d,A,h){A.length?A=e(A,function(g){return c(g)?function(v){return t(v,g.length===1?g[0]:g)}:g}):A=[l];var m=-1;A=e(A,i(r));var y=n(d,function(g,v,x){var b=e(A,function(j){return j(g)});return{criteria:b,index:++m,value:g}});return a(y,function(g,v){return o(g,v,h)})}return C4=u,C4}var S4,s7;function RSe(){if(s7)return S4;s7=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return S4=e,S4}var B4,a7;function LSe(){if(a7)return B4;a7=1;var e=RSe(),t=Math.max;function r(n,a,i){return a=t(a===void 0?n.length-1:a,0),function(){for(var o=arguments,l=-1,c=t(o.length-a,0),u=Array(c);++l<c;)u[l]=o[a+l];l=-1;for(var d=Array(a+1);++l<a;)d[l]=o[l];return d[a]=i(u),e(n,this,d)}}return B4=r,B4}var E4,i7;function USe(){if(i7)return E4;i7=1;function e(t){return function(){return t}}return E4=e,E4}var k4,o7;function Dee(){if(o7)return k4;o7=1;var e=Fp(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return k4=t,k4}var P4,l7;function DSe(){if(l7)return P4;l7=1;var e=USe(),t=Dee(),r=My(),n=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return P4=n,P4}var T4,c7;function MSe(){if(c7)return T4;c7=1;var e=800,t=16,r=Date.now;function n(a){var i=0,o=0;return function(){var l=r(),c=t-(l-o);if(o=l,c>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return T4=n,T4}var O4,u7;function QSe(){if(u7)return O4;u7=1;var e=DSe(),t=MSe(),r=t(e);return O4=r,O4}var I4,d7;function HSe(){if(d7)return I4;d7=1;var e=My(),t=LSe(),r=QSe();function n(a,i){return r(t(a,i,e),a+"")}return I4=n,I4}var F4,A7;function sC(){if(A7)return F4;A7=1;var e=rR(),t=fb(),r=pR(),n=Lh();function a(i,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?t(l)&&r(o,l.length):c=="string"&&o in l)?e(l[o],i):!1}return F4=a,F4}var R4,f7;function $Se(){if(f7)return R4;f7=1;var e=Ree(),t=FSe(),r=HSe(),n=sC(),a=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return R4=a,R4}var VSe=$Se();const xR=Vn(VSe);function cw(e){"@babel/helpers - typeof";return cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cw(e)}function hO(){return hO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hO.apply(this,arguments)}function qSe(e,t){return GSe(e)||WSe(e,t)||zSe(e,t)||KSe()}function KSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zSe(e,t){if(e){if(typeof e=="string")return h7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h7(e,t)}}function h7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function GSe(e){if(Array.isArray(e))return e}function m7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m7(Object(r),!0).forEach(function(n){YSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YSe(e,t,r){return t=XSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XSe(e){var t=JSe(e,"string");return cw(t)=="symbol"?t:t+""}function JSe(e,t){if(cw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZSe(e){return Array.isArray(e)&&ni(e[0])&&ni(e[1])?e.join(" ~ "):e}var eBe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,A=t.formatter,h=t.itemSorter,m=t.wrapperClassName,y=t.labelClassName,g=t.label,v=t.labelFormatter,x=t.accessibilityLayer,b=x===void 0?!1:x,j=function(){if(d&&d.length){var D={padding:0,margin:0},$=(h?xR(d,h):d).map(function(F,V){if(F.type==="none")return null;var X=L4({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},l),K=F.formatter||A||ZSe,W=F.value,z=F.name,te=W,G=z;if(K&&te!=null&&G!=null){var U=K(W,z,F,V,d);if(Array.isArray(U)){var Y=qSe(U,2);te=Y[0],G=Y[1]}else te=U}return se.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:X},ni(G)?se.createElement("span",{className:"recharts-tooltip-item-name"},G):null,ni(G)?se.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,se.createElement("span",{className:"recharts-tooltip-item-value"},te),se.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return se.createElement("ul",{className:"recharts-tooltip-item-list",style:D},$)}return null},_=L4({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=L4({margin:0},u),B=!Ur(g),T=B?g:"",O=Mr("recharts-default-tooltip",m),P=Mr("recharts-tooltip-label",y);B&&v&&d!==void 0&&d!==null&&(T=v(g,d));var M=b?{role:"status","aria-live":"assertive"}:{};return se.createElement("div",hO({className:O,style:_},M),se.createElement("p",{className:P,style:N},se.isValidElement(T)?T:"".concat(T)),j())};function uw(e){"@babel/helpers - typeof";return uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uw(e)}function H1(e,t,r){return t=tBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tBe(e){var t=rBe(e,"string");return uw(t)=="symbol"?t:t+""}function rBe(e,t){if(uw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ox="recharts-tooltip-wrapper",nBe={visibility:"hidden"};function sBe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Mr(Ox,H1(H1(H1(H1({},"".concat(Ox,"-right"),mt(r)&&t&&mt(t.x)&&r>=t.x),"".concat(Ox,"-left"),mt(r)&&t&&mt(t.x)&&r<t.x),"".concat(Ox,"-bottom"),mt(n)&&t&&mt(t.y)&&n>=t.y),"".concat(Ox,"-top"),mt(n)&&t&&mt(t.y)&&n<t.y))}function p7(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&mt(i[n]))return i[n];var d=r[n]-l-a,A=r[n]+a;if(t[n])return o[n]?d:A;if(o[n]){var h=d,m=c[n];return h<m?Math.max(A,c[n]):Math.max(d,c[n])}var y=A+l,g=c[n]+u;return y>g?Math.max(d,c[n]):Math.max(A,c[n])}function aBe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function iBe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,A;return o.height>0&&o.width>0&&r?(d=p7({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),A=p7({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=aBe({translateX:d,translateY:A,useTranslate3d:l})):u=nBe,{cssProperties:u,cssClasses:sBe({translateX:d,translateY:A,coordinate:r})}}function qv(e){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qv(e)}function g7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g7(Object(r),!0).forEach(function(n){pO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qee(n.key),n)}}function cBe(e,t,r){return t&&lBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uBe(e,t,r){return t=Wj(t),dBe(e,Mee()?Reflect.construct(t,r||[],Wj(e).constructor):t.apply(e,r))}function dBe(e,t){if(t&&(qv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ABe(e)}function ABe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mee=function(){return!!e})()}function Wj(e){return Wj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wj(e)}function fBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mO(e,t)}function mO(e,t){return mO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mO(e,t)}function pO(e,t,r){return t=Qee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qee(e){var t=hBe(e,"string");return qv(t)=="symbol"?t:t+""}function hBe(e,t){if(qv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var y7=1,mBe=(function(e){function t(){var r;oBe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=uBe(this,t,[].concat(a)),pO(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),pO(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return fBe(t,e),cBe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>y7||Math.abs(n.height-this.state.lastBoundingBox.height)>y7)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,A=a.hasPayload,h=a.isAnimationActive,m=a.offset,y=a.position,g=a.reverseDirection,v=a.useTranslate3d,x=a.viewBox,b=a.wrapperStyle,j=iBe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),_=j.cssClasses,N=j.cssProperties,B=v7(v7({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&A?"visible":"hidden",position:"absolute",top:0,left:0},b);return se.createElement("div",{tabIndex:-1,className:_,style:B,ref:function(O){n.wrapperNode=O}},u)}}])})(C.PureComponent),pBe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Uh={isSsr:pBe()};function Kv(e){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kv(e)}function x7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x7(Object(r),!0).forEach(function(n){wR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$ee(n.key),n)}}function yBe(e,t,r){return t&&vBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xBe(e,t,r){return t=Gj(t),wBe(e,Hee()?Reflect.construct(t,r||[],Gj(e).constructor):t.apply(e,r))}function wBe(e,t){if(t&&(Kv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bBe(e)}function bBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hee=function(){return!!e})()}function Gj(e){return Gj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gj(e)}function jBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gO(e,t)}function gO(e,t){return gO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gO(e,t)}function wR(e,t,r){return t=$ee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ee(e){var t=_Be(e,"string");return Kv(t)=="symbol"?t:t+""}function _Be(e,t){if(Kv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function NBe(e){return e.dataKey}function CBe(e,t){return se.isValidElement(e)?se.cloneElement(e,t):typeof e=="function"?se.createElement(e,t):se.createElement(eBe,t)}var ss=(function(e){function t(){return gBe(this,t),xBe(this,t,arguments)}return jBe(t,e),yBe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,A=a.filterNull,h=a.isAnimationActive,m=a.offset,y=a.payload,g=a.payloadUniqBy,v=a.position,x=a.reverseDirection,b=a.useTranslate3d,j=a.viewBox,_=a.wrapperStyle,N=y??[];A&&N.length&&(N=Oee(y.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),g,NBe));var B=N.length>0;return se.createElement(mBe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:B,offset:m,position:v,reverseDirection:x,useTranslate3d:b,viewBox:j,wrapperStyle:_},CBe(u,w7(w7({},this.props),{},{payload:N})))}}])})(C.PureComponent);wR(ss,"displayName","Tooltip");wR(ss,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Uh.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var U4,b7;function SBe(){if(b7)return U4;b7=1;var e=Bd(),t=function(){return e.Date.now()};return U4=t,U4}var D4,j7;function BBe(){if(j7)return D4;j7=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return D4=t,D4}var M4,_7;function EBe(){if(_7)return M4;_7=1;var e=BBe(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return M4=r,M4}var Q4,N7;function Vee(){if(N7)return Q4;N7=1;var e=EBe(),t=Lh(),r=Ly(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var A=i.test(u);return A||o.test(u)?l(u.slice(2),A?2:8):a.test(u)?n:+u}return Q4=c,Q4}var H4,C7;function kBe(){if(C7)return H4;C7=1;var e=Lh(),t=SBe(),r=Vee(),n="Expected a function",a=Math.max,i=Math.min;function o(l,c,u){var d,A,h,m,y,g,v=0,x=!1,b=!1,j=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,e(u)&&(x=!!u.leading,b="maxWait"in u,h=b?a(r(u.maxWait)||0,c):h,j="trailing"in u?!!u.trailing:j);function _($){var F=d,V=A;return d=A=void 0,v=$,m=l.apply(V,F),m}function N($){return v=$,y=setTimeout(O,c),x?_($):m}function B($){var F=$-g,V=$-v,X=c-F;return b?i(X,h-V):X}function T($){var F=$-g,V=$-v;return g===void 0||F>=c||F<0||b&&V>=h}function O(){var $=t();if(T($))return P($);y=setTimeout(O,B($))}function P($){return y=void 0,j&&d?_($):(d=A=void 0,m)}function M(){y!==void 0&&clearTimeout(y),v=0,d=g=A=y=void 0}function I(){return y===void 0?m:P(t())}function D(){var $=t(),F=T($);if(d=arguments,A=this,g=$,F){if(y===void 0)return N(g);if(b)return clearTimeout(y),y=setTimeout(O,c),_(g)}return y===void 0&&(y=setTimeout(O,c)),m}return D.cancel=M,D.flush=I,D}return H4=o,H4}var $4,S7;function PBe(){if(S7)return $4;S7=1;var e=kBe(),t=Lh(),r="Expected a function";function n(a,i,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return t(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),e(a,i,{leading:l,maxWait:i,trailing:c})}return $4=n,$4}var TBe=PBe();const qee=Vn(TBe);function dw(e){"@babel/helpers - typeof";return dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dw(e)}function B7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B7(Object(r),!0).forEach(function(n){OBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OBe(e,t,r){return t=IBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IBe(e){var t=FBe(e,"string");return dw(t)=="symbol"?t:t+""}function FBe(e,t){if(dw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RBe(e,t){return MBe(e)||DBe(e,t)||UBe(e,t)||LBe()}function LBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UBe(e,t){if(e){if(typeof e=="string")return E7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E7(e,t)}}function E7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function MBe(e){if(Array.isArray(e))return e}var Ua=C.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,A=e.minHeight,h=e.maxHeight,m=e.children,y=e.debounce,g=y===void 0?0:y,v=e.id,x=e.className,b=e.onResize,j=e.style,_=j===void 0?{}:j,N=C.useRef(null),B=C.useRef();B.current=b,C.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var T=C.useState({containerWidth:a.width,containerHeight:a.height}),O=RBe(T,2),P=O[0],M=O[1],I=C.useCallback(function($,F){M(function(V){var X=Math.round($),K=Math.round(F);return V.containerWidth===X&&V.containerHeight===K?V:{containerWidth:X,containerHeight:K}})},[]);C.useEffect(function(){var $=function(z){var te,G=z[0].contentRect,U=G.width,Y=G.height;I(U,Y),(te=B.current)===null||te===void 0||te.call(B,U,Y)};g>0&&($=qee($,g,{trailing:!0,leading:!1}));var F=new ResizeObserver($),V=N.current.getBoundingClientRect(),X=V.width,K=V.height;return I(X,K),F.observe(N.current),function(){F.disconnect()}},[I,g]);var D=C.useMemo(function(){var $=P.containerWidth,F=P.containerHeight;if($<0||F<0)return null;pu(Hm(o)||Hm(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),pu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var V=Hm(o)?$:o,X=Hm(c)?F:c;r&&r>0&&(V?X=V/r:X&&(V=X*r),h&&X>h&&(X=h)),pu(V>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,X,o,c,d,A,r);var K=!Array.isArray(m)&&TA(m.type).endsWith("Chart");return se.Children.map(m,function(W){return se.isValidElement(W)?C.cloneElement(W,$1({width:V,height:X},K?{style:$1({height:"100%",width:"100%",maxHeight:X,maxWidth:V},W.props.style)}:{})):W})},[r,m,c,h,A,d,P,o]);return se.createElement("div",{id:v?"".concat(v):void 0,className:Mr("recharts-responsive-container",x),style:$1($1({},_),{},{width:o,height:c,minWidth:d,minHeight:A,maxHeight:h}),ref:N},D)}),gu=function(t){return null};gu.displayName="Cell";function Aw(e){"@babel/helpers - typeof";return Aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aw(e)}function k7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k7(Object(r),!0).forEach(function(n){QBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QBe(e,t,r){return t=HBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HBe(e){var t=$Be(e,"string");return Aw(t)=="symbol"?t:t+""}function $Be(e,t){if(Aw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Aw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tg={widthCache:{},cacheCount:0},VBe=2e3,qBe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},P7="recharts_measurement_span";function KBe(e){var t=vO({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var b0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Uh.isSsr)return{width:0,height:0};var n=KBe(r),a=JSON.stringify({text:t,copyStyle:n});if(Tg.widthCache[a])return Tg.widthCache[a];try{var i=document.getElementById(P7);i||(i=document.createElement("span"),i.setAttribute("id",P7),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=vO(vO({},qBe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Tg.widthCache[a]=c,++Tg.cacheCount>VBe&&(Tg.cacheCount=0,Tg.widthCache={}),c}catch{return{width:0,height:0}}},zBe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function fw(e){"@babel/helpers - typeof";return fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fw(e)}function Yj(e,t){return XBe(e)||YBe(e,t)||GBe(e,t)||WBe()}function WBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GBe(e,t){if(e){if(typeof e=="string")return T7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T7(e,t)}}function T7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function XBe(e){if(Array.isArray(e))return e}function JBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e5e(n.key),n)}}function ZBe(e,t,r){return t&&O7(e.prototype,t),r&&O7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function e5e(e){var t=t5e(e,"string");return fw(t)=="symbol"?t:t+""}function t5e(e,t){if(fw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var I7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,F7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,r5e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,n5e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Kee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},s5e=Object.keys(Kee),uv="NaN";function a5e(e,t){return e*Kee[t]}var V1=(function(){function e(t,r){JBe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!r5e.test(r)&&(this.num=NaN,this.unit=""),s5e.includes(r)&&(this.num=a5e(t,r),this.unit="px")}return ZBe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=n5e.exec(r))!==null&&n!==void 0?n:[],i=Yj(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])})();function zee(e){if(e.includes(uv))return uv;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=I7.exec(t))!==null&&r!==void 0?r:[],a=Yj(n,4),i=a[1],o=a[2],l=a[3],c=V1.parse(i??""),u=V1.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return uv;t=t.replace(I7,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var A,h=(A=F7.exec(t))!==null&&A!==void 0?A:[],m=Yj(h,4),y=m[1],g=m[2],v=m[3],x=V1.parse(y??""),b=V1.parse(v??""),j=g==="+"?x.add(b):x.subtract(b);if(j.isNaN())return uv;t=t.replace(F7,j.toString())}return t}var R7=/\(([^()]*)\)/;function i5e(e){for(var t=e;t.includes("(");){var r=R7.exec(t),n=Yj(r,2),a=n[1];t=t.replace(R7,zee(a))}return t}function o5e(e){var t=e.replace(/\s+/g,"");return t=i5e(t),t=zee(t),t}function l5e(e){try{return o5e(e)}catch{return uv}}function V4(e){var t=l5e(e.slice(5,-1));return t===uv?"":t}var c5e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],u5e=["dx","dy","angle","className","breakAll"];function yO(){return yO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yO.apply(this,arguments)}function L7(e,t){if(e==null)return{};var r=d5e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function U7(e,t){return m5e(e)||h5e(e,t)||f5e(e,t)||A5e()}function A5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f5e(e,t){if(e){if(typeof e=="string")return D7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D7(e,t)}}function D7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function m5e(e){if(Array.isArray(e))return e}var Wee=/[ \f\n\r\t\v\u2028\u2029]+/,Gee=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Ur(r)||(n?i=r.toString().split(""):i=r.toString().split(Wee));var o=i.map(function(c){return{word:c,width:b0(c,a).width}}),l=n?0:b0("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},p5e=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=mt(o),A=l,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(X,K){var W=K.word,z=K.width,te=X[X.length-1];if(te&&(a==null||i||te.width+z+n<Number(a)))te.words.push(W),te.width+=z+n;else{var G={words:[W],width:z};X.push(G)}return X},[])},m=h(r),y=function(V){return V.reduce(function(X,K){return X.width>K.width?X:K})};if(!d)return m;for(var g="",v=function(V){var X=A.slice(0,V),K=Gee({breakAll:u,style:c,children:X+g}).wordsWithComputedWidth,W=h(K),z=W.length>o||y(W).width>Number(a);return[z,W]},x=0,b=A.length-1,j=0,_;x<=b&&j<=A.length-1;){var N=Math.floor((x+b)/2),B=N-1,T=v(B),O=U7(T,2),P=O[0],M=O[1],I=v(N),D=U7(I,1),$=D[0];if(!P&&!$&&(x=N+1),P&&$&&(b=N-1),!P&&$){_=M;break}j++}return _||m},M7=function(t){var r=Ur(t)?[]:t.toString().split(Wee);return[{words:r}]},g5e=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Uh.isSsr){var c,u,d=Gee({breakAll:o,children:a,style:i});if(d){var A=d.wordsWithComputedWidth,h=d.spaceWidth;c=A,u=h}else return M7(a);return p5e({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return M7(a)},Q7="#808080",Ap=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,A=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,y=t.verticalAnchor,g=y===void 0?"end":y,v=t.fill,x=v===void 0?Q7:v,b=L7(t,c5e),j=C.useMemo(function(){return g5e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:A,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,A,b.style,b.width]),_=b.dx,N=b.dy,B=b.angle,T=b.className,O=b.breakAll,P=L7(b,u5e);if(!ni(n)||!ni(i))return null;var M=n+(mt(_)?_:0),I=i+(mt(N)?N:0),D;switch(g){case"start":D=V4("calc(".concat(u,")"));break;case"middle":D=V4("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:D=V4("calc(".concat(j.length-1," * -").concat(l,")"));break}var $=[];if(A){var F=j[0].width,V=b.width;$.push("scale(".concat((mt(V)?V/F:1)/F,")"))}return B&&$.push("rotate(".concat(B,", ").concat(M,", ").concat(I,")")),$.length&&(P.transform=$.join(" ")),se.createElement("text",yO({},nr(P,!0),{x:M,y:I,className:Mr("recharts-text",T),textAnchor:m,fill:x.includes("url")?Q7:x}),j.map(function(X,K){var W=X.words.join(O?"":" ");return se.createElement("tspan",{x:M,dy:K===0?D:l,key:"".concat(W,"-").concat(K)},W)}))};function Ah(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function v5e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bR(e){let t,r,n;e.length!==2?(t=Ah,r=(l,c)=>Ah(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ah||e===v5e?e:y5e,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const A=u+d>>>1;r(l[A],c)<0?u=A+1:d=A}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const A=u+d>>>1;r(l[A],c)<=0?u=A+1:d=A}while(u<d)}return u}function o(l,c,u=0,d=l.length){const A=a(l,c,u,d-1);return A>u&&n(l[A-1],c)>-n(l[A],c)?A-1:A}return{left:a,center:o,right:i}}function y5e(){return 0}function Yee(e){return e===null?NaN:+e}function*x5e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const w5e=bR(Ah),hb=w5e.right;bR(Yee).center;class H7 extends Map{constructor(t,r=_5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get($7(this,t))}has(t){return super.has($7(this,t))}set(t,r){return super.set(b5e(this,t),r)}delete(t){return super.delete(j5e(this,t))}}function $7({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function b5e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function j5e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function _5e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function N5e(e=Ah){if(e===Ah)return Xee;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Xee(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const C5e=Math.sqrt(50),S5e=Math.sqrt(10),B5e=Math.sqrt(2);function Xj(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=C5e?10:i>=S5e?5:i>=B5e?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Xj(e,t,r*2):[l,c,u]}function xO(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Xj(t,e,r):Xj(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function wO(e,t,r){return t=+t,e=+e,r=+r,Xj(e,t,r)[2]}function bO(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?wO(t,e,r):wO(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function V7(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function q7(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Jee(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Xee:N5e(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),A=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*A*(c-A)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*A/c+h)),y=Math.min(n,Math.floor(t+(c-u)*A/c+h));Jee(e,t,m,y,a)}const i=e[t];let o=r,l=n;for(Ix(e,r,t),a(e[n],i)>0&&Ix(e,r,n);o<l;){for(Ix(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Ix(e,r,l):(++l,Ix(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Ix(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function E5e(e,t,r){if(e=Float64Array.from(x5e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return q7(e);if(t>=1)return V7(e);var n,a=(n-1)*t,i=Math.floor(a),o=V7(Jee(e,i).subarray(0,i+1)),l=q7(e.subarray(i+1));return o+(l-o)*(a-i)}}function k5e(e,t,r=Yee){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function P5e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Pc(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function JA(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const jO=Symbol("implicit");function jR(){var e=new H7,t=[],r=[],n=jO;function a(i){let o=e.get(i);if(o===void 0){if(n!==jO)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new H7;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return jR(t,r).unknown(n)},Pc.apply(a,arguments),a}function hw(){var e=jR().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function A(){var h=t().length,m=a<n,y=m?a:n,g=m?n:a;i=(g-y)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),y+=(g-y-i*(h-c))*d,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=P5e(h).map(function(x){return y+i*x});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),A()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,A()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,A()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,A()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),A()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),A()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,A()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),A()):d},e.copy=function(){return hw(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Pc.apply(A(),arguments)}function Zee(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Zee(t())},e}function j0(){return Zee(hw.apply(null,arguments).paddingInner(1))}function _R(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ete(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function mb(){}var mw=.7,Jj=1/mw,Nv="\\s*([+-]?\\d+)\\s*",pw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",md="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",T5e=/^#([0-9a-f]{3,8})$/,O5e=new RegExp(`^rgb\\(${Nv},${Nv},${Nv}\\)$`),I5e=new RegExp(`^rgb\\(${md},${md},${md}\\)$`),F5e=new RegExp(`^rgba\\(${Nv},${Nv},${Nv},${pw}\\)$`),R5e=new RegExp(`^rgba\\(${md},${md},${md},${pw}\\)$`),L5e=new RegExp(`^hsl\\(${pw},${md},${md}\\)$`),U5e=new RegExp(`^hsla\\(${pw},${md},${md},${pw}\\)$`),K7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_R(mb,gw,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:z7,formatHex:z7,formatHex8:D5e,formatHsl:M5e,formatRgb:W7,toString:W7});function z7(){return this.rgb().formatHex()}function D5e(){return this.rgb().formatHex8()}function M5e(){return tte(this).formatHsl()}function W7(){return this.rgb().formatRgb()}function gw(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=T5e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?G7(t):r===3?new il(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?q1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?q1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=O5e.exec(e))?new il(t[1],t[2],t[3],1):(t=I5e.exec(e))?new il(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=F5e.exec(e))?q1(t[1],t[2],t[3],t[4]):(t=R5e.exec(e))?q1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=L5e.exec(e))?J7(t[1],t[2]/100,t[3]/100,1):(t=U5e.exec(e))?J7(t[1],t[2]/100,t[3]/100,t[4]):K7.hasOwnProperty(e)?G7(K7[e]):e==="transparent"?new il(NaN,NaN,NaN,0):null}function G7(e){return new il(e>>16&255,e>>8&255,e&255,1)}function q1(e,t,r,n){return n<=0&&(e=t=r=NaN),new il(e,t,r,n)}function Q5e(e){return e instanceof mb||(e=gw(e)),e?(e=e.rgb(),new il(e.r,e.g,e.b,e.opacity)):new il}function _O(e,t,r,n){return arguments.length===1?Q5e(e):new il(e,t,r,n??1)}function il(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}_R(il,_O,ete(mb,{brighter(e){return e=e==null?Jj:Math.pow(Jj,e),new il(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mw:Math.pow(mw,e),new il(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new il(Xm(this.r),Xm(this.g),Xm(this.b),Zj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Y7,formatHex:Y7,formatHex8:H5e,formatRgb:X7,toString:X7}));function Y7(){return`#${$m(this.r)}${$m(this.g)}${$m(this.b)}`}function H5e(){return`#${$m(this.r)}${$m(this.g)}${$m(this.b)}${$m((isNaN(this.opacity)?1:this.opacity)*255)}`}function X7(){const e=Zj(this.opacity);return`${e===1?"rgb(":"rgba("}${Xm(this.r)}, ${Xm(this.g)}, ${Xm(this.b)}${e===1?")":`, ${e})`}`}function Zj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xm(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $m(e){return e=Xm(e),(e<16?"0":"")+e.toString(16)}function J7(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new du(e,t,r,n)}function tte(e){if(e instanceof du)return new du(e.h,e.s,e.l,e.opacity);if(e instanceof mb||(e=gw(e)),!e)return new du;if(e instanceof du)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new du(o,l,c,e.opacity)}function $5e(e,t,r,n){return arguments.length===1?tte(e):new du(e,t,r,n??1)}function du(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}_R(du,$5e,ete(mb,{brighter(e){return e=e==null?Jj:Math.pow(Jj,e),new du(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mw:Math.pow(mw,e),new du(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new il(q4(e>=240?e-240:e+120,a,n),q4(e,a,n),q4(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new du(Z7(this.h),K1(this.s),K1(this.l),Zj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Zj(this.opacity);return`${e===1?"hsl(":"hsla("}${Z7(this.h)}, ${K1(this.s)*100}%, ${K1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Z7(e){return e=(e||0)%360,e<0?e+360:e}function K1(e){return Math.max(0,Math.min(1,e||0))}function q4(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const NR=e=>()=>e;function V5e(e,t){return function(r){return e+r*t}}function q5e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function K5e(e){return(e=+e)==1?rte:function(t,r){return r-t?q5e(t,r,e):NR(isNaN(t)?r:t)}}function rte(e,t){var r=t-e;return r?V5e(e,r):NR(isNaN(e)?t:e)}const e$=(function e(t){var r=K5e(t);function n(a,i){var o=r((a=_O(a)).r,(i=_O(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=rte(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n})(1);function z5e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function W5e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function G5e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Qy(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function Y5e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function e_(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function X5e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Qy(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var NO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,K4=new RegExp(NO.source,"g");function J5e(e){return function(){return e}}function Z5e(e){return function(t){return e(t)+""}}function eEe(e,t){var r=NO.lastIndex=K4.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=NO.exec(e))&&(a=K4.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:e_(n,a)})),r=K4.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Z5e(c[0].x):J5e(t):(t=c.length,function(u){for(var d=0,A;d<t;++d)l[(A=c[d]).i]=A.x(u);return l.join("")})}function Qy(e,t){var r=typeof t,n;return t==null||r==="boolean"?NR(t):(r==="number"?e_:r==="string"?(n=gw(t))?(t=n,e$):eEe:t instanceof gw?e$:t instanceof Date?Y5e:W5e(t)?z5e:Array.isArray(t)?G5e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?X5e:e_)(e,t)}function CR(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function tEe(e,t){t===void 0&&(t=e,e=Qy);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function rEe(e){return function(){return e}}function t_(e){return+e}var t$=[0,1];function Io(e){return e}function CO(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:rEe(isNaN(t)?NaN:.5)}function nEe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function sEe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=CO(a,n),i=r(o,i)):(n=CO(n,a),i=r(i,o)),function(l){return i(n(l))}}function aEe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=CO(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=hb(e,l,1,n)-1;return i[c](a[c](l))}}function pb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function aC(){var e=t$,t=t$,r=Qy,n,a,i,o=Io,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Io&&(o=nEe(e[0],e[h-1])),l=h>2?aEe:sEe,c=u=null,A}function A(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return A.invert=function(h){return o(a((u||(u=l(t,e.map(n),e_)))(h)))},A.domain=function(h){return arguments.length?(e=Array.from(h,t_),d()):e.slice()},A.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},A.rangeRound=function(h){return t=Array.from(h),r=CR,d()},A.clamp=function(h){return arguments.length?(o=h?!0:Io,d()):o!==Io},A.interpolate=function(h){return arguments.length?(r=h,d()):r},A.unknown=function(h){return arguments.length?(i=h,A):i},function(h,m){return n=h,a=m,d()}}function SR(){return aC()(Io,Io)}function iEe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function r_(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function zv(e){return e=r_(Math.abs(e)),e?e[1]:NaN}function oEe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function lEe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var cEe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vw(e){if(!(t=cEe.exec(e)))throw new Error("invalid format: "+e);var t;return new BR({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}vw.prototype=BR.prototype;function BR(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}BR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uEe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var nte;function dEe(e,t){var r=r_(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(nte=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+r_(e,Math.max(0,t+i-1))[0]}function r$(e,t){var r=r_(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const n$={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:iEe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>r$(e*100,t),r:r$,s:dEe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function s$(e){return e}var a$=Array.prototype.map,i$=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function AEe(e){var t=e.grouping===void 0||e.thousands===void 0?s$:oEe(a$.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?s$:lEe(a$.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(A){A=vw(A);var h=A.fill,m=A.align,y=A.sign,g=A.symbol,v=A.zero,x=A.width,b=A.comma,j=A.precision,_=A.trim,N=A.type;N==="n"?(b=!0,N="g"):n$[N]||(j===void 0&&(j=12),_=!0,N="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var B=g==="$"?r:g==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",T=g==="$"?n:/[%p]/.test(N)?o:"",O=n$[N],P=/[defgprs%]/.test(N);j=j===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function M(I){var D=B,$=T,F,V,X;if(N==="c")$=O(I)+$,I="";else{I=+I;var K=I<0||1/I<0;if(I=isNaN(I)?c:O(Math.abs(I),j),_&&(I=uEe(I)),K&&+I==0&&y!=="+"&&(K=!1),D=(K?y==="("?y:l:y==="-"||y==="("?"":y)+D,$=(N==="s"?i$[8+nte/3]:"")+$+(K&&y==="("?")":""),P){for(F=-1,V=I.length;++F<V;)if(X=I.charCodeAt(F),48>X||X>57){$=(X===46?a+I.slice(F+1):I.slice(F))+$,I=I.slice(0,F);break}}}b&&!v&&(I=t(I,1/0));var W=D.length+I.length+$.length,z=W<x?new Array(x-W+1).join(h):"";switch(b&&v&&(I=t(z+I,z.length?x-$.length:1/0),z=""),m){case"<":I=D+I+$+z;break;case"=":I=D+z+I+$;break;case"^":I=z.slice(0,W=z.length>>1)+D+I+$+z.slice(W);break;default:I=z+D+I+$;break}return i(I)}return M.toString=function(){return A+""},M}function d(A,h){var m=u((A=vw(A),A.type="f",A)),y=Math.max(-8,Math.min(8,Math.floor(zv(h)/3)))*3,g=Math.pow(10,-y),v=i$[8+y/3];return function(x){return m(g*x)+v}}return{format:u,formatPrefix:d}}var z1,ER,ste;fEe({thousands:",",grouping:[3],currency:["$",""]});function fEe(e){return z1=AEe(e),ER=z1.format,ste=z1.formatPrefix,z1}function hEe(e){return Math.max(0,-zv(Math.abs(e)))}function mEe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zv(t)/3)))*3-zv(Math.abs(e)))}function pEe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zv(t)-zv(e))+1}function ate(e,t,r,n){var a=bO(e,t,r),i;switch(n=vw(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=mEe(a,o))&&(n.precision=i),ste(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=pEe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=hEe(a))&&(n.precision=i-(n.type==="%")*2);break}}return ER(n)}function Dh(e){var t=e.domain;return e.ticks=function(r){var n=t();return xO(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return ate(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=wO(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function n_(){var e=SR();return e.copy=function(){return pb(e,n_())},Pc.apply(e,arguments),Dh(e)}function ite(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,t_),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return ite(e).unknown(t)},e=arguments.length?Array.from(e,t_):[0,1],Dh(r)}function ote(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function o$(e){return Math.log(e)}function l$(e){return Math.exp(e)}function gEe(e){return-Math.log(-e)}function vEe(e){return-Math.exp(-e)}function yEe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function xEe(e){return e===10?yEe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function wEe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function c$(e){return(t,r)=>-e(-t,r)}function kR(e){const t=e(o$,l$),r=t.domain;let n=10,a,i;function o(){return a=wEe(n),i=xEe(n),r()[0]<0?(a=c$(a),i=c$(i),e(gEe,vEe)):e(o$,l$),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const A=d<u;A&&([u,d]=[d,u]);let h=a(u),m=a(d),y,g;const v=l==null?10:+l;let x=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(y=1;y<n;++y)if(g=h<0?y/i(-h):y*i(h),!(g<u)){if(g>d)break;x.push(g)}}else for(;h<=m;++h)for(y=n-1;y>=1;--y)if(g=h>0?y/i(-h):y*i(h),!(g<u)){if(g>d)break;x.push(g)}x.length*2<v&&(x=xO(u,d,v))}else x=xO(h,m,Math.min(m-h,v)).map(i);return A?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=vw(c)).precision==null&&(c.trim=!0),c=ER(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let A=d/i(Math.round(a(d)));return A*n<n-.5&&(A*=n),A<=u?c(d):""}},t.nice=()=>r(ote(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function lte(){const e=kR(aC()).domain([1,10]);return e.copy=()=>pb(e,lte()).base(e.base()),Pc.apply(e,arguments),e}function u$(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function d$(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function PR(e){var t=1,r=e(u$(t),d$(t));return r.constant=function(n){return arguments.length?e(u$(t=+n),d$(t)):t},Dh(r)}function cte(){var e=PR(aC());return e.copy=function(){return pb(e,cte()).constant(e.constant())},Pc.apply(e,arguments)}function A$(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function bEe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jEe(e){return e<0?-e*e:e*e}function TR(e){var t=e(Io,Io),r=1;function n(){return r===1?e(Io,Io):r===.5?e(bEe,jEe):e(A$(r),A$(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Dh(t)}function OR(){var e=TR(aC());return e.copy=function(){return pb(e,OR()).exponent(e.exponent())},Pc.apply(e,arguments),e}function _Ee(){return OR.apply(null,arguments).exponent(.5)}function f$(e){return Math.sign(e)*e*e}function NEe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ute(){var e=SR(),t=[0,1],r=!1,n;function a(i){var o=NEe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(f$(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,t_)).map(f$)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return ute(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Pc.apply(a,arguments),Dh(a)}function dte(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=k5e(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[hb(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ah),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return dte().domain(e).range(t).unknown(n)},Pc.apply(i,arguments)}function Ate(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[hb(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Ate().domain([e,t]).range(a).unknown(i)},Pc.apply(Dh(o),arguments)}function fte(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[hb(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return fte().domain(e).range(t).unknown(r)},Pc.apply(a,arguments)}const z4=new Date,W4=new Date;function ai(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>ai(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(z4.setTime(+i),W4.setTime(+o),e(z4),e(W4),Math.floor(r(z4,W4))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const s_=ai(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);s_.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ai(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):s_);s_.range;const BA=1e3,bc=BA*60,EA=bc*60,MA=EA*24,IR=MA*7,h$=MA*30,G4=MA*365,Vm=ai(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*BA)},(e,t)=>(t-e)/BA,e=>e.getUTCSeconds());Vm.range;const FR=ai(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*BA)},(e,t)=>{e.setTime(+e+t*bc)},(e,t)=>(t-e)/bc,e=>e.getMinutes());FR.range;const RR=ai(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*bc)},(e,t)=>(t-e)/bc,e=>e.getUTCMinutes());RR.range;const LR=ai(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*BA-e.getMinutes()*bc)},(e,t)=>{e.setTime(+e+t*EA)},(e,t)=>(t-e)/EA,e=>e.getHours());LR.range;const UR=ai(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*EA)},(e,t)=>(t-e)/EA,e=>e.getUTCHours());UR.range;const gb=ai(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*bc)/MA,e=>e.getDate()-1);gb.range;const iC=ai(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/MA,e=>e.getUTCDate()-1);iC.range;const hte=ai(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/MA,e=>Math.floor(e/MA));hte.range;function Lp(e){return ai(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*bc)/IR)}const oC=Lp(0),a_=Lp(1),CEe=Lp(2),SEe=Lp(3),Wv=Lp(4),BEe=Lp(5),EEe=Lp(6);oC.range;a_.range;CEe.range;SEe.range;Wv.range;BEe.range;EEe.range;function Up(e){return ai(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/IR)}const lC=Up(0),i_=Up(1),kEe=Up(2),PEe=Up(3),Gv=Up(4),TEe=Up(5),OEe=Up(6);lC.range;i_.range;kEe.range;PEe.range;Gv.range;TEe.range;OEe.range;const DR=ai(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());DR.range;const MR=ai(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());MR.range;const QA=ai(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());QA.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ai(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});QA.range;const HA=ai(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());HA.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ai(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});HA.range;function mte(e,t,r,n,a,i){const o=[[Vm,1,BA],[Vm,5,5*BA],[Vm,15,15*BA],[Vm,30,30*BA],[i,1,bc],[i,5,5*bc],[i,15,15*bc],[i,30,30*bc],[a,1,EA],[a,3,3*EA],[a,6,6*EA],[a,12,12*EA],[n,1,MA],[n,2,2*MA],[r,1,IR],[t,1,h$],[t,3,3*h$],[e,1,G4]];function l(u,d,A){const h=d<u;h&&([u,d]=[d,u]);const m=A&&typeof A.range=="function"?A:c(u,d,A),y=m?m.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,A){const h=Math.abs(d-u)/A,m=bR(([,,v])=>v).right(o,h);if(m===o.length)return e.every(bO(u/G4,d/G4,A));if(m===0)return s_.every(Math.max(bO(u,d,A),1));const[y,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return y.every(g)}return[l,c]}const[IEe,FEe]=mte(HA,MR,lC,hte,UR,RR),[REe,LEe]=mte(QA,DR,oC,gb,LR,FR);function Y4(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function X4(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Fx(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function UEe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Rx(a),d=Lx(a),A=Rx(i),h=Lx(i),m=Rx(o),y=Lx(o),g=Rx(l),v=Lx(l),x=Rx(c),b=Lx(c),j={a:K,A:W,b:z,B:te,c:null,d:x$,e:x$,f:o4e,g:g4e,G:y4e,H:s4e,I:a4e,j:i4e,L:pte,m:l4e,M:c4e,p:G,q:U,Q:j$,s:_$,S:u4e,u:d4e,U:A4e,V:f4e,w:h4e,W:m4e,x:null,X:null,y:p4e,Y:v4e,Z:x4e,"%":b$},_={a:Y,A:ee,b:ae,B:Ae,c:null,d:w$,e:w$,f:_4e,g:I4e,G:R4e,H:w4e,I:b4e,j:j4e,L:vte,m:N4e,M:C4e,p:ce,q:we,Q:j$,s:_$,S:S4e,u:B4e,U:E4e,V:k4e,w:P4e,W:T4e,x:null,X:null,y:O4e,Y:F4e,Z:L4e,"%":b$},N={a:M,A:I,b:D,B:$,c:F,d:v$,e:v$,f:e4e,g:g$,G:p$,H:y$,I:y$,j:YEe,L:ZEe,m:GEe,M:XEe,p:P,q:WEe,Q:r4e,s:n4e,S:JEe,u:$Ee,U:VEe,V:qEe,w:HEe,W:KEe,x:V,X,y:g$,Y:p$,Z:zEe,"%":t4e};j.x=B(r,j),j.X=B(n,j),j.c=B(t,j),_.x=B(r,_),_.X=B(n,_),_.c=B(t,_);function B(ge,je){return function(Oe){var Ne=[],et=-1,nt=0,le=ge.length,lt,Pt,Pe;for(Oe instanceof Date||(Oe=new Date(+Oe));++et<le;)ge.charCodeAt(et)===37&&(Ne.push(ge.slice(nt,et)),(Pt=m$[lt=ge.charAt(++et)])!=null?lt=ge.charAt(++et):Pt=lt==="e"?" ":"0",(Pe=je[lt])&&(lt=Pe(Oe,Pt)),Ne.push(lt),nt=et+1);return Ne.push(ge.slice(nt,et)),Ne.join("")}}function T(ge,je){return function(Oe){var Ne=Fx(1900,void 0,1),et=O(Ne,ge,Oe+="",0),nt,le;if(et!=Oe.length)return null;if("Q"in Ne)return new Date(Ne.Q);if("s"in Ne)return new Date(Ne.s*1e3+("L"in Ne?Ne.L:0));if(je&&!("Z"in Ne)&&(Ne.Z=0),"p"in Ne&&(Ne.H=Ne.H%12+Ne.p*12),Ne.m===void 0&&(Ne.m="q"in Ne?Ne.q:0),"V"in Ne){if(Ne.V<1||Ne.V>53)return null;"w"in Ne||(Ne.w=1),"Z"in Ne?(nt=X4(Fx(Ne.y,0,1)),le=nt.getUTCDay(),nt=le>4||le===0?i_.ceil(nt):i_(nt),nt=iC.offset(nt,(Ne.V-1)*7),Ne.y=nt.getUTCFullYear(),Ne.m=nt.getUTCMonth(),Ne.d=nt.getUTCDate()+(Ne.w+6)%7):(nt=Y4(Fx(Ne.y,0,1)),le=nt.getDay(),nt=le>4||le===0?a_.ceil(nt):a_(nt),nt=gb.offset(nt,(Ne.V-1)*7),Ne.y=nt.getFullYear(),Ne.m=nt.getMonth(),Ne.d=nt.getDate()+(Ne.w+6)%7)}else("W"in Ne||"U"in Ne)&&("w"in Ne||(Ne.w="u"in Ne?Ne.u%7:"W"in Ne?1:0),le="Z"in Ne?X4(Fx(Ne.y,0,1)).getUTCDay():Y4(Fx(Ne.y,0,1)).getDay(),Ne.m=0,Ne.d="W"in Ne?(Ne.w+6)%7+Ne.W*7-(le+5)%7:Ne.w+Ne.U*7-(le+6)%7);return"Z"in Ne?(Ne.H+=Ne.Z/100|0,Ne.M+=Ne.Z%100,X4(Ne)):Y4(Ne)}}function O(ge,je,Oe,Ne){for(var et=0,nt=je.length,le=Oe.length,lt,Pt;et<nt;){if(Ne>=le)return-1;if(lt=je.charCodeAt(et++),lt===37){if(lt=je.charAt(et++),Pt=N[lt in m$?je.charAt(et++):lt],!Pt||(Ne=Pt(ge,Oe,Ne))<0)return-1}else if(lt!=Oe.charCodeAt(Ne++))return-1}return Ne}function P(ge,je,Oe){var Ne=u.exec(je.slice(Oe));return Ne?(ge.p=d.get(Ne[0].toLowerCase()),Oe+Ne[0].length):-1}function M(ge,je,Oe){var Ne=m.exec(je.slice(Oe));return Ne?(ge.w=y.get(Ne[0].toLowerCase()),Oe+Ne[0].length):-1}function I(ge,je,Oe){var Ne=A.exec(je.slice(Oe));return Ne?(ge.w=h.get(Ne[0].toLowerCase()),Oe+Ne[0].length):-1}function D(ge,je,Oe){var Ne=x.exec(je.slice(Oe));return Ne?(ge.m=b.get(Ne[0].toLowerCase()),Oe+Ne[0].length):-1}function $(ge,je,Oe){var Ne=g.exec(je.slice(Oe));return Ne?(ge.m=v.get(Ne[0].toLowerCase()),Oe+Ne[0].length):-1}function F(ge,je,Oe){return O(ge,t,je,Oe)}function V(ge,je,Oe){return O(ge,r,je,Oe)}function X(ge,je,Oe){return O(ge,n,je,Oe)}function K(ge){return o[ge.getDay()]}function W(ge){return i[ge.getDay()]}function z(ge){return c[ge.getMonth()]}function te(ge){return l[ge.getMonth()]}function G(ge){return a[+(ge.getHours()>=12)]}function U(ge){return 1+~~(ge.getMonth()/3)}function Y(ge){return o[ge.getUTCDay()]}function ee(ge){return i[ge.getUTCDay()]}function ae(ge){return c[ge.getUTCMonth()]}function Ae(ge){return l[ge.getUTCMonth()]}function ce(ge){return a[+(ge.getUTCHours()>=12)]}function we(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var je=B(ge+="",j);return je.toString=function(){return ge},je},parse:function(ge){var je=T(ge+="",!1);return je.toString=function(){return ge},je},utcFormat:function(ge){var je=B(ge+="",_);return je.toString=function(){return ge},je},utcParse:function(ge){var je=T(ge+="",!0);return je.toString=function(){return ge},je}}}var m$={"-":"",_:" ",0:"0"},_i=/^\s*\d+/,DEe=/^%/,MEe=/[\\^$*+?|[\]().{}]/g;function On(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function QEe(e){return e.replace(MEe,"\\$&")}function Rx(e){return new RegExp("^(?:"+e.map(QEe).join("|")+")","i")}function Lx(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function HEe(e,t,r){var n=_i.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function $Ee(e,t,r){var n=_i.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function VEe(e,t,r){var n=_i.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function qEe(e,t,r){var n=_i.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function KEe(e,t,r){var n=_i.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function p$(e,t,r){var n=_i.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function g$(e,t,r){var n=_i.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function zEe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function WEe(e,t,r){var n=_i.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function GEe(e,t,r){var n=_i.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function v$(e,t,r){var n=_i.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function YEe(e,t,r){var n=_i.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function y$(e,t,r){var n=_i.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function XEe(e,t,r){var n=_i.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function JEe(e,t,r){var n=_i.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ZEe(e,t,r){var n=_i.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function e4e(e,t,r){var n=_i.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function t4e(e,t,r){var n=DEe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function r4e(e,t,r){var n=_i.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function n4e(e,t,r){var n=_i.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function x$(e,t){return On(e.getDate(),t,2)}function s4e(e,t){return On(e.getHours(),t,2)}function a4e(e,t){return On(e.getHours()%12||12,t,2)}function i4e(e,t){return On(1+gb.count(QA(e),e),t,3)}function pte(e,t){return On(e.getMilliseconds(),t,3)}function o4e(e,t){return pte(e,t)+"000"}function l4e(e,t){return On(e.getMonth()+1,t,2)}function c4e(e,t){return On(e.getMinutes(),t,2)}function u4e(e,t){return On(e.getSeconds(),t,2)}function d4e(e){var t=e.getDay();return t===0?7:t}function A4e(e,t){return On(oC.count(QA(e)-1,e),t,2)}function gte(e){var t=e.getDay();return t>=4||t===0?Wv(e):Wv.ceil(e)}function f4e(e,t){return e=gte(e),On(Wv.count(QA(e),e)+(QA(e).getDay()===4),t,2)}function h4e(e){return e.getDay()}function m4e(e,t){return On(a_.count(QA(e)-1,e),t,2)}function p4e(e,t){return On(e.getFullYear()%100,t,2)}function g4e(e,t){return e=gte(e),On(e.getFullYear()%100,t,2)}function v4e(e,t){return On(e.getFullYear()%1e4,t,4)}function y4e(e,t){var r=e.getDay();return e=r>=4||r===0?Wv(e):Wv.ceil(e),On(e.getFullYear()%1e4,t,4)}function x4e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+On(t/60|0,"0",2)+On(t%60,"0",2)}function w$(e,t){return On(e.getUTCDate(),t,2)}function w4e(e,t){return On(e.getUTCHours(),t,2)}function b4e(e,t){return On(e.getUTCHours()%12||12,t,2)}function j4e(e,t){return On(1+iC.count(HA(e),e),t,3)}function vte(e,t){return On(e.getUTCMilliseconds(),t,3)}function _4e(e,t){return vte(e,t)+"000"}function N4e(e,t){return On(e.getUTCMonth()+1,t,2)}function C4e(e,t){return On(e.getUTCMinutes(),t,2)}function S4e(e,t){return On(e.getUTCSeconds(),t,2)}function B4e(e){var t=e.getUTCDay();return t===0?7:t}function E4e(e,t){return On(lC.count(HA(e)-1,e),t,2)}function yte(e){var t=e.getUTCDay();return t>=4||t===0?Gv(e):Gv.ceil(e)}function k4e(e,t){return e=yte(e),On(Gv.count(HA(e),e)+(HA(e).getUTCDay()===4),t,2)}function P4e(e){return e.getUTCDay()}function T4e(e,t){return On(i_.count(HA(e)-1,e),t,2)}function O4e(e,t){return On(e.getUTCFullYear()%100,t,2)}function I4e(e,t){return e=yte(e),On(e.getUTCFullYear()%100,t,2)}function F4e(e,t){return On(e.getUTCFullYear()%1e4,t,4)}function R4e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Gv(e):Gv.ceil(e),On(e.getUTCFullYear()%1e4,t,4)}function L4e(){return"+0000"}function b$(){return"%"}function j$(e){return+e}function _$(e){return Math.floor(+e/1e3)}var Og,xte,wte;U4e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function U4e(e){return Og=UEe(e),xte=Og.format,Og.parse,wte=Og.utcFormat,Og.utcParse,Og}function D4e(e){return new Date(e)}function M4e(e){return e instanceof Date?+e:+new Date(+e)}function QR(e,t,r,n,a,i,o,l,c,u){var d=SR(),A=d.invert,h=d.domain,m=u(".%L"),y=u(":%S"),g=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),b=u("%b %d"),j=u("%B"),_=u("%Y");function N(B){return(c(B)<B?m:l(B)<B?y:o(B)<B?g:i(B)<B?v:n(B)<B?a(B)<B?x:b:r(B)<B?j:_)(B)}return d.invert=function(B){return new Date(A(B))},d.domain=function(B){return arguments.length?h(Array.from(B,M4e)):h().map(D4e)},d.ticks=function(B){var T=h();return e(T[0],T[T.length-1],B??10)},d.tickFormat=function(B,T){return T==null?N:u(T)},d.nice=function(B){var T=h();return(!B||typeof B.range!="function")&&(B=t(T[0],T[T.length-1],B??10)),B?h(ote(T,B)):d},d.copy=function(){return pb(d,QR(e,t,r,n,a,i,o,l,c,u))},d}function Q4e(){return Pc.apply(QR(REe,LEe,QA,DR,oC,gb,LR,FR,Vm,xte).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function H4e(){return Pc.apply(QR(IEe,FEe,HA,MR,lC,iC,UR,RR,Vm,wte).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function cC(){var e=0,t=1,r,n,a,i,o=Io,l=!1,c;function u(A){return A==null||isNaN(A=+A)?c:o(a===0?.5:(A=(i(A)-r)*a,l?Math.max(0,Math.min(1,A)):A))}u.domain=function(A){return arguments.length?([e,t]=A,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(A){return arguments.length?(l=!!A,u):l},u.interpolator=function(A){return arguments.length?(o=A,u):o};function d(A){return function(h){var m,y;return arguments.length?([m,y]=h,o=A(m,y),u):[o(0),o(1)]}}return u.range=d(Qy),u.rangeRound=d(CR),u.unknown=function(A){return arguments.length?(c=A,u):c},function(A){return i=A,r=A(e),n=A(t),a=r===n?0:1/(n-r),u}}function Mh(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function bte(){var e=Dh(cC()(Io));return e.copy=function(){return Mh(e,bte())},JA.apply(e,arguments)}function jte(){var e=kR(cC()).domain([1,10]);return e.copy=function(){return Mh(e,jte()).base(e.base())},JA.apply(e,arguments)}function _te(){var e=PR(cC());return e.copy=function(){return Mh(e,_te()).constant(e.constant())},JA.apply(e,arguments)}function HR(){var e=TR(cC());return e.copy=function(){return Mh(e,HR()).exponent(e.exponent())},JA.apply(e,arguments)}function $4e(){return HR.apply(null,arguments).exponent(.5)}function Nte(){var e=[],t=Io;function r(n){if(n!=null&&!isNaN(n=+n))return t((hb(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ah),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>E5e(e,i/n))},r.copy=function(){return Nte(t).domain(e)},JA.apply(r,arguments)}function uC(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Io,d,A=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-i)*(n*g<n*i?l:c),u(A?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(A=!!g,m):A},m.interpolator=function(g){return arguments.length?(u=g,m):u};function y(g){return function(v){var x,b,j;return arguments.length?([x,b,j]=v,u=tEe(g,[x,b,j]),m):[u(0),u(.5),u(1)]}}return m.range=y(Qy),m.rangeRound=y(CR),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,a=g(e),i=g(t),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function Cte(){var e=Dh(uC()(Io));return e.copy=function(){return Mh(e,Cte())},JA.apply(e,arguments)}function Ste(){var e=kR(uC()).domain([.1,1,10]);return e.copy=function(){return Mh(e,Ste()).base(e.base())},JA.apply(e,arguments)}function Bte(){var e=PR(uC());return e.copy=function(){return Mh(e,Bte()).constant(e.constant())},JA.apply(e,arguments)}function $R(){var e=TR(uC());return e.copy=function(){return Mh(e,$R()).exponent(e.exponent())},JA.apply(e,arguments)}function V4e(){return $R.apply(null,arguments).exponent(.5)}const N$=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hw,scaleDiverging:Cte,scaleDivergingLog:Ste,scaleDivergingPow:$R,scaleDivergingSqrt:V4e,scaleDivergingSymlog:Bte,scaleIdentity:ite,scaleImplicit:jO,scaleLinear:n_,scaleLog:lte,scaleOrdinal:jR,scalePoint:j0,scalePow:OR,scaleQuantile:dte,scaleQuantize:Ate,scaleRadial:ute,scaleSequential:bte,scaleSequentialLog:jte,scaleSequentialPow:HR,scaleSequentialQuantile:Nte,scaleSequentialSqrt:$4e,scaleSequentialSymlog:_te,scaleSqrt:_Ee,scaleSymlog:cte,scaleThreshold:fte,scaleTime:Q4e,scaleUtc:H4e,tickFormat:ate},Symbol.toStringTag,{value:"Module"}));var J4,C$;function dC(){if(C$)return J4;C$=1;var e=Ly();function t(r,n,a){for(var i=-1,o=r.length;++i<o;){var l=r[i],c=n(l);if(c!=null&&(u===void 0?c===c&&!e(c):a(c,u)))var u=c,d=l}return d}return J4=t,J4}var Z4,S$;function Ete(){if(S$)return Z4;S$=1;function e(t,r){return t>r}return Z4=e,Z4}var ek,B$;function q4e(){if(B$)return ek;B$=1;var e=dC(),t=Ete(),r=My();function n(a){return a&&a.length?e(a,r,t):void 0}return ek=n,ek}var K4e=q4e();const rh=Vn(K4e);var tk,E$;function kte(){if(E$)return tk;E$=1;function e(t,r){return t<r}return tk=e,tk}var rk,k$;function z4e(){if(k$)return rk;k$=1;var e=dC(),t=kte(),r=My();function n(a){return a&&a.length?e(a,r,t):void 0}return rk=n,rk}var W4e=z4e();const AC=Vn(W4e);var nk,P$;function G4e(){if(P$)return nk;P$=1;var e=aR(),t=Ed(),r=Uee(),n=ml();function a(i,o){var l=n(i)?e:r;return l(i,t(o,3))}return nk=a,nk}var sk,T$;function Y4e(){if(T$)return sk;T$=1;var e=Ree(),t=G4e();function r(n,a){return e(t(n,a),1)}return sk=r,sk}var X4e=Y4e();const J4e=Vn(X4e);var ak,O$;function Z4e(){if(O$)return ak;O$=1;var e=vR();function t(r,n){return e(r,n)}return ak=t,ak}var eke=Z4e();const fp=Vn(eke);var Hy=1e9,tke={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qR,Ls=!0,Sc="[DecimalError] ",Jm=Sc+"Invalid argument: ",VR=Sc+"Exponent out of range: ",$y=Math.floor,Tm=Math.pow,rke=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ql,mi=1e7,_s=7,Pte=9007199254740991,o_=$y(Pte/_s),Ut={};Ut.absoluteValue=Ut.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ut.comparedTo=Ut.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ut.decimalPlaces=Ut.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*_s;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ut.dividedBy=Ut.div=function(e){return OA(this,new this.constructor(e))};Ut.dividedToIntegerBy=Ut.idiv=function(e){var t=this,r=t.constructor;return cs(OA(t,new r(e),0,1),r.precision)};Ut.equals=Ut.eq=function(e){return!this.cmp(e)};Ut.exponent=function(){return Ha(this)};Ut.greaterThan=Ut.gt=function(e){return this.cmp(e)>0};Ut.greaterThanOrEqualTo=Ut.gte=function(e){return this.cmp(e)>=0};Ut.isInteger=Ut.isint=function(){return this.e>this.d.length-2};Ut.isNegative=Ut.isneg=function(){return this.s<0};Ut.isPositive=Ut.ispos=function(){return this.s>0};Ut.isZero=function(){return this.s===0};Ut.lessThan=Ut.lt=function(e){return this.cmp(e)<0};Ut.lessThanOrEqualTo=Ut.lte=function(e){return this.cmp(e)<1};Ut.logarithm=Ut.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ql))throw Error(Sc+"NaN");if(r.s<1)throw Error(Sc+(r.s?"NaN":"-Infinity"));return r.eq(Ql)?new n(0):(Ls=!1,t=OA(yw(r,i),yw(e,i),i),Ls=!0,cs(t,a))};Ut.minus=Ut.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Ite(t,e):Tte(t,(e.s=-e.s,e))};Ut.modulo=Ut.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Sc+"NaN");return r.s?(Ls=!1,t=OA(r,e,0,1).times(e),Ls=!0,r.minus(t)):cs(new n(r),a)};Ut.naturalExponential=Ut.exp=function(){return Ote(this)};Ut.naturalLogarithm=Ut.ln=function(){return yw(this)};Ut.negated=Ut.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ut.plus=Ut.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Tte(t,e):Ite(t,(e.s=-e.s,e))};Ut.precision=Ut.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Jm+e);if(t=Ha(a)+1,n=a.d.length-1,r=n*_s+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ut.squareRoot=Ut.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Sc+"NaN")}for(e=Ha(l),Ls=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=cd(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=$y((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(OA(l,i,o+2)).times(.5),cd(i.d).slice(0,o)===(t=cd(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(cs(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Ls=!0,cs(n,r)};Ut.times=Ut.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,A=d.constructor,h=d.d,m=(e=new A(e)).d;if(!d.s||!e.s)return new A(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%mi|0,t=l/mi|0;i[a]=(i[a]+t)%mi|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ls?cs(e,A.precision):e};Ut.toDecimalPlaces=Ut.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(jd(e,0,Hy),t===void 0?t=n.rounding:jd(t,0,8),cs(r,e+Ha(r)+1,t))};Ut.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=hp(n,!0):(jd(e,0,Hy),t===void 0?t=a.rounding:jd(t,0,8),n=cs(new a(n),e+1,t),r=hp(n,!0,e+1)),r};Ut.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?hp(a):(jd(e,0,Hy),t===void 0?t=i.rounding:jd(t,0,8),n=cs(new i(a),e+Ha(a)+1,t),r=hp(n.abs(),!1,e+Ha(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ut.toInteger=Ut.toint=function(){var e=this,t=e.constructor;return cs(new t(e),Ha(e)+1,t.rounding)};Ut.toNumber=function(){return+this};Ut.toPower=Ut.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Ql);if(l=new c(l),!l.s){if(e.s<1)throw Error(Sc+"Infinity");return l}if(l.eq(Ql))return l;if(n=c.precision,e.eq(Ql))return cs(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=Pte){for(a=new c(Ql),t=Math.ceil(n/_s+4),Ls=!1;r%2&&(a=a.times(l),F$(a.d,t)),r=$y(r/2),r!==0;)l=l.times(l),F$(l.d,t);return Ls=!0,e.s<0?new c(Ql).div(a):cs(a,n)}}else if(i<0)throw Error(Sc+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ls=!1,a=e.times(yw(l,n+u)),Ls=!0,a=Ote(a),a.s=i,a};Ut.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Ha(a),n=hp(a,r<=i.toExpNeg||r>=i.toExpPos)):(jd(e,1,Hy),t===void 0?t=i.rounding:jd(t,0,8),a=cs(new i(a),e,t),r=Ha(a),n=hp(a,e<=r||r<=i.toExpNeg,e)),n};Ut.toSignificantDigits=Ut.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(jd(e,1,Hy),t===void 0?t=n.rounding:jd(t,0,8)),cs(new n(r),e,t)};Ut.toString=Ut.valueOf=Ut.val=Ut.toJSON=Ut[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ha(e),r=e.constructor;return hp(e,t<=r.toExpNeg||t>=r.toExpPos)};function Tte(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,A=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ls?cs(t,A):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(A/_s),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/mi|0,c[i]%=mi;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Ls?cs(t,A):t}function jd(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Jm+e)}function cd(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=_s-n.length,r&&(i+=Gf(r)),i+=n;o=e[t],n=o+"",r=_s-n.length,r&&(i+=Gf(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var OA=(function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%mi|0,o=i/mi|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*mi+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,A,h,m,y,g,v,x,b,j,_,N,B,T,O,P=n.constructor,M=n.s==a.s?1:-1,I=n.d,D=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(Sc+"Division by zero");for(c=n.e-a.e,T=D.length,N=I.length,m=new P(M),y=m.d=[],u=0;D[u]==(I[u]||0);)++u;if(D[u]>(I[u]||0)&&--c,i==null?b=i=P.precision:o?b=i+(Ha(n)-Ha(a))+1:b=i,b<0)return new P(0);if(b=b/_s+2|0,u=0,T==1)for(d=0,D=D[0],b++;(u<N||d)&&b--;u++)j=d*mi+(I[u]||0),y[u]=j/D|0,d=j%D|0;else{for(d=mi/(D[0]+1)|0,d>1&&(D=e(D,d),I=e(I,d),T=D.length,N=I.length),_=T,g=I.slice(0,T),v=g.length;v<T;)g[v++]=0;O=D.slice(),O.unshift(0),B=D[0],D[1]>=mi/2&&++B;do d=0,l=t(D,g,T,v),l<0?(x=g[0],T!=v&&(x=x*mi+(g[1]||0)),d=x/B|0,d>1?(d>=mi&&(d=mi-1),A=e(D,d),h=A.length,v=g.length,l=t(A,g,h,v),l==1&&(d--,r(A,T<h?O:D,h))):(d==0&&(l=d=1),A=D.slice()),h=A.length,h<v&&A.unshift(0),r(g,A,v),l==-1&&(v=g.length,l=t(D,g,T,v),l<1&&(d++,r(g,T<v?O:D,v))),v=g.length):l===0&&(d++,g=[0]),y[u++]=d,l&&g[0]?g[v++]=I[_]||0:(g=[I[_]],v=1);while((_++<N||g[0]!==void 0)&&b--)}return y[0]||y.shift(),m.e=c,cs(m,o?i+Ha(m)+1:i)}})();function Ote(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,A=d.precision;if(Ha(e)>16)throw Error(VR+Ha(e));if(!e.s)return new d(Ql);for(Ls=!1,l=A,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Tm(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Ql),d.precision=l;;){if(a=cs(a.times(e),l),r=r.times(++c),o=i.plus(OA(a,r,l)),cd(o.d).slice(0,l)===cd(i.d).slice(0,l)){for(;u--;)i=cs(i.times(i),l);return d.precision=A,t==null?(Ls=!0,cs(i,A)):i}i=o}}function Ha(e){for(var t=e.e*_s,r=e.d[0];r>=10;r/=10)t++;return t}function ik(e,t,r){if(t>e.LN10.sd())throw Ls=!0,r&&(e.precision=r),Error(Sc+"LN10 precision limit exceeded");return cs(new e(e.LN10),t)}function Gf(e){for(var t="";e--;)t+="0";return t}function yw(e,t){var r,n,a,i,o,l,c,u,d,A=1,h=10,m=e,y=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(Sc+(m.s?"NaN":"-Infinity"));if(m.eq(Ql))return new g(0);if(t==null?(Ls=!1,u=v):u=t,m.eq(10))return t==null&&(Ls=!0),ik(g,u);if(u+=h,g.precision=u,r=cd(y),n=r.charAt(0),i=Ha(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=cd(m.d),n=r.charAt(0),A++;i=Ha(m),n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1))}else return c=ik(g,u+2,v).times(i+""),m=yw(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=v,t==null?(Ls=!0,cs(m,v)):m;for(l=o=m=OA(m.minus(Ql),m.plus(Ql),u),d=cs(m.times(m),u),a=3;;){if(o=cs(o.times(d),u),c=l.plus(OA(o,new g(a),u)),cd(c.d).slice(0,u)===cd(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(ik(g,u+2,v).times(i+""))),l=OA(l,new g(A),u),g.precision=v,t==null?(Ls=!0,cs(l,v)):l;l=c,a+=2}}function I$(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=$y(r/_s),e.d=[],n=(r+1)%_s,r<0&&(n+=_s),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=_s;n<a;)e.d.push(+t.slice(n,n+=_s));t=t.slice(n),n=_s-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ls&&(e.e>o_||e.e<-o_))throw Error(VR+r)}else e.s=0,e.e=0,e.d=[0];return e}function cs(e,t,r){var n,a,i,o,l,c,u,d,A=e.d;for(o=1,i=A[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=_s,a=t,u=A[d=0];else{if(d=Math.ceil((n+1)/_s),i=A.length,d>=i)return e;for(u=i=A[d],o=1;i>=10;i/=10)o++;n%=_s,a=n-_s+o}if(r!==void 0&&(i=Tm(10,o-a-1),l=u/i%10|0,c=t<0||A[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Tm(10,o-a):0:A[d-1])%10&1||r==(e.s<0?8:7))),t<1||!A[0])return c?(i=Ha(e),A.length=1,t=t-i-1,A[0]=Tm(10,(_s-t%_s)%_s),e.e=$y(-t/_s)||0):(A.length=1,A[0]=e.e=e.s=0),e;if(n==0?(A.length=d,i=1,d--):(A.length=d+1,i=Tm(10,_s-n),A[d]=a>0?(u/Tm(10,o-a)%Tm(10,a)|0)*i:0),c)for(;;)if(d==0){(A[0]+=i)==mi&&(A[0]=1,++e.e);break}else{if(A[d]+=i,A[d]!=mi)break;A[d--]=0,i=1}for(n=A.length;A[--n]===0;)A.pop();if(Ls&&(e.e>o_||e.e<-o_))throw Error(VR+Ha(e));return e}function Ite(e,t){var r,n,a,i,o,l,c,u,d,A,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ls?cs(t,m):t;if(c=e.d,A=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=A.length):(r=A,n=u,l=c.length),a=Math.max(Math.ceil(m/_s),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=A.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=A[a]){d=c[a]<A[a];break}o=0}for(d&&(r=c,c=A,A=r,t.s=-t.s),l=c.length,a=A.length-l;a>0;--a)c[l++]=0;for(a=A.length;a>o;){if(c[--a]<A[a]){for(i=a;i&&c[--i]===0;)c[i]=mi-1;--c[i],c[a]+=mi}c[a]-=A[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ls?cs(t,m):t):new h(0)}function hp(e,t,r){var n,a=Ha(e),i=cd(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Gf(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Gf(-a-1)+i,r&&(n=r-o)>0&&(i+=Gf(n))):a>=o?(i+=Gf(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Gf(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Gf(n))),e.s<0?"-"+i:i}function F$(e,t){if(e.length>t)return e.length=t,!0}function Fte(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Jm+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return I$(o,i.toString())}else if(typeof i!="string")throw Error(Jm+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,rke.test(i))I$(o,i);else throw Error(Jm+i)}if(a.prototype=Ut,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Fte,a.config=a.set=nke,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function nke(e){if(!e||typeof e!="object")throw Error(Sc+"Object expected");var t,r,n,a=["precision",1,Hy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if($y(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Jm+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Jm+r+": "+n);return this}var qR=Fte(tke);Ql=new qR(1);const ns=qR;function ske(e){return lke(e)||oke(e)||ike(e)||ake()}function ake(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ike(e,t){if(e){if(typeof e=="string")return SO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SO(e,t)}}function oke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function lke(e){if(Array.isArray(e))return SO(e)}function SO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cke=function(t){return t},Rte={},Lte=function(t){return t===Rte},R$=function(t){return function r(){return arguments.length===0||arguments.length===1&&Lte(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},uke=function e(t,r){return t===1?r:R$(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==Rte}).length;return o>=t?r.apply(void 0,a):e(t-o,R$(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(A){return Lte(A)?c.shift():A});return r.apply(void 0,ske(d).concat(c))}))})},fC=function(t){return uke(t.length,t)},BO=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},dke=fC(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Ake=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return cke;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},EO=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Ute=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function fke(e){var t;return e===0?t=1:t=Math.floor(new ns(e).abs().log(10).toNumber())+1,t}function hke(e,t,r){for(var n=new ns(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var mke=fC(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),pke=fC(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),gke=fC(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const hC={rangeStep:hke,getDigitCount:fke,interpolateNumber:mke,uninterpolateNumber:pke,uninterpolateTruncation:gke};function kO(e){return xke(e)||yke(e)||Dte(e)||vke()}function vke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xke(e){if(Array.isArray(e))return PO(e)}function xw(e,t){return jke(e)||bke(e,t)||Dte(e,t)||wke()}function wke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dte(e,t){if(e){if(typeof e=="string")return PO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PO(e,t)}}function PO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bke(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function jke(e){if(Array.isArray(e))return e}function Mte(e){var t=xw(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function Qte(e,t,r){if(e.lte(0))return new ns(0);var n=hC.getDigitCount(e.toNumber()),a=new ns(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new ns(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new ns(Math.ceil(c))}function _ke(e,t,r){var n=1,a=new ns(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ns(10).pow(hC.getDigitCount(e)-1),a=new ns(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ns(Math.floor(e)))}else e===0?a=new ns(Math.floor((t-1)/2)):r||(a=new ns(Math.floor(e)));var o=Math.floor((t-1)/2),l=Ake(dke(function(c){return a.add(new ns(c-o).mul(n)).toNumber()}),BO);return l(0,t)}function Hte(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ns(0),tickMin:new ns(0),tickMax:new ns(0)};var i=Qte(new ns(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new ns(0):(o=new ns(e).add(t).div(2),o=o.sub(new ns(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new ns(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?Hte(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new ns(l).mul(i)),tickMax:o.add(new ns(c).mul(i))})}function Nke(e){var t=xw(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=Mte([r,n]),c=xw(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var A=d===1/0?[u].concat(kO(BO(0,a-1).map(function(){return 1/0}))):[].concat(kO(BO(0,a-1).map(function(){return-1/0})),[d]);return r>n?EO(A):A}if(u===d)return _ke(u,a,i);var h=Hte(u,d,o,i),m=h.step,y=h.tickMin,g=h.tickMax,v=hC.rangeStep(y,g.add(new ns(.1).mul(m)),m);return r>n?EO(v):v}function Cke(e,t){var r=xw(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Mte([n,a]),l=xw(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),A=Qte(new ns(u).sub(c).div(d-1),i,0),h=[].concat(kO(hC.rangeStep(new ns(c),new ns(u).sub(new ns(.99).mul(A)),A)),[u]);return n>a?EO(h):h}var Ske=Ute(Nke),Bke=Ute(Cke),Eke="Invariant failed";function mp(e,t){throw new Error(Eke)}var kke=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(e)}function l_(){return l_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l_.apply(this,arguments)}function Pke(e,t){return Fke(e)||Ike(e,t)||Oke(e,t)||Tke()}function Tke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oke(e,t){if(e){if(typeof e=="string")return L$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L$(e,t)}}function L$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ike(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Fke(e){if(Array.isArray(e))return e}function Rke(e,t){if(e==null)return{};var r=Lke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Uke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qte(n.key),n)}}function Mke(e,t,r){return t&&Dke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qke(e,t,r){return t=c_(t),Hke(e,$te()?Reflect.construct(t,r||[],c_(e).constructor):t.apply(e,r))}function Hke(e,t){if(t&&(Yv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ke(e)}function $ke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($te=function(){return!!e})()}function c_(e){return c_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c_(e)}function Vke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TO(e,t)}function TO(e,t){return TO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},TO(e,t)}function Vte(e,t,r){return t=qte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qte(e){var t=qke(e,"string");return Yv(t)=="symbol"?t:t+""}function qke(e,t){if(Yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vb=(function(e){function t(){return Uke(this,t),Qke(this,t,arguments)}return Vke(t,e),Mke(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,A=n.yAxis,h=Rke(n,kke),m=nr(h,!1);this.props.direction==="x"&&d.type!=="number"&&mp();var y=c.map(function(g){var v=u(g,l),x=v.x,b=v.y,j=v.value,_=v.errorVal;if(!_)return null;var N=[],B,T;if(Array.isArray(_)){var O=Pke(_,2);B=O[0],T=O[1]}else B=T=_;if(i==="vertical"){var P=d.scale,M=b+a,I=M+o,D=M-o,$=P(j-B),F=P(j+T);N.push({x1:F,y1:I,x2:F,y2:D}),N.push({x1:$,y1:M,x2:F,y2:M}),N.push({x1:$,y1:I,x2:$,y2:D})}else if(i==="horizontal"){var V=A.scale,X=x+a,K=X-o,W=X+o,z=V(j-B),te=V(j+T);N.push({x1:K,y1:te,x2:W,y2:te}),N.push({x1:X,y1:z,x2:X,y2:te}),N.push({x1:K,y1:z,x2:W,y2:z})}return se.createElement(un,l_({className:"recharts-errorBar",key:"bar-".concat(N.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},m),N.map(function(G){return se.createElement("line",l_({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return se.createElement(un,{className:"recharts-errorBars"},y)}}])})(se.Component);Vte(vb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Vte(vb,"displayName","ErrorBar");function ww(e){"@babel/helpers - typeof";return ww=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ww(e)}function U$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _m(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U$(Object(r),!0).forEach(function(n){Kke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kke(e,t,r){return t=zke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zke(e){var t=Wke(e,"string");return ww(t)=="symbol"?t:t+""}function Wke(e,t){if(ww(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ww(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kte=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Ll(r,_v);if(!o)return null;var l=_v.defaultProps,c=l!==void 0?_m(_m({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,A){var h=A.item,m=A.props,y=m.sectors||m.data||[];return d.concat(y.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var A=d.item,h=A.type.defaultProps,m=h!==void 0?_m(_m({},h),A.props):{},y=m.dataKey,g=m.name,v=m.legendType,x=m.hide;return{inactive:x,dataKey:y,type:c.iconType||v||"square",color:KR(A),value:g||y,payload:m}}),_m(_m(_m({},c),_v.getWithHeight(o,a)),{},{payload:u,item:o})};function bw(e){"@babel/helpers - typeof";return bw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bw(e)}function D$(e){return Jke(e)||Xke(e)||Yke(e)||Gke()}function Gke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yke(e,t){if(e){if(typeof e=="string")return OO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OO(e,t)}}function Xke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jke(e){if(Array.isArray(e))return OO(e)}function OO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M$(Object(r),!0).forEach(function(n){Cv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cv(e,t,r){return t=Zke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zke(e){var t=ePe(e,"string");return bw(t)=="symbol"?t:t+""}function ePe(e,t){if(bw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _a(e,t,r){return Ur(e)||Ur(t)?r:ni(t)?Kl(e,t,r):_r(t)?t(e):r}function _0(e,t,r,n){var a=J4e(e,function(l){return _a(l,t)});if(r==="number"){var i=a.filter(function(l){return mt(l)||parseFloat(l)});return i.length?[AC(i),rh(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Ur(l)}):a;return o.map(function(l){return ni(l)||l instanceof Date?l:""})}var tPe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,A=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(To(A-d)!==To(h-A)){var y=[];if(To(h-A)===To(c[1]-c[0])){m=h;var g=A+c[1]-c[0];y[0]=Math.min(g,(g+d)/2),y[1]=Math.max(g,(g+d)/2)}else{m=d;var v=h+c[1]-c[0];y[0]=Math.min(A,(v+A)/2),y[1]=Math.max(A,(v+A)/2)}var x=[Math.min(A,(m+A)/2),Math.max(A,(m+A)/2)];if(t>x[0]&&t<=x[1]||t>=y[0]&&t<=y[1]){o=a[u].index;break}}else{var b=Math.min(d,h),j=Math.max(d,h);if(t>(b+A)/2&&t<=(j+A)/2){o=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},KR=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?oa(oa({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},rPe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,A=Object.keys(d),h=0,m=A.length;h<m;h++){var y=d[A[h]],g=y.items,v=y.cateAxisId,x=g.filter(function(T){return TA(T.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,j=b!==void 0?oa(oa({},b),x[0].props):x[0].props,_=j.barSize,N=j[v];o[N]||(o[N]=[]);var B=Ur(_)?r:_;o[N].push({item:x[0],stackList:x.slice(1),barSize:Ur(B)?void 0:Oo(B,n,0)})}}return o},nPe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Oo(r,a,0,!0),d,A=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,y=o.reduce(function(_,N){return _+N.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&m>0&&(h=!0,m*=.9,y=c*m);var g=(a-y)/2>>0,v={offset:g-u,size:0};d=o.reduce(function(_,N){var B={item:N.item,position:{offset:v.offset+v.size+u,size:h?m:N.barSize}},T=[].concat(D$(_),[B]);return v=T[T.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){T.push({item:O,position:v})}),T},A)}else{var x=Oo(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var b=(a-2*x-(c-1)*u)/c;b>1&&(b>>=0);var j=l===+l?Math.min(b,l):b;d=o.reduce(function(_,N,B){var T=[].concat(D$(_),[{item:N.item,position:{offset:x+(b+u)*B+(b-j)/2,size:j}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){T.push({item:O,position:T[T.length-1].position})}),T},A)}return d},sPe=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=Kte({children:i,legendWidth:c});if(u){var d=a||{},A=d.width,h=d.height,m=u.align,y=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&m!=="center"&&mt(t[m]))return oa(oa({},t),{},Cv({},m,t[m]+(A||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&y!=="middle"&&mt(t[y]))return oa(oa({},t),{},Cv({},y,t[y]+(h||0)))}return t},aPe=function(t,r,n){return Ur(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},zte=function(t,r,n,a,i){var o=r.props.children,l=zl(o,vb).filter(function(u){return aPe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var A=_a(d,n);if(Ur(A))return u;var h=Array.isArray(A)?[AC(A),rh(A)]:[A,A],m=c.reduce(function(y,g){var v=_a(d,g,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,y[0]),Math.max(b,y[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},iPe=function(t,r,n,a,i){var o=r.map(function(l){return zte(t,l,n,i,a)}).filter(function(l){return!Ur(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Wte=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&zte(t,c,u,a)||_0(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,A=u.length;d<A;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Gte=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Yte=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},kA=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?To(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(A){var h=i?i.indexOf(A):A;return{coordinate:a(h)+u,value:A,offset:u}});return d.filter(function(A){return!Dy(A.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(A,h){return{coordinate:a(A)+u,value:A,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(A){return{coordinate:a(A)+u,value:A,offset:u}}):a.domain().map(function(A,h){return{coordinate:a(A)+u,value:i?i[A]:A,index:h,offset:u}})},ok=new WeakMap,W1=function(t,r){if(typeof r!="function")return t;ok.has(t)||ok.set(t,new WeakMap);var n=ok.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},Xte=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:hw(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:n_(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:j0(),realScaleType:"point"}:i==="category"?{scale:hw(),realScaleType:"band"}:{scale:n_(),realScaleType:"linear"};if(up(a)){var c="scale".concat(JN(a));return{scale:(N$[c]||j0)(),realScaleType:N$[c]?c:"point"}}return _r(a)?{scale:a}:{scale:j0(),realScaleType:"point"}},Q$=1e-4,Jte=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-Q$,o=Math.max(a[0],a[1])+Q$,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},oPe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},lPe=function(t,r){if(!r||r.length!==2||!mt(r[0])||!mt(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!mt(t[0])||t[0]<n)&&(i[0]=n),(!mt(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},cPe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Dy(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},uPe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Dy(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},dPe={sign:cPe,expand:JNe,none:Hv,silhouette:ZNe,wiggle:eCe,positive:uPe},APe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=dPe[n],o=XNe().keys(a).value(function(l,c){return+_a(l,c,0)}).order(cO).offset(i);return o(t)},fPe=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(A,h){var m,y=(m=h.type)!==null&&m!==void 0&&m.defaultProps?oa(oa({},h.type.defaultProps),h.props):h.props,g=y.stackId,v=y.hide;if(v)return A;var x=y[n],b=A[x]||{hasStack:!1,stackGroups:{}};if(ni(g)){var j=b.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};j.items.push(h),b.hasStack=!0,b.stackGroups[g]=j}else b.stackGroups[Rp("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return oa(oa({},A),{},Cv({},x,b))},c),d={};return Object.keys(u).reduce(function(A,h){var m=u[h];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var x=m.stackGroups[v];return oa(oa({},g),{},Cv({},v,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:APe(t,x.items,i)}))},y)}return oa(oa({},A),{},Cv({},h,m))},d)},Zte=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Ske(u,i,l);return t.domain([AC(d),rh(d)]),{niceTicks:d}}if(i&&a==="number"){var A=t.domain(),h=Bke(A,i,l);return{niceTicks:h}}return null};function u_(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ur(a[t.dataKey])){var l=Dj(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=_a(a,Ur(o)?t.dataKey:o);return Ur(c)?null:t.scale(c)}var H$=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=_a(o,r.dataKey,r.domain[l]);return Ur(c)?null:r.scale(c)-i/2+a},hPe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},mPe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?oa(oa({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(ni(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},pPe=function(t){return t.reduce(function(r,n){return[AC(n.concat([r[0]]).filter(mt)),rh(n.concat([r[1]]).filter(mt))]},[1/0,-1/0])},ere=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var A=pPe(d.slice(r,n+1));return[Math.min(u[0],A[0]),Math.max(u[1],A[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},$$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,V$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IO=function(t,r,n){if(_r(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(mt(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if($$.test(t[0])){var i=+$$.exec(t[0])[1];a[0]=r[0]-i}else _r(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(mt(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(V$.test(t[1])){var o=+V$.exec(t[1])[1];a[1]=r[1]+o}else _r(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},d_=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=xR(r,function(A){return A.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},q$=function(t,r,n){return!t||!t.length||fp(t,Kl(n,"type.defaultProps.domain"))?r:t},tre=function(t,r){var n=t.type.defaultProps?oa(oa({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return oa(oa({},nr(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:KR(t),value:_a(r,a),type:c,payload:r,chartType:u,hide:d})};function jw(e){"@babel/helpers - typeof";return jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jw(e)}function K$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _A(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K$(Object(r),!0).forEach(function(n){rre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rre(e,t,r){return t=gPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gPe(e){var t=vPe(e,"string");return jw(t)=="symbol"?t:t+""}function vPe(e,t){if(jw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yPe(e,t){return jPe(e)||bPe(e,t)||wPe(e,t)||xPe()}function xPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wPe(e,t){if(e){if(typeof e=="string")return z$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z$(e,t)}}function z$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function jPe(e){if(Array.isArray(e))return e}var A_=Math.PI/180,_Pe=function(t){return t*180/Math.PI},ys=function(t,r,n,a){return{x:t+Math.cos(-A_*a)*n,y:r+Math.sin(-A_*a)*n}},nre=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},NPe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Oo(t.cx,o,o/2),A=Oo(t.cy,l,l/2),h=nre(o,l,n),m=Oo(t.innerRadius,h,0),y=Oo(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(v,x){var b=r[x],j=b.domain,_=b.reversed,N;if(Ur(b.range))a==="angleAxis"?N=[c,u]:a==="radiusAxis"&&(N=[m,y]),_&&(N=[N[1],N[0]]);else{N=b.range;var B=N,T=yPe(B,2);c=T[0],u=T[1]}var O=Xte(b,i),P=O.realScaleType,M=O.scale;M.domain(j).range(N),Jte(M);var I=Zte(M,_A(_A({},b),{},{realScaleType:P})),D=_A(_A(_A({},b),I),{},{range:N,radius:y,realScaleType:P,scale:M,cx:d,cy:A,innerRadius:m,outerRadius:y,startAngle:c,endAngle:u});return _A(_A({},v),{},rre({},x,D))},{})},CPe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},SPe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=CPe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:_Pe(u),angleInRadian:u}},BPe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},EPe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},W$=function(t,r){var n=t.x,a=t.y,i=SPe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=BPe(r),A=d.startAngle,h=d.endAngle,m=l,y;if(A<=h){for(;m>h;)m-=360;for(;m<A;)m+=360;y=m>=A&&m<=h}else{for(;m>A;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=A}return y?_A(_A({},r),{},{radius:o,angle:EPe(m,r)}):null},sre=function(t){return!C.isValidElement(t)&&!_r(t)&&typeof t!="boolean"?t.className:""};function _w(e){"@babel/helpers - typeof";return _w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_w(e)}var kPe=["offset"];function PPe(e){return FPe(e)||IPe(e)||OPe(e)||TPe()}function TPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OPe(e,t){if(e){if(typeof e=="string")return FO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FO(e,t)}}function IPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FPe(e){if(Array.isArray(e))return FO(e)}function FO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RPe(e,t){if(e==null)return{};var r=LPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function G$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G$(Object(r),!0).forEach(function(n){UPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UPe(e,t,r){return t=DPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DPe(e){var t=MPe(e,"string");return _w(t)=="symbol"?t:t+""}function MPe(e,t){if(_w(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_w(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nw.apply(this,arguments)}var QPe=function(t){var r=t.value,n=t.formatter,a=Ur(t.children)?r:t.children;return _r(n)?n(a):a},HPe=function(t,r){var n=To(r-t),a=Math.min(Math.abs(r-t),360);return n*a},$Pe=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,A=c.innerRadius,h=c.outerRadius,m=c.startAngle,y=c.endAngle,g=c.clockWise,v=(A+h)/2,x=HPe(m,y),b=x>=0?1:-1,j,_;a==="insideStart"?(j=m+b*o,_=g):a==="insideEnd"?(j=y-b*o,_=!g):a==="end"&&(j=y+b*o,_=g),_=x<=0?_:!_;var N=ys(u,d,v,j),B=ys(u,d,v,j+(_?1:-1)*359),T="M".concat(N.x,",").concat(N.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(B.x,",").concat(B.y),O=Ur(t.id)?Rp("recharts-radial-line-"):t.id;return se.createElement("text",Nw({},n,{dominantBaseline:"central",className:Mr("recharts-radial-bar-label",l)}),se.createElement("defs",null,se.createElement("path",{id:O,d:T})),se.createElement("textPath",{xlinkHref:"#".concat(O)},r))},VPe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,A=i.endAngle,h=(d+A)/2;if(a==="outside"){var m=ys(o,l,u+n,h),y=m.x,g=m.y;return{x:y,y:g,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=ys(o,l,v,h),b=x.x,j=x.y;return{x:b,y:j,textAnchor:"middle",verticalAnchor:"middle"}},qPe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,A=d>=0?1:-1,h=A*a,m=A>0?"end":"start",y=A>0?"start":"end",g=u>=0?1:-1,v=g*a,x=g>0?"end":"start",b=g>0?"start":"end";if(i==="top"){var j={x:l+u/2,y:c-A*a,textAnchor:"middle",verticalAnchor:m};return Ya(Ya({},j),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return Ya(Ya({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var N={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Ya(Ya({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(i==="right"){var B={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Ya(Ya({},B),n?{width:Math.max(n.x+n.width-B.x,0),height:d}:{})}var T=n?{width:u,height:d}:{};return i==="insideLeft"?Ya({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},T):i==="insideRight"?Ya({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},T):i==="insideTop"?Ya({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},T):i==="insideBottom"?Ya({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},T):i==="insideTopLeft"?Ya({x:l+v,y:c+h,textAnchor:b,verticalAnchor:y},T):i==="insideTopRight"?Ya({x:l+u-v,y:c+h,textAnchor:x,verticalAnchor:y},T):i==="insideBottomLeft"?Ya({x:l+v,y:c+d-h,textAnchor:b,verticalAnchor:m},T):i==="insideBottomRight"?Ya({x:l+u-v,y:c+d-h,textAnchor:x,verticalAnchor:m},T):Uy(i)&&(mt(i.x)||Hm(i.x))&&(mt(i.y)||Hm(i.y))?Ya({x:l+Oo(i.x,u),y:c+Oo(i.y,d),textAnchor:"end",verticalAnchor:"end"},T):Ya({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},T)},KPe=function(t){return"cx"in t&&mt(t.cx)};function gi(e){var t=e.offset,r=t===void 0?5:t,n=RPe(e,kPe),a=Ya({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,A=d===void 0?"":d,h=a.textBreakAll;if(!i||Ur(l)&&Ur(c)&&!C.isValidElement(u)&&!_r(u))return null;if(C.isValidElement(u))return C.cloneElement(u,a);var m;if(_r(u)){if(m=C.createElement(u,a),C.isValidElement(m))return m}else m=QPe(a);var y=KPe(i),g=nr(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return $Pe(a,m,g);var v=y?VPe(a):qPe(a);return se.createElement(Ap,Nw({className:Mr("recharts-label",A)},g,v,{breakAll:h}),m)}gi.displayName="Label";var are=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,A=t.x,h=t.y,m=t.top,y=t.left,g=t.width,v=t.height,x=t.clockWise,b=t.labelViewBox;if(b)return b;if(mt(g)&&mt(v)){if(mt(A)&&mt(h))return{x:A,y:h,width:g,height:v};if(mt(m)&&mt(y))return{x:m,y,width:g,height:v}}return mt(A)&&mt(h)?{x:A,y:h,width:0,height:0}:mt(r)&&mt(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},zPe=function(t,r){return t?t===!0?se.createElement(gi,{key:"label-implicit",viewBox:r}):ni(t)?se.createElement(gi,{key:"label-implicit",viewBox:r,value:t}):C.isValidElement(t)?t.type===gi?C.cloneElement(t,{key:"label-implicit",viewBox:r}):se.createElement(gi,{key:"label-implicit",content:t,viewBox:r}):_r(t)?se.createElement(gi,{key:"label-implicit",content:t,viewBox:r}):Uy(t)?se.createElement(gi,Nw({viewBox:r},t,{key:"label-implicit"})):null:null},WPe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=are(t),o=zl(a,gi).map(function(c,u){return C.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=zPe(t.label,r||i);return[l].concat(PPe(o))};gi.parseViewBox=are;gi.renderCallByParent=WPe;var lk,Y$;function GPe(){if(Y$)return lk;Y$=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return lk=e,lk}var YPe=GPe();const XPe=Vn(YPe);function Cw(e){"@babel/helpers - typeof";return Cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cw(e)}var JPe=["valueAccessor"],ZPe=["data","dataKey","clockWise","id","textBreakAll"];function eTe(e){return sTe(e)||nTe(e)||rTe(e)||tTe()}function tTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rTe(e,t){if(e){if(typeof e=="string")return RO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RO(e,t)}}function nTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sTe(e){if(Array.isArray(e))return RO(e)}function RO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f_(){return f_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f_.apply(this,arguments)}function X$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X$(Object(r),!0).forEach(function(n){aTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aTe(e,t,r){return t=iTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iTe(e){var t=oTe(e,"string");return Cw(t)=="symbol"?t:t+""}function oTe(e,t){if(Cw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z$(e,t){if(e==null)return{};var r=lTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cTe=function(t){return Array.isArray(t.value)?XPe(t.value):t.value};function pd(e){var t=e.valueAccessor,r=t===void 0?cTe:t,n=Z$(e,JPe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=Z$(n,ZPe);return!a||!a.length?null:se.createElement(un,{className:"recharts-label-list"},a.map(function(d,A){var h=Ur(i)?r(d,A):_a(d&&d.payload,i),m=Ur(l)?{}:{id:"".concat(l,"-").concat(A)};return se.createElement(gi,f_({},nr(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:gi.parseViewBox(Ur(o)?d:J$(J$({},d),{},{clockWise:o})),key:"label-".concat(A),index:A}))}))}pd.displayName="LabelList";function uTe(e,t){return e?e===!0?se.createElement(pd,{key:"labelList-implicit",data:t}):se.isValidElement(e)||_r(e)?se.createElement(pd,{key:"labelList-implicit",data:t,content:e}):Uy(e)?se.createElement(pd,f_({data:t},e,{key:"labelList-implicit"})):null:null}function dTe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=zl(n,pd).map(function(o,l){return C.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=uTe(e.label,t);return[i].concat(eTe(a))}pd.renderCallByParent=dTe;function Sw(e){"@babel/helpers - typeof";return Sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sw(e)}function LO(){return LO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LO.apply(this,arguments)}function e9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e9(Object(r),!0).forEach(function(n){ATe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ATe(e,t,r){return t=fTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fTe(e){var t=hTe(e,"string");return Sw(t)=="symbol"?t:t+""}function hTe(e,t){if(Sw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mTe=function(t,r){var n=To(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},G1=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,A=Math.asin(c/d)/A_,h=u?i:i+o*A,m=ys(r,n,d,h),y=ys(r,n,a,h),g=u?i-o*A:i,v=ys(r,n,d*Math.cos(A*A_),g);return{center:m,circleTangency:y,lineTangency:v,theta:A}},ire=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=mTe(o,l),u=o+c,d=ys(r,n,i,o),A=ys(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(A.x,",").concat(A.y,`
  `);if(a>0){var m=ys(r,n,a,o),y=ys(r,n,a,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},pTe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,A=To(d-u),h=G1({cx:r,cy:n,radius:i,angle:u,sign:A,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,y=h.lineTangency,g=h.theta,v=G1({cx:r,cy:n,radius:i,angle:d,sign:-A,cornerRadius:o,cornerIsExternal:c}),x=v.circleTangency,b=v.lineTangency,j=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-g-j;if(_<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):ire({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var N="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(A<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var B=G1({cx:r,cy:n,radius:a,angle:u,sign:A,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=B.circleTangency,O=B.lineTangency,P=B.theta,M=G1({cx:r,cy:n,radius:a,angle:d,sign:-A,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=M.circleTangency,D=M.lineTangency,$=M.theta,F=c?Math.abs(u-d):Math.abs(u-d)-P-$;if(F<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(F>180),",").concat(+(A>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(O.x,",").concat(O.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},gTe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ore=function(t){var r=t9(t9({},gTe),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,A=r.endAngle,h=r.className;if(o<i||d===A)return null;var m=Mr("recharts-sector",h),y=o-i,g=Oo(l,y,0,!0),v;return g>0&&Math.abs(d-A)<360?v=pTe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:A}):v=ire({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:A}),se.createElement("path",LO({},nr(r,!0),{className:m,d:v,role:"img"}))};function Bw(e){"@babel/helpers - typeof";return Bw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bw(e)}function UO(){return UO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UO.apply(this,arguments)}function r9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r9(Object(r),!0).forEach(function(n){vTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vTe(e,t,r){return t=yTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yTe(e){var t=xTe(e,"string");return Bw(t)=="symbol"?t:t+""}function xTe(e,t){if(Bw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s9={curveBasisClosed:MNe,curveBasisOpen:QNe,curveBasis:DNe,curveBumpX:NNe,curveBumpY:CNe,curveLinearClosed:HNe,curveLinear:eC,curveMonotoneX:$Ne,curveMonotoneY:VNe,curveNatural:qNe,curveStep:KNe,curveStepAfter:WNe,curveStepBefore:zNe},Y1=function(t){return t.x===+t.x&&t.y===+t.y},Ux=function(t){return t.x},Dx=function(t){return t.y},wTe=function(t,r){if(_r(t))return t;var n="curve".concat(JN(t));return(n==="curveMonotone"||n==="curveBump")&&r?s9["".concat(n).concat(r==="vertical"?"Y":"X")]:s9[n]||eC},bTe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=wTe(n,l),A=u?i.filter(function(g){return Y1(g)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(g){return Y1(g)}):o,y=A.map(function(g,v){return n9(n9({},g),{},{base:m[v]})});return l==="vertical"?h=Q1().y(Dx).x1(Ux).x0(function(g){return g.base.x}):h=Q1().x(Ux).y1(Dx).y0(function(g){return g.base.y}),h.defined(Y1).curve(d),h(y)}return l==="vertical"&&mt(o)?h=Q1().y(Dx).x1(Ux).x0(o):mt(o)?h=Q1().x(Ux).y1(Dx).y0(o):h=aee().x(Ux).y(Dx),h.defined(Y1).curve(d),h(A)},Zm=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?bTe(t):a;return C.createElement("path",UO({},nr(t,!1),Mj(t),{className:Mr("recharts-curve",r),d:o,ref:i}))},ck={exports:{}},uk,a9;function jTe(){if(a9)return uk;a9=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return uk=e,uk}var dk,i9;function _Te(){if(i9)return dk;i9=1;var e=jTe();function t(){}function r(){}return r.resetWarningCache=t,dk=function(){function n(o,l,c,u,d,A){if(A!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},dk}var o9;function NTe(){return o9||(o9=1,ck.exports=_Te()()),ck.exports}var CTe=NTe();const Hn=Vn(CTe);var STe=Object.getOwnPropertyNames,BTe=Object.getOwnPropertySymbols,ETe=Object.prototype.hasOwnProperty;function l9(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function X1(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function c9(e){return STe(e).concat(BTe(e))}var kTe=Object.hasOwn||(function(e,t){return ETe.call(e,t)});function Dp(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var PTe="__v",TTe="__o",OTe="_owner",u9=Object.getOwnPropertyDescriptor,d9=Object.keys;function ITe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function FTe(e,t){return Dp(e.getTime(),t.getTime())}function RTe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function LTe(e,t){return e===t}function A9(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,A=0;(l=u.next())&&!l.done;){if(a[A]){A++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,A,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[A]=!0;break}A++}if(!d)return!1;c++}return!0}var UTe=Dp;function DTe(e,t,r){var n=d9(e),a=n.length;if(d9(t).length!==a)return!1;for(;a-- >0;)if(!lre(e,t,r,n[a]))return!1;return!0}function Mx(e,t,r){var n=c9(e),a=n.length;if(c9(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!lre(e,t,r,i)||(o=u9(e,i),l=u9(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function MTe(e,t){return Dp(e.valueOf(),t.valueOf())}function QTe(e,t){return e.source===t.source&&e.flags===t.flags}function f9(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function HTe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function $Te(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function lre(e,t,r,n){return(n===OTe||n===TTe||n===PTe)&&(e.$$typeof||t.$$typeof)?!0:kTe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var VTe="[object Arguments]",qTe="[object Boolean]",KTe="[object Date]",zTe="[object Error]",WTe="[object Map]",GTe="[object Number]",YTe="[object Object]",XTe="[object RegExp]",JTe="[object Set]",ZTe="[object String]",eOe="[object URL]",tOe=Array.isArray,h9=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,m9=Object.assign,rOe=Object.prototype.toString.call.bind(Object.prototype.toString);function nOe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,A=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,g,v){if(y===g)return!0;if(y==null||g==null)return!1;var x=typeof y;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?o(y,g,v):x==="function"?a(y,g,v):!1;var b=y.constructor;if(b!==g.constructor)return!1;if(b===Object)return l(y,g,v);if(tOe(y))return t(y,g,v);if(h9!=null&&h9(y))return A(y,g,v);if(b===Date)return r(y,g,v);if(b===RegExp)return u(y,g,v);if(b===Map)return i(y,g,v);if(b===Set)return d(y,g,v);var j=rOe(y);return j===KTe?r(y,g,v):j===XTe?u(y,g,v):j===WTe?i(y,g,v):j===JTe?d(y,g,v):j===YTe?typeof y.then!="function"&&typeof g.then!="function"&&l(y,g,v):j===eOe?h(y,g,v):j===zTe?n(y,g,v):j===VTe?l(y,g,v):j===qTe||j===GTe||j===ZTe?c(y,g,v):!1}}function sOe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Mx:ITe,areDatesEqual:FTe,areErrorsEqual:RTe,areFunctionsEqual:LTe,areMapsEqual:n?l9(A9,Mx):A9,areNumbersEqual:UTe,areObjectsEqual:n?Mx:DTe,arePrimitiveWrappersEqual:MTe,areRegExpsEqual:QTe,areSetsEqual:n?l9(f9,Mx):f9,areTypedArraysEqual:n?Mx:HTe,areUrlsEqual:$Te};if(r&&(a=m9({},a,r(a))),t){var i=X1(a.areArraysEqual),o=X1(a.areMapsEqual),l=X1(a.areObjectsEqual),c=X1(a.areSetsEqual);a=m9({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function aOe(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function iOe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),A=d.cache,h=A===void 0?t?new WeakMap:void 0:A,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var oOe=Qh();Qh({strict:!0});Qh({circular:!0});Qh({circular:!0,strict:!0});Qh({createInternalComparator:function(){return Dp}});Qh({strict:!0,createInternalComparator:function(){return Dp}});Qh({circular:!0,createInternalComparator:function(){return Dp}});Qh({circular:!0,createInternalComparator:function(){return Dp},strict:!0});function Qh(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=sOe(e),c=nOe(l),u=n?n(c):aOe(c);return iOe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function lOe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function p9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):lOe(a)};requestAnimationFrame(n)}function DO(e){"@babel/helpers - typeof";return DO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DO(e)}function cOe(e){return fOe(e)||AOe(e)||dOe(e)||uOe()}function uOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dOe(e,t){if(e){if(typeof e=="string")return g9(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g9(e,t)}}function g9(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fOe(e){if(Array.isArray(e))return e}function hOe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=cOe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){p9(a.bind(null,u),c);return}a(c),p9(a.bind(null,u));return}DO(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Ew(e){"@babel/helpers - typeof";return Ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ew(e)}function v9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v9(Object(r),!0).forEach(function(n){cre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cre(e,t,r){return t=mOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mOe(e){var t=pOe(e,"string");return Ew(t)==="symbol"?t:String(t)}function pOe(e,t){if(Ew(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ew(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gOe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},vOe=function(t){return t},yOe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},N0=function(t,r){return Object.keys(r).reduce(function(n,a){return y9(y9({},n),{},cre({},a,t(a,r[a])))},{})},x9=function(t,r,n){return t.map(function(a){return"".concat(yOe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function xOe(e,t){return jOe(e)||bOe(e,t)||ure(e,t)||wOe()}function wOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function jOe(e){if(Array.isArray(e))return e}function _Oe(e){return SOe(e)||COe(e)||ure(e)||NOe()}function NOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ure(e,t){if(e){if(typeof e=="string")return MO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MO(e,t)}}function COe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SOe(e){if(Array.isArray(e))return MO(e)}function MO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h_=1e-4,dre=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Are=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},w9=function(t,r){return function(n){var a=dre(t,r);return Are(a,n)}},BOe=function(t,r){return function(n){var a=dre(t,r),i=[].concat(_Oe(a.map(function(o,l){return o*l}).slice(1)),[0]);return Are(i,n)}},b9=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=xOe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var A=w9(a,o),h=w9(i,l),m=BOe(a,o),y=function(x){return x>1?1:x<0?0:x},g=function(x){for(var b=x>1?1:x,j=b,_=0;_<8;++_){var N=A(j)-b,B=m(j);if(Math.abs(N-b)<h_||B<h_)return h(j);j=y(j-N/B)}return h(j)};return g.isStepper=!1,g},EOe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,A,h){var m=-(d-A)*n,y=h*i,g=h+(m-y)*l/1e3,v=h*l/1e3+d;return Math.abs(v-A)<h_&&Math.abs(g)<h_?[A,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},kOe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return b9(a);case"spring":return EOe();default:if(a.split("(")[0]==="cubic-bezier")return b9(a)}return typeof a=="function"?a:null};function kw(e){"@babel/helpers - typeof";return kw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kw(e)}function j9(e){return OOe(e)||TOe(e)||fre(e)||POe()}function POe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OOe(e){if(Array.isArray(e))return HO(e)}function _9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_9(Object(r),!0).forEach(function(n){QO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QO(e,t,r){return t=IOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IOe(e){var t=FOe(e,"string");return kw(t)==="symbol"?t:String(t)}function FOe(e,t){if(kw(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kw(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ROe(e,t){return DOe(e)||UOe(e,t)||fre(e,t)||LOe()}function LOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fre(e,t){if(e){if(typeof e=="string")return HO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HO(e,t)}}function HO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function DOe(e){if(Array.isArray(e))return e}var m_=function(t,r,n){return t+(r-t)*n},$O=function(t){var r=t.from,n=t.to;return r!==n},MOe=function e(t,r,n){var a=N0(function(i,o){if($O(o)){var l=t(o.from,o.to,o.velocity),c=ROe(l,2),u=c[0],d=c[1];return Ti(Ti({},o),{},{from:u,velocity:d})}return o},r);return n<1?N0(function(i,o){return $O(o)?Ti(Ti({},o),{},{velocity:m_(o.velocity,a[i].velocity,n),from:m_(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const QOe=(function(e,t,r,n,a){var i=gOe(e,t),o=i.reduce(function(v,x){return Ti(Ti({},v),{},QO({},x,[e[x],t[x]]))},{}),l=i.reduce(function(v,x){return Ti(Ti({},v),{},QO({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,A=function(){return null},h=function(){return N0(function(x,b){return b.from},l)},m=function(){return!Object.values(l).filter($O).length},y=function(x){u||(u=x);var b=x-u,j=b/r.dt;l=MOe(r,l,j),a(Ti(Ti(Ti({},e),t),h())),u=x,m()||(c=requestAnimationFrame(A))},g=function(x){d||(d=x);var b=(x-d)/n,j=N0(function(N,B){return m_.apply(void 0,j9(B).concat([r(b)]))},o);if(a(Ti(Ti(Ti({},e),t),j)),b<1)c=requestAnimationFrame(A);else{var _=N0(function(N,B){return m_.apply(void 0,j9(B).concat([r(1)]))},o);a(Ti(Ti(Ti({},e),t),_))}};return A=r.isStepper?y:g,function(){return requestAnimationFrame(A),function(){cancelAnimationFrame(c)}}});function Xv(e){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xv(e)}var HOe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function $Oe(e,t){if(e==null)return{};var r=VOe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VOe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Ak(e){return WOe(e)||zOe(e)||KOe(e)||qOe()}function qOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KOe(e,t){if(e){if(typeof e=="string")return VO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VO(e,t)}}function zOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WOe(e){if(Array.isArray(e))return VO(e)}function VO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N9(Object(r),!0).forEach(function(n){n0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n0(e,t,r){return t=hre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hre(n.key),n)}}function XOe(e,t,r){return t&&YOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hre(e){var t=JOe(e,"string");return Xv(t)==="symbol"?t:String(t)}function JOe(e,t){if(Xv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qO(e,t)}function qO(e,t){return qO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qO(e,t)}function eIe(e){var t=tIe();return function(){var n=p_(e),a;if(t){var i=p_(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return KO(this,a)}}function KO(e,t){if(t&&(Xv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zO(e)}function zO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tIe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function p_(e){return p_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p_(e)}var Nu=(function(e){ZOe(r,e);var t=eIe(r);function r(n,a){var i;GOe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,A=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(zO(i)),i.changeStyle=i.changeStyle.bind(zO(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),KO(i);if(A&&A.length)i.state={style:A[0].style};else if(u){if(typeof h=="function")return i.state={style:u},KO(i);i.state={style:c?n0({},c,u):u}}else i.state={style:{}};return i}return XOe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,A=i.from,h=this.state.style;if(l){if(!o){var m={style:c?n0({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(oOe(a.to,d)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||u?A:a.to;if(this.state&&h){var v={style:c?n0({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(v)}this.runAnimation(tu(tu({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,A=a.onAnimationEnd,h=a.onAnimationStart,m=QOe(o,l,kOe(u),c,this.changeStyle),y=function(){i.stopJSAnimation=m()};this.manager.start([h,d,y,c,A])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,A=u.duration,h=A===void 0?0:A,m=function(g,v,x){if(x===0)return g;var b=v.duration,j=v.easing,_=j===void 0?"ease":j,N=v.style,B=v.properties,T=v.onAnimationEnd,O=x>0?o[x-1]:v,P=B||Object.keys(N);if(typeof _=="function"||_==="spring")return[].concat(Ak(g),[i.runJSAnimation.bind(i,{from:O.style,to:N,duration:b,easing:_}),b]);var M=x9(P,b,_),I=tu(tu(tu({},O.style),N),{},{transition:M});return[].concat(Ak(g),[I,b,T]).filter(vOe)};return this.manager.start([c].concat(Ak(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=hOe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,A=a.onAnimationEnd,h=a.steps,m=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=l?n0({},l,c):c,v=x9(Object.keys(g),o,u);y.start([d,i,tu(tu({},g),{},{transition:v}),o,A])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=$Oe(a,HOe),u=C.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var A=function(m){var y=m.props,g=y.style,v=g===void 0?{}:g,x=y.className,b=C.cloneElement(m,tu(tu({},c),{},{style:tu(tu({},v),d),className:x}));return b};return u===1?A(C.Children.only(i)):se.createElement("div",null,C.Children.map(i,function(h){return A(h)}))}}]),r})(C.PureComponent);Nu.displayName="Animate";Nu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Nu.propTypes={from:Hn.oneOfType([Hn.object,Hn.string]),to:Hn.oneOfType([Hn.object,Hn.string]),attributeName:Hn.string,duration:Hn.number,begin:Hn.number,easing:Hn.oneOfType([Hn.string,Hn.func]),steps:Hn.arrayOf(Hn.shape({duration:Hn.number.isRequired,style:Hn.object.isRequired,easing:Hn.oneOfType([Hn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Hn.func]),properties:Hn.arrayOf("string"),onAnimationEnd:Hn.func})),children:Hn.oneOfType([Hn.node,Hn.func]),isActive:Hn.bool,canBegin:Hn.bool,onAnimationEnd:Hn.func,shouldReAnimate:Hn.bool,onAnimationStart:Hn.func,onAnimationReStart:Hn.func};function Pw(e){"@babel/helpers - typeof";return Pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pw(e)}function g_(){return g_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g_.apply(this,arguments)}function rIe(e,t){return iIe(e)||aIe(e,t)||sIe(e,t)||nIe()}function nIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sIe(e,t){if(e){if(typeof e=="string")return C9(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C9(e,t)}}function C9(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function iIe(e){if(Array.isArray(e))return e}function S9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S9(Object(r),!0).forEach(function(n){oIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oIe(e,t,r){return t=lIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lIe(e){var t=cIe(e,"string");return Pw(t)=="symbol"?t:t+""}function cIe(e,t){if(Pw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E9=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var A=[0,0,0,0],h=0,m=4;h<m;h++)A[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*A[0]),A[0]>0&&(d+="A ".concat(A[0],",").concat(A[0],",0,0,").concat(u,",").concat(t+c*A[0],",").concat(r)),d+="L ".concat(t+n-c*A[1],",").concat(r),A[1]>0&&(d+="A ".concat(A[1],",").concat(A[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*A[1])),d+="L ".concat(t+n,",").concat(r+a-l*A[2]),A[2]>0&&(d+="A ".concat(A[2],",").concat(A[2],",0,0,").concat(u,`,
        `).concat(t+n-c*A[2],",").concat(r+a)),d+="L ".concat(t+c*A[3],",").concat(r+a),A[3]>0&&(d+="A ".concat(A[3],",").concat(A[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*A[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},uIe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),A=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=A&&a<=h}return!1},dIe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zR=function(t){var r=B9(B9({},dIe),t),n=C.useRef(),a=C.useState(-1),i=rIe(a,2),o=i[0],l=i[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,A=r.height,h=r.radius,m=r.className,y=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||A!==+A||d===0||A===0)return null;var j=Mr("recharts-rectangle",m);return b?se.createElement(Nu,{canBegin:o>0,from:{width:d,height:A,x:c,y:u},to:{width:d,height:A,x:c,y:u},duration:g,animationEasing:y,isActive:b},function(_){var N=_.width,B=_.height,T=_.x,O=_.y;return se.createElement(Nu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:x,easing:y},se.createElement("path",g_({},nr(r,!0),{className:j,d:E9(T,O,N,B,h),ref:n})))}):se.createElement("path",g_({},nr(r,!0),{className:j,d:E9(c,u,d,A,h)}))},AIe=["points","className","baseLinePoints","connectNulls"];function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dv.apply(this,arguments)}function fIe(e,t){if(e==null)return{};var r=hIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function k9(e){return vIe(e)||gIe(e)||pIe(e)||mIe()}function mIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pIe(e,t){if(e){if(typeof e=="string")return WO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WO(e,t)}}function gIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vIe(e){if(Array.isArray(e))return WO(e)}function WO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P9=function(t){return t&&t.x===+t.x&&t.y===+t.y},yIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){P9(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),P9(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},C0=function(t,r){var n=yIe(t);r&&(n=[n.reduce(function(i,o){return[].concat(k9(i),k9(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},xIe=function(t,r,n){var a=C0(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(C0(r.reverse(),n).slice(1))},wIe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=fIe(t,AIe);if(!r||!r.length)return null;var l=Mr("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=xIe(r,a,i);return se.createElement("g",{className:l},se.createElement("path",dv({},nr(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?se.createElement("path",dv({},nr(o,!0),{fill:"none",d:C0(r,i)})):null,c?se.createElement("path",dv({},nr(o,!0),{fill:"none",d:C0(a,i)})):null)}var d=C0(r,i);return se.createElement("path",dv({},nr(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function GO(){return GO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GO.apply(this,arguments)}var yb=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Mr("recharts-dot",i);return r===+r&&n===+n&&a===+a?C.createElement("circle",GO({},nr(t,!1),Mj(t),{className:o,cx:r,cy:n,r:a})):null};function Tw(e){"@babel/helpers - typeof";return Tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tw(e)}var bIe=["x","y","top","left","width","height","className"];function YO(){return YO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YO.apply(this,arguments)}function T9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jIe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T9(Object(r),!0).forEach(function(n){_Ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Ie(e,t,r){return t=NIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NIe(e){var t=CIe(e,"string");return Tw(t)=="symbol"?t:t+""}function CIe(e,t){if(Tw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SIe(e,t){if(e==null)return{};var r=BIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var EIe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},kIe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,A=d===void 0?0:d,h=t.height,m=h===void 0?0:h,y=t.className,g=SIe(t,bIe),v=jIe({x:n,y:i,top:l,left:u,width:A,height:m},g);return!mt(n)||!mt(i)||!mt(A)||!mt(m)||!mt(l)||!mt(u)?null:se.createElement("path",YO({},nr(v,!0),{className:Mr("recharts-cross",y),d:EIe(n,i,A,m,l,u)}))},fk,O9;function PIe(){if(O9)return fk;O9=1;var e=dC(),t=Ete(),r=Ed();function n(a,i){return a&&a.length?e(a,r(i,2),t):void 0}return fk=n,fk}var TIe=PIe();const OIe=Vn(TIe);var hk,I9;function IIe(){if(I9)return hk;I9=1;var e=dC(),t=Ed(),r=kte();function n(a,i){return a&&a.length?e(a,t(i,2),r):void 0}return hk=n,hk}var FIe=IIe();const RIe=Vn(FIe);var LIe=["cx","cy","angle","ticks","axisLine"],UIe=["ticks","tick","angle","tickFormatter","stroke"];function Jv(e){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jv(e)}function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S0.apply(this,arguments)}function F9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F9(Object(r),!0).forEach(function(n){mC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R9(e,t){if(e==null)return{};var r=DIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pre(n.key),n)}}function QIe(e,t,r){return t&&L9(e.prototype,t),r&&L9(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HIe(e,t,r){return t=v_(t),$Ie(e,mre()?Reflect.construct(t,r||[],v_(e).constructor):t.apply(e,r))}function $Ie(e,t){if(t&&(Jv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VIe(e)}function VIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mre=function(){return!!e})()}function v_(e){return v_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v_(e)}function qIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XO(e,t)}function XO(e,t){return XO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},XO(e,t)}function mC(e,t,r){return t=pre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pre(e){var t=KIe(e,"string");return Jv(t)=="symbol"?t:t+""}function KIe(e,t){if(Jv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pC=(function(e){function t(){return MIe(this,t),HIe(this,t,arguments)}return qIe(t,e),QIe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return ys(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=OIe(l,function(d){return d.coordinate||0}),u=RIe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=R9(n,LIe),d=l.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),A=ys(a,i,d[0],o),h=ys(a,i,d[1],o),m=Nm(Nm(Nm({},nr(u,!1)),{},{fill:"none"},nr(c,!1)),{},{x1:A.x,y1:A.y,x2:h.x,y2:h.y});return se.createElement("line",S0({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=R9(a,UIe),A=this.getTickTextAnchor(),h=nr(d,!1),m=nr(o,!1),y=i.map(function(g,v){var x=n.getTickValueCoord(g),b=Nm(Nm(Nm(Nm({textAnchor:A,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},x),{},{payload:g});return se.createElement(un,S0({className:Mr("recharts-polar-radius-axis-tick",sre(o)),key:"tick-".concat(g.coordinate)},dp(n.props,g,v)),t.renderTickItem(o,b,c?c(g.value,v):g.value))});return se.createElement(un,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:se.createElement(un,{className:Mr("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),gi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return se.isValidElement(n)?o=se.cloneElement(n,a):_r(n)?o=n(a):o=se.createElement(Ap,S0({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(C.PureComponent);mC(pC,"displayName","PolarRadiusAxis");mC(pC,"axisType","radiusAxis");mC(pC,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Zv(e){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zv(e)}function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rm.apply(this,arguments)}function U9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U9(Object(r),!0).forEach(function(n){gC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vre(n.key),n)}}function WIe(e,t,r){return t&&D9(e.prototype,t),r&&D9(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GIe(e,t,r){return t=y_(t),YIe(e,gre()?Reflect.construct(t,r||[],y_(e).constructor):t.apply(e,r))}function YIe(e,t){if(t&&(Zv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XIe(e)}function XIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gre=function(){return!!e})()}function y_(e){return y_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y_(e)}function JIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JO(e,t)}function JO(e,t){return JO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JO(e,t)}function gC(e,t,r){return t=vre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vre(e){var t=ZIe(e,"string");return Zv(t)=="symbol"?t:t+""}function ZIe(e,t){if(Zv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eFe=Math.PI/180,M9=1e-5,vC=(function(e){function t(){return zIe(this,t),GIe(this,t,arguments)}return JIe(t,e),WIe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,A=ys(i,o,l,n.coordinate),h=ys(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:A.x,y1:A.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*eFe),o;return i>M9?o=a==="outer"?"start":"end":i<-M9?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Cm(Cm({},nr(this.props,!1)),{},{fill:"none"},nr(l,!1));if(c==="circle")return se.createElement(yb,Rm({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,A=d.map(function(h){return ys(a,i,o,h.coordinate)});return se.createElement(wIe,Rm({className:"recharts-polar-angle-axis-line"},u,{points:A}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=nr(this.props,!1),A=nr(o,!1),h=Cm(Cm({},d),{},{fill:"none"},nr(l,!1)),m=i.map(function(y,g){var v=n.getTickLineCoord(y),x=n.getTickTextAnchor(y),b=Cm(Cm(Cm({textAnchor:x},d),{},{stroke:"none",fill:u},A),{},{index:g,payload:y,x:v.x2,y:v.y2});return se.createElement(un,Rm({className:Mr("recharts-polar-angle-axis-tick",sre(o)),key:"tick-".concat(y.coordinate)},dp(n.props,y,g)),l&&se.createElement("line",Rm({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,b,c?c(y.value,g):y.value))});return se.createElement(un,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:se.createElement(un,{className:Mr("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return se.isValidElement(n)?o=se.cloneElement(n,a):_r(n)?o=n(a):o=se.createElement(Ap,Rm({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(C.PureComponent);gC(vC,"displayName","PolarAngleAxis");gC(vC,"axisType","angleAxis");gC(vC,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var mk,Q9;function tFe(){if(Q9)return mk;Q9=1;var e=Bee(),t=e(Object.getPrototypeOf,Object);return mk=t,mk}var pk,H9;function rFe(){if(H9)return pk;H9=1;var e=YA(),t=tFe(),r=XA(),n="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,c=o.call(Object);function u(d){if(!r(d)||e(d)!=n)return!1;var A=t(d);if(A===null)return!0;var h=l.call(A,"constructor")&&A.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==c}return pk=u,pk}var nFe=rFe();const sFe=Vn(nFe);var gk,$9;function aFe(){if($9)return gk;$9=1;var e=YA(),t=XA(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return gk=n,gk}var iFe=aFe();const oFe=Vn(iFe);function Ow(e){"@babel/helpers - typeof";return Ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ow(e)}function x_(){return x_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x_.apply(this,arguments)}function lFe(e,t){return AFe(e)||dFe(e,t)||uFe(e,t)||cFe()}function cFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uFe(e,t){if(e){if(typeof e=="string")return V9(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V9(e,t)}}function V9(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function AFe(e){if(Array.isArray(e))return e}function q9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q9(Object(r),!0).forEach(function(n){fFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fFe(e,t,r){return t=hFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hFe(e){var t=mFe(e,"string");return Ow(t)=="symbol"?t:t+""}function mFe(e,t){if(Ow(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ow(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z9=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},pFe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gFe=function(t){var r=K9(K9({},pFe),t),n=C.useRef(),a=C.useState(-1),i=lFe(a,2),o=i[0],l=i[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,A=r.lowerWidth,h=r.height,m=r.className,y=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||A!==+A||h!==+h||d===0&&A===0||h===0)return null;var b=Mr("recharts-trapezoid",m);return x?se.createElement(Nu,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:A,height:h,x:c,y:u},duration:g,animationEasing:y,isActive:x},function(j){var _=j.upperWidth,N=j.lowerWidth,B=j.height,T=j.x,O=j.y;return se.createElement(Nu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:y},se.createElement("path",x_({},nr(r,!0),{className:b,d:z9(T,O,_,N,B),ref:n})))}):se.createElement("g",null,se.createElement("path",x_({},nr(r,!0),{className:b,d:z9(c,u,d,A,h)})))},vFe=["option","shapeType","propTransformer","activeClassName","isActive"];function Iw(e){"@babel/helpers - typeof";return Iw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iw(e)}function yFe(e,t){if(e==null)return{};var r=xFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function W9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W9(Object(r),!0).forEach(function(n){wFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wFe(e,t,r){return t=bFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bFe(e){var t=jFe(e,"string");return Iw(t)=="symbol"?t:t+""}function jFe(e,t){if(Iw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Iw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Fe(e,t){return w_(w_({},t),e)}function NFe(e,t){return e==="symbols"}function G9(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return se.createElement(zR,r);case"trapezoid":return se.createElement(gFe,r);case"sector":return se.createElement(ore,r);case"symbols":if(NFe(t))return se.createElement(AR,r);break;default:return null}}function CFe(e){return C.isValidElement(e)?e.props:e}function yre(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?_Fe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=yFe(e,vFe),u;if(C.isValidElement(t))u=C.cloneElement(t,w_(w_({},c),CFe(t)));else if(_r(t))u=t(c);else if(sFe(t)&&!oFe(t)){var d=a(t,c);u=se.createElement(G9,{shapeType:r,elementProps:d})}else{var A=c;u=se.createElement(G9,{shapeType:r,elementProps:A})}return l?se.createElement(un,{className:o},u):u}function yC(e,t){return t!=null&&"trapezoids"in e.props}function xC(e,t){return t!=null&&"sectors"in e.props}function Fw(e,t){return t!=null&&"points"in e.props}function SFe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function BFe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function EFe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function kFe(e,t){var r;return yC(e,t)?r=SFe:xC(e,t)?r=BFe:Fw(e,t)&&(r=EFe),r}function PFe(e,t){var r;return yC(e,t)?r="trapezoids":xC(e,t)?r="sectors":Fw(e,t)&&(r="points"),r}function TFe(e,t){if(yC(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(xC(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Fw(e,t)?t.payload:{}}function OFe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=PFe(r,t),i=TFe(r,t),o=n.filter(function(c,u){var d=fp(i,c),A=r.props[a].filter(function(y){var g=kFe(r,t);return g(y,t)}),h=r.props[a].indexOf(A[A.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var X2;function ey(e){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ey(e)}function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(this,arguments)}function Y9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ms(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y9(Object(r),!0).forEach(function(n){xc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wre(n.key),n)}}function FFe(e,t,r){return t&&X9(e.prototype,t),r&&X9(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RFe(e,t,r){return t=b_(t),LFe(e,xre()?Reflect.construct(t,r||[],b_(e).constructor):t.apply(e,r))}function LFe(e,t){if(t&&(ey(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UFe(e)}function UFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xre=function(){return!!e})()}function b_(e){return b_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},b_(e)}function DFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZO(e,t)}function ZO(e,t){return ZO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZO(e,t)}function xc(e,t,r){return t=wre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wre(e){var t=MFe(e,"string");return ey(t)=="symbol"?t:t+""}function MFe(e,t){if(ey(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ao=(function(e){function t(r){var n;return IFe(this,t),n=RFe(this,t,[r]),xc(n,"pieRef",null),xc(n,"sectorRefs",[]),xc(n,"id",Rp("recharts-pie-")),xc(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),_r(a)&&a()}),xc(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),_r(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return DFe(t,e),FFe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=nr(this.props,!1),A=nr(o,!1),h=nr(l,!1),m=o&&o.offsetRadius||20,y=n.map(function(g,v){var x=(g.startAngle+g.endAngle)/2,b=ys(g.cx,g.cy,g.outerRadius+m,x),j=ms(ms(ms(ms({},d),g),{},{stroke:"none"},A),{},{index:v,textAnchor:t.getTextAnchor(b.x,g.cx)},b),_=ms(ms(ms(ms({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:v,points:[ys(g.cx,g.cy,g.outerRadius,x),b]}),N=c;return Ur(c)&&Ur(u)?N="value":Ur(c)&&(N=u),se.createElement(un,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,j,_a(g,N)))});return se.createElement(un,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if(u?.startAngle===0&&u?.endAngle===0&&n.length!==1)return null;var A=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=A?o:h,y=ms(ms({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return se.createElement(un,Av({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},dp(a.props,u,d),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(d)}),se.createElement(yre,Av({option:m,isActive:A,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,A=this.state,h=A.prevSectors,m=A.prevIsAnimationActive;return se.createElement(Nu,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,v=[],x=i&&i[0],b=x.startAngle;return i.forEach(function(j,_){var N=h&&h[_],B=_>0?Kl(j,"paddingAngle",0):0;if(N){var T=ti(N.endAngle-N.startAngle,j.endAngle-j.startAngle),O=ms(ms({},j),{},{startAngle:b+B,endAngle:b+T(g)+B});v.push(O),b=O.endAngle}else{var P=j.endAngle,M=j.startAngle,I=ti(0,P-M),D=I(g),$=ms(ms({},j),{},{startAngle:b+B,endAngle:b+D+B});v.push($),b=$.endAngle}}),se.createElement(un,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!fp(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,A=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!mt(u)||!mt(d)||!mt(A)||!mt(h))return null;var g=Mr("recharts-pie",l);return se.createElement(un,{tabIndex:this.props.rootTabIndex,className:g,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),gi.renderCallByParent(this.props,null,!1),(!m||y)&&pd.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(se.isValidElement(n))return se.cloneElement(n,a);if(_r(n))return n(a);var o=Mr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return se.createElement(Zm,Av({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(se.isValidElement(n))return se.cloneElement(n,a);var o=i;if(_r(n)&&(o=n(a),se.isValidElement(o)))return o;var l=Mr("recharts-pie-label-text",typeof n!="boolean"&&!_r(n)?n.className:"");return se.createElement(Ap,Av({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(C.PureComponent);X2=Ao;xc(Ao,"displayName","Pie");xc(Ao,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Uh.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});xc(Ao,"parseDeltaAngle",function(e,t){var r=To(t-e),n=Math.min(Math.abs(t-e),360);return r*n});xc(Ao,"getRealPieData",function(e){var t=e.data,r=e.children,n=nr(e,!1),a=zl(r,gu);return t&&t.length?t.map(function(i,o){return ms(ms(ms({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return ms(ms({},n),i.props)}):[]});xc(Ao,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=nre(a,i),l=n+Oo(e.cx,a,a/2),c=r+Oo(e.cy,i,i/2),u=Oo(e.innerRadius,o,0),d=Oo(e.outerRadius,o,o*.8),A=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:A}});xc(Ao,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?ms(ms({},t.type.defaultProps),t.props):t.props,a=X2.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,A=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),y=X2.parseCoordinateOfPie(n,r),g=X2.parseDeltaAngle(o,l),v=Math.abs(g),x=u;Ur(u)&&Ur(A)?(pu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Ur(u)&&(pu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=A);var b=a.filter(function(O){return _a(O,x,0)!==0}).length,j=(v>=360?b:b-1)*c,_=v-b*m-j,N=a.reduce(function(O,P){var M=_a(P,x,0);return O+(mt(M)?M:0)},0),B;if(N>0){var T;B=a.map(function(O,P){var M=_a(O,x,0),I=_a(O,d,P),D=(mt(M)?M:0)/N,$;P?$=T.endAngle+To(g)*c*(M!==0?1:0):$=o;var F=$+To(g)*((M!==0?m:0)+D*_),V=($+F)/2,X=(y.innerRadius+y.outerRadius)/2,K=[{name:I,value:M,payload:O,dataKey:x,type:h}],W=ys(y.cx,y.cy,X,V);return T=ms(ms(ms({percent:D,cornerRadius:i,name:I,tooltipPayload:K,midAngle:V,middleRadius:X,tooltipPosition:W},O),y),{},{value:_a(O,x),startAngle:$,endAngle:F,payload:O,paddingAngle:To(g)*c}),T})}return ms(ms({},y),{},{sectors:B,data:a})});var vk,J9;function QFe(){if(J9)return vk;J9=1;var e=Math.ceil,t=Math.max;function r(n,a,i,o){for(var l=-1,c=t(e((a-n)/(i||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=i;return u}return vk=r,vk}var yk,Z9;function bre(){if(Z9)return yk;Z9=1;var e=Vee(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var i=a<0?-1:1;return i*r}return a===a?a:0}return yk=n,yk}var xk,eV;function HFe(){if(eV)return xk;eV=1;var e=QFe(),t=sC(),r=bre();function n(a){return function(i,o,l){return l&&typeof l!="number"&&t(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),e(i,o,l,a)}}return xk=n,xk}var wk,tV;function $Fe(){if(tV)return wk;tV=1;var e=HFe(),t=e();return wk=t,wk}var VFe=$Fe();const j_=Vn(VFe);function Rw(e){"@babel/helpers - typeof";return Rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rw(e)}function rV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rV(Object(r),!0).forEach(function(n){jre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jre(e,t,r){return t=qFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qFe(e){var t=KFe(e,"string");return Rw(t)=="symbol"?t:t+""}function KFe(e,t){if(Rw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zFe=["Webkit","Moz","O","ms"],WFe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=zFe.reduce(function(i,o){return nV(nV({},i),{},jre({},o+n,r))},{});return a[t]=r,a};function ty(e){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ty(e)}function __(){return __=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},__.apply(this,arguments)}function sV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sV(Object(r),!0).forEach(function(n){Rl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nre(n.key),n)}}function YFe(e,t,r){return t&&aV(e.prototype,t),r&&aV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XFe(e,t,r){return t=N_(t),JFe(e,_re()?Reflect.construct(t,r||[],N_(e).constructor):t.apply(e,r))}function JFe(e,t){if(t&&(ty(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZFe(e)}function ZFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _re(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_re=function(){return!!e})()}function N_(e){return N_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N_(e)}function e3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eI(e,t)}function eI(e,t){return eI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eI(e,t)}function Rl(e,t,r){return t=Nre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nre(e){var t=t3e(e,"string");return ty(t)=="symbol"?t:t+""}function t3e(e,t){if(ty(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var r3e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=j0().domain(j_(0,c)).range([i,i+o-l]),d=u.domain().map(function(A){return u(A)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},iV=function(t){return t.changedTouches&&!!t.changedTouches.length},ry=(function(e){function t(r){var n;return GFe(this,t),n=XFe(this,t,[r]),Rl(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Rl(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Rl(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Rl(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Rl(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Rl(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Rl(n,"handleSlideDragStart",function(a){var i=iV(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return e3e(t,e),YFe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,A=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(o,A),y=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=_a(i[n],l,n);return _r(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,A=c.travellerWidth,h=c.startIndex,m=c.endIndex,y=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-A-l,u+d-A-o):g<0&&(g=Math.max(g,u-o,u-l));var v=this.getIndex({startX:o+g,endX:l+g});(v.startIndex!==h||v.endIndex!==m)&&y&&y(v),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=iV(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,A=d.x,h=d.width,m=d.travellerWidth,y=d.onChange,g=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,A+h-m-u):b<0&&(b=Math.max(b,A-u)),x[o]=u+b;var j=this.getIndex(x),_=j.startIndex,N=j.endIndex,B=function(){var O=v.length-1;return o==="startX"&&(l>c?_%g===0:N%g===0)||l<c&&N===O||o==="endX"&&(l>c?N%g===0:_%g===0)||l>c&&N===O};this.setState(Rl(Rl({},o,u+b),"brushMoveStartX",n.pageX),function(){y&&B()&&y(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],A=l.indexOf(d);if(A!==-1){var h=A+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Rl({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return se.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,A=C.Children.only(u);return A?se.cloneElement(A,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,A=c.height,h=c.traveller,m=c.ariaLabel,y=c.data,g=c.startIndex,v=c.endIndex,x=Math.max(n,this.props.x),b=bk(bk({},nr(this.props,!1)),{},{x,y:u,width:d,height:A}),j=m||"Min value: ".concat((i=y[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return se.createElement(un,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,A=Math.max(Math.abs(a-n)-u,0);return se.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:A,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,A=d.startX,h=d.endX,m=5,y={pointerEvents:"none",fill:u};return se.createElement(un,{className:"recharts-brush-texts"},se.createElement(Ap,__({textAnchor:"end",verticalAnchor:"middle",x:Math.min(A,h)-m,y:o+l/2},y),this.getTextOfTick(a)),se.createElement(Ap,__({textAnchor:"start",verticalAnchor:"middle",x:Math.max(A,h)+c+m,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,A=n.alwaysShowText,h=this.state,m=h.startX,y=h.endX,g=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!mt(l)||!mt(c)||!mt(u)||!mt(d)||u<=0||d<=0)return null;var j=Mr("recharts-brush",i),_=se.Children.count(o)===1,N=WFe("userSelect","none");return se.createElement(un,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(g||v||x||b||A)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return se.createElement(se.Fragment,null,se.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),se.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),se.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return se.isValidElement(n)?i=se.cloneElement(n,a):_r(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,A=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return bk({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?r3e({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:A}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])})(C.PureComponent);Rl(ry,"displayName","Brush");Rl(ry,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var jk,oV;function n3e(){if(oV)return jk;oV=1;var e=yR();function t(r,n){var a;return e(r,function(i,o,l){return a=n(i,o,l),!a}),!!a}return jk=t,jk}var _k,lV;function s3e(){if(lV)return _k;lV=1;var e=wee(),t=Ed(),r=n3e(),n=ml(),a=sC();function i(o,l,c){var u=n(o)?e:r;return c&&a(o,l,c)&&(l=void 0),u(o,t(l,3))}return _k=i,_k}var a3e=s3e();const i3e=Vn(a3e);var gd=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},Nk,cV;function o3e(){if(cV)return Nk;cV=1;var e=Dee();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Nk=t,Nk}var Ck,uV;function l3e(){if(uV)return Ck;uV=1;var e=o3e(),t=Lee(),r=Ed();function n(a,i){var o={};return i=r(i,3),t(a,function(l,c,u){e(o,c,i(l,c,u))}),o}return Ck=n,Ck}var c3e=l3e();const u3e=Vn(c3e);var Sk,dV;function d3e(){if(dV)return Sk;dV=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return Sk=e,Sk}var Bk,AV;function A3e(){if(AV)return Bk;AV=1;var e=yR();function t(r,n){var a=!0;return e(r,function(i,o,l){return a=!!n(i,o,l),a}),a}return Bk=t,Bk}var Ek,fV;function f3e(){if(fV)return Ek;fV=1;var e=d3e(),t=A3e(),r=Ed(),n=ml(),a=sC();function i(o,l,c){var u=n(o)?e:t;return c&&a(o,l,c)&&(l=void 0),u(o,r(l,3))}return Ek=i,Ek}var h3e=f3e();const Cre=Vn(h3e);var m3e=["x","y"];function Lw(e){"@babel/helpers - typeof";return Lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lw(e)}function tI(){return tI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tI.apply(this,arguments)}function hV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hV(Object(r),!0).forEach(function(n){p3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p3e(e,t,r){return t=g3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g3e(e){var t=v3e(e,"string");return Lw(t)=="symbol"?t:t+""}function v3e(e,t){if(Lw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y3e(e,t){if(e==null)return{};var r=x3e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function x3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function w3e(e,t){var r=e.x,n=e.y,a=y3e(e,m3e),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),A="".concat(t.width||a.width),h=parseInt(A,10);return Qx(Qx(Qx(Qx(Qx({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function mV(e){return se.createElement(yre,tI({shapeType:"rectangle",propTransformer:w3e,activeClassName:"recharts-active-bar"},e))}var b3e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=mt(n)||z_e(n);return i?t(n,a):(i||mp(),r)}},j3e=["value","background"],Sre;function ny(e){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ny(e)}function _3e(e,t){if(e==null)return{};var r=N3e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C_.apply(this,arguments)}function pV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pV(Object(r),!0).forEach(function(n){nh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ere(n.key),n)}}function S3e(e,t,r){return t&&gV(e.prototype,t),r&&gV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function B3e(e,t,r){return t=S_(t),E3e(e,Bre()?Reflect.construct(t,r||[],S_(e).constructor):t.apply(e,r))}function E3e(e,t){if(t&&(ny(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k3e(e)}function k3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bre=function(){return!!e})()}function S_(e){return S_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},S_(e)}function P3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rI(e,t)}function rI(e,t){return rI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rI(e,t)}function nh(e,t,r){return t=Ere(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ere(e){var t=T3e(e,"string");return ny(t)=="symbol"?t:t+""}function T3e(e,t){if(ny(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _d=(function(e){function t(){var r;C3e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=B3e(this,t,[].concat(a)),nh(r,"state",{isAnimationFinished:!1}),nh(r,"id",Rp("recharts-bar-")),nh(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),nh(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return P3e(t,e),S3e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=nr(this.props,!1);return n&&n.map(function(A,h){var m=h===c,y=m?u:o,g=Ia(Ia(Ia({},d),A),{},{isActive:m,option:y,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return se.createElement(un,C_({className:"recharts-bar-rectangle"},dp(a.props,A,h),{key:"rectangle-".concat(A?.x,"-").concat(A?.y,"-").concat(A?.value,"-").concat(h)}),se.createElement(mV,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,A=a.animationId,h=this.state.prevData;return se.createElement(Nu,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(A),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,g=i.map(function(v,x){var b=h&&h[x];if(b){var j=ti(b.x,v.x),_=ti(b.y,v.y),N=ti(b.width,v.width),B=ti(b.height,v.height);return Ia(Ia({},v),{},{x:j(y),y:_(y),width:N(y),height:B(y)})}if(o==="horizontal"){var T=ti(0,v.height),O=T(y);return Ia(Ia({},v),{},{y:v.y+v.height-O,height:O})}var P=ti(0,v.width),M=P(y);return Ia(Ia({},v),{},{width:M})});return se.createElement(un,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!fp(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=nr(this.props.background,!1);return i.map(function(u,d){u.value;var A=u.background,h=_3e(u,j3e);if(!A)return null;var m=Ia(Ia(Ia(Ia(Ia({},h),{},{fill:"#eee"},A),c),dp(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return se.createElement(mV,C_({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,A=zl(d,vb);if(!A)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,x){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:_a(v,x)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return se.createElement(un,y,A.map(function(g){return se.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,A=n.width,h=n.height,m=n.isAnimationActive,y=n.background,g=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,x=Mr("recharts-bar",o),b=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,_=b||j,N=Ur(g)?this.id:g;return se.createElement(un,{className:x},b||j?se.createElement("defs",null,se.createElement("clipPath",{id:"clipPath-".concat(N)},se.createElement("rect",{x:b?u:u-A/2,y:j?d:d-h/2,width:b?A:A*2,height:j?h:h*2}))):null,se.createElement(un,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(N,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,N),(!m||v)&&pd.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(C.PureComponent);Sre=_d;nh(_d,"displayName","Bar");nh(_d,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Uh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});nh(_d,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,A=e.displayedData,h=e.offset,m=oPe(n,r);if(!m)return null;var y=t.layout,g=r.type.defaultProps,v=g!==void 0?Ia(Ia({},g),r.props):r.props,x=v.dataKey,b=v.children,j=v.minPointSize,_=y==="horizontal"?o:i,N=u?_.scale.domain():null,B=hPe({numericAxis:_}),T=zl(b,gu),O=A.map(function(P,M){var I,D,$,F,V,X;u?I=lPe(u[d+M],N):(I=_a(P,x),Array.isArray(I)||(I=[B,I]));var K=b3e(j,Sre.defaultProps.minPointSize)(I[1],M);if(y==="horizontal"){var W,z=[o.scale(I[0]),o.scale(I[1])],te=z[0],G=z[1];D=H$({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:P,index:M}),$=(W=G??te)!==null&&W!==void 0?W:void 0,F=m.size;var U=te-G;if(V=Number.isNaN(U)?0:U,X={x:D,y:o.y,width:F,height:o.height},Math.abs(K)>0&&Math.abs(V)<Math.abs(K)){var Y=To(V||K)*(Math.abs(K)-Math.abs(V));$-=Y,V+=Y}}else{var ee=[i.scale(I[0]),i.scale(I[1])],ae=ee[0],Ae=ee[1];if(D=ae,$=H$({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:P,index:M}),F=Ae-ae,V=m.size,X={x:i.x,y:$,width:i.width,height:V},Math.abs(K)>0&&Math.abs(F)<Math.abs(K)){var ce=To(F||K)*(Math.abs(K)-Math.abs(F));F+=ce}}return Ia(Ia(Ia({},P),{},{x:D,y:$,width:F,height:V,value:u?I:I[1],payload:P,background:X},T&&T[M]&&T[M].props),{},{tooltipPayload:[tre(r,P)],tooltipPosition:{x:D+F/2,y:$+V/2}})});return Ia({data:O,layout:y},h)});function Uw(e){"@babel/helpers - typeof";return Uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uw(e)}function O3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kre(n.key),n)}}function I3e(e,t,r){return t&&vV(e.prototype,t),r&&vV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yV(Object(r),!0).forEach(function(n){wC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wC(e,t,r){return t=kre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kre(e){var t=F3e(e,"string");return Uw(t)=="symbol"?t:t+""}function F3e(e,t){if(Uw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WR=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),A={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Ll(u,_d);return d.reduce(function(m,y){var g=r[y],v=g.orientation,x=g.domain,b=g.padding,j=b===void 0?{}:b,_=g.mirror,N=g.reversed,B="".concat(v).concat(_?"Mirror":""),T,O,P,M,I;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var D=x[1]-x[0],$=1/0,F=g.categoricalDomain.sort(Y_e);if(F.forEach(function(ee,ae){ae>0&&($=Math.min((ee||0)-(F[ae-1]||0),$))}),Number.isFinite($)){var V=$/D,X=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(T=V*X/2),g.padding==="no-gap"){var K=Oo(t.barCategoryGap,V*X),W=V*X/2;T=W-K-(W-K)/X*K}}}a==="xAxis"?O=[n.left+(j.left||0)+(T||0),n.left+n.width-(j.right||0)-(T||0)]:a==="yAxis"?O=c==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(T||0),n.top+n.height-(j.bottom||0)-(T||0)]:O=g.range,N&&(O=[O[1],O[0]]);var z=Xte(g,i,h),te=z.scale,G=z.realScaleType;te.domain(x).range(O),Jte(te);var U=Zte(te,cu(cu({},g),{},{realScaleType:G}));a==="xAxis"?(I=v==="top"&&!_||v==="bottom"&&_,P=n.left,M=A[B]-I*g.height):a==="yAxis"&&(I=v==="left"&&!_||v==="right"&&_,P=A[B]-I*g.width,M=n.top);var Y=cu(cu(cu({},g),U),{},{realScaleType:G,x:P,y:M,scale:te,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return Y.bandSize=d_(Y,U),!g.hide&&a==="xAxis"?A[B]+=(I?-1:1)*Y.height:g.hide||(A[B]+=(I?-1:1)*Y.width),cu(cu({},m),{},wC({},y,Y))},{})},Pre=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},R3e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return Pre({x:r,y:n},{x:a,y:i})},Tre=(function(){function e(t){O3e(this,e),this.scale=t}return I3e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])})();wC(Tre,"EPS",1e-4);var GR=function(t){var r=Object.keys(t).reduce(function(n,a){return cu(cu({},n),{},wC({},a,Tre.create(t[a])))},{});return cu(cu({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return u3e(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return Cre(a,function(i,o){return r[o].isInRange(i)})}})};function L3e(e){return(e%180+180)%180}var U3e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=L3e(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},kk,xV;function D3e(){if(xV)return kk;xV=1;var e=Ed(),t=fb(),r=rC();function n(a){return function(i,o,l){var c=Object(i);if(!t(i)){var u=e(o,3);i=r(i),o=function(A){return u(c[A],A,c)}}var d=a(i,o,l);return d>-1?c[u?i[d]:d]:void 0}}return kk=n,kk}var Pk,wV;function M3e(){if(wV)return Pk;wV=1;var e=bre();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return Pk=t,Pk}var Tk,bV;function Q3e(){if(bV)return Tk;bV=1;var e=Tee(),t=Ed(),r=M3e(),n=Math.max;function a(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),e(i,t(o,3),u)}return Tk=a,Tk}var Ok,jV;function H3e(){if(jV)return Ok;jV=1;var e=D3e(),t=Q3e(),r=e(t);return Ok=r,Ok}var $3e=H3e();const V3e=Vn($3e);var q3e=zZ();const K3e=Vn(q3e);var z3e=K3e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),YR=C.createContext(void 0),XR=C.createContext(void 0),Ore=C.createContext(void 0),Ire=C.createContext({}),Fre=C.createContext(void 0),Rre=C.createContext(0),Lre=C.createContext(0),_V=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=z3e(i);return se.createElement(YR.Provider,{value:n},se.createElement(XR.Provider,{value:a},se.createElement(Ire.Provider,{value:i},se.createElement(Ore.Provider,{value:d},se.createElement(Fre.Provider,{value:o},se.createElement(Rre.Provider,{value:u},se.createElement(Lre.Provider,{value:c},l)))))))},W3e=function(){return C.useContext(Fre)},Ure=function(t){var r=C.useContext(YR);r==null&&mp();var n=r[t];return n==null&&mp(),n},G3e=function(){var t=C.useContext(YR);return Zf(t)},Y3e=function(){var t=C.useContext(XR),r=V3e(t,function(n){return Cre(n.domain,Number.isFinite)});return r||Zf(t)},Dre=function(t){var r=C.useContext(XR);r==null&&mp();var n=r[t];return n==null&&mp(),n},X3e=function(){var t=C.useContext(Ore);return t},J3e=function(){return C.useContext(Ire)},JR=function(){return C.useContext(Lre)},ZR=function(){return C.useContext(Rre)};function sy(e){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sy(e)}function Z3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qre(n.key),n)}}function tRe(e,t,r){return t&&eRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rRe(e,t,r){return t=B_(t),nRe(e,Mre()?Reflect.construct(t,r||[],B_(e).constructor):t.apply(e,r))}function nRe(e,t){if(t&&(sy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sRe(e)}function sRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mre=function(){return!!e})()}function B_(e){return B_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B_(e)}function aRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nI(e,t)}function nI(e,t){return nI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nI(e,t)}function NV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NV(Object(r),!0).forEach(function(n){eL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eL(e,t,r){return t=Qre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qre(e){var t=iRe(e,"string");return sy(t)=="symbol"?t:t+""}function iRe(e,t){if(sy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function oRe(e,t){return dRe(e)||uRe(e,t)||cRe(e,t)||lRe()}function lRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cRe(e,t){if(e){if(typeof e=="string")return SV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SV(e,t)}}function SV(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function dRe(e){if(Array.isArray(e))return e}function sI(){return sI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sI.apply(this,arguments)}var ARe=function(t,r){var n;return se.isValidElement(t)?n=se.cloneElement(t,r):_r(t)?n=t(r):n=se.createElement("line",sI({},r,{className:"recharts-reference-line-line"})),n},fRe=function(t,r,n,a,i,o,l,c,u){var d=i.x,A=i.y,h=i.width,m=i.height;if(n){var y=u.y,g=t.y.apply(y,{position:o});if(gd(u,"discard")&&!t.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(r){var x=u.x,b=t.x.apply(x,{position:o});if(gd(u,"discard")&&!t.x.isInRange(b))return null;var j=[{x:b,y:A+m},{x:b,y:A}];return l==="top"?j.reverse():j}if(a){var _=u.segment,N=_.map(function(B){return t.apply(B,{position:o})});return gd(u,"discard")&&i3e(N,function(B){return!t.isInRange(B)})?null:N}return null};function hRe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=W3e(),d=Ure(a),A=Dre(i),h=X3e();if(!u||!h)return null;pu(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=GR({x:d.scale,y:A.scale}),y=ni(t),g=ni(r),v=n&&n.length===2,x=fRe(m,y,g,v,h,e.position,d.orientation,A.orientation,e);if(!x)return null;var b=oRe(x,2),j=b[0],_=j.x,N=j.y,B=b[1],T=B.x,O=B.y,P=gd(e,"hidden")?"url(#".concat(u,")"):void 0,M=CV(CV({clipPath:P},nr(e,!0)),{},{x1:_,y1:N,x2:T,y2:O});return se.createElement(un,{className:Mr("recharts-reference-line",l)},ARe(o,M),gi.renderCallByParent(e,R3e({x1:_,y1:N,x2:T,y2:O})))}var tL=(function(e){function t(){return Z3e(this,t),rRe(this,t,arguments)}return aRe(t,e),tRe(t,[{key:"render",value:function(){return se.createElement(hRe,this.props)}}])})(se.Component);eL(tL,"displayName","ReferenceLine");eL(tL,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function aI(){return aI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aI.apply(this,arguments)}function ay(e){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ay(e)}function BV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BV(Object(r),!0).forEach(function(n){bC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$re(n.key),n)}}function gRe(e,t,r){return t&&pRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vRe(e,t,r){return t=E_(t),yRe(e,Hre()?Reflect.construct(t,r||[],E_(e).constructor):t.apply(e,r))}function yRe(e,t){if(t&&(ay(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xRe(e)}function xRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hre=function(){return!!e})()}function E_(e){return E_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E_(e)}function wRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iI(e,t)}function iI(e,t){return iI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iI(e,t)}function bC(e,t,r){return t=$re(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $re(e){var t=bRe(e,"string");return ay(t)=="symbol"?t:t+""}function bRe(e,t){if(ay(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jRe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=GR({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return gd(t,"discard")&&!o.isInRange(l)?null:l},jC=(function(e){function t(){return mRe(this,t),vRe(this,t,arguments)}return wRe(t,e),gRe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=ni(a),d=ni(i);if(pu(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var A=jRe(this.props);if(!A)return null;var h=A.x,m=A.y,y=this.props,g=y.shape,v=y.className,x=gd(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=EV(EV({clipPath:x},nr(this.props,!0)),{},{cx:h,cy:m});return se.createElement(un,{className:Mr("recharts-reference-dot",v)},t.renderDot(g,b),gi.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])})(se.Component);bC(jC,"displayName","ReferenceDot");bC(jC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});bC(jC,"renderDot",function(e,t){var r;return se.isValidElement(e)?r=se.cloneElement(e,t):_r(e)?r=e(t):r=se.createElement(yb,aI({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function oI(){return oI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oI.apply(this,arguments)}function iy(e){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iy(e)}function kV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kV(Object(r),!0).forEach(function(n){_C(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qre(n.key),n)}}function CRe(e,t,r){return t&&NRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SRe(e,t,r){return t=k_(t),BRe(e,Vre()?Reflect.construct(t,r||[],k_(e).constructor):t.apply(e,r))}function BRe(e,t){if(t&&(iy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ERe(e)}function ERe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vre=function(){return!!e})()}function k_(e){return k_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k_(e)}function kRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lI(e,t)}function lI(e,t){return lI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lI(e,t)}function _C(e,t,r){return t=qre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qre(e){var t=PRe(e,"string");return iy(t)=="symbol"?t:t+""}function PRe(e,t){if(iy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var TRe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,A=i.yAxis;if(!d||!A)return null;var h=GR({x:d.scale,y:A.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return gd(i,"discard")&&(!h.isInRange(m)||!h.isInRange(y))?null:Pre(m,y)},NC=(function(e){function t(){return _Re(this,t),SRe(this,t,arguments)}return kRe(t,e),CRe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;pu(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var A=ni(a),h=ni(i),m=ni(o),y=ni(l),g=this.props.shape;if(!A&&!h&&!m&&!y&&!g)return null;var v=TRe(A,h,m,y,this.props);if(!v&&!g)return null;var x=gd(this.props,"hidden")?"url(#".concat(d,")"):void 0;return se.createElement(un,{className:Mr("recharts-reference-area",c)},t.renderRect(g,PV(PV({clipPath:x},nr(this.props,!0)),v)),gi.renderCallByParent(this.props,v))}}])})(se.Component);_C(NC,"displayName","ReferenceArea");_C(NC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_C(NC,"renderRect",function(e,t){var r;return se.isValidElement(e)?r=se.cloneElement(e,t):_r(e)?r=e(t):r=se.createElement(zR,oI({},t,{className:"recharts-reference-area-rect"})),r});function Kre(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function ORe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return U3e(n,r)}function IRe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function P_(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function FRe(e,t){return Kre(e,t+1)}function RRe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,A=function(){var y=n?.[c];if(y===void 0)return{v:Kre(n,u)};var g=c,v,x=function(){return v===void 0&&(v=r(y,g)),v},b=y.coordinate,j=c===0||P_(e,b,x,d,l);j||(c=0,d=o,u+=1),j&&(d=b+e*(x()/2+a),c+=u)},h;u<=i.length;)if(h=A(),h)return h.v;return[]}function Dw(e){"@babel/helpers - typeof";return Dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dw(e)}function TV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TV(Object(r),!0).forEach(function(n){LRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LRe(e,t,r){return t=URe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function URe(e){var t=DRe(e,"string");return Dw(t)=="symbol"?t:t+""}function DRe(e,t){if(Dw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MRe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],y,g=function(){return y===void 0&&(y=r(m,h)),y};if(h===o-1){var v=e*(m.coordinate+e*g()/2-c);i[h]=m=oo(oo({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else i[h]=m=oo(oo({},m),{},{tickCoord:m.coordinate});var x=P_(e,m.tickCoord,g,l,c);x&&(c=m.tickCoord-e*(g()/2+a),i[h]=oo(oo({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function QRe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],A=r(d,l-1),h=e*(d.coordinate+e*A/2-u);o[l-1]=d=oo(oo({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=P_(e,d.tickCoord,function(){return A},c,u);m&&(u=d.tickCoord-e*(A/2+a),o[l-1]=oo(oo({},d),{},{isShow:!0}))}for(var y=i?l-1:l,g=function(b){var j=o[b],_,N=function(){return _===void 0&&(_=r(j,b)),_};if(b===0){var B=e*(j.coordinate-e*N()/2-c);o[b]=j=oo(oo({},j),{},{tickCoord:B<0?j.coordinate-B*e:j.coordinate})}else o[b]=j=oo(oo({},j),{},{tickCoord:j.coordinate});var T=P_(e,j.tickCoord,N,c,u);T&&(c=j.tickCoord+e*(N()/2+a),o[b]=oo(oo({},j),{},{isShow:!0}))},v=0;v<y;v++)g(v);return o}function rL(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,A=e.angle;if(!a||!a.length||!n)return[];if(mt(c)||Uh.isSsr)return FRe(a,typeof c=="number"&&mt(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",y=d&&m==="width"?b0(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(j,_){var N=_r(u)?u(j.value,_):j.value;return m==="width"?ORe(b0(N,{fontSize:t,letterSpacing:r}),y,A):b0(N,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?To(a[1].coordinate-a[0].coordinate):1,x=IRe(i,v,m);return c==="equidistantPreserveStart"?RRe(v,x,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=QRe(v,x,g,a,o,c==="preserveStartEnd"):h=MRe(v,x,g,a,o),h.filter(function(b){return b.isShow}))}var HRe=["viewBox"],$Re=["viewBox"],VRe=["ticks"];function oy(e){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oy(e)}function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fv.apply(this,arguments)}function OV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OV(Object(r),!0).forEach(function(n){nL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ik(e,t){if(e==null)return{};var r=qRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wre(n.key),n)}}function zRe(e,t,r){return t&&IV(e.prototype,t),r&&IV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WRe(e,t,r){return t=T_(t),GRe(e,zre()?Reflect.construct(t,r||[],T_(e).constructor):t.apply(e,r))}function GRe(e,t){if(t&&(oy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YRe(e)}function YRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zre=function(){return!!e})()}function T_(e){return T_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T_(e)}function XRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cI(e,t)}function cI(e,t){return cI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cI(e,t)}function nL(e,t,r){return t=Wre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wre(e){var t=JRe(e,"string");return oy(t)=="symbol"?t:t+""}function JRe(e,t){if(oy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vy=(function(e){function t(r){var n;return KRe(this,t),n=WRe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return XRe(t,e),zRe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Ik(n,HRe),l=this.props,c=l.viewBox,u=Ik(l,$Re);return!jv(i,c)||!jv(o,u)||!jv(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,A=a.mirror,h=a.tickMargin,m,y,g,v,x,b,j=A?-1:1,_=n.tickSize||d,N=mt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=y=n.coordinate,v=o+ +!A*c,g=v-j*_,b=g-j*h,x=N;break;case"left":g=v=n.coordinate,y=i+ +!A*l,m=y-j*_,x=m-j*h,b=N;break;case"right":g=v=n.coordinate,y=i+ +A*l,m=y+j*_,x=m+j*h,b=N;break;default:m=y=n.coordinate,v=o+ +A*c,g=v+j*_,b=g+j*h,x=N;break}return{line:{x1:m,y1:g,x2:y,y2:v},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,A=Ga(Ga(Ga({},nr(this.props,!1)),nr(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);A=Ga(Ga({},A),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);A=Ga(Ga({},A),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return se.createElement("line",fv({},A,{className:Mr("recharts-cartesian-axis-line",Kl(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,A=l.tickFormatter,h=l.unit,m=rL(Ga(Ga({},this.props),{},{ticks:n}),a,i),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=nr(this.props,!1),x=nr(d,!1),b=Ga(Ga({},v),{},{fill:"none"},nr(c,!1)),j=m.map(function(_,N){var B=o.getTickLineCoord(_),T=B.line,O=B.tick,P=Ga(Ga(Ga(Ga({textAnchor:y,verticalAnchor:g},v),{},{stroke:"none",fill:u},x),O),{},{index:N,payload:_,visibleTicksCount:m.length,tickFormatter:A});return se.createElement(un,fv({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},dp(o.props,_,N)),c&&se.createElement("line",fv({},b,T,{className:Mr("recharts-cartesian-axis-tick-line",Kl(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(_r(A)?A(_.value,N):_.value).concat(h||"")))});return se.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var A=this.props,h=A.ticks,m=Ik(A,VRe),y=h;return _r(c)&&(y=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!y||!y.length?null:se.createElement(un,{className:Mr("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),gi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=Mr(a.className,"recharts-cartesian-axis-tick-value");return se.isValidElement(n)?o=se.cloneElement(n,Ga(Ga({},a),{},{className:l})):_r(n)?o=n(Ga(Ga({},a),{},{className:l})):o=se.createElement(Ap,fv({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(C.Component);nL(Vy,"displayName","CartesianAxis");nL(Vy,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ZRe=["x1","y1","x2","y2","key"],eLe=["offset"];function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function FV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FV(Object(r),!0).forEach(function(n){tLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tLe(e,t,r){return t=rLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rLe(e){var t=nLe(e,"string");return pp(t)=="symbol"?t:t+""}function nLe(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qm.apply(this,arguments)}function RV(e,t){if(e==null)return{};var r=sLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var aLe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return se.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Gre(e,t){var r;if(se.isValidElement(e))r=se.cloneElement(e,t);else if(_r(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=RV(t,ZRe),u=nr(c,!1);u.offset;var d=RV(u,eLe);r=se.createElement("line",qm({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function iLe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=co(co({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Gre(a,u)});return se.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function oLe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=co(co({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Gre(a,u)});return se.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function lLe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var A=d.map(function(h,m){var y=!d[m+1],g=y?a+o-h:d[m+1]-h;if(g<=0)return null;var v=m%t.length;return se.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return se.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},A)}function cLe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var A=d.map(function(h,m){var y=!d[m+1],g=y?i+l-h:d[m+1]-h;if(g<=0)return null;var v=m%n.length;return se.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:g,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return se.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},A)}var uLe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return Yte(rL(co(co(co({},Vy.defaultProps),n),{},{ticks:kA(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},dLe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return Yte(rL(co(co(co({},Vy.defaultProps),n),{},{ticks:kA(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Ig={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function O_(e){var t,r,n,a,i,o,l=JR(),c=ZR(),u=J3e(),d=co(co({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ig.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ig.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ig.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ig.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ig.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Ig.verticalFill,x:mt(e.x)?e.x:u.left,y:mt(e.y)?e.y:u.top,width:mt(e.width)?e.width:u.width,height:mt(e.height)?e.height:u.height}),A=d.x,h=d.y,m=d.width,y=d.height,g=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,b=G3e(),j=Y3e();if(!mt(m)||m<=0||!mt(y)||y<=0||!mt(A)||A!==+A||!mt(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||uLe,N=d.horizontalCoordinatesGenerator||dLe,B=d.horizontalPoints,T=d.verticalPoints;if((!B||!B.length)&&_r(N)){var O=v&&v.length,P=N({yAxis:j?co(co({},j),{},{ticks:O?v:j.ticks}):void 0,width:l,height:c,offset:u},O?!0:g);pu(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(pp(P),"]")),Array.isArray(P)&&(B=P)}if((!T||!T.length)&&_r(_)){var M=x&&x.length,I=_({xAxis:b?co(co({},b),{},{ticks:M?x:b.ticks}):void 0,width:l,height:c,offset:u},M?!0:g);pu(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(pp(I),"]")),Array.isArray(I)&&(T=I)}return se.createElement("g",{className:"recharts-cartesian-grid"},se.createElement(aLe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),se.createElement(iLe,qm({},d,{offset:u,horizontalPoints:B,xAxis:b,yAxis:j})),se.createElement(oLe,qm({},d,{offset:u,verticalPoints:T,xAxis:b,yAxis:j})),se.createElement(lLe,qm({},d,{horizontalPoints:B})),se.createElement(cLe,qm({},d,{verticalPoints:T})))}O_.displayName="CartesianGrid";var ALe=["type","layout","connectNulls","ref"],fLe=["key"];function ly(e){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ly(e)}function LV(e,t){if(e==null)return{};var r=hLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B0.apply(this,arguments)}function UV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Il(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UV(Object(r),!0).forEach(function(n){uu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fg(e){return vLe(e)||gLe(e)||pLe(e)||mLe()}function mLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pLe(e,t){if(e){if(typeof e=="string")return uI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uI(e,t)}}function gLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vLe(e){if(Array.isArray(e))return uI(e)}function uI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xre(n.key),n)}}function xLe(e,t,r){return t&&DV(e.prototype,t),r&&DV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wLe(e,t,r){return t=I_(t),bLe(e,Yre()?Reflect.construct(t,r||[],I_(e).constructor):t.apply(e,r))}function bLe(e,t){if(t&&(ly(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jLe(e)}function jLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yre=function(){return!!e})()}function I_(e){return I_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I_(e)}function _Le(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dI(e,t)}function dI(e,t){return dI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dI(e,t)}function uu(e,t,r){return t=Xre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xre(e){var t=NLe(e,"string");return ly(t)=="symbol"?t:t+""}function NLe(e,t){if(ly(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $A=(function(e){function t(){var r;yLe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=wLe(this,t,[].concat(a)),uu(r,"state",{isAnimationFinished:!0,totalLength:0}),uu(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),uu(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,b){return x+b});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),A=o%u,h=l-o,m=[],y=0,g=0;y<c.length;g+=c[y],++y)if(g+c[y]>A){m=[].concat(Fg(c.slice(0,y)),[A-g]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(Fg(t.repeat(c,d)),Fg(m),v).map(function(x){return"".concat(x,"px")}).join(", ")}),uu(r,"id",Rp("recharts-line-")),uu(r,"pathRef",function(o){r.mainCurve=o}),uu(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),uu(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return _Le(t,e),xLe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,A=zl(d,vb);if(!A)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:_a(g.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return se.createElement(un,m,A.map(function(y){return se.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,A=nr(this.props,!1),h=nr(c,!0),m=u.map(function(g,v){var x=Il(Il(Il({key:"dot-".concat(v),r:3},A),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(c,x)}),y={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return se.createElement(un,B0({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var A=LV(l,ALe),h=Il(Il(Il({},nr(A,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return se.createElement(Zm,B0({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,A=o.animationDuration,h=o.animationEasing,m=o.animationId,y=o.animateNewValues,g=o.width,v=o.height,x=this.state,b=x.prevPoints,j=x.totalLength;return se.createElement(Nu,{begin:d,duration:A,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var N=_.t;if(b){var B=b.length/l.length,T=l.map(function(D,$){var F=Math.floor($*B);if(b[F]){var V=b[F],X=ti(V.x,D.x),K=ti(V.y,D.y);return Il(Il({},D),{},{x:X(N),y:K(N)})}if(y){var W=ti(g*2,D.x),z=ti(v/2,D.y);return Il(Il({},D),{},{x:W(N),y:z(N)})}return Il(Il({},D),{},{x:D.x,y:D.y})});return i.renderCurveStatically(T,n,a)}var O=ti(0,j),P=O(N),M;if(c){var I="".concat(c).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});M=i.getStrokeDasharray(P,j,I)}else M=i.generateSimpleStrokeDasharray(j,P);return i.renderCurveStatically(l,n,a,{strokeDasharray:M})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!fp(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,A=a.top,h=a.left,m=a.width,y=a.height,g=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,b=l.length===1,j=Mr("recharts-line",c),_=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,B=_||N,T=Ur(v)?this.id:v,O=(n=nr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=O.r,M=P===void 0?3:P,I=O.strokeWidth,D=I===void 0?2:I,$=JZ(o)?o:{},F=$.clipDot,V=F===void 0?!0:F,X=M*2+D;return se.createElement(un,{className:j},_||N?se.createElement("defs",null,se.createElement("clipPath",{id:"clipPath-".concat(T)},se.createElement("rect",{x:_?h:h-m/2,y:N?A:A-y/2,width:_?m:m*2,height:N?y:y*2})),!V&&se.createElement("clipPath",{id:"clipPath-dots-".concat(T)},se.createElement("rect",{x:h-X/2,y:A-X/2,width:m+X,height:y+X}))):null,!b&&this.renderCurve(B,T),this.renderErrorBar(B,T),(b||o)&&this.renderDots(B,V,T),(!g||x)&&pd.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Fg(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Fg(o),Fg(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(se.isValidElement(n))i=se.cloneElement(n,a);else if(_r(n))i=n(a);else{var o=a.key,l=LV(a,fLe),c=Mr("recharts-line-dot",typeof n!="boolean"?n.className:"");i=se.createElement(yb,B0({key:o},l,{className:c}))}return i}}])})(C.PureComponent);uu($A,"displayName","Line");uu($A,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Uh.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});uu($A,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,A=c.map(function(h,m){var y=_a(h,o);return d==="horizontal"?{x:u_({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:Ur(y)?null:n.scale(y),value:y,payload:h}:{x:Ur(y)?null:r.scale(y),y:u_({axis:n,ticks:i,bandSize:l,entry:h,index:m}),value:y,payload:h}});return Il({points:A,layout:d},u)});var CLe=["layout","type","stroke","connectNulls","isRange","ref"],SLe=["key"],Jre;function cy(e){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cy(e)}function Zre(e,t){if(e==null)return{};var r=BLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Km.apply(this,arguments)}function MV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MV(Object(r),!0).forEach(function(n){ud(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ELe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tne(n.key),n)}}function kLe(e,t,r){return t&&QV(e.prototype,t),r&&QV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PLe(e,t,r){return t=F_(t),TLe(e,ene()?Reflect.construct(t,r||[],F_(e).constructor):t.apply(e,r))}function TLe(e,t){if(t&&(cy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OLe(e)}function OLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ene(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ene=function(){return!!e})()}function F_(e){return F_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},F_(e)}function ILe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AI(e,t)}function AI(e,t){return AI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AI(e,t)}function ud(e,t,r){return t=tne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tne(e){var t=FLe(e,"string");return cy(t)=="symbol"?t:t+""}function FLe(e,t){if(cy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gl=(function(e){function t(){var r;ELe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=PLe(this,t,[].concat(a)),ud(r,"state",{isAnimationFinished:!0}),ud(r,"id",Rp("recharts-area-")),ud(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),_r(o)&&o()}),ud(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),_r(o)&&o()}),r}return ILe(t,e),kLe(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,A=c.dataKey,h=nr(this.props,!1),m=nr(u,!0),y=d.map(function(v,x){var b=qf(qf(qf({key:"dot-".concat(x),r:3},h),m),{},{index:x,cx:v.x,cy:v.y,dataKey:A,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,b)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return se.createElement(un,Km({className:"recharts-area-dots"},g),y)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),A=rh(o.map(function(h){return h.y||0}));return mt(i)&&typeof i=="number"?A=Math.max(i,A):i&&Array.isArray(i)&&i.length&&(A=Math.max(rh(i.map(function(h){return h.y||0})),A)),mt(A)?se.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(A+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),A=rh(o.map(function(h){return h.x||0}));return mt(i)&&typeof i=="number"?A=Math.max(i,A):i&&Array.isArray(i)&&i.length&&(A=Math.max(rh(i.map(function(h){return h.x||0})),A)),mt(A)?se.createElement("rect",{x:0,y:c<u?c:c-d,width:A+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,A=l.connectNulls,h=l.isRange;l.ref;var m=Zre(l,CLe);return se.createElement(un,{clipPath:i?"url(#clipPath-".concat(o,")"):null},se.createElement(Zm,Km({},nr(m,!0),{points:n,connectNulls:A,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&se.createElement(Zm,Km({},nr(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:A,fill:"none",points:n})),d!=="none"&&h&&se.createElement(Zm,Km({},nr(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:A,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,A=o.animationDuration,h=o.animationEasing,m=o.animationId,y=this.state,g=y.prevPoints,v=y.prevBaseLine;return se.createElement(Nu,{begin:d,duration:A,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var b=x.t;if(g){var j=g.length/l.length,_=l.map(function(O,P){var M=Math.floor(P*j);if(g[M]){var I=g[M],D=ti(I.x,O.x),$=ti(I.y,O.y);return qf(qf({},O),{},{x:D(b),y:$(b)})}return O}),N;if(mt(c)&&typeof c=="number"){var B=ti(v,c);N=B(b)}else if(Ur(c)||Dy(c)){var T=ti(v,0);N=T(b)}else N=c.map(function(O,P){var M=Math.floor(P*j);if(v[M]){var I=v[M],D=ti(I.x,O.x),$=ti(I.y,O.y);return qf(qf({},O),{},{x:D(b),y:$(b)})}return O});return i.renderAreaStatically(_,N,n,a)}return se.createElement(un,null,se.createElement("defs",null,se.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(b))),se.createElement(un,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,A=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!fp(d,o)||!fp(A,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,A=a.xAxis,h=a.yAxis,m=a.width,y=a.height,g=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,b=l.length===1,j=Mr("recharts-area",c),_=A&&A.allowDataOverflow,N=h&&h.allowDataOverflow,B=_||N,T=Ur(v)?this.id:v,O=(n=nr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=O.r,M=P===void 0?3:P,I=O.strokeWidth,D=I===void 0?2:I,$=JZ(o)?o:{},F=$.clipDot,V=F===void 0?!0:F,X=M*2+D;return se.createElement(un,{className:j},_||N?se.createElement("defs",null,se.createElement("clipPath",{id:"clipPath-".concat(T)},se.createElement("rect",{x:_?d:d-m/2,y:N?u:u-y/2,width:_?m:m*2,height:N?y:y*2})),!V&&se.createElement("clipPath",{id:"clipPath-dots-".concat(T)},se.createElement("rect",{x:d-X/2,y:u-X/2,width:m+X,height:y+X}))):null,b?null:this.renderArea(B,T),(o||b)&&this.renderDots(B,V,T),(!g||x)&&pd.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(C.PureComponent);Jre=Gl;ud(Gl,"displayName","Area");ud(Gl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Uh.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ud(Gl,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(mt(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),A=Math.min(u[0],u[1]);return l==="dataMin"?A:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});ud(Gl,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,A=e.displayedData,h=e.offset,m=t.layout,y=u&&u.length,g=Jre.getBaseValue(t,r,n,a),v=m==="horizontal",x=!1,b=A.map(function(_,N){var B;y?B=u[d+N]:(B=_a(_,c),Array.isArray(B)?x=!0:B=[g,B]);var T=B[1]==null||y&&_a(_,c)==null;return v?{x:u_({axis:n,ticks:i,bandSize:l,entry:_,index:N}),y:T?null:a.scale(B[1]),value:B,payload:_}:{x:T?null:n.scale(B[1]),y:u_({axis:a,ticks:o,bandSize:l,entry:_,index:N}),value:B,payload:_}}),j;return y||x?j=b.map(function(_){var N=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:N!=null&&_.y!=null?a.scale(N):null}:{x:N!=null?n.scale(N):null,y:_.y}}):j=v?a.scale(g):n.scale(g),qf({points:b,baseLine:j,layout:m,isRange:x},h)});ud(Gl,"renderDotItem",function(e,t){var r;if(se.isValidElement(e))r=se.cloneElement(e,t);else if(_r(e))r=e(t);else{var n=Mr("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=Zre(t,SLe);r=se.createElement(yb,Km({},i,{key:a,className:n}))}return r});function uy(e){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uy(e)}function RLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sne(n.key),n)}}function ULe(e,t,r){return t&&LLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DLe(e,t,r){return t=R_(t),MLe(e,rne()?Reflect.construct(t,r||[],R_(e).constructor):t.apply(e,r))}function MLe(e,t){if(t&&(uy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QLe(e)}function QLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rne=function(){return!!e})()}function R_(e){return R_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R_(e)}function HLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fI(e,t)}function fI(e,t){return fI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fI(e,t)}function nne(e,t,r){return t=sne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sne(e){var t=$Le(e,"string");return uy(t)=="symbol"?t:t+""}function $Le(e,t){if(uy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hI(){return hI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hI.apply(this,arguments)}function VLe(e){var t=e.xAxisId,r=JR(),n=ZR(),a=Ure(t);return a==null?null:C.createElement(Vy,hI({},a,{className:Mr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return kA(o,!0)}}))}var Fi=(function(e){function t(){return RLe(this,t),DLe(this,t,arguments)}return HLe(t,e),ULe(t,[{key:"render",value:function(){return C.createElement(VLe,this.props)}}])})(C.Component);nne(Fi,"displayName","XAxis");nne(Fi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function dy(e){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dy(e)}function qLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,one(n.key),n)}}function zLe(e,t,r){return t&&KLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WLe(e,t,r){return t=L_(t),GLe(e,ane()?Reflect.construct(t,r||[],L_(e).constructor):t.apply(e,r))}function GLe(e,t){if(t&&(dy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YLe(e)}function YLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ane(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ane=function(){return!!e})()}function L_(e){return L_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L_(e)}function XLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mI(e,t)}function mI(e,t){return mI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mI(e,t)}function ine(e,t,r){return t=one(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function one(e){var t=JLe(e,"string");return dy(t)=="symbol"?t:t+""}function JLe(e,t){if(dy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pI(){return pI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pI.apply(this,arguments)}var ZLe=function(t){var r=t.yAxisId,n=JR(),a=ZR(),i=Dre(r);return i==null?null:C.createElement(Vy,pI({},i,{className:Mr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return kA(l,!0)}}))},Ri=(function(e){function t(){return qLe(this,t),WLe(this,t,arguments)}return XLe(t,e),zLe(t,[{key:"render",value:function(){return C.createElement(ZLe,this.props)}}])})(C.Component);ine(Ri,"displayName","YAxis");ine(Ri,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function HV(e){return nUe(e)||rUe(e)||tUe(e)||eUe()}function eUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tUe(e,t){if(e){if(typeof e=="string")return gI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gI(e,t)}}function rUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nUe(e){if(Array.isArray(e))return gI(e)}function gI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vI=function(t,r,n,a,i){var o=zl(t,tL),l=zl(t,jC),c=[].concat(HV(o),HV(l)),u=zl(t,NC),d="".concat(a,"Id"),A=a[0],h=r;if(c.length&&(h=c.reduce(function(g,v){if(v.props[d]===n&&gd(v.props,"extendDomain")&&mt(v.props[A])){var x=v.props[A];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},h)),u.length){var m="".concat(A,"1"),y="".concat(A,"2");h=u.reduce(function(g,v){if(v.props[d]===n&&gd(v.props,"extendDomain")&&mt(v.props[m])&&mt(v.props[y])){var x=v.props[m],b=v.props[y];return[Math.min(g[0],x,b),Math.max(g[1],x,b)]}return g},h)}return i&&i.length&&(h=i.reduce(function(g,v){return mt(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},Fk={exports:{}},$V;function sUe(){return $V||($V=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,A,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,A||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,A;if(this._eventsCount===0)return u;for(A in d=this._events)t.call(d,A)&&u.push(r?A.slice(1):A);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,A=this._events[d];if(!A)return[];if(A.fn)return[A.fn];for(var h=0,m=A.length,y=new Array(m);h<m;h++)y[h]=A[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,A=this._events[d];return A?A.fn?1:A.length:0},l.prototype.emit=function(u,d,A,h,m,y){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,b,j;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,A),!0;case 4:return v.fn.call(v.context,d,A,h),!0;case 5:return v.fn.call(v.context,d,A,h,m),!0;case 6:return v.fn.call(v.context,d,A,h,m,y),!0}for(j=1,b=new Array(x-1);j<x;j++)b[j-1]=arguments[j];v.fn.apply(v.context,b)}else{var _=v.length,N;for(j=0;j<_;j++)switch(v[j].once&&this.removeListener(u,v[j].fn,void 0,!0),x){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,d);break;case 3:v[j].fn.call(v[j].context,d,A);break;case 4:v[j].fn.call(v[j].context,d,A,h);break;default:if(!b)for(N=1,b=new Array(x-1);N<x;N++)b[N-1]=arguments[N];v[j].fn.apply(v[j].context,b)}}return!0},l.prototype.on=function(u,d,A){return i(this,u,d,A,!1)},l.prototype.once=function(u,d,A){return i(this,u,d,A,!0)},l.prototype.removeListener=function(u,d,A,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!h||y.once)&&(!A||y.context===A)&&o(this,m);else{for(var g=0,v=[],x=y.length;g<x;g++)(y[g].fn!==d||h&&!y[g].once||A&&y[g].context!==A)&&v.push(y[g]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Fk)),Fk.exports}var aUe=sUe();const iUe=Vn(aUe);var Rk=new iUe,Lk="recharts.syncMouseEvents";function Mw(e){"@babel/helpers - typeof";return Mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mw(e)}function oUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lUe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lne(n.key),n)}}function cUe(e,t,r){return t&&lUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uk(e,t,r){return t=lne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lne(e){var t=uUe(e,"string");return Mw(t)=="symbol"?t:t+""}function uUe(e,t){if(Mw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dUe=(function(){function e(){oUe(this,e),Uk(this,"activeIndex",0),Uk(this,"coordinateList",[]),Uk(this,"layout","horizontal")}return cUe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,A=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=A??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,A=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:A,pageY:h})}}}])})();function AUe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],a=e?.[1];if(n&&a&&mt(n)&&mt(a))return!0}return!1}function fUe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function cne(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=ys(t,r,n,a),l=ys(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function hUe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,A=t.angle,h=ys(l,c,u,A),m=ys(l,c,d,A);n=h.x,a=h.y,i=m.x,o=m.y}else return cne(t);return[{x:n,y:a},{x:i,y:o}]}function Qw(e){"@babel/helpers - typeof";return Qw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qw(e)}function VV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VV(Object(r),!0).forEach(function(n){mUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mUe(e,t,r){return t=pUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pUe(e){var t=gUe(e,"string");return Qw(t)=="symbol"?t:t+""}function gUe(e,t){if(Qw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vUe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,A=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var y,g=Zm;if(h==="ScatterChart")y=o,g=kIe;else if(h==="BarChart")y=fUe(A,o,c,d),g=zR;else if(A==="radial"){var v=cne(o),x=v.cx,b=v.cy,j=v.radius,_=v.startAngle,N=v.endAngle;y={cx:x,cy:b,startAngle:_,endAngle:N,innerRadius:j,outerRadius:j},g=ore}else y={points:hUe(A,o,c)},g=Zm;var B=J1(J1(J1(J1({stroke:"#ccc",pointerEvents:"none"},c),y),nr(m,!1)),{},{payload:l,payloadIndex:u,className:Mr("recharts-tooltip-cursor",m.className)});return C.isValidElement(m)?C.cloneElement(m,B):C.createElement(g,B)}var yUe=["item"],xUe=["children","className","width","height","style","compact","title","desc"];function Ay(e){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ay(e)}function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(this,arguments)}function qV(e,t){return jUe(e)||bUe(e,t)||dne(e,t)||wUe()}function wUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bUe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function jUe(e){if(Array.isArray(e))return e}function KV(e,t){if(e==null)return{};var r=_Ue(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Ue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function NUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CUe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ane(n.key),n)}}function SUe(e,t,r){return t&&CUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BUe(e,t,r){return t=U_(t),EUe(e,une()?Reflect.construct(t,r||[],U_(e).constructor):t.apply(e,r))}function EUe(e,t){if(t&&(Ay(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kUe(e)}function kUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function une(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(une=function(){return!!e})()}function U_(e){return U_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U_(e)}function PUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yI(e,t)}function yI(e,t){return yI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yI(e,t)}function fy(e){return IUe(e)||OUe(e)||dne(e)||TUe()}function TUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dne(e,t){if(e){if(typeof e=="string")return xI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xI(e,t)}}function OUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IUe(e){if(Array.isArray(e))return xI(e)}function xI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zV(Object(r),!0).forEach(function(n){wr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wr(e,t,r){return t=Ane(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ane(e){var t=FUe(e,"string");return Ay(t)=="symbol"?t:t+""}function FUe(e,t){if(Ay(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RUe={xAxis:["bottom","top"],yAxis:["left","right"]},LUe={width:"100%",height:"100%"},fne={x:0,y:0};function Z1(e){return e}var UUe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},DUe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return Xe(Xe(Xe({},a),ys(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return Xe(Xe(Xe({},a),ys(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return fne},CC=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(fy(l),fy(u)):l},[]);return o.length>0?o:t&&t.length&&mt(a)&&mt(i)?t.slice(a,i+1):[]};function hne(e){return e==="number"?[0,"auto"]:void 0}var wI=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=CC(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,A=(d=u.props.data)!==null&&d!==void 0?d:r;A&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(A=A.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=A===void 0?l:A;h=Dj(m,o.dataKey,a)}else h=A&&A[n]||l[n];return h?[].concat(fy(c),[tre(u,h)]):c},[])},WV=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=UUe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=tPe(o,l,u,c);if(d>=0&&u){var A=u[d]&&u[d].value,h=wI(t,r,d,A),m=DUe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:A,activePayload:h,activeCoordinate:m}}return null},MUe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,A=t.children,h=t.stackOffset,m=Gte(d,i);return n.reduce(function(y,g){var v,x=g.type.defaultProps!==void 0?Xe(Xe({},g.type.defaultProps),g.props):g.props,b=x.type,j=x.dataKey,_=x.allowDataOverflow,N=x.allowDuplicatedCategory,B=x.scale,T=x.ticks,O=x.includeHidden,P=x[o];if(y[P])return y;var M=CC(t.data,{graphicalItems:a.filter(function(U){var Y,ee=o in U.props?U.props[o]:(Y=U.type.defaultProps)===null||Y===void 0?void 0:Y[o];return ee===P}),dataStartIndex:c,dataEndIndex:u}),I=M.length,D,$,F;AUe(x.domain,_,b)&&(D=IO(x.domain,null,_),m&&(b==="number"||B!=="auto")&&(F=_0(M,j,"category")));var V=hne(b);if(!D||D.length===0){var X,K=(X=x.domain)!==null&&X!==void 0?X:V;if(j){if(D=_0(M,j,b),b==="category"&&m){var W=G_e(D);N&&W?($=D,D=j_(0,I)):N||(D=q$(K,D,g).reduce(function(U,Y){return U.indexOf(Y)>=0?U:[].concat(fy(U),[Y])},[]))}else if(b==="category")N?D=D.filter(function(U){return U!==""&&!Ur(U)}):D=q$(K,D,g).reduce(function(U,Y){return U.indexOf(Y)>=0||Y===""||Ur(Y)?U:[].concat(fy(U),[Y])},[]);else if(b==="number"){var z=iPe(M,a.filter(function(U){var Y,ee,ae=o in U.props?U.props[o]:(Y=U.type.defaultProps)===null||Y===void 0?void 0:Y[o],Ae="hide"in U.props?U.props.hide:(ee=U.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return ae===P&&(O||!Ae)}),j,i,d);z&&(D=z)}m&&(b==="number"||B!=="auto")&&(F=_0(M,j,"category"))}else m?D=j_(0,I):l&&l[P]&&l[P].hasStack&&b==="number"?D=h==="expand"?[0,1]:ere(l[P].stackGroups,c,u):D=Wte(M,a.filter(function(U){var Y=o in U.props?U.props[o]:U.type.defaultProps[o],ee="hide"in U.props?U.props.hide:U.type.defaultProps.hide;return Y===P&&(O||!ee)}),b,d,!0);if(b==="number")D=vI(A,D,P,i,T),K&&(D=IO(K,D,_));else if(b==="category"&&K){var te=K,G=D.every(function(U){return te.indexOf(U)>=0});G&&(D=te)}}return Xe(Xe({},y),{},wr({},P,Xe(Xe({},x),{},{axisType:i,domain:D,categoricalDomain:F,duplicateDomain:$,originalDomain:(v=x.domain)!==null&&v!==void 0?v:V,isCategorical:m,layout:d})))},{})},QUe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,A=t.children,h=CC(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,y=Gte(d,i),g=-1;return n.reduce(function(v,x){var b=x.type.defaultProps!==void 0?Xe(Xe({},x.type.defaultProps),x.props):x.props,j=b[o],_=hne("number");if(!v[j]){g++;var N;return y?N=j_(0,m):l&&l[j]&&l[j].hasStack?(N=ere(l[j].stackGroups,c,u),N=vI(A,N,j,i)):(N=IO(_,Wte(h,n.filter(function(B){var T,O,P=o in B.props?B.props[o]:(T=B.type.defaultProps)===null||T===void 0?void 0:T[o],M="hide"in B.props?B.props.hide:(O=B.type.defaultProps)===null||O===void 0?void 0:O.hide;return P===j&&!M}),"number",d),a.defaultProps.allowDataOverflow),N=vI(A,N,j,i)),Xe(Xe({},v),{},wr({},j,Xe(Xe({axisType:i},a.defaultProps),{},{hide:!0,orientation:Kl(RUe,"".concat(i,".").concat(g%2),null),domain:N,originalDomain:_,isCategorical:y,layout:d})))}return v},{})},HUe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,A="".concat(a,"Id"),h=zl(d,i),m={};return h&&h.length?m=MUe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:A,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=QUe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:A,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},$Ue=function(t){var r=Zf(t),n=kA(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:xR(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:d_(r,n)}},GV=function(t){var r=t.children,n=t.defaultShowTooltip,a=Ll(r,ry),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},VUe=function(t){return!t||!t.length?!1:t.some(function(r){var n=TA(r&&r.type);return n&&n.indexOf("Bar")>=0})},YV=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},qUe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,A=n.children,h=n.margin||{},m=Ll(A,ry),y=Ll(A,_v),g=Object.keys(c).reduce(function(N,B){var T=c[B],O=T.orientation;return!T.mirror&&!T.hide?Xe(Xe({},N),{},wr({},O,N[O]+T.width)):N},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(N,B){var T=o[B],O=T.orientation;return!T.mirror&&!T.hide?Xe(Xe({},N),{},wr({},O,Kl(N,"".concat(O))+T.height)):N},{top:h.top||0,bottom:h.bottom||0}),x=Xe(Xe({},v),g),b=x.bottom;m&&(x.bottom+=m.props.height||ry.defaultProps.height),y&&r&&(x=sPe(x,a,n,r));var j=u-x.left-x.right,_=d-x.top-x.bottom;return Xe(Xe({brushBottom:b},x),{},{width:Math.max(j,0),height:Math.max(_,0)})},KUe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},SC=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,A=t.defaultProps,h=function(x,b){var j=b.graphicalItems,_=b.stackGroups,N=b.offset,B=b.updateId,T=b.dataStartIndex,O=b.dataEndIndex,P=x.barSize,M=x.layout,I=x.barGap,D=x.barCategoryGap,$=x.maxBarSize,F=YV(M),V=F.numericAxisName,X=F.cateAxisName,K=VUe(j),W=[];return j.forEach(function(z,te){var G=CC(x.data,{graphicalItems:[z],dataStartIndex:T,dataEndIndex:O}),U=z.type.defaultProps!==void 0?Xe(Xe({},z.type.defaultProps),z.props):z.props,Y=U.dataKey,ee=U.maxBarSize,ae=U["".concat(V,"Id")],Ae=U["".concat(X,"Id")],ce={},we=c.reduce(function(ve,Ee){var xe=b["".concat(Ee.axisType,"Map")],qe=U["".concat(Ee.axisType,"Id")];xe&&xe[qe]||Ee.axisType==="zAxis"||mp();var Ke=xe[qe];return Xe(Xe({},ve),{},wr(wr({},Ee.axisType,Ke),"".concat(Ee.axisType,"Ticks"),kA(Ke)))},ce),ge=we[X],je=we["".concat(X,"Ticks")],Oe=_&&_[ae]&&_[ae].hasStack&&mPe(z,_[ae].stackGroups),Ne=TA(z.type).indexOf("Bar")>=0,et=d_(ge,je),nt=[],le=K&&rPe({barSize:P,stackGroups:_,totalSize:KUe(we,X)});if(Ne){var lt,Pt,Pe=Ur(ee)?$:ee,Me=(lt=(Pt=d_(ge,je,!0))!==null&&Pt!==void 0?Pt:Pe)!==null&&lt!==void 0?lt:0;nt=nPe({barGap:I,barCategoryGap:D,bandSize:Me!==et?Me:et,sizeList:le[Ae],maxBarSize:Pe}),Me!==et&&(nt=nt.map(function(ve){return Xe(Xe({},ve),{},{position:Xe(Xe({},ve.position),{},{offset:ve.position.offset-Me/2})})}))}var fe=z&&z.type&&z.type.getComposedData;fe&&W.push({props:Xe(Xe({},fe(Xe(Xe({},we),{},{displayedData:G,props:x,dataKey:Y,item:z,bandSize:et,barPosition:nt,offset:N,stackedData:Oe,layout:M,dataStartIndex:T,dataEndIndex:O}))),{},wr(wr(wr({key:z.key||"item-".concat(te)},V,we[V]),X,we[X]),"animationId",B)),childIndex:oNe(z,x.children),item:z})}),W},m=function(x,b){var j=x.props,_=x.dataStartIndex,N=x.dataEndIndex,B=x.updateId;if(!i8({props:j}))return null;var T=j.children,O=j.layout,P=j.stackOffset,M=j.data,I=j.reverseStackOrder,D=YV(O),$=D.numericAxisName,F=D.cateAxisName,V=zl(T,n),X=fPe(M,V,"".concat($,"Id"),"".concat(F,"Id"),P,I),K=c.reduce(function(U,Y){var ee="".concat(Y.axisType,"Map");return Xe(Xe({},U),{},wr({},ee,HUe(j,Xe(Xe({},Y),{},{graphicalItems:V,stackGroups:Y.axisType===$&&X,dataStartIndex:_,dataEndIndex:N}))))},{}),W=qUe(Xe(Xe({},K),{},{props:j,graphicalItems:V}),b?.legendBBox);Object.keys(K).forEach(function(U){K[U]=d(j,K[U],W,U.replace("Map",""),r)});var z=K["".concat(F,"Map")],te=$Ue(z),G=h(j,Xe(Xe({},K),{},{dataStartIndex:_,dataEndIndex:N,updateId:B,graphicalItems:V,stackGroups:X,offset:W}));return Xe(Xe({formattedGraphicalItems:G,graphicalItems:V,offset:W,stackGroups:X},te),K)},y=(function(v){function x(b){var j,_,N;return NUe(this,x),N=BUe(this,x,[b]),wr(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),wr(N,"accessibilityManager",new dUe),wr(N,"handleLegendBBoxUpdate",function(B){if(B){var T=N.state,O=T.dataStartIndex,P=T.dataEndIndex,M=T.updateId;N.setState(Xe({legendBBox:B},m({props:N.props,dataStartIndex:O,dataEndIndex:P,updateId:M},Xe(Xe({},N.state),{},{legendBBox:B}))))}}),wr(N,"handleReceiveSyncEvent",function(B,T,O){if(N.props.syncId===B){if(O===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(T)}}),wr(N,"handleBrushChange",function(B){var T=B.startIndex,O=B.endIndex;if(T!==N.state.dataStartIndex||O!==N.state.dataEndIndex){var P=N.state.updateId;N.setState(function(){return Xe({dataStartIndex:T,dataEndIndex:O},m({props:N.props,dataStartIndex:T,dataEndIndex:O,updateId:P},N.state))}),N.triggerSyncEvent({dataStartIndex:T,dataEndIndex:O})}}),wr(N,"handleMouseEnter",function(B){var T=N.getMouseInfo(B);if(T){var O=Xe(Xe({},T),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var P=N.props.onMouseEnter;_r(P)&&P(O,B)}}),wr(N,"triggeredAfterMouseMove",function(B){var T=N.getMouseInfo(B),O=T?Xe(Xe({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(O),N.triggerSyncEvent(O);var P=N.props.onMouseMove;_r(P)&&P(O,B)}),wr(N,"handleItemMouseEnter",function(B){N.setState(function(){return{isTooltipActive:!0,activeItem:B,activePayload:B.tooltipPayload,activeCoordinate:B.tooltipPosition||{x:B.cx,y:B.cy}}})}),wr(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),wr(N,"handleMouseMove",function(B){B.persist(),N.throttleTriggeredAfterMouseMove(B)}),wr(N,"handleMouseLeave",function(B){N.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};N.setState(T),N.triggerSyncEvent(T);var O=N.props.onMouseLeave;_r(O)&&O(T,B)}),wr(N,"handleOuterEvent",function(B){var T=iNe(B),O=Kl(N.props,"".concat(T));if(T&&_r(O)){var P,M;/.*touch.*/i.test(T)?M=N.getMouseInfo(B.changedTouches[0]):M=N.getMouseInfo(B),O((P=M)!==null&&P!==void 0?P:{},B)}}),wr(N,"handleClick",function(B){var T=N.getMouseInfo(B);if(T){var O=Xe(Xe({},T),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var P=N.props.onClick;_r(P)&&P(O,B)}}),wr(N,"handleMouseDown",function(B){var T=N.props.onMouseDown;if(_r(T)){var O=N.getMouseInfo(B);T(O,B)}}),wr(N,"handleMouseUp",function(B){var T=N.props.onMouseUp;if(_r(T)){var O=N.getMouseInfo(B);T(O,B)}}),wr(N,"handleTouchMove",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(B.changedTouches[0])}),wr(N,"handleTouchStart",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&N.handleMouseDown(B.changedTouches[0])}),wr(N,"handleTouchEnd",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&N.handleMouseUp(B.changedTouches[0])}),wr(N,"handleDoubleClick",function(B){var T=N.props.onDoubleClick;if(_r(T)){var O=N.getMouseInfo(B);T(O,B)}}),wr(N,"handleContextMenu",function(B){var T=N.props.onContextMenu;if(_r(T)){var O=N.getMouseInfo(B);T(O,B)}}),wr(N,"triggerSyncEvent",function(B){N.props.syncId!==void 0&&Rk.emit(Lk,N.props.syncId,B,N.eventEmitterSymbol)}),wr(N,"applySyncEvent",function(B){var T=N.props,O=T.layout,P=T.syncMethod,M=N.state.updateId,I=B.dataStartIndex,D=B.dataEndIndex;if(B.dataStartIndex!==void 0||B.dataEndIndex!==void 0)N.setState(Xe({dataStartIndex:I,dataEndIndex:D},m({props:N.props,dataStartIndex:I,dataEndIndex:D,updateId:M},N.state)));else if(B.activeTooltipIndex!==void 0){var $=B.chartX,F=B.chartY,V=B.activeTooltipIndex,X=N.state,K=X.offset,W=X.tooltipTicks;if(!K)return;if(typeof P=="function")V=P(W,B);else if(P==="value"){V=-1;for(var z=0;z<W.length;z++)if(W[z].value===B.activeLabel){V=z;break}}var te=Xe(Xe({},K),{},{x:K.left,y:K.top}),G=Math.min($,te.x+te.width),U=Math.min(F,te.y+te.height),Y=W[V]&&W[V].value,ee=wI(N.state,N.props.data,V),ae=W[V]?{x:O==="horizontal"?W[V].coordinate:G,y:O==="horizontal"?U:W[V].coordinate}:fne;N.setState(Xe(Xe({},B),{},{activeLabel:Y,activeCoordinate:ae,activePayload:ee,activeTooltipIndex:V}))}else N.setState(B)}),wr(N,"renderCursor",function(B){var T,O=N.state,P=O.isTooltipActive,M=O.activeCoordinate,I=O.activePayload,D=O.offset,$=O.activeTooltipIndex,F=O.tooltipAxisBandSize,V=N.getTooltipEventType(),X=(T=B.props.active)!==null&&T!==void 0?T:P,K=N.props.layout,W=B.key||"_recharts-cursor";return se.createElement(vUe,{key:W,activeCoordinate:M,activePayload:I,activeTooltipIndex:$,chartName:r,element:B,isActive:X,layout:K,offset:D,tooltipAxisBandSize:F,tooltipEventType:V})}),wr(N,"renderPolarAxis",function(B,T,O){var P=Kl(B,"type.axisType"),M=Kl(N.state,"".concat(P,"Map")),I=B.type.defaultProps,D=I!==void 0?Xe(Xe({},I),B.props):B.props,$=M&&M[D["".concat(P,"Id")]];return C.cloneElement(B,Xe(Xe({},$),{},{className:Mr(P,$.className),key:B.key||"".concat(T,"-").concat(O),ticks:kA($,!0)}))}),wr(N,"renderPolarGrid",function(B){var T=B.props,O=T.radialLines,P=T.polarAngles,M=T.polarRadius,I=N.state,D=I.radiusAxisMap,$=I.angleAxisMap,F=Zf(D),V=Zf($),X=V.cx,K=V.cy,W=V.innerRadius,z=V.outerRadius;return C.cloneElement(B,{polarAngles:Array.isArray(P)?P:kA(V,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(M)?M:kA(F,!0).map(function(te){return te.coordinate}),cx:X,cy:K,innerRadius:W,outerRadius:z,key:B.key||"polar-grid",radialLines:O})}),wr(N,"renderLegend",function(){var B=N.state.formattedGraphicalItems,T=N.props,O=T.children,P=T.width,M=T.height,I=N.props.margin||{},D=P-(I.left||0)-(I.right||0),$=Kte({children:O,formattedGraphicalItems:B,legendWidth:D,legendContent:u});if(!$)return null;var F=$.item,V=KV($,yUe);return C.cloneElement(F,Xe(Xe({},V),{},{chartWidth:P,chartHeight:M,margin:I,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),wr(N,"renderTooltip",function(){var B,T=N.props,O=T.children,P=T.accessibilityLayer,M=Ll(O,ss);if(!M)return null;var I=N.state,D=I.isTooltipActive,$=I.activeCoordinate,F=I.activePayload,V=I.activeLabel,X=I.offset,K=(B=M.props.active)!==null&&B!==void 0?B:D;return C.cloneElement(M,{viewBox:Xe(Xe({},X),{},{x:X.left,y:X.top}),active:K,label:V,payload:K?F:[],coordinate:$,accessibilityLayer:P})}),wr(N,"renderBrush",function(B){var T=N.props,O=T.margin,P=T.data,M=N.state,I=M.offset,D=M.dataStartIndex,$=M.dataEndIndex,F=M.updateId;return C.cloneElement(B,{key:B.key||"_recharts-brush",onChange:W1(N.handleBrushChange,B.props.onChange),data:P,x:mt(B.props.x)?B.props.x:I.left,y:mt(B.props.y)?B.props.y:I.top+I.height+I.brushBottom-(O.bottom||0),width:mt(B.props.width)?B.props.width:I.width,startIndex:D,endIndex:$,updateId:"brush-".concat(F)})}),wr(N,"renderReferenceElement",function(B,T,O){if(!B)return null;var P=N,M=P.clipPathId,I=N.state,D=I.xAxisMap,$=I.yAxisMap,F=I.offset,V=B.type.defaultProps||{},X=B.props,K=X.xAxisId,W=K===void 0?V.xAxisId:K,z=X.yAxisId,te=z===void 0?V.yAxisId:z;return C.cloneElement(B,{key:B.key||"".concat(T,"-").concat(O),xAxis:D[W],yAxis:$[te],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:M})}),wr(N,"renderActivePoints",function(B){var T=B.item,O=B.activePoint,P=B.basePoint,M=B.childIndex,I=B.isRange,D=[],$=T.props.key,F=T.item.type.defaultProps!==void 0?Xe(Xe({},T.item.type.defaultProps),T.item.props):T.item.props,V=F.activeDot,X=F.dataKey,K=Xe(Xe({index:M,dataKey:X,cx:O.x,cy:O.y,r:4,fill:KR(T.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},nr(V,!1)),Mj(V));return D.push(x.renderActiveDot(V,K,"".concat($,"-activePoint-").concat(M))),P?D.push(x.renderActiveDot(V,Xe(Xe({},K),{},{cx:P.x,cy:P.y}),"".concat($,"-basePoint-").concat(M))):I&&D.push(null),D}),wr(N,"renderGraphicChild",function(B,T,O){var P=N.filterFormatItem(B,T,O);if(!P)return null;var M=N.getTooltipEventType(),I=N.state,D=I.isTooltipActive,$=I.tooltipAxis,F=I.activeTooltipIndex,V=I.activeLabel,X=N.props.children,K=Ll(X,ss),W=P.props,z=W.points,te=W.isRange,G=W.baseLine,U=P.item.type.defaultProps!==void 0?Xe(Xe({},P.item.type.defaultProps),P.item.props):P.item.props,Y=U.activeDot,ee=U.hide,ae=U.activeBar,Ae=U.activeShape,ce=!!(!ee&&D&&K&&(Y||ae||Ae)),we={};M!=="axis"&&K&&K.props.trigger==="click"?we={onClick:W1(N.handleItemMouseEnter,B.props.onClick)}:M!=="axis"&&(we={onMouseLeave:W1(N.handleItemMouseLeave,B.props.onMouseLeave),onMouseEnter:W1(N.handleItemMouseEnter,B.props.onMouseEnter)});var ge=C.cloneElement(B,Xe(Xe({},P.props),we));function je(Ee){return typeof $.dataKey=="function"?$.dataKey(Ee.payload):null}if(ce)if(F>=0){var Oe,Ne;if($.dataKey&&!$.allowDuplicatedCategory){var et=typeof $.dataKey=="function"?je:"payload.".concat($.dataKey.toString());Oe=Dj(z,et,V),Ne=te&&G&&Dj(G,et,V)}else Oe=z?.[F],Ne=te&&G&&G[F];if(Ae||ae){var nt=B.props.activeIndex!==void 0?B.props.activeIndex:F;return[C.cloneElement(B,Xe(Xe(Xe({},P.props),we),{},{activeIndex:nt})),null,null]}if(!Ur(Oe))return[ge].concat(fy(N.renderActivePoints({item:P,activePoint:Oe,basePoint:Ne,childIndex:F,isRange:te})))}else{var le,lt=(le=N.getItemByXY(N.state.activeCoordinate))!==null&&le!==void 0?le:{graphicalItem:ge},Pt=lt.graphicalItem,Pe=Pt.item,Me=Pe===void 0?B:Pe,fe=Pt.childIndex,ve=Xe(Xe(Xe({},P.props),we),{},{activeIndex:fe});return[C.cloneElement(Me,ve),null,null]}return te?[ge,null,null]:[ge,null]}),wr(N,"renderCustomized",function(B,T,O){return C.cloneElement(B,Xe(Xe({key:"recharts-customized-".concat(O)},N.props),N.state))}),wr(N,"renderMap",{CartesianGrid:{handler:Z1,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Z1},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Z1},YAxis:{handler:Z1},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((j=b.id)!==null&&j!==void 0?j:Rp("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=qee(N.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),N.state={},N}return PUe(x,v),SUe(x,[{key:"componentDidMount",value:function(){var j,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,_=j.children,N=j.data,B=j.height,T=j.layout,O=Ll(_,ss);if(O){var P=O.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,I=wI(this.state,N,P,M),D=this.state.tooltipTicks[P].coordinate,$=(this.state.offset.top+B)/2,F=T==="horizontal",V=F?{x:D,y:$}:{y:D,x:$},X=this.state.formattedGraphicalItems.find(function(W){var z=W.item;return z.type.name==="Scatter"});X&&(V=Xe(Xe({},V),X.props.points[P].tooltipPosition),I=X.props.points[P].tooltipPayload);var K={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:M,activePayload:I,activeCoordinate:V};this.setState(K),this.renderCursor(O),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var N,B;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(B=this.props.margin.top)!==null&&B!==void 0?B:0}})}return null}},{key:"componentDidUpdate",value:function(j){rO([Ll(j.children,ss)],[Ll(this.props.children,ss)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=Ll(this.props.children,ss);if(j&&typeof j.props.shared=="boolean"){var _=j.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var _=this.container,N=_.getBoundingClientRect(),B=zBe(N),T={chartX:Math.round(j.pageX-B.left),chartY:Math.round(j.pageY-B.top)},O=N.width/_.offsetWidth||1,P=this.inRange(T.chartX,T.chartY,O);if(!P)return null;var M=this.state,I=M.xAxisMap,D=M.yAxisMap,$=this.getTooltipEventType(),F=WV(this.state,this.props.data,this.props.layout,P);if($!=="axis"&&I&&D){var V=Zf(I).scale,X=Zf(D).scale,K=V&&V.invert?V.invert(T.chartX):null,W=X&&X.invert?X.invert(T.chartY):null;return Xe(Xe({},T),{},{xValue:K,yValue:W},F)}return F?Xe(Xe({},T),F):null}},{key:"inRange",value:function(j,_){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,B=this.props.layout,T=j/N,O=_/N;if(B==="horizontal"||B==="vertical"){var P=this.state.offset,M=T>=P.left&&T<=P.left+P.width&&O>=P.top&&O<=P.top+P.height;return M?{x:T,y:O}:null}var I=this.state,D=I.angleAxisMap,$=I.radiusAxisMap;if(D&&$){var F=Zf(D);return W$({x:T,y:O},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,_=this.getTooltipEventType(),N=Ll(j,ss),B={};N&&_==="axis"&&(N.props.trigger==="click"?B={onClick:this.handleClick}:B={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Mj(this.props,this.handleOuterEvent);return Xe(Xe({},T),B)}},{key:"addListener",value:function(){Rk.on(Lk,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Rk.removeListener(Lk,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,_,N){for(var B=this.state.formattedGraphicalItems,T=0,O=B.length;T<O;T++){var P=B[T];if(P.item===j||P.props.key===j.key||_===TA(P.item.type)&&N===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,_=this.state.offset,N=_.left,B=_.top,T=_.height,O=_.width;return se.createElement("defs",null,se.createElement("clipPath",{id:j},se.createElement("rect",{x:N,y:B,height:T,width:O})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(_,N){var B=qV(N,2),T=B[0],O=B[1];return Xe(Xe({},_),{},wr({},T,O.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(_,N){var B=qV(N,2),T=B[0],O=B[1];return Xe(Xe({},_),{},wr({},T,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[j])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(j){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[j])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(j){var _=this.state,N=_.formattedGraphicalItems,B=_.activeItem;if(N&&N.length)for(var T=0,O=N.length;T<O;T++){var P=N[T],M=P.props,I=P.item,D=I.type.defaultProps!==void 0?Xe(Xe({},I.type.defaultProps),I.props):I.props,$=TA(I.type);if($==="Bar"){var F=(M.data||[]).find(function(W){return uIe(j,W)});if(F)return{graphicalItem:P,payload:F}}else if($==="RadialBar"){var V=(M.data||[]).find(function(W){return W$(j,W)});if(V)return{graphicalItem:P,payload:V}}else if(yC(P,B)||xC(P,B)||Fw(P,B)){var X=OFe({graphicalItem:P,activeTooltipItem:B,itemData:D.data}),K=D.activeIndex===void 0?X:D.activeIndex;return{graphicalItem:Xe(Xe({},P),{},{childIndex:K}),payload:Fw(P,B)?D.data[X]:P.props.data[X]}}}return null}},{key:"render",value:function(){var j=this;if(!i8(this))return null;var _=this.props,N=_.children,B=_.className,T=_.width,O=_.height,P=_.style,M=_.compact,I=_.title,D=_.desc,$=KV(_,xUe),F=nr($,!1);if(M)return se.createElement(_V,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},se.createElement(sO,hv({},F,{width:T,height:O,title:I,desc:D}),this.renderClipPath(),l8(N,this.renderMap)));if(this.props.accessibilityLayer){var V,X;F.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,F.role=(X=this.props.role)!==null&&X!==void 0?X:"application",F.onKeyDown=function(W){j.accessibilityManager.keyboardEvent(W)},F.onFocus=function(){j.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return se.createElement(_V,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},se.createElement("div",hv({className:Mr("recharts-wrapper",B),style:Xe({position:"relative",cursor:"default",width:T,height:O},P)},K,{ref:function(z){j.container=z}}),se.createElement(sO,hv({},F,{width:T,height:O,title:I,desc:D,style:LUe}),this.renderClipPath(),l8(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(C.Component);wr(y,"displayName",r),wr(y,"defaultProps",Xe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},A)),wr(y,"getDerivedStateFromProps",function(v,x){var b=v.dataKey,j=v.data,_=v.children,N=v.width,B=v.height,T=v.layout,O=v.stackOffset,P=v.margin,M=x.dataStartIndex,I=x.dataEndIndex;if(x.updateId===void 0){var D=GV(v);return Xe(Xe(Xe({},D),{},{updateId:0},m(Xe(Xe({props:v},D),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:j,prevWidth:N,prevHeight:B,prevLayout:T,prevStackOffset:O,prevMargin:P,prevChildren:_})}if(b!==x.prevDataKey||j!==x.prevData||N!==x.prevWidth||B!==x.prevHeight||T!==x.prevLayout||O!==x.prevStackOffset||!jv(P,x.prevMargin)){var $=GV(v),F={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},V=Xe(Xe({},WV(x,j,T)),{},{updateId:x.updateId+1}),X=Xe(Xe(Xe({},$),F),V);return Xe(Xe(Xe({},X),m(Xe({props:v},X),x)),{},{prevDataKey:b,prevData:j,prevWidth:N,prevHeight:B,prevLayout:T,prevStackOffset:O,prevMargin:P,prevChildren:_})}if(!rO(_,x.prevChildren)){var K,W,z,te,G=Ll(_,ry),U=G&&(K=(W=G.props)===null||W===void 0?void 0:W.startIndex)!==null&&K!==void 0?K:M,Y=G&&(z=(te=G.props)===null||te===void 0?void 0:te.endIndex)!==null&&z!==void 0?z:I,ee=U!==M||Y!==I,ae=!Ur(j),Ae=ae&&!ee?x.updateId:x.updateId+1;return Xe(Xe({updateId:Ae},m(Xe(Xe({props:v},x),{},{updateId:Ae,dataStartIndex:U,dataEndIndex:Y}),x)),{},{prevChildren:_,dataStartIndex:U,dataEndIndex:Y})}return null}),wr(y,"renderActiveDot",function(v,x,b){var j;return C.isValidElement(v)?j=C.cloneElement(v,x):_r(v)?j=v(x):j=se.createElement(yb,x),se.createElement(un,{className:"recharts-active-dot",key:b},j)});var g=C.forwardRef(function(x,b){return se.createElement(y,hv({},x,{ref:b}))});return g.displayName=y.displayName,g},BC=SC({chartName:"LineChart",GraphicalChild:$A,axisComponents:[{axisType:"xAxis",AxisComp:Fi},{axisType:"yAxis",AxisComp:Ri}],formatAxisMap:WR}),D_=SC({chartName:"BarChart",GraphicalChild:_d,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Fi},{axisType:"yAxis",AxisComp:Ri}],formatAxisMap:WR}),fh=SC({chartName:"PieChart",GraphicalChild:Ao,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:vC},{axisType:"radiusAxis",AxisComp:pC}],formatAxisMap:NPe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),M_=SC({chartName:"AreaChart",GraphicalChild:Gl,axisComponents:[{axisType:"xAxis",AxisComp:Fi},{axisType:"yAxis",AxisComp:Ri}],formatAxisMap:WR});const zUe=()=>{const{data:e}=Ir({queryKey:["super-admin-stats"],queryFn:async()=>{const[r,n,a,i,o,l,c]=await Promise.all([be.from("profiles").select("id, created_at",{count:"exact",head:!0}),be.from("organizations").select("id, status",{count:"exact",head:!0}),be.from("user_roles").select("id",{count:"exact",head:!0}),be.from("properties").select("id, status",{count:"exact",head:!0}),be.from("tenants").select("id, status",{count:"exact",head:!0}),be.from("profiles").select("id, created_at").order("created_at",{ascending:!1}).limit(5),be.from("profiles").select("id",{count:"exact",head:!0}).gte("created_at",new Date(Date.now()-6048e5).toISOString())]),u=new Date,d=[];for(let h=5;h>=0;h--){const m=new Date(u.getFullYear(),u.getMonth()-h,1);new Date(u.getFullYear(),u.getMonth()-h+1,1),d.push({month:m.toLocaleString("default",{month:"short"}),users:Math.floor(Math.random()*50)+10})}const A=[{name:"API Response",value:98,status:"healthy"},{name:"Database",value:92,status:"healthy"},{name:"Storage",value:76,status:"warning"},{name:"Memory",value:84,status:"healthy"}];return{users:r.count||0,orgs:n.count||0,roles:a.count||0,properties:i.count||0,tenants:o.count||0,recentUsers:l.data||[],activeUsers:c.count||0,userGrowthData:d,systemHealth:A}}}),t=[{title:"Total Users",value:String(e?.users||0),change:`+${e?.activeUsers||0} this week`,changeType:"positive",icon:Nr,trend:"up"},{title:"Organizations",value:String(e?.orgs||0),change:"Active workspaces",changeType:"positive",icon:sn,trend:"stable"},{title:"Role Assignments",value:String(e?.roles||0),change:"Across all users",changeType:"positive",icon:Lo,trend:"up"},{title:"Properties",value:String(e?.properties||0),change:"Managed globally",changeType:"positive",icon:bn,trend:"stable"},{title:"Tenants",value:String(e?.tenants||0),change:"All organizations",changeType:"positive",icon:Hl,trend:"up"},{title:"System Status",value:"Online",change:"All systems operational",changeType:"positive",icon:LW,trend:"stable"}];return s.jsx(GA,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Super Admin Dashboard"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Platform-wide control center with real-time insights"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Ze,{variant:"outline",className:"gap-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"System Online"]}),s.jsx(Ze,{variant:"secondary",children:"Last updated: Just now"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map((r,n)=>s.jsx(Rh,{...r,index:n},r.title))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"User Growth Trend"}),s.jsx(Al,{className:"w-5 h-5 text-primary"})]}),s.jsx(Ua,{width:"100%",height:250,children:s.jsxs(BC,{data:e?.userGrowthData||[],children:[s.jsx(Fi,{dataKey:"month",stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(Ri,{stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(ss,{contentStyle:{background:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:8}}),s.jsx($A,{type:"monotone",dataKey:"users",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",r:4},activeDot:{r:6}})]})})]}),s.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"System Health"}),s.jsx(Gr,{className:"w-5 h-5 text-green-500"})]}),s.jsx("div",{className:"space-y-4",children:e?.systemHealth?.map((r,n)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:r.name}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-muted-foreground",children:[r.value,"%"]}),r.status==="healthy"?s.jsx(Gr,{className:"w-4 h-4 text-green-500"}):s.jsx(Qi,{className:"w-4 h-4 text-yellow-500"})]})]}),s.jsx(DA,{value:r.value,className:"h-2"})]},r.name))})]})]}),s.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Recent User Activity"}),s.jsx(Ze,{variant:"outline",children:"Last 5 registrations"})]}),s.jsx("div",{className:"space-y-3",children:e?.recentUsers?.map((r,n)=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-sm font-bold text-primary",children:r.created_at?new Date(r.created_at).getDate():"?"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"New User Registration"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:r.created_at?new Date(r.created_at).toLocaleString():"Unknown time"})]})]}),s.jsx(Ze,{variant:"secondary",className:"text-xs",children:"User"})]},r.id))})]})]})})},Ui=C.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:st("w-full caption-bottom text-sm",e),...t})}));Ui.displayName="Table";const Di=C.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:st("[&_tr]:border-b",e),...t}));Di.displayName="TableHeader";const Mi=C.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:st("[&_tr:last-child]:border-0",e),...t}));Mi.displayName="TableBody";const WUe=C.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:st("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));WUe.displayName="TableFooter";const jr=C.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:st("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));jr.displayName="TableRow";const ht=C.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:st("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ht.displayName="TableHead";const ct=C.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:st("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ct.displayName="TableCell";const GUe=C.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:st("mt-4 text-sm text-muted-foreground",e),...t}));GUe.displayName="TableCaption";var EC="Dialog",[mne,pne]=$i(EC),[YUe,ku]=mne(EC),gne=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=C.useRef(null),c=C.useRef(null),[u,d]=xu({prop:n,defaultProp:a??!1,onChange:i,caller:EC});return s.jsx(YUe,{scope:t,triggerRef:l,contentRef:c,contentId:vi(),titleId:vi(),descriptionId:vi(),open:u,onOpenChange:d,onOpenToggle:C.useCallback(()=>d(A=>!A),[d]),modal:o,children:r})};gne.displayName=EC;var vne="DialogTrigger",yne=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ku(vne,r),i=Qr(t,a.triggerRef);return s.jsx(kt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":iL(a.open),...n,ref:i,onClick:yt(e.onClick,a.onOpenToggle)})});yne.displayName=vne;var sL="DialogPortal",[XUe,xne]=mne(sL,{forceMount:void 0}),wne=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=ku(sL,t);return s.jsx(XUe,{scope:t,forceMount:r,children:C.Children.map(n,o=>s.jsx(wi,{present:r||i.open,children:s.jsx(by,{asChild:!0,container:a,children:o})}))})};wne.displayName=sL;var Q_="DialogOverlay",bne=C.forwardRef((e,t)=>{const r=xne(Q_,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ku(Q_,e.__scopeDialog);return i.modal?s.jsx(wi,{present:n||i.open,children:s.jsx(ZUe,{...a,ref:t})}):null});bne.displayName=Q_;var JUe=gh("DialogOverlay.RemoveScroll"),ZUe=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ku(Q_,r);return s.jsx(cb,{as:JUe,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(kt.div,{"data-state":iL(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),gp="DialogContent",jne=C.forwardRef((e,t)=>{const r=xne(gp,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ku(gp,e.__scopeDialog);return s.jsx(wi,{present:n||i.open,children:i.modal?s.jsx(eDe,{...a,ref:t}):s.jsx(tDe,{...a,ref:t})})});jne.displayName=gp;var eDe=C.forwardRef((e,t)=>{const r=ku(gp,e.__scopeDialog),n=C.useRef(null),a=Qr(t,r.contentRef,n);return C.useEffect(()=>{const i=n.current;if(i)return DN(i)},[]),s.jsx(_ne,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:yt(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:yt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:yt(e.onFocusOutside,i=>i.preventDefault())})}),tDe=C.forwardRef((e,t)=>{const r=ku(gp,e.__scopeDialog),n=C.useRef(!1),a=C.useRef(!1);return s.jsx(_ne,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),_ne=C.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ku(gp,r),c=C.useRef(null),u=Qr(t,c);return LN(),s.jsxs(s.Fragment,{children:[s.jsx(ob,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(kp,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":iL(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(nDe,{titleId:l.titleId}),s.jsx(aDe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),aL="DialogTitle",Nne=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ku(aL,r);return s.jsx(kt.h2,{id:a.titleId,...n,ref:t})});Nne.displayName=aL;var Cne="DialogDescription",Sne=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ku(Cne,r);return s.jsx(kt.p,{id:a.descriptionId,...n,ref:t})});Sne.displayName=Cne;var Bne="DialogClose",Ene=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ku(Bne,r);return s.jsx(kt.button,{type:"button",...n,ref:t,onClick:yt(e.onClick,()=>a.onOpenChange(!1))})});Ene.displayName=Bne;function iL(e){return e?"open":"closed"}var kne="DialogTitleWarning",[rDe,Pne]=uce(kne,{contentName:gp,titleName:aL,docsSlug:"dialog"}),nDe=({titleId:e})=>{const t=Pne(kne),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},sDe="DialogDescriptionWarning",aDe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Pne(sDe).contentName}}.`;return C.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},kC=gne,oL=yne,PC=wne,qy=bne,Ky=jne,xb=Nne,wb=Sne,TC=Ene;const dn=kC,_h=oL,iDe=PC,Tne=C.forwardRef(({className:e,...t},r)=>s.jsx(qy,{ref:r,className:st("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Tne.displayName=qy.displayName;const an=C.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(iDe,{children:[s.jsx(Tne,{}),s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",children:s.jsxs(Ky,{ref:n,className:st("relative grid w-full max-w-lg gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-xl",e),...r,children:[t,s.jsxs(TC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Jw,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})})]}));an.displayName=Ky.displayName;const pn=({className:e,...t})=>s.jsx("div",{className:st("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});pn.displayName="DialogHeader";const Qa=({className:e,...t})=>s.jsx("div",{className:st("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Qa.displayName="DialogFooter";const gn=C.forwardRef(({className:e,...t},r)=>s.jsx(xb,{ref:r,className:st("text-lg font-semibold leading-none tracking-tight",e),...t}));gn.displayName=xb.displayName;const _n=C.forwardRef(({className:e,...t},r)=>s.jsx(wb,{ref:r,className:st("text-sm text-muted-foreground",e),...t}));_n.displayName=wb.displayName;var oDe=[" ","Enter","ArrowUp","ArrowDown"],lDe=[" ","Enter"],vp="Select",[OC,IC,cDe]=hN(vp),[zy]=$i(vp,[cDe,Oh]),FC=Oh(),[uDe,Hh]=zy(vp),[dDe,ADe]=zy(vp),One=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:A,disabled:h,required:m,form:y}=e,g=FC(t),[v,x]=C.useState(null),[b,j]=C.useState(null),[_,N]=C.useState(!1),B=ib(u),[T,O]=xu({prop:n,defaultProp:a??!1,onChange:i,caller:vp}),[P,M]=xu({prop:o,defaultProp:l,onChange:c,caller:vp}),I=C.useRef(null),D=v?y||!!v.closest("form"):!0,[$,F]=C.useState(new Set),V=Array.from($).map(X=>X.props.value).join(";");return s.jsx(bN,{...g,children:s.jsxs(uDe,{required:m,scope:t,trigger:v,onTriggerChange:x,valueNode:b,onValueNodeChange:j,valueNodeHasChildren:_,onValueNodeHasChildrenChange:N,contentId:vi(),value:P,onValueChange:M,open:T,onOpenChange:O,dir:B,triggerPointerDownPosRef:I,disabled:h,children:[s.jsx(OC.Provider,{scope:t,children:s.jsx(dDe,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(X=>{F(K=>new Set(K).add(X))},[]),onNativeOptionRemove:C.useCallback(X=>{F(K=>{const W=new Set(K);return W.delete(X),W})},[]),children:r})}),D?s.jsxs(nse,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:A,value:P,onChange:X=>M(X.target.value),disabled:h,form:y,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from($)]},V):null]})})};One.displayName=vp;var Ine="SelectTrigger",Fne=C.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=FC(r),o=Hh(Ine,r),l=o.disabled||n,c=Qr(t,o.onTriggerChange),u=IC(r),d=C.useRef("touch"),[A,h,m]=ase(g=>{const v=u().filter(j=>!j.disabled),x=v.find(j=>j.value===o.value),b=ise(v,g,x);b!==void 0&&o.onValueChange(b.value)}),y=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(eb,{asChild:!0,...i,children:s.jsx(kt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":sse(o.value)?"":void 0,...a,ref:c,onClick:yt(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:yt(a.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:yt(a.onKeyDown,g=>{const v=A.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&oDe.includes(g.key)&&(y(),g.preventDefault())})})})});Fne.displayName=Ine;var Rne="SelectValue",Lne=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Hh(Rne,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,A=Qr(t,c.onValueNodeChange);return Sa(()=>{u(d)},[u,d]),s.jsx(kt.span,{...l,ref:A,style:{pointerEvents:"none"},children:sse(c.value)?s.jsx(s.Fragment,{children:o}):i})});Lne.displayName=Rne;var fDe="SelectIcon",Une=C.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(kt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});Une.displayName=fDe;var hDe="SelectPortal",Dne=e=>s.jsx(by,{asChild:!0,...e});Dne.displayName=hDe;var yp="SelectContent",Mne=C.forwardRef((e,t)=>{const r=Hh(yp,e.__scopeSelect),[n,a]=C.useState();if(Sa(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?wy.createPortal(s.jsx(Qne,{scope:e.__scopeSelect,children:s.jsx(OC.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(Hne,{...e,ref:t})});Mne.displayName=yp;var iu=10,[Qne,$h]=zy(yp),mDe="SelectContentImpl",pDe=gh("SelectContent.RemoveScroll"),Hne=C.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:A,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:v,...x}=e,b=Hh(yp,r),[j,_]=C.useState(null),[N,B]=C.useState(null),T=Qr(t,ce=>_(ce)),[O,P]=C.useState(null),[M,I]=C.useState(null),D=IC(r),[$,F]=C.useState(!1),V=C.useRef(!1);C.useEffect(()=>{if(j)return DN(j)},[j]),LN();const X=C.useCallback(ce=>{const[we,...ge]=D().map(Ne=>Ne.ref.current),[je]=ge.slice(-1),Oe=document.activeElement;for(const Ne of ce)if(Ne===Oe||(Ne?.scrollIntoView({block:"nearest"}),Ne===we&&N&&(N.scrollTop=0),Ne===je&&N&&(N.scrollTop=N.scrollHeight),Ne?.focus(),document.activeElement!==Oe))return},[D,N]),K=C.useCallback(()=>X([O,j]),[X,O,j]);C.useEffect(()=>{$&&K()},[$,K]);const{onOpenChange:W,triggerPointerDownPosRef:z}=b;C.useEffect(()=>{if(j){let ce={x:0,y:0};const we=je=>{ce={x:Math.abs(Math.round(je.pageX)-(z.current?.x??0)),y:Math.abs(Math.round(je.pageY)-(z.current?.y??0))}},ge=je=>{ce.x<=10&&ce.y<=10?je.preventDefault():j.contains(je.target)||W(!1),document.removeEventListener("pointermove",we),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",ge,{capture:!0})}}},[j,W,z]),C.useEffect(()=>{const ce=()=>W(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[W]);const[te,G]=ase(ce=>{const we=D().filter(Oe=>!Oe.disabled),ge=we.find(Oe=>Oe.ref.current===document.activeElement),je=ise(we,ce,ge);je&&setTimeout(()=>je.ref.current.focus())}),U=C.useCallback((ce,we,ge)=>{const je=!V.current&&!ge;(b.value!==void 0&&b.value===we||je)&&(P(ce),je&&(V.current=!0))},[b.value]),Y=C.useCallback(()=>j?.focus(),[j]),ee=C.useCallback((ce,we,ge)=>{const je=!V.current&&!ge;(b.value!==void 0&&b.value===we||je)&&I(ce)},[b.value]),ae=n==="popper"?bI:$ne,Ae=ae===bI?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:A,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:v}:{};return s.jsx(Qne,{scope:r,content:j,viewport:N,onViewportChange:B,itemRefCallback:U,selectedItem:O,onItemLeave:Y,itemTextRefCallback:ee,focusSelectedItem:K,selectedItemText:M,position:n,isPositioned:$,searchRef:te,children:s.jsx(cb,{as:pDe,allowPinchZoom:!0,children:s.jsx(ob,{asChild:!0,trapped:b.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:yt(a,ce=>{b.trigger?.focus({preventScroll:!0}),ce.preventDefault()}),children:s.jsx(kp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(ae,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ce=>ce.preventDefault(),...x,...Ae,onPlaced:()=>F(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:yt(x.onKeyDown,ce=>{const we=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!we&&ce.key.length===1&&G(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let je=D().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const Oe=ce.target,Ne=je.indexOf(Oe);je=je.slice(Ne+1)}setTimeout(()=>X(je)),ce.preventDefault()}})})})})})})});Hne.displayName=mDe;var gDe="SelectItemAlignedPosition",$ne=C.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Hh(yp,r),o=$h(yp,r),[l,c]=C.useState(null),[u,d]=C.useState(null),A=Qr(t,T=>d(T)),h=IC(r),m=C.useRef(!1),y=C.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:x,focusSelectedItem:b}=o,j=C.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&v&&x){const T=i.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),M=x.getBoundingClientRect();if(i.dir!=="rtl"){const Oe=M.left-O.left,Ne=P.left-Oe,et=T.left-Ne,nt=T.width+et,le=Math.max(nt,O.width),lt=window.innerWidth-iu,Pt=ZT(Ne,[iu,Math.max(iu,lt-le)]);l.style.minWidth=nt+"px",l.style.left=Pt+"px"}else{const Oe=O.right-M.right,Ne=window.innerWidth-P.right-Oe,et=window.innerWidth-T.right-Ne,nt=T.width+et,le=Math.max(nt,O.width),lt=window.innerWidth-iu,Pt=ZT(Ne,[iu,Math.max(iu,lt-le)]);l.style.minWidth=nt+"px",l.style.right=Pt+"px"}const I=h(),D=window.innerHeight-iu*2,$=g.scrollHeight,F=window.getComputedStyle(u),V=parseInt(F.borderTopWidth,10),X=parseInt(F.paddingTop,10),K=parseInt(F.borderBottomWidth,10),W=parseInt(F.paddingBottom,10),z=V+X+$+W+K,te=Math.min(v.offsetHeight*5,z),G=window.getComputedStyle(g),U=parseInt(G.paddingTop,10),Y=parseInt(G.paddingBottom,10),ee=T.top+T.height/2-iu,ae=D-ee,Ae=v.offsetHeight/2,ce=v.offsetTop+Ae,we=V+X+ce,ge=z-we;if(we<=ee){const Oe=I.length>0&&v===I[I.length-1].ref.current;l.style.bottom="0px";const Ne=u.clientHeight-g.offsetTop-g.offsetHeight,et=Math.max(ae,Ae+(Oe?Y:0)+Ne+K),nt=we+et;l.style.height=nt+"px"}else{const Oe=I.length>0&&v===I[0].ref.current;l.style.top="0px";const et=Math.max(ee,V+g.offsetTop+(Oe?U:0)+Ae)+ge;l.style.height=et+"px",g.scrollTop=we-ee+g.offsetTop}l.style.margin=`${iu}px 0`,l.style.minHeight=te+"px",l.style.maxHeight=D+"px",n?.(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,g,v,x,i.dir,n]);Sa(()=>j(),[j]);const[_,N]=C.useState();Sa(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const B=C.useCallback(T=>{T&&y.current===!0&&(j(),b?.(),y.current=!1)},[j,b]);return s.jsx(yDe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:B,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:s.jsx(kt.div,{...a,ref:A,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});$ne.displayName=gDe;var vDe="SelectPopperPosition",bI=C.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=iu,...i}=e,o=FC(r);return s.jsx(jN,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bI.displayName=vDe;var[yDe,lL]=zy(yp,{}),jI="SelectViewport",Vne=C.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=$h(jI,r),o=lL(jI,r),l=Qr(t,i.onViewportChange),c=C.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(OC.Slot,{scope:r,children:s.jsx(kt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:yt(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:A,shouldExpandOnScrollRef:h}=o;if(h?.current&&A){const m=Math.abs(c.current-d.scrollTop);if(m>0){const y=window.innerHeight-iu*2,g=parseFloat(A.style.minHeight),v=parseFloat(A.style.height),x=Math.max(g,v);if(x<y){const b=x+m,j=Math.min(y,b),_=b-j;A.style.height=j+"px",A.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,A.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Vne.displayName=jI;var qne="SelectGroup",[xDe,wDe]=zy(qne),bDe=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=vi();return s.jsx(xDe,{scope:r,id:a,children:s.jsx(kt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});bDe.displayName=qne;var Kne="SelectLabel",zne=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=wDe(Kne,r);return s.jsx(kt.div,{id:a.id,...n,ref:t})});zne.displayName=Kne;var H_="SelectItem",[jDe,Wne]=zy(H_),Gne=C.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Hh(H_,r),c=$h(H_,r),u=l.value===n,[d,A]=C.useState(i??""),[h,m]=C.useState(!1),y=Qr(t,b=>c.itemRefCallback?.(b,n,a)),g=vi(),v=C.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(jDe,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:C.useCallback(b=>{A(j=>j||(b?.textContent??"").trim())},[]),children:s.jsx(OC.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(kt.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:yt(o.onFocus,()=>m(!0)),onBlur:yt(o.onBlur,()=>m(!1)),onClick:yt(o.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:yt(o.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:yt(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:yt(o.onPointerMove,b=>{v.current=b.pointerType,a?c.onItemLeave?.():v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:yt(o.onPointerLeave,b=>{b.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:yt(o.onKeyDown,b=>{c.searchRef?.current!==""&&b.key===" "||(lDe.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});Gne.displayName=H_;var s0="SelectItemText",Yne=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Hh(s0,r),l=$h(s0,r),c=Wne(s0,r),u=ADe(s0,r),[d,A]=C.useState(null),h=Qr(t,x=>A(x),c.onItemTextChange,x=>l.itemTextRefCallback?.(x,c.value,c.disabled)),m=d?.textContent,y=C.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return Sa(()=>(g(y),()=>v(y)),[g,v,y]),s.jsxs(s.Fragment,{children:[s.jsx(kt.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?wy.createPortal(i.children,o.valueNode):null]})});Yne.displayName=s0;var Xne="SelectItemIndicator",Jne=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Wne(Xne,r).isSelected?s.jsx(kt.span,{"aria-hidden":!0,...n,ref:t}):null});Jne.displayName=Xne;var _I="SelectScrollUpButton",Zne=C.forwardRef((e,t)=>{const r=$h(_I,e.__scopeSelect),n=lL(_I,e.__scopeSelect),[a,i]=C.useState(!1),o=Qr(t,n.onScrollButtonChange);return Sa(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(tse,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Zne.displayName=_I;var NI="SelectScrollDownButton",ese=C.forwardRef((e,t)=>{const r=$h(NI,e.__scopeSelect),n=lL(NI,e.__scopeSelect),[a,i]=C.useState(!1),o=Qr(t,n.onScrollButtonChange);return Sa(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(tse,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});ese.displayName=NI;var tse=C.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=$h("SelectScrollButton",r),o=C.useRef(null),l=IC(r),c=C.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return C.useEffect(()=>()=>c(),[c]),Sa(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(kt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:yt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:yt(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:yt(a.onPointerLeave,()=>{c()})})}),_De="SelectSeparator",rse=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(kt.div,{"aria-hidden":!0,...n,ref:t})});rse.displayName=_De;var CI="SelectArrow",NDe=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=FC(r),i=Hh(CI,r),o=$h(CI,r);return i.open&&o.position==="popper"?s.jsx(_N,{...a,...n,ref:t}):null});NDe.displayName=CI;var CDe="SelectBubbleInput",nse=C.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=C.useRef(null),i=Qr(n,a),o=O3(t);return C.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const A=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(A)}},[o,t]),s.jsx(kt.select,{...r,style:{...lW,...r.style},ref:i,defaultValue:t})});nse.displayName=CDe;function sse(e){return e===""||e===void 0}function ase(e){const t=la(e),r=C.useRef(""),n=C.useRef(0),a=C.useCallback(o=>{const l=r.current+o;t(l),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),i=C.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function ise(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=SDe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function SDe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var BDe=One,ose=Fne,EDe=Lne,kDe=Une,PDe=Dne,lse=Mne,TDe=Vne,cse=zne,use=Gne,ODe=Yne,IDe=Jne,dse=Zne,Ase=ese,fse=rse;const ar=BDe,lr=EDe,ir=C.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(ose,{ref:n,className:st("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(kDe,{asChild:!0,children:s.jsx(Ov,{className:"h-4 w-4 opacity-50"})})]}));ir.displayName=ose.displayName;const hse=C.forwardRef(({className:e,...t},r)=>s.jsx(dse,{ref:r,className:st("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(uue,{className:"h-4 w-4"})}));hse.displayName=dse.displayName;const mse=C.forwardRef(({className:e,...t},r)=>s.jsx(Ase,{ref:r,className:st("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Ov,{className:"h-4 w-4"})}));mse.displayName=Ase.displayName;const or=C.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(PDe,{children:s.jsxs(lse,{ref:a,className:st("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(hse,{}),s.jsx(TDe,{className:st("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(mse,{})]})}));or.displayName=lse.displayName;const FDe=C.forwardRef(({className:e,...t},r)=>s.jsx(cse,{ref:r,className:st("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));FDe.displayName=cse.displayName;const Fe=C.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(use,{ref:n,className:st("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(IDe,{children:s.jsx(CF,{className:"h-4 w-4"})})}),s.jsx(ODe,{children:t})]}));Fe.displayName=use.displayName;const RDe=C.forwardRef(({className:e,...t},r)=>s.jsx(fse,{ref:r,className:st("-mx-1 my-1 h-px bg-muted",e),...t}));RDe.displayName=fse.displayName;const LDe=()=>{const e=In(),[t,r]=C.useState(""),[n,a]=C.useState(null),[i,o]=C.useState(""),[l,c]=C.useState(!1),[u,d]=C.useState({email:"",password:"",full_name:"",role:"user",organization_id:""}),{data:A=[],isLoading:h}=Ir({queryKey:["super-admin-users"],queryFn:async()=>{const{data:_,error:N}=await be.from("profiles").select("id, email, full_name, organization_id, created_at").order("created_at",{ascending:!1});if(N)throw N;const{data:B}=await be.from("user_roles").select("user_id, role"),{data:T}=await be.from("organizations").select("id, name"),O=new Map(T?.map(M=>[M.id,M.name])||[]),P=new Map;return B?.forEach(M=>{const I=P.get(M.user_id)||[];I.push(M.role),P.set(M.user_id,I)}),(_||[]).map(M=>({...M,roles:P.get(M.id)||[],org_name:M.organization_id?O.get(M.organization_id):void 0}))}}),{data:m=[]}=Ir({queryKey:["super-admin-orgs-list"],queryFn:async()=>{const{data:_,error:N}=await be.from("organizations").select("id, name");if(N)throw N;return _||[]}}),y=er({mutationFn:async _=>{const{data:N}=await be.auth.getSession(),B=await be.functions.invoke("create-user",{body:{email:_.email,password:_.password,full_name:_.full_name,role:_.role,organization_id:_.organization_id||null}});if(B.error)throw B.error;if(B.data?.error)throw new Error(B.data.error);return B.data},onSuccess:()=>{e.invalidateQueries({queryKey:["super-admin-users"]}),He.success("User created successfully"),c(!1),d({email:"",password:"",full_name:"",role:"user",organization_id:""})},onError:_=>He.error(_.message||"Failed to create user")}),g=er({mutationFn:async({userId:_,role:N})=>{await be.from("user_roles").delete().eq("user_id",_);const{error:B}=await be.from("user_roles").insert({user_id:_,role:N});if(B)throw B},onSuccess:()=>{e.invalidateQueries({queryKey:["super-admin-users"]}),He.success("User role updated successfully"),a(null)},onError:_=>He.error(_.message)}),v=er({mutationFn:async _=>{const{error:N}=await be.from("user_roles").delete().eq("user_id",_);if(N)throw N},onSuccess:()=>{e.invalidateQueries({queryKey:["super-admin-users"]}),He.success("User roles removed")},onError:_=>He.error(_.message)}),x=A.filter(_=>_.email?.toLowerCase().includes(t.toLowerCase())||_.full_name?.toLowerCase().includes(t.toLowerCase())),b={super_admin:"bg-destructive/10 text-destructive border-destructive/20",admin:"bg-primary/10 text-primary border-primary/20",manager:"bg-warning/10 text-warning border-warning/20",user:"bg-muted text-muted-foreground",tenant:"bg-success/10 text-success border-success/20",staff:"bg-blue-500/10 text-blue-600 border-blue-500/20"},j={super_admin:"Platform Super Admin",admin:"Organization Admin",manager:"Manager",user:"User",tenant:"Tenant",staff:"Staff"};return s.jsx(GA,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"User Management"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"View and manage all users across all organizations."})]}),s.jsxs(de,{onClick:()=>c(!0),className:"gap-2",children:[s.jsx(wu,{className:"w-4 h-4"})," Create User"]})]}),s.jsxs("div",{className:"relative w-full md:w-96",children:[s.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(it,{placeholder:"Search users by name or email...",className:"pl-10",value:t,onChange:_=>r(_.target.value)})]}),s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card overflow-hidden",children:s.jsxs(Ui,{children:[s.jsx(Di,{children:s.jsxs(jr,{className:"border-border/50",children:[s.jsx(ht,{children:"User"}),s.jsx(ht,{children:"Role"}),s.jsx(ht,{children:"Organization"}),s.jsx(ht,{children:"Joined"}),s.jsx(ht,{className:"w-12"})]})}),s.jsx(Mi,{children:h?s.jsx(jr,{children:s.jsx(ct,{colSpan:5,className:"text-center py-12 text-muted-foreground",children:"Loading users..."})}):x.length===0?s.jsx(jr,{children:s.jsx(ct,{colSpan:5,className:"text-center py-12 text-muted-foreground",children:"No users found"})}):x.map(_=>s.jsxs(jr,{className:"border-border/30 hover:bg-muted/30",children:[s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-full bg-primary/10 flex items-center justify-center text-sm font-bold text-primary",children:(_.full_name||_.email)?.[0]?.toUpperCase()}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:_.full_name||""}),s.jsx("div",{className:"text-xs text-muted-foreground",children:_.email})]})]})}),s.jsx(ct,{children:s.jsx("div",{className:"flex gap-1 flex-wrap",children:_.roles.length>0?_.roles.map(N=>s.jsx(Ze,{variant:"outline",className:b[N]||"",children:j[N]||N},N)):s.jsx("span",{className:"text-muted-foreground text-sm",children:"None"})})}),s.jsx(ct,{children:s.jsx("span",{className:"text-sm text-muted-foreground",children:_.org_name||""})}),s.jsx(ct,{children:s.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(_.created_at).toLocaleDateString()})}),s.jsx(ct,{children:s.jsxs(cl,{children:[s.jsx(ul,{asChild:!0,children:s.jsx(de,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(Th,{className:"w-4 h-4"})})}),s.jsxs(Fo,{align:"end",children:[s.jsxs(qr,{onClick:()=>{a(_),o(_.roles[0]||"")},children:[s.jsx(hl,{className:"w-4 h-4 mr-2"})," Change Role"]}),s.jsxs(qr,{className:"text-destructive",onClick:()=>v.mutate(_.id),children:[s.jsx(yi,{className:"w-4 h-4 mr-2"})," Remove Roles"]})]})]})})]},_.id))})]})}),s.jsx(dn,{open:!!n,onOpenChange:_=>!_&&a(null),children:s.jsxs(an,{children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Change User Role"}),s.jsxs(_n,{children:["Update role for ",n?.full_name||n?.email]})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Select Role"}),s.jsxs(ar,{value:i,onValueChange:o,children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Choose a role"})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"super_admin",children:"Platform Super Admin"}),s.jsx(Fe,{value:"admin",children:"Organization Admin"}),s.jsx(Fe,{value:"manager",children:"Manager"}),s.jsx(Fe,{value:"user",children:"User"}),s.jsx(Fe,{value:"tenant",children:"Tenant"}),s.jsx(Fe,{value:"staff",children:"Staff"})]})]})]})}),s.jsxs(Qa,{children:[s.jsx(de,{variant:"outline",onClick:()=>a(null),children:"Cancel"}),s.jsx(de,{onClick:()=>{n&&i&&g.mutate({userId:n.id,role:i})},disabled:g.isPending,children:g.isPending?"Updating...":"Update Role"})]})]})}),s.jsx(dn,{open:l,onOpenChange:c,children:s.jsxs(an,{className:"sm:max-w-md",children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Create New User"}),s.jsx(_n,{children:"Add a new user to the platform with a specific role."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{children:"Full Name"}),s.jsx(it,{placeholder:"John Doe",value:u.full_name,onChange:_=>d({...u,full_name:_.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{children:"Email"}),s.jsx(it,{type:"email",placeholder:"john@example.com",value:u.email,onChange:_=>d({...u,email:_.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{children:"Password"}),s.jsx(it,{type:"password",placeholder:"Minimum 6 characters",value:u.password,onChange:_=>d({...u,password:_.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{children:"Role"}),s.jsxs(ar,{value:u.role,onValueChange:_=>d({...u,role:_}),children:[s.jsx(ir,{children:s.jsx(lr,{})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"super_admin",children:"Platform Super Admin"}),s.jsx(Fe,{value:"admin",children:"Organization Admin"}),s.jsx(Fe,{value:"manager",children:"Manager"}),s.jsx(Fe,{value:"user",children:"User"}),s.jsx(Fe,{value:"tenant",children:"Tenant"}),s.jsx(Fe,{value:"staff",children:"Staff"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{children:"Organization (Optional)"}),s.jsxs(ar,{value:u.organization_id,onValueChange:_=>d({...u,organization_id:_}),children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select organization"})}),s.jsx(or,{children:m.map(_=>s.jsx(Fe,{value:_.id,children:_.name},_.id))})]})]})]}),s.jsxs(Qa,{children:[s.jsx(de,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(de,{onClick:()=>y.mutate(u),disabled:y.isPending||!u.email||!u.password,children:y.isPending?"Creating...":"Create User"})]})]})})]})})},Le=C.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:st("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Le.displayName="Card";const pt=C.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:st("flex flex-col space-y-1.5 p-6",e),...t}));pt.displayName="CardHeader";const gt=C.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:st("text-2xl font-semibold leading-none tracking-tight",e),...t}));gt.displayName="CardTitle";const Wr=C.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:st("text-sm text-muted-foreground",e),...t}));Wr.displayName="CardDescription";const De=C.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:st("p-6 pt-0",e),...t}));De.displayName="CardContent";const UDe=C.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:st("flex items-center p-6 pt-0",e),...t}));UDe.displayName="CardFooter";const XV=["hsl(var(--primary))","hsl(var(--destructive))","hsl(var(--warning, 45 93% 47%))","hsl(var(--success))","hsl(var(--muted-foreground))"],DDe=()=>{const e=In(),[t,r]=C.useState(""),[n,a]=C.useState("all"),[i,o]=C.useState("all"),[l,c]=C.useState("24h"),[u,d]=C.useState(!0),{data:A=[],isLoading:h}=Ir({queryKey:["super-admin-activity-logs",n,i,l],queryFn:async()=>{let j=be.from("activity_log").select("*").order("created_at",{ascending:!1}).limit(200);n!=="all"&&(j=j.eq("action",n)),i!=="all"&&(j=j.eq("entity_type",i));const _=new Date;let N=null;switch(l){case"1h":N=new Date(_.getTime()-3600*1e3);break;case"24h":N=new Date(_.getTime()-1440*60*1e3);break;case"7d":N=new Date(_.getTime()-10080*60*1e3);break;case"30d":N=new Date(_.getTime()-720*60*60*1e3);break}N&&(j=j.gte("created_at",N.toISOString()));const{data:B,error:T}=await j;if(T)throw T;return B||[]},refetchInterval:u?5e3:!1}),{data:m={hourlyData:[],actionData:[],entityData:[],total24h:0}}=Ir({queryKey:["super-admin-activity-analytics"],queryFn:async()=>{const j=new Date,_=new Date(j.getTime()-1440*60*1e3),{data:N}=await be.from("activity_log").select("action, entity_type, created_at").gte("created_at",_.toISOString()),B=[];for(let I=23;I>=0;I--){const D=new Date;D.setHours(D.getHours()-I),D.setMinutes(0,0,0);const $=new Date(D);$.setHours($.getHours()+1);const F=N?.filter(V=>{const X=new Date(V.created_at);return X>=D&&X<$}).length||0;B.push({hour:D.getHours()===0?"12AM":D.getHours()>12?`${D.getHours()-12}PM`:`${D.getHours()}AM`,count:F})}const T=N?.reduce((I,D)=>(I[D.action]=(I[D.action]||0)+1,I),{})||{},O=Object.entries(T).map(([I,D])=>({name:I,value:D})),P=N?.reduce((I,D)=>(I[D.entity_type]=(I[D.entity_type]||0)+1,I),{})||{},M=Object.entries(P).map(([I,D])=>({name:I,value:D}));return{hourlyData:B,actionData:O,entityData:M,total24h:N?.length||0}},refetchInterval:u?1e4:!1}),y=A.filter(j=>!t||j.action.toLowerCase().includes(t.toLowerCase())||j.entity_type.toLowerCase().includes(t.toLowerCase())||j.details&&JSON.stringify(j.details).toLowerCase().includes(t.toLowerCase())),g=j=>{switch(j){case"create":return s.jsx(Gr,{className:"w-4 h-4 text-green-500"});case"update":return s.jsx(Rs,{className:"w-4 h-4 text-blue-500"});case"delete":return s.jsx(xi,{className:"w-4 h-4 text-red-500"});case"login":return s.jsx(Nr,{className:"w-4 h-4 text-purple-500"});case"logout":return s.jsx(Nr,{className:"w-4 h-4 text-gray-500"});default:return s.jsx(Hl,{className:"w-4 h-4 text-muted-foreground"})}},v=j=>{switch(j){case"create":return"bg-success/10 text-success border-success/20";case"update":return"bg-blue-500/10 text-blue-600 border-blue-500/20";case"delete":return"bg-destructive/10 text-destructive border-destructive/20";case"login":return"bg-purple-500/10 text-purple-600 border-purple-500/20";case"logout":return"bg-gray-500/10 text-gray-600 border-gray-500/20";default:return"bg-muted text-muted-foreground"}},x=j=>{switch(j){case"user":return s.jsx(Nr,{className:"w-4 h-4"});case"organization":return s.jsx(sn,{className:"w-4 h-4"});case"property":return s.jsx(ll,{className:"w-4 h-4"});case"role":return s.jsx(Lo,{className:"w-4 h-4"});case"settings":return s.jsx(Is,{className:"w-4 h-4"});case"invoice":return s.jsx(ur,{className:"w-4 h-4"});default:return s.jsx(ll,{className:"w-4 h-4"})}},b=()=>{const j=[["Action","Entity Type","Entity ID","User ID","Timestamp","Details"].join(","),...y.map(T=>[T.action,T.entity_type,T.entity_id||"",T.user_id||"",new Date(T.created_at).toISOString(),JSON.stringify(T.details||"")].join(","))].join(`
`),_=new Blob([j],{type:"text/csv"}),N=URL.createObjectURL(_),B=document.createElement("a");B.href=N,B.download=`activity-logs-${new Date().toISOString().split("T")[0]}.csv`,B.click(),URL.revokeObjectURL(N),He.success("Activity logs exported successfully")};return s.jsx(GA,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Activity Logs"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Real-time system activity monitoring and audit trail"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Ze,{variant:"outline",className:"gap-1",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${u?"bg-green-500 animate-pulse":"bg-gray-400"}`}),u?"Live":"Paused"]}),s.jsxs(de,{variant:"outline",size:"sm",onClick:()=>d(!u),className:"gap-2",children:[u?s.jsx(ca,{className:"w-4 h-4"}):s.jsx(Rs,{className:"w-4 h-4"}),u?"Auto-refresh":"Manual"]}),s.jsxs(de,{variant:"outline",onClick:b,className:"gap-2",children:[s.jsx(Ro,{className:"w-4 h-4"})," Export CSV"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Le,{className:"glass-card",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Last 24h"}),s.jsx("p",{className:"text-2xl font-bold",children:m.total24h})]}),s.jsx(Hl,{className:"w-8 h-8 text-primary"})]})})}),s.jsx(Le,{className:"glass-card",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Logs"}),s.jsx("p",{className:"text-2xl font-bold",children:A.length})]}),s.jsx(ll,{className:"w-8 h-8 text-blue-500"})]})})}),s.jsx(Le,{className:"glass-card",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Actions"}),s.jsx("p",{className:"text-2xl font-bold",children:m.actionData.length})]}),s.jsx(Al,{className:"w-8 h-8 text-green-500"})]})})}),s.jsx(Le,{className:"glass-card",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Entities"}),s.jsx("p",{className:"text-2xl font-bold",children:m.entityData.length})]}),s.jsx(sn,{className:"w-8 h-8 text-purple-500"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"lg:col-span-2 glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Hourly Activity (Last 24h)"}),s.jsx(Hl,{className:"w-5 h-5 text-primary"})]}),s.jsx(Ua,{width:"100%",height:250,children:s.jsxs(BC,{data:m.hourlyData,children:[s.jsx(Fi,{dataKey:"hour",stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(Ri,{stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(ss,{contentStyle:{background:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:8}}),s.jsx($A,{type:"monotone",dataKey:"count",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",r:4}})]})})]}),s.jsxs(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Actions"}),s.jsx(Al,{className:"w-5 h-5 text-green-500"})]}),s.jsx(Ua,{width:"100%",height:250,children:s.jsxs(fh,{children:[s.jsx(Ao,{data:m.actionData,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:({name:j,value:_})=>`${j}: ${_}`,children:m.actionData.map((j,_)=>s.jsx(gu,{fill:XV[_%XV.length]},_))}),s.jsx(ss,{})]})})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(it,{placeholder:"Search logs...",className:"pl-10",value:t,onChange:j=>r(j.target.value)})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs(ar,{value:n,onValueChange:a,children:[s.jsx(ir,{className:"w-32",children:s.jsx(lr,{placeholder:"Action"})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"all",children:"All Actions"}),s.jsx(Fe,{value:"create",children:"Create"}),s.jsx(Fe,{value:"update",children:"Update"}),s.jsx(Fe,{value:"delete",children:"Delete"}),s.jsx(Fe,{value:"login",children:"Login"}),s.jsx(Fe,{value:"logout",children:"Logout"})]})]}),s.jsxs(ar,{value:i,onValueChange:o,children:[s.jsx(ir,{className:"w-32",children:s.jsx(lr,{placeholder:"Entity"})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"all",children:"All Entities"}),s.jsx(Fe,{value:"user",children:"User"}),s.jsx(Fe,{value:"organization",children:"Organization"}),s.jsx(Fe,{value:"property",children:"Property"}),s.jsx(Fe,{value:"role",children:"Role"}),s.jsx(Fe,{value:"settings",children:"Settings"})]})]}),s.jsxs(ar,{value:l,onValueChange:c,children:[s.jsx(ir,{className:"w-32",children:s.jsx(lr,{placeholder:"Time"})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"1h",children:"Last Hour"}),s.jsx(Fe,{value:"24h",children:"Last 24h"}),s.jsx(Fe,{value:"7d",children:"Last 7 Days"}),s.jsx(Fe,{value:"30d",children:"Last 30 Days"})]})]}),s.jsxs(de,{variant:"outline",size:"sm",onClick:()=>e.invalidateQueries({queryKey:["super-admin-activity-logs"]}),className:"gap-2",children:[s.jsx(Rs,{className:"w-4 h-4"})," Refresh"]})]})]}),s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card overflow-hidden",children:s.jsxs(Ui,{children:[s.jsx(Di,{children:s.jsxs(jr,{className:"border-border/50",children:[s.jsx(ht,{children:"Action"}),s.jsx(ht,{children:"Entity"}),s.jsx(ht,{children:"User"}),s.jsx(ht,{children:"Details"}),s.jsx(ht,{children:"Time"})]})}),s.jsx(Mi,{children:h?s.jsx(jr,{children:s.jsx(ct,{colSpan:5,className:"text-center py-12 text-muted-foreground",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Rs,{className:"w-4 h-4 animate-spin"}),"Loading activity logs..."]})})}):y.length===0?s.jsx(jr,{children:s.jsx(ct,{colSpan:5,className:"text-center py-12 text-muted-foreground",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(Hl,{className:"w-12 h-12 mx-auto opacity-30"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"No activity logs found"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Try adjusting your filters or time range"})]})]})})}):y.map(j=>s.jsxs(jr,{className:"border-border/30 hover:bg-muted/30",children:[s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[g(j.action),s.jsx(Ze,{variant:"outline",className:v(j.action),children:j.action})]})}),s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[x(j.entity_type),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium capitalize",children:j.entity_type}),j.entity_id&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",j.entity_id.slice(0,8),"..."]})]})]})}),s.jsx(ct,{children:s.jsx("div",{className:"text-sm text-muted-foreground",children:j.user_id?`ID: ${j.user_id.slice(0,8)}...`:"System"})}),s.jsx(ct,{children:s.jsx("div",{className:"text-sm",children:j.details?s.jsx("div",{className:"max-w-xs truncate",title:JSON.stringify(j.details),children:typeof j.details=="string"?j.details:JSON.stringify(j.details)}):s.jsx("span",{className:"text-muted-foreground",children:""})})}),s.jsx(ct,{children:s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("div",{children:new Date(j.created_at).toLocaleDateString()}),s.jsx("div",{className:"text-xs",children:new Date(j.created_at).toLocaleTimeString()})]})})]},j.id))})]})})]})})};var RC="Tabs",[MDe]=$i(RC,[UN]),pse=UN(),[QDe,cL]=MDe(RC),gse=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=ib(l),[A,h]=xu({prop:n,onChange:a,defaultProp:i??"",caller:RC});return s.jsx(QDe,{scope:r,baseId:vi(),value:A,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(kt.div,{dir:d,"data-orientation":o,...u,ref:t})})});gse.displayName=RC;var vse="TabsList",yse=C.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=cL(vse,r),o=pse(r);return s.jsx(hJ,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(kt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});yse.displayName=vse;var xse="TabsTrigger",wse=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=cL(xse,r),l=pse(r),c=_se(o.baseId,n),u=Nse(o.baseId,n),d=n===o.value;return s.jsx(mJ,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(kt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:yt(e.onMouseDown,A=>{!a&&A.button===0&&A.ctrlKey===!1?o.onValueChange(n):A.preventDefault()}),onKeyDown:yt(e.onKeyDown,A=>{[" ","Enter"].includes(A.key)&&o.onValueChange(n)}),onFocus:yt(e.onFocus,()=>{const A=o.activationMode!=="manual";!d&&!a&&A&&o.onValueChange(n)})})})});wse.displayName=xse;var bse="TabsContent",jse=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=cL(bse,r),c=_se(l.baseId,n),u=Nse(l.baseId,n),d=n===l.value,A=C.useRef(d);return C.useEffect(()=>{const h=requestAnimationFrame(()=>A.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(wi,{present:a||d,children:({present:h})=>s.jsx(kt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:A.current?"0s":void 0},children:h&&i})})});jse.displayName=bse;function _se(e,t){return`${e}-trigger-${t}`}function Nse(e,t){return`${e}-content-${t}`}var HDe=gse,Cse=yse,Sse=wse,Bse=jse;const kd=HDe,Pu=C.forwardRef(({className:e,...t},r)=>s.jsx(Cse,{ref:r,className:st("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Pu.displayName=Cse.displayName;const Zr=C.forwardRef(({className:e,...t},r)=>s.jsx(Sse,{ref:r,className:st("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Zr.displayName=Sse.displayName;const hn=C.forwardRef(({className:e,...t},r)=>s.jsx(Bse,{ref:r,className:st("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));hn.displayName=Bse.displayName;const $De=["view_properties","create_properties","edit_properties","delete_properties","view_tenants","create_tenants","edit_tenants","delete_tenants","view_units","create_units","edit_units","delete_units","view_billing","create_billing","edit_billing","delete_billing","view_payments","create_payments","edit_payments","delete_payments","view_maintenance","create_maintenance","edit_maintenance","delete_maintenance","view_analytics","manage_users","manage_organization","view_settings","tenant_dashboard","tenant_profile","tenant_documents","tenant_family_members","tenant_bills","tenant_payments","staff_dashboard","staff_maintenance","staff_properties","user_dashboard","user_journey","user_properties","user_tenants","user_reports","user_operations","admin_dashboard","admin_users","admin_organization","admin_billing","admin_reports","admin_settings","manager_dashboard","manager_properties","manager_tenants","manager_reports","manager_settings","super_admin_dashboard","super_admin_users","super_admin_organizations","super_admin_subscriptions","super_admin_analytics","super_admin_database","super_admin_settings","guest_dashboard","guest_view_properties"],VDe={admin:["view_properties","create_properties","edit_properties","delete_properties","view_tenants","create_tenants","edit_tenants","delete_tenants","view_units","create_units","edit_units","delete_units","view_billing","create_billing","edit_billing","delete_billing","view_payments","create_payments","edit_payments","delete_payments","view_maintenance","create_maintenance","edit_maintenance","delete_maintenance","view_analytics","manage_users","manage_organization","view_settings","admin_dashboard","admin_users","admin_organization","admin_billing","admin_reports","admin_settings"],manager:["view_properties","create_properties","edit_properties","view_tenants","create_tenants","edit_tenants","view_units","create_units","edit_units","view_billing","create_billing","edit_billing","view_payments","create_payments","edit_payments","view_maintenance","create_maintenance","edit_maintenance","view_analytics","view_settings","manager_dashboard","manager_properties","manager_tenants","manager_reports","manager_settings"],user:["view_properties","create_properties","edit_properties","view_tenants","create_tenants","edit_tenants","view_units","create_units","edit_units","view_billing","create_billing","edit_billing","view_payments","create_payments","edit_payments","view_maintenance","create_maintenance","edit_maintenance","view_analytics","view_settings","user_dashboard","user_journey","user_properties","user_tenants","user_reports","user_operations"],tenant:["tenant_dashboard","tenant_profile","tenant_documents","tenant_family_members","tenant_bills","tenant_payments"],staff:["staff_dashboard","staff_maintenance","staff_properties","view_properties","view_units","view_maintenance","create_maintenance","edit_maintenance","view_settings"]},qDe=[{name:"Full Access",icon:s.jsx(OW,{className:"w-4 h-4"}),description:"All permissions enabled",color:"bg-destructive/10 text-destructive border-destructive/20 hover:bg-destructive/20",permissions:[...$De]},{name:"Read Only",icon:s.jsx(si,{className:"w-4 h-4"}),description:"View-only across all modules",color:"bg-blue-500/10 text-blue-600 border-blue-500/20 hover:bg-blue-500/20",permissions:["view_properties","view_tenants","view_units","view_billing","view_payments","view_maintenance","view_analytics","view_settings"]},{name:"Maintenance Only",icon:s.jsx(Ma,{className:"w-4 h-4"}),description:"Maintenance + property viewing",color:"bg-warning/10 text-warning border-warning/20 hover:bg-warning/20",permissions:["view_maintenance","create_maintenance","edit_maintenance","view_properties","view_units","view_settings"]},{name:"Manager",icon:s.jsx(DW,{className:"w-4 h-4"}),description:"Full CRUD without delete or admin",color:"bg-primary/10 text-primary border-primary/20 hover:bg-primary/20",permissions:["view_properties","create_properties","edit_properties","view_tenants","create_tenants","edit_tenants","view_units","create_units","edit_units","view_billing","create_billing","edit_billing","view_payments","create_payments","edit_payments","view_maintenance","create_maintenance","edit_maintenance","view_analytics","view_settings"]},{name:"Tenant Portal",icon:s.jsx(aue,{className:"w-4 h-4"}),description:"Tenant dashboard & self-service",color:"bg-accent/50 text-accent-foreground border-accent/30 hover:bg-accent/70",permissions:["tenant_dashboard","tenant_profile","tenant_documents","tenant_family_members","tenant_bills","tenant_payments"]},{name:"Clear All",icon:s.jsx(mue,{className:"w-4 h-4"}),description:"Remove all permissions",color:"bg-muted text-muted-foreground border-border hover:bg-muted/80",permissions:[]}],KDe=[{category:"Properties",permissions:[{key:"view_properties",label:"View Properties"},{key:"create_properties",label:"Create Properties"},{key:"edit_properties",label:"Edit Properties"},{key:"delete_properties",label:"Delete Properties"}]},{category:"Tenants",permissions:[{key:"view_tenants",label:"View Tenants"},{key:"create_tenants",label:"Create Tenants"},{key:"edit_tenants",label:"Edit Tenants"},{key:"delete_tenants",label:"Delete Tenants"}]},{category:"Units",permissions:[{key:"view_units",label:"View Units"},{key:"create_units",label:"Create Units"},{key:"edit_units",label:"Edit Units"},{key:"delete_units",label:"Delete Units"}]},{category:"Billing",permissions:[{key:"view_billing",label:"View Billing"},{key:"create_billing",label:"Create Billing"},{key:"edit_billing",label:"Edit Billing"},{key:"delete_billing",label:"Delete Billing"}]},{category:"Payments",permissions:[{key:"view_payments",label:"View Payments"},{key:"create_payments",label:"Create Payments"},{key:"edit_payments",label:"Edit Payments"},{key:"delete_payments",label:"Delete Payments"}]},{category:"Maintenance",permissions:[{key:"view_maintenance",label:"View Maintenance"},{key:"create_maintenance",label:"Create Maintenance"},{key:"edit_maintenance",label:"Edit Maintenance"},{key:"delete_maintenance",label:"Delete Maintenance"}]},{category:"Administration",permissions:[{key:"view_analytics",label:"View Analytics"},{key:"manage_users",label:"Manage Users"},{key:"manage_organization",label:"Manage Organization"},{key:"view_settings",label:"View Settings"}]},{category:"Tenant Portal",permissions:[{key:"tenant_dashboard",label:"Tenant Dashboard"},{key:"tenant_profile",label:"Tenant Profile"},{key:"tenant_documents",label:"Tenant Documents"},{key:"tenant_family_members",label:"Tenant Family Members"},{key:"tenant_bills",label:"Tenant Bills"},{key:"tenant_payments",label:"Tenant Payments"}]},{category:"Admin Portal",permissions:[{key:"admin_dashboard",label:"Admin Dashboard"},{key:"admin_users",label:"Admin Users"},{key:"admin_organization",label:"Admin Organization"},{key:"admin_billing",label:"Admin Billing"},{key:"admin_reports",label:"Admin Reports"},{key:"admin_settings",label:"Admin Settings"}]},{category:"Manager Portal",permissions:[{key:"manager_dashboard",label:"Manager Dashboard"},{key:"manager_properties",label:"Manager Properties"},{key:"manager_tenants",label:"Manager Tenants"},{key:"manager_reports",label:"Manager Reports"},{key:"manager_settings",label:"Manager Settings"}]},{category:"Super Admin Portal",permissions:[{key:"super_admin_dashboard",label:"Super Admin Dashboard"},{key:"super_admin_users",label:"Super Admin Users"},{key:"super_admin_organizations",label:"Super Admin Organizations"},{key:"super_admin_subscriptions",label:"Super Admin Subscriptions"},{key:"super_admin_analytics",label:"Super Admin Analytics"},{key:"super_admin_database",label:"Super Admin Database"},{key:"super_admin_settings",label:"Super Admin Settings"}]},{category:"Staff Portal",permissions:[{key:"staff_dashboard",label:"Staff Dashboard"},{key:"staff_maintenance",label:"Staff Maintenance"},{key:"staff_properties",label:"Staff Properties"}]}],zDe=({users:e})=>{const t=In(),[r,n]=C.useState(""),[a,i]=C.useState(new Set),[o,l]=C.useState(!1),{data:c=[],isLoading:u}=Ir({queryKey:["user-roles-for-permissions",r],queryFn:async()=>{if(!r)return[];const{data:j,error:_}=await be.from("user_roles").select("role").eq("user_id",r);if(_)throw _;return j.map(N=>N.role)},enabled:!!r}),{data:d=[],isLoading:A}=Ir({queryKey:["user-permissions",r],queryFn:async()=>{if(!r)return[];const{data:j,error:_}=await be.from("user_permissions").select("permission").eq("user_id",r);if(_)throw _;return j.map(N=>N.permission)},enabled:!!r}),h=u||A,m=C.useMemo(()=>{const j=new Set;return c.forEach(_=>{(VDe[_]||[]).forEach(N=>j.add(N))}),j},[c]);C.useEffect(()=>{const j=new Set([...m,...d]);i(j),l(!1)},[m,d]);const y=a.size,g=er({mutationFn:async()=>{const j=Array.from(a).filter(_=>!m.has(_));if(await be.from("user_permissions").delete().eq("user_id",r),j.length>0){const _=j.map(B=>({user_id:r,permission:B})),{error:N}=await be.from("user_permissions").insert(_);if(N)throw N}},onSuccess:()=>{t.invalidateQueries({queryKey:["user-permissions",r]}),He.success("Permissions updated successfully"),l(!1)},onError:j=>He.error(j.message)}),v=j=>{i(_=>{const N=new Set(_);return N.has(j)?N.delete(j):N.add(j),N}),l(!0)},x=j=>{const _=j.permissions.every(N=>a.has(N.key));i(N=>{const B=new Set(N);return j.permissions.forEach(T=>{_?B.delete(T.key):B.add(T.key)}),B}),l(!0)},b=j=>m.has(j);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-4",children:[s.jsxs("div",{className:"space-y-2 flex-1 max-w-sm",children:[s.jsx("label",{className:"text-sm font-medium",children:"Select User"}),s.jsxs(ar,{value:r,onValueChange:n,children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Choose a user to manage permissions"})}),s.jsx(or,{children:e.map(j=>s.jsx(Fe,{value:j.id,children:j.full_name||j.email},j.id))})]})]}),r&&!h&&s.jsxs("div",{className:"flex items-center gap-3",children:[c.length>0&&s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Role:"}),c.map(j=>s.jsx(Ze,{variant:"outline",className:"capitalize text-xs",children:j.replace("_"," ")},j))]}),s.jsxs(Ze,{variant:"secondary",className:"gap-1.5",children:[s.jsx(Lo,{className:"w-3 h-3"}),y," Permissions Assigned"]})]}),r&&o&&s.jsxs(de,{onClick:()=>g.mutate(),disabled:g.isPending,className:"gap-2",children:[g.isPending?s.jsx(jn,{className:"w-4 h-4 animate-spin"}):s.jsx(Xw,{className:"w-4 h-4"}),"Save Permissions"]})]}),r&&!h&&c.length>0&&s.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-muted/50 border border-border/50 text-xs text-muted-foreground",children:[s.jsx(gN,{className:"w-4 h-4 mt-0.5 shrink-0"}),s.jsxs("span",{children:["Permissions marked with a ",s.jsx(Ze,{variant:"outline",className:"text-[10px] px-1.5 py-0 mx-0.5 align-middle",children:"Role"})," badge come from the user's role defaults. You can grant additional permissions or uncheck role defaults to override them for this user only."]})]}),r&&!h&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Wl,{className:"w-4 h-4"})," Quick Templates"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:qDe.map(j=>s.jsxs(de,{variant:"outline",size:"sm",className:`gap-2 ${j.color}`,onClick:()=>{i(new Set(j.permissions)),l(!0),He.info(`Applied "${j.name}" template`)},children:[j.icon,j.name]},j.name))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Click a template to apply, then Save to confirm."})]}),r?h?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(jn,{className:"w-6 h-6 animate-spin mx-auto mb-2"}),"Loading permissions..."]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:KDe.map(j=>{const _=j.permissions.every(B=>a.has(B.key)),N=j.permissions.some(B=>a.has(B.key));return s.jsxs("div",{className:"glass-card p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jh,{checked:_,indeterminate:N&&!_,onCheckedChange:()=>x(j)}),s.jsx("h4",{className:"font-semibold text-sm",children:j.category}),s.jsxs(Ze,{variant:"outline",className:"ml-auto text-xs",children:[j.permissions.filter(B=>a.has(B.key)).length,"/",j.permissions.length]})]}),s.jsx("div",{className:"space-y-2 pl-6",children:j.permissions.map(B=>s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm text-muted-foreground hover:text-foreground transition-colors",children:[s.jsx(jh,{checked:a.has(B.key),onCheckedChange:()=>v(B.key)}),s.jsx("span",{className:"flex-1",children:B.label}),b(B.key)&&s.jsx(Ze,{variant:"outline",className:"text-[10px] px-1.5 py-0 opacity-60",children:"Role"})]},B.key))})]},j.category)})}):s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Lo,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),s.jsx("p",{children:"Select a user above to manage their permissions"})]})]})},WDe=()=>{const e=In(),[t,r]=C.useState(""),[n,a]=C.useState(!1),[i,o]=C.useState(""),[l,c]=C.useState(""),{data:u=[],isLoading:d}=Ir({queryKey:["super-admin-role-assignments"],queryFn:async()=>{const{data:b,error:j}=await be.from("user_roles").select("id, user_id, role");if(j)throw j;const _=[...new Set(b?.map(M=>M.user_id)||[])],{data:N}=await be.from("profiles").select("id, email, full_name, organization_id").in("id",_),B=[...new Set((N||[]).map(M=>M.organization_id).filter(Boolean))],{data:T}=await be.from("organizations").select("id, name").in("id",B),O=new Map(N?.map(M=>[M.id,M])||[]),P=new Map(T?.map(M=>[M.id,M.name])||[]);return(b||[]).map(M=>({...M,email:O.get(M.user_id)?.email||"Unknown",full_name:O.get(M.user_id)?.full_name||null,organization_name:O.get(M.user_id)?.organization_id&&P.get(O.get(M.user_id)?.organization_id)||""}))}}),{data:A=[]}=Ir({queryKey:["super-admin-all-profiles"],queryFn:async()=>{const{data:b,error:j}=await be.from("profiles").select("id, email, full_name, organization_id");if(j)throw j;const _=[...new Set((b||[]).map(T=>T.organization_id).filter(Boolean))],{data:N}=await be.from("organizations").select("id, name").in("id",_),B=new Map(N?.map(T=>[T.id,T.name])||[]);return(b||[]).map(T=>({...T,organization_name:T.organization_id&&B.get(T.organization_id)||""}))}}),h=er({mutationFn:async({userId:b,role:j})=>{const{error:_}=await be.from("user_roles").insert({user_id:b,role:j});if(_)throw _},onSuccess:()=>{e.invalidateQueries({queryKey:["super-admin-role-assignments"]}),He.success("Role assigned successfully"),a(!1),o(""),c("")},onError:b=>He.error(b.message)}),m=er({mutationFn:async b=>{const{error:j}=await be.from("user_roles").delete().eq("id",b);if(j)throw j},onSuccess:()=>{e.invalidateQueries({queryKey:["super-admin-role-assignments"]}),He.success("Role removed")},onError:b=>He.error(b.message)}),y=u.filter(b=>b.email?.toLowerCase().includes(t.toLowerCase())||b.full_name?.toLowerCase().includes(t.toLowerCase())||b.role?.toLowerCase().includes(t.toLowerCase())),g={super_admin:"bg-destructive/10 text-destructive border-destructive/20",admin:"bg-primary/10 text-primary border-primary/20",manager:"bg-warning/10 text-warning border-warning/20",user:"bg-muted text-muted-foreground",tenant:"bg-accent/50 text-accent-foreground border-accent/30",staff:"bg-blue-500/10 text-blue-600 border-blue-500/20"},v={super_admin:"Platform Super Admin",admin:"Organization Admin",manager:"Manager",user:"User",tenant:"Tenant",staff:"Staff"},x=u.reduce((b,j)=>(b[j.role]=(b[j.role]||0)+1,b),{});return s.jsx(GA,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Roles & Permissions"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage role assignments and granular permissions across the platform."})]}),s.jsxs(de,{onClick:()=>a(!0),className:"gap-2",children:[s.jsx(wu,{className:"w-4 h-4"})," Assign Role"]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:["super_admin","admin","manager","user","tenant","staff"].map(b=>s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card p-5",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:(v[b]||b).concat("s")}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:x[b]||0})]}),s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:s.jsx(Lo,{className:"w-5 h-5 text-primary"})})]})},b))}),s.jsxs(kd,{defaultValue:"roles",className:"space-y-4",children:[s.jsxs(Pu,{children:[s.jsxs(Zr,{value:"roles",className:"gap-2",children:[s.jsx(Lo,{className:"w-4 h-4"})," Role Assignments"]}),s.jsxs(Zr,{value:"permissions",className:"gap-2",children:[s.jsx(bue,{className:"w-4 h-4"})," Permissions"]})]}),s.jsxs(hn,{value:"roles",className:"space-y-4",children:[s.jsxs("div",{className:"relative w-full md:w-96",children:[s.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(it,{placeholder:"Search by user or role...",className:"pl-10",value:t,onChange:b=>r(b.target.value)})]}),s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card overflow-hidden",children:s.jsxs(Ui,{children:[s.jsx(Di,{children:s.jsxs(jr,{className:"border-border/50",children:[s.jsx(ht,{children:"User"}),s.jsx(ht,{children:"Role"}),s.jsx(ht,{children:"Organization"}),s.jsx(ht,{className:"w-12"})]})}),s.jsx(Mi,{children:d?s.jsx(jr,{children:s.jsx(ct,{colSpan:4,className:"text-center py-12 text-muted-foreground",children:"Loading..."})}):y.length===0?s.jsx(jr,{children:s.jsx(ct,{colSpan:4,className:"text-center py-12 text-muted-foreground",children:"No role assignments found"})}):y.map(b=>s.jsxs(jr,{className:"border-border/30 hover:bg-muted/30",children:[s.jsx(ct,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:b.full_name||""}),s.jsx("div",{className:"text-xs text-muted-foreground",children:b.email})]})}),s.jsx(ct,{children:s.jsx(Ze,{variant:"outline",className:g[b.role]||"",children:v[b.role]||b.role})}),s.jsx(ct,{children:s.jsx("span",{className:"text-sm text-muted-foreground",children:b.organization_name})}),s.jsx(ct,{children:s.jsx(de,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>m.mutate(b.id),children:s.jsx(yi,{className:"w-4 h-4"})})})]},b.id))})]})})]}),s.jsx(hn,{value:"permissions",children:s.jsx(zDe,{users:A})})]}),s.jsx(dn,{open:n,onOpenChange:a,children:s.jsxs(an,{children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Assign Role"}),s.jsx(_n,{children:"Select a user and assign a role."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"User"}),s.jsxs(ar,{value:i,onValueChange:o,children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select user"})}),s.jsx(or,{children:A.map(b=>s.jsxs(Fe,{value:b.id,children:[b.full_name||b.email,b.organization_name&&b.organization_name!==""?`  ${b.organization_name}`:""]},b.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Role"}),s.jsxs(ar,{value:l,onValueChange:c,children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select role"})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"super_admin",children:"Platform Super Admin"}),s.jsx(Fe,{value:"admin",children:"Organization Admin"}),s.jsx(Fe,{value:"manager",children:"Manager"}),s.jsx(Fe,{value:"user",children:"User"}),s.jsx(Fe,{value:"tenant",children:"Tenant"}),s.jsx(Fe,{value:"staff",children:"Staff"})]})]})]})]}),s.jsxs(Qa,{children:[s.jsx(de,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsx(de,{onClick:()=>{i&&l&&h.mutate({userId:i,role:l})},disabled:h.isPending,children:h.isPending?"Assigning...":"Assign Role"})]})]})})]})})},e2={name:"",plan_price:"80000",plan_valid_until:"",admin_email:"",admin_password:"",admin_full_name:""},GDe=()=>{const e=In(),t=Vi(),r=bi(),[n,a]=C.useState(""),[i,o]=C.useState(!1),[l,c]=C.useState(null),[u,d]=C.useState(""),[A,h]=C.useState(e2),[m,y]=C.useState(!1),[g,v]=C.useState(!1),[x,b]=C.useState(null);C.useEffect(()=>{const F=new URLSearchParams(t.search);F.get("create")==="1"&&(o(!0),h(e2),F.delete("create"),r({pathname:t.pathname,search:F.toString()?`?${F.toString()}`:""},{replace:!0}))},[t.pathname,t.search,r]);const{data:j=[],isLoading:_}=Ir({queryKey:["super-admin-organizations"],queryFn:async()=>{const{data:F,error:V}=await be.from("organizations").select("*").order("created_at",{ascending:!1});if(V)throw V;const{data:X}=await be.from("profiles").select("organization_id"),{data:K}=await be.from("properties").select("organization_id"),W=new Map;X?.forEach(te=>{te.organization_id&&W.set(te.organization_id,(W.get(te.organization_id)||0)+1)});const z=new Map;return K?.forEach(te=>{z.set(te.organization_id,(z.get(te.organization_id)||0)+1)}),(F||[]).map(te=>({...te,member_count:W.get(te.id)||0,property_count:z.get(te.id)||0}))}}),{data:N=[],isLoading:B}=Ir({queryKey:["super-admin-org-members",x?.id],queryFn:async()=>{if(!x?.id)return[];const{data:F,error:V}=await be.from("profiles").select("id, email, full_name").eq("organization_id",x.id).order("created_at",{ascending:!1});if(V)throw V;return F||[]},enabled:m&&!!x?.id}),{data:T=[],isLoading:O}=Ir({queryKey:["super-admin-org-properties",x?.id],queryFn:async()=>{if(!x?.id)return[];const{data:F,error:V}=await be.from("properties").select("id, name, address").eq("organization_id",x.id).order("created_at",{ascending:!1});if(V)throw V;return F||[]},enabled:g&&!!x?.id}),P=er({mutationFn:async F=>{const V=await be.functions.invoke("create-organization",{body:{org_name:F.name,plan_price:parseFloat(F.plan_price)||0,plan_valid_until:F.plan_valid_until||null,admin_email:F.admin_email||null,admin_password:F.admin_password||null,admin_full_name:F.admin_full_name||null}});if(V.error)throw V.error;if(V.data?.error)throw new Error(V.data.error);return V.data},onSuccess:F=>{e.invalidateQueries({queryKey:["super-admin-organizations"]}),e.invalidateQueries({queryKey:["super-admin-users"]}),He.success(F.message||"Organization created"),o(!1),h(e2)},onError:F=>He.error(F.message)}),M=er({mutationFn:async({id:F,name:V})=>{const{error:X}=await be.from("organizations").update({name:V}).eq("id",F);if(X)throw X},onSuccess:()=>{e.invalidateQueries({queryKey:["super-admin-organizations"]}),He.success("Organization updated"),c(null),d("")},onError:F=>He.error(F.message)}),I=er({mutationFn:async F=>{const{error:V}=await be.from("organizations").delete().eq("id",F);if(V)throw V},onSuccess:()=>{e.invalidateQueries({queryKey:["super-admin-organizations"]}),He.success("Organization deleted")},onError:F=>He.error(F.message)}),D=j.filter(F=>F.name.toLowerCase().includes(n.toLowerCase())),$=F=>{switch(F){case"active":return"bg-green-500/10 text-green-600 border-green-500/20";case"suspended":return"bg-destructive/10 text-destructive border-destructive/20";case"expired":return"bg-warning/10 text-warning border-warning/20";default:return"bg-muted text-muted-foreground"}};return s.jsx(GA,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Organizations"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage all organizations and their subscription plans."})]}),s.jsxs(de,{onClick:()=>{o(!0),h(e2)},className:"gap-2",children:[s.jsx(mn,{className:"w-4 h-4"})," Create Organization"]})]}),s.jsxs("div",{className:"relative w-full md:w-96",children:[s.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(it,{placeholder:"Search organizations...",className:"pl-10",value:n,onChange:F=>a(F.target.value)})]}),s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card overflow-hidden",children:s.jsxs(Ui,{children:[s.jsx(Di,{children:s.jsxs(jr,{className:"border-border/50",children:[s.jsx(ht,{children:"Organization"}),s.jsx(ht,{children:"Status"}),s.jsx(ht,{children:"Plan"}),s.jsx(ht,{children:"Valid Until"}),s.jsx(ht,{children:"Members"}),s.jsx(ht,{children:"Properties"}),s.jsx(ht,{children:"Created"}),s.jsx(ht,{className:"w-12"})]})}),s.jsx(Mi,{children:_?s.jsx(jr,{children:s.jsx(ct,{colSpan:8,className:"text-center py-12 text-muted-foreground",children:"Loading..."})}):D.length===0?s.jsx(jr,{children:s.jsx(ct,{colSpan:8,className:"text-center py-12 text-muted-foreground",children:"No organizations found"})}):D.map(F=>s.jsxs(jr,{className:"border-border/30 hover:bg-muted/30",children:[s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(sn,{className:"w-4 h-4 text-primary"})}),s.jsx("span",{className:"font-medium text-sm",children:F.name})]})}),s.jsx(ct,{children:s.jsx(Ze,{variant:"outline",className:`capitalize ${$(F.status||"active")}`,children:F.status||"active"})}),s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(sp,{className:"w-3.5 h-3.5 text-muted-foreground"}),Number(F.plan_price||0).toLocaleString("en-IN")]})}),s.jsx(ct,{className:"text-sm text-muted-foreground",children:F.plan_valid_until?s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Jn,{className:"w-3.5 h-3.5"}),new Date(F.plan_valid_until).toLocaleDateString()]}):""}),s.jsx(ct,{children:s.jsxs(de,{variant:"ghost",className:"h-8 px-2 text-muted-foreground hover:text-foreground",onClick:()=>{b(F),y(!0)},children:[s.jsx(Nr,{className:"w-3.5 h-3.5 mr-1.5"})," ",F.member_count]})}),s.jsx(ct,{children:s.jsxs(de,{variant:"ghost",className:"h-8 px-2 text-muted-foreground hover:text-foreground",onClick:()=>{b(F),v(!0)},children:[s.jsx(Xr,{className:"w-3.5 h-3.5 mr-1.5"})," ",F.property_count]})}),s.jsx(ct,{className:"text-sm text-muted-foreground",children:new Date(F.created_at).toLocaleDateString()}),s.jsx(ct,{children:s.jsxs(cl,{children:[s.jsx(ul,{asChild:!0,children:s.jsx(de,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(Th,{className:"w-4 h-4"})})}),s.jsxs(Fo,{align:"end",children:[s.jsxs(qr,{onClick:()=>{c(F),d(F.name)},children:[s.jsx(hl,{className:"w-4 h-4 mr-2"})," Edit"]}),s.jsxs(qr,{className:"text-destructive",onClick:()=>I.mutate(F.id),children:[s.jsx(yi,{className:"w-4 h-4 mr-2"})," Delete"]})]})]})})]},F.id))})]})}),s.jsx(dn,{open:i,onOpenChange:o,children:s.jsxs(an,{className:"sm:max-w-lg",children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Create Organization"}),s.jsx(_n,{children:"Set up a new organization with subscription plan and optional admin user."})]}),s.jsxs("div",{className:"space-y-5 py-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[s.jsx(sn,{className:"w-4 h-4"})," Organization Details"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{children:"Organization Name *"}),s.jsx(it,{value:A.name,onChange:F=>h({...A,name:F.target.value}),placeholder:"e.g. Royal Stay PG"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{children:"Plan Price ()"}),s.jsx(it,{type:"number",value:A.plan_price,onChange:F=>h({...A,plan_price:F.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{children:"Valid Until"}),s.jsx(it,{type:"date",value:A.plan_valid_until,onChange:F=>h({...A,plan_valid_until:F.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-3 border-t border-border/50 pt-4",children:[s.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[s.jsx(Lo,{className:"w-4 h-4"})," Organization Admin (Optional)"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This user will manage everything inside this organization."}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{children:"Admin Full Name"}),s.jsx(it,{value:A.admin_full_name,onChange:F=>h({...A,admin_full_name:F.target.value}),placeholder:"John Doe"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{children:"Admin Email"}),s.jsx(it,{type:"email",value:A.admin_email,onChange:F=>h({...A,admin_email:F.target.value}),placeholder:"admin@organization.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{children:"Admin Password"}),s.jsx(it,{type:"password",value:A.admin_password,onChange:F=>h({...A,admin_password:F.target.value}),placeholder:"Min 6 characters"})]})]})]}),s.jsxs(Qa,{children:[s.jsx(de,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(de,{onClick:()=>A.name&&P.mutate(A),disabled:P.isPending||!A.name,children:P.isPending?"Creating...":"Create Organization"})]})]})}),s.jsx(dn,{open:!!l,onOpenChange:F=>!F&&c(null),children:s.jsxs(an,{children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Edit Organization"}),s.jsx(_n,{children:"Update organization details."})]}),s.jsxs("div",{className:"py-4",children:[s.jsx(Je,{children:"Organization Name"}),s.jsx(it,{className:"mt-2",value:u,onChange:F=>d(F.target.value)})]}),s.jsxs(Qa,{children:[s.jsx(de,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),s.jsx(de,{onClick:()=>l&&u&&M.mutate({id:l.id,name:u}),disabled:M.isPending,children:M.isPending?"Saving...":"Save"})]})]})}),s.jsx(dn,{open:m,onOpenChange:F=>{y(F),F||b(null)},children:s.jsxs(an,{className:"sm:max-w-lg",children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Members"}),s.jsx(_n,{children:x?.name?`${x.name}  ${x.member_count||0} total`:""})]}),s.jsx("div",{className:"max-h-[60vh] overflow-auto",children:s.jsxs(Ui,{children:[s.jsx(Di,{children:s.jsxs(jr,{className:"border-border/50",children:[s.jsx(ht,{children:"Name"}),s.jsx(ht,{children:"Email"})]})}),s.jsx(Mi,{children:B?s.jsx(jr,{children:s.jsx(ct,{colSpan:2,className:"text-center py-10 text-muted-foreground",children:"Loading..."})}):N.length===0?s.jsx(jr,{children:s.jsx(ct,{colSpan:2,className:"text-center py-10 text-muted-foreground",children:"No members found"})}):N.map(F=>s.jsxs(jr,{className:"border-border/30",children:[s.jsx(ct,{className:"text-sm",children:F.full_name||""}),s.jsx(ct,{className:"text-sm text-muted-foreground",children:F.email})]},F.id))})]})}),s.jsx(Qa,{children:s.jsx(de,{variant:"outline",onClick:()=>y(!1),children:"Close"})})]})}),s.jsx(dn,{open:g,onOpenChange:F=>{v(F),F||b(null)},children:s.jsxs(an,{className:"sm:max-w-lg",children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Properties"}),s.jsx(_n,{children:x?.name?`${x.name}  ${x.property_count||0} total`:""})]}),s.jsx("div",{className:"max-h-[60vh] overflow-auto",children:s.jsxs(Ui,{children:[s.jsx(Di,{children:s.jsxs(jr,{className:"border-border/50",children:[s.jsx(ht,{children:"Property"}),s.jsx(ht,{children:"Address"})]})}),s.jsx(Mi,{children:O?s.jsx(jr,{children:s.jsx(ct,{colSpan:2,className:"text-center py-10 text-muted-foreground",children:"Loading..."})}):T.length===0?s.jsx(jr,{children:s.jsx(ct,{colSpan:2,className:"text-center py-10 text-muted-foreground",children:"No properties found"})}):T.map(F=>s.jsxs(jr,{className:"border-border/30",children:[s.jsx(ct,{className:"text-sm",children:F.name||""}),s.jsx(ct,{className:"text-sm text-muted-foreground",children:F.address||""})]},F.id))})]})}),s.jsx(Qa,{children:s.jsx(de,{variant:"outline",onClick:()=>v(!1),children:"Close"})})]})})]})})},Hi=C.forwardRef(({className:e,size:t,...r},n)=>{const{currency:a}=ji();return a==="INR"?s.jsx(sp,{ref:n,className:e,size:t,...r}):s.jsx(ja,{ref:n,className:e,size:t,...r})});Hi.displayName="CurrencyIcon";const Hx=["hsl(var(--primary))","hsl(var(--destructive))","hsl(var(--warning, 45 93% 47%))","hsl(var(--success))","hsl(var(--muted-foreground))"],YDe=()=>{const e=In(),[t,r]=C.useState(""),[n,a]=C.useState("all"),[i,o]=C.useState("all"),[l,c]=C.useState(!1),[u,d]=C.useState(null),{data:A=[],isLoading:h}=Ir({queryKey:["super-admin-subscriptions"],queryFn:async()=>{const{data:T,error:O}=await be.from("organizations").select("*").order("created_at",{ascending:!1});if(O)throw O;const{data:P}=await be.from("payments").select("organization_id, amount, status, created_at"),{data:M}=await be.from("invoices").select("organization_id, amount, status, created_at, due_date"),I=new Map;P?.forEach(F=>{const V=I.get(F.organization_id)||{total:0,count:0,recent:[]};V.total+=Number(F.amount),V.count+=1,V.recent.push(Number(F.amount)),I.set(F.organization_id,V)});const D=new Map,$=new Date;return M?.forEach(F=>{const V=D.get(F.organization_id)||{total:0,pending:0,overdue:0};V.total+=Number(F.amount),F.status==="pending"&&(V.pending+=Number(F.amount),F.due_date&&new Date(F.due_date)<$&&(V.overdue+=Number(F.amount))),D.set(F.organization_id,V)}),(T||[]).map(F=>{const V=I.get(F.id)||{total:0,count:0,recent:[]},X=D.get(F.id)||{total:0,pending:0,overdue:0},K=F.plan_valid_until?new Date(F.plan_valid_until)>$?"active":"expired":"active";return{...F,total_payments:V.total,payment_count:V.count,recent_payments:V.recent.slice(-3),total_invoiced:X.total,pending_amount:X.pending,overdue_amount:X.overdue,plan_status:K,health_score:Math.max(0,100-X.overdue/Math.max(1,X.total)*100)}})}}),{data:m=[]}=Ir({queryKey:["super-admin-billing-trends"],queryFn:async()=>{const{data:T}=await be.from("payments").select("amount, created_at").order("created_at",{ascending:!1}).limit(100),{data:O}=await be.from("invoices").select("amount, status, created_at").order("created_at",{ascending:!1}).limit(100),P=[];for(let M=5;M>=0;M--){const I=new Date;I.setMonth(I.getMonth()-M);const D=new Date(I);D.setMonth(D.getMonth()+1);const $=T?.filter(V=>{const X=new Date(V.created_at);return X>=I&&X<D}).reduce((V,X)=>V+Number(X.amount),0)||0,F=O?.filter(V=>{const X=new Date(V.created_at);return X>=I&&X<D}).reduce((V,X)=>V+Number(X.amount),0)||0;P.push({month:I.toLocaleString("default",{month:"short"}),revenue:$,invoiced:F})}return P}}),y=A.reduce((T,O)=>T+O.total_payments,0),g=A.reduce((T,O)=>T+O.pending_amount,0),v=A.reduce((T,O)=>T+O.overdue_amount,0),x=A.reduce((T,O)=>T+O.total_invoiced,0),b=A.filter(T=>T.plan_status==="active").length,j=A.filter(T=>{const O=T.name.toLowerCase().includes(t.toLowerCase()),P=n==="all"||n==="active"&&T.plan_status==="active"||n==="expired"&&T.plan_status==="expired"||n==="overdue"&&T.overdue_amount>0;return O&&P}),_=[{title:"Total Revenue",value:`$${y.toLocaleString()}`,change:`+${Math.floor(y*.12)}% this year`,changeType:"positive",icon:Hi,trend:"up"},{title:"Pending Invoices",value:`$${g.toLocaleString()}`,change:`${Math.floor(g/Math.max(1,x)*100)}% of total`,changeType:"neutral",icon:bn,trend:"stable"},{title:"Overdue Amount",value:`$${v.toLocaleString()}`,change:v>0?"Action required":"All settled",changeType:v>0?"negative":"positive",icon:Qi,trend:v>0?"down":"stable"},{title:"Active Orgs",value:`${b}/${A.length}`,change:`${Math.floor(b/Math.max(1,A.length)*100)}% active`,changeType:"positive",icon:sn,trend:"stable"}],N=[{name:"Active",value:b,color:Hx[2]},{name:"Expired",value:A.filter(T=>T.plan_status==="expired").length,color:Hx[1]},{name:"Overdue",value:A.filter(T=>T.overdue_amount>0).length,color:Hx[2]}],B=er({mutationFn:async T=>(await new Promise(O=>setTimeout(O,1e3)),{success:!0,invoiceId:`INV-${Date.now()}`}),onSuccess:()=>{He.success("Invoice generated successfully"),c(!1),e.invalidateQueries({queryKey:["super-admin-subscriptions"]})},onError:()=>{He.error("Failed to generate invoice")}});return s.jsx(GA,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Subscriptions & Billing"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Financial overview and subscription management across all organizations"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(de,{variant:"outline",className:"gap-2",children:[s.jsx(Ro,{className:"w-4 h-4"})," Export Report"]}),s.jsxs(de,{onClick:()=>c(!0),className:"gap-2",children:[s.jsx(mn,{className:"w-4 h-4"})," Generate Invoice"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:_.map((T,O)=>s.jsx(Rh,{...T,index:O},T.title))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Revenue Trends"}),s.jsx(Al,{className:"w-5 h-5 text-green-500"})]}),s.jsx(Ua,{width:"100%",height:250,children:s.jsxs(BC,{data:m,children:[s.jsx(Fi,{dataKey:"month",stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(Ri,{stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(ss,{contentStyle:{background:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:8}}),s.jsx($A,{type:"monotone",dataKey:"revenue",stroke:"hsl(var(--success))",strokeWidth:2,dot:{fill:"hsl(var(--success))",r:4}}),s.jsx($A,{type:"monotone",dataKey:"invoiced",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",r:4}})]})})]}),s.jsxs(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Subscription Status"}),s.jsx(sn,{className:"w-5 h-5 text-primary"})]}),N.some(T=>T.value>0)?s.jsx(Ua,{width:"100%",height:250,children:s.jsxs(fh,{children:[s.jsx(Ao,{data:N,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:90,label:({name:T,value:O})=>`${T}: ${O}`,children:N.map((T,O)=>s.jsx(gu,{fill:Hx[O%Hx.length]},O))}),s.jsx(ss,{})]})}):s.jsx("div",{className:"h-[250px] flex items-center justify-center text-muted-foreground text-sm",children:"No data available"})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(it,{placeholder:"Search organizations...",className:"pl-10",value:t,onChange:T=>r(T.target.value)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ar,{value:n,onValueChange:a,children:[s.jsx(ir,{className:"w-40",children:s.jsx(lr,{placeholder:"Status"})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"all",children:"All Status"}),s.jsx(Fe,{value:"active",children:"Active"}),s.jsx(Fe,{value:"expired",children:"Expired"}),s.jsx(Fe,{value:"overdue",children:"Overdue"})]})]}),s.jsxs(de,{variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(Rs,{className:"w-4 h-4"})," Refresh"]})]})]}),s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card overflow-hidden",children:s.jsxs(Ui,{children:[s.jsx(Di,{children:s.jsxs(jr,{className:"border-border/50",children:[s.jsx(ht,{children:"Organization"}),s.jsx(ht,{children:"Plan Status"}),s.jsx(ht,{children:"Payments"}),s.jsx(ht,{children:"Total Paid"}),s.jsx(ht,{children:"Pending"}),s.jsx(ht,{children:"Overdue"}),s.jsx(ht,{children:"Health"}),s.jsx(ht,{className:"w-12"})]})}),s.jsx(Mi,{children:h?s.jsx(jr,{children:s.jsx(ct,{colSpan:8,className:"text-center py-12 text-muted-foreground",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Rs,{className:"w-4 h-4 animate-spin"}),"Loading billing data..."]})})}):j.length===0?s.jsx(jr,{children:s.jsx(ct,{colSpan:8,className:"text-center py-12 text-muted-foreground",children:"No billing data found"})}):j.map(T=>s.jsxs(jr,{className:"border-border/30 hover:bg-muted/30",children:[s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(sn,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:T.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:T.plan_price&&`${Number(T.plan_price).toLocaleString()}/month`})]})]})}),s.jsx(ct,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx(Ze,{variant:"outline",className:`capitalize ${T.plan_status==="active"?"bg-success/10 text-success border-success/20":"bg-destructive/10 text-destructive border-destructive/20"}`,children:T.plan_status}),T.plan_valid_until&&s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Jn,{className:"w-3 h-3"}),new Date(T.plan_valid_until).toLocaleDateString()]})]})}),s.jsx(ct,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:T.payment_count}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"payments"})]})}),s.jsx(ct,{children:s.jsxs("div",{className:"text-sm font-medium text-green-600",children:["$",T.total_payments.toLocaleString()]})}),s.jsx(ct,{children:s.jsxs("div",{className:"text-sm text-yellow-600",children:["$",T.pending_amount.toLocaleString()]})}),s.jsx(ct,{children:s.jsxs("div",{className:`text-sm ${T.overdue_amount>0?"text-red-600 font-medium":"text-muted-foreground"}`,children:["$",T.overdue_amount.toLocaleString()]})}),s.jsx(ct,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(DA,{value:T.health_score,className:"h-2 w-20"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[Math.round(T.health_score),"%"]})]})}),s.jsx(ct,{children:s.jsx(de,{variant:"ghost",size:"sm",className:"h-8 w-8 text-muted-foreground hover:text-foreground",onClick:()=>{d(T),c(!0)},children:s.jsx(ur,{className:"w-4 h-4"})})})]},T.id))})]})}),s.jsx(dn,{open:l,onOpenChange:c,children:s.jsxs(an,{className:"sm:max-w-md",children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Generate Invoice"}),s.jsx(_n,{children:u?`Create invoice for ${u.name}`:"Select an organization to generate invoice"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{children:"Organization"}),s.jsxs(ar,{value:u?.id||"",onValueChange:T=>{const O=A.find(P=>P.id===T);d(O)},children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select organization"})}),s.jsx(or,{children:A.map(T=>s.jsxs(Fe,{value:T.id,children:[T.name," - ",T.plan_status]},T.id))})]})]}),u&&s.jsxs("div",{className:"space-y-3 p-3 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Current Plan:"}),s.jsxs("span",{className:"font-medium",children:["",Number(u.plan_price||0).toLocaleString(),"/month"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Pending Amount:"}),s.jsxs("span",{className:"font-medium text-yellow-600",children:["$",u.pending_amount.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Overdue Amount:"}),s.jsxs("span",{className:"font-medium text-red-600",children:["$",u.overdue_amount.toLocaleString()]})]})]})]}),s.jsxs(Qa,{children:[s.jsx(de,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(de,{onClick:()=>u&&B.mutate(u.id),disabled:B.isPending||!u,children:B.isPending?"Generating...":"Generate Invoice"})]})]})})]})})},Rg=["hsl(var(--primary))","hsl(var(--destructive))","hsl(var(--warning, 45 93% 47%))","hsl(var(--success))","hsl(var(--muted-foreground))"],Mf={primary:"hsl(var(--primary))",secondary:"hsl(var(--secondary))",success:"hsl(var(--success))",warning:"hsl(var(--warning, 45 93% 47%))"},XDe=()=>{const{data:e,isLoading:t}=Ir({queryKey:["super-admin-analytics"],queryFn:async()=>{const[l,c,u,d,A,h,m,y,g]=await Promise.all([be.from("profiles").select("id, created_at"),be.from("organizations").select("id, name, status"),be.from("properties").select("id, organization_id, status"),be.from("units").select("id, availability, rent"),be.from("tenants").select("id, status"),be.from("invoices").select("id, amount, status, created_at"),be.from("maintenance_tickets").select("id, status, priority, created_at"),be.from("payments").select("id, amount, created_at"),be.from("activity_log").select("action, created_at, entity_type").order("created_at",{ascending:!1}).limit(10)]),v=d.data?.reduce(($,F)=>$+Number(F.rent),0)||0,x=y.data?.reduce(($,F)=>$+Number(F.amount),0)||0,b=d.data?.filter($=>$.availability==="occupied").length||0,j=d.data?.length||0,_=m.data?.reduce(($,F)=>($[F.status]=($[F.status]||0)+1,$),{})||{},N=m.data?.reduce(($,F)=>($[F.priority]=($[F.priority]||0)+1,$),{})||{},B=h.data?.reduce(($,F)=>($[F.status]=($[F.status]||0)+1,$),{})||{},T=new Date,O=[],P=[],M=[];for(let $=11;$>=0;$--){const F=new Date(T.getFullYear(),T.getMonth()-$,1),V=new Date(T.getFullYear(),T.getMonth()-$+1,1),X=l.data?.filter(z=>{const te=new Date(z.created_at);return te>=F&&te<V}).length||0,K=y.data?.filter(z=>{const te=new Date(z.created_at);return te>=F&&te<V}).reduce((z,te)=>z+Number(te.amount),0)||0,W=g.data?.filter(z=>{const te=new Date(z.created_at);return te>=F&&te<V}).length||0;O.push({month:F.toLocaleString("default",{month:"short"}),users:X,totalUsers:l.data?.filter(z=>new Date(z.created_at)<V).length||0}),P.push({month:F.toLocaleString("default",{month:"short"}),revenue:K,cumulative:P.length>0?P[P.length-1].cumulative+K:K}),M.push({month:F.toLocaleString("default",{month:"short"}),activity:W})}const I=c.data?.reduce(($,F)=>{const V=F.status||"active";return $[V]=($[V]||0)+1,$},{})||{},D=u.data?.reduce(($,F)=>{const V=F.status||"active";return $[V]=($[V]||0)+1,$},{})||{};return{users:l.data?.length||0,orgs:c.data?.length||0,properties:u.data?.length||0,totalUnits:j,occupiedUnits:b,tenants:A.data?.length||0,totalRent:v,totalPayments:x,ticketsByStatus:_,ticketsByPriority:N,invoicesByStatus:B,monthlyData:O,revenueData:P,activityData:M,orgDistribution:I,propertyPerformance:D,occupancyRate:j>0?Math.round(b/j*100):0,recentActivities:g.data?.slice(0,5)||[]}}}),r=[{title:"Total Users",value:String(e?.users||0),change:`+${Math.floor((e?.users||0)*.15)}% growth`,changeType:"positive",icon:Nr,trend:"up"},{title:"Organizations",value:String(e?.orgs||0),change:`${Object.values(e?.orgDistribution||{}).filter((l,c)=>c===0)[0]||0} active`,changeType:"positive",icon:sn,trend:"stable"},{title:"Properties",value:String(e?.properties||0),change:"Managed globally",changeType:"positive",icon:Xr,trend:"up"},{title:"Occupancy Rate",value:`${e?.occupancyRate||0}%`,change:`${e?.occupiedUnits||0}/${e?.totalUnits||0} units`,changeType:(e?.occupancyRate||0)>80?"positive":"neutral",icon:Xr,trend:(e?.occupancyRate||0)>80?"up":"stable"},{title:"Total Revenue",value:`$${(e?.totalPayments||0).toLocaleString()}`,change:"All payments",changeType:"positive",icon:Hi,trend:"up"},{title:"Open Tickets",value:String(e?.ticketsByStatus?.open||0),change:`${e?.ticketsByStatus?.resolved||0} resolved`,changeType:(e?.ticketsByStatus?.open||0)>10?"negative":"neutral",icon:Ma,trend:(e?.ticketsByStatus?.open||0)>10?"down":"stable"}],n=Object.entries(e?.ticketsByStatus||{}).map(([l,c])=>({name:l,value:c})),a=Object.entries(e?.ticketsByPriority||{}).map(([l,c])=>({name:l,value:c})),i=Object.entries(e?.invoicesByStatus||{}).map(([l,c])=>({name:l,value:c})),o=Object.entries(e?.orgDistribution||{}).map(([l,c])=>({name:l,value:c}));return Object.entries(e?.propertyPerformance||{}).map(([l,c])=>({name:l,value:c})),s.jsx(GA,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Platform Analytics"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Comprehensive platform performance insights and trends"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Ze,{variant:"outline",className:"gap-1",children:[s.jsx(Hl,{className:"w-3 h-3"}),"Live Data"]}),s.jsx(Ze,{variant:"secondary",children:new Date().toLocaleDateString()})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map((l,c)=>s.jsx(Rh,{...l,index:c},l.title))}),s.jsxs(kd,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(Pu,{className:"grid w-full grid-cols-4",children:[s.jsx(Zr,{value:"overview",children:"Overview"}),s.jsx(Zr,{value:"users",children:"User Analytics"}),s.jsx(Zr,{value:"revenue",children:"Revenue"}),s.jsx(Zr,{value:"operations",children:"Operations"})]}),s.jsx(hn,{value:"overview",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"User Growth Trend"}),s.jsx(Al,{className:"w-5 h-5 text-primary"})]}),s.jsx(Ua,{width:"100%",height:250,children:s.jsxs(M_,{data:e?.monthlyData||[],children:[s.jsx(Fi,{dataKey:"month",stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(Ri,{stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(ss,{contentStyle:{background:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:8}}),s.jsx(Gl,{type:"monotone",dataKey:"users",stroke:Mf.primary,fill:Mf.primary,fillOpacity:.3,strokeWidth:2})]})})]}),s.jsxs(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Organization Status"}),s.jsx(sn,{className:"w-5 h-5 text-primary"})]}),o.length>0?s.jsx(Ua,{width:"100%",height:250,children:s.jsxs(fh,{children:[s.jsx(Ao,{data:o,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:90,label:({name:l,value:c})=>`${l}: ${c}`,children:o.map((l,c)=>s.jsx(gu,{fill:Rg[c%Rg.length]},c))}),s.jsx(ss,{})]})}):s.jsx("div",{className:"h-[250px] flex items-center justify-center text-muted-foreground text-sm",children:"No organization data"})]})]})}),s.jsx(hn,{value:"users",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Monthly User Signups"}),s.jsx(Nr,{className:"w-5 h-5 text-primary"})]}),s.jsx(Ua,{width:"100%",height:250,children:s.jsxs(D_,{data:e?.monthlyData||[],children:[s.jsx(Fi,{dataKey:"month",stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(Ri,{stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(ss,{contentStyle:{background:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:8}}),s.jsx(_d,{dataKey:"users",fill:Mf.primary,radius:[4,4,0,0]})]})})]}),s.jsxs(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"User Activity"}),s.jsx(Hl,{className:"w-5 h-5 text-primary"})]}),s.jsx(Ua,{width:"100%",height:250,children:s.jsxs(BC,{data:e?.activityData||[],children:[s.jsx(Fi,{dataKey:"month",stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(Ri,{stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(ss,{contentStyle:{background:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:8}}),s.jsx($A,{type:"monotone",dataKey:"activity",stroke:Mf.secondary,strokeWidth:2,dot:{fill:Mf.secondary,r:4}})]})})]})]})}),s.jsx(hn,{value:"revenue",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Revenue Trend"}),s.jsx(Hi,{className:"w-5 h-5 text-green-500"})]}),s.jsx(Ua,{width:"100%",height:250,children:s.jsxs(M_,{data:e?.revenueData||[],children:[s.jsx(Fi,{dataKey:"month",stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(Ri,{stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(ss,{contentStyle:{background:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:8}}),s.jsx(Gl,{type:"monotone",dataKey:"revenue",stroke:Mf.success,fill:Mf.success,fillOpacity:.3,strokeWidth:2})]})})]}),s.jsxs(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Invoice Status"}),s.jsx(ur,{className:"w-5 h-5 text-primary"})]}),i.length>0?s.jsx(Ua,{width:"100%",height:250,children:s.jsxs(fh,{children:[s.jsx(Ao,{data:i,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:90,label:({name:l,value:c})=>`${l}: ${c}`,children:i.map((l,c)=>s.jsx(gu,{fill:Rg[c%Rg.length]},c))}),s.jsx(ss,{})]})}):s.jsx("div",{className:"h-[250px] flex items-center justify-center text-muted-foreground text-sm",children:"No invoice data"})]})]})}),s.jsx(hn,{value:"operations",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Maintenance Tickets by Status"}),s.jsx(Ma,{className:"w-5 h-5 text-primary"})]}),n.length>0?s.jsx(Ua,{width:"100%",height:250,children:s.jsxs(fh,{children:[s.jsx(Ao,{data:n,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:90,label:({name:l,value:c})=>`${l}: ${c}`,children:n.map((l,c)=>s.jsx(gu,{fill:Rg[c%Rg.length]},c))}),s.jsx(ss,{})]})}):s.jsx("div",{className:"h-[250px] flex items-center justify-center text-muted-foreground text-sm",children:"No ticket data"})]}),s.jsxs(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Tickets by Priority"}),s.jsx(xi,{className:"w-5 h-5 text-warning"})]}),a.length>0?s.jsx(Ua,{width:"100%",height:250,children:s.jsxs(D_,{data:a,children:[s.jsx(Fi,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(Ri,{stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(ss,{contentStyle:{background:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:8}}),s.jsx(_d,{dataKey:"value",fill:Mf.warning,radius:[4,4,0,0]})]})}):s.jsx("div",{className:"h-[250px] flex items-center justify-center text-muted-foreground text-sm",children:"No priority data"})]})]})})]}),s.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Recent Platform Activity"}),s.jsxs(Ze,{variant:"outline",className:"gap-1",children:[s.jsx(ca,{className:"w-3 h-3"}),"Live Feed"]})]}),s.jsx("div",{className:"space-y-3",children:e?.recentActivities?.map((l,c)=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-sm font-bold text-primary",children:l.action?.[0]?.toUpperCase()||"A"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium capitalize",children:l.action||"Unknown Action"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.entity_type||"System","  ",l.created_at?new Date(l.created_at).toLocaleString():"Unknown time"]})]})]}),s.jsx(Ze,{variant:"secondary",className:"text-xs",children:l.entity_type||"System"})]},c))||s.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No recent activity"})})]})]})})},JDe="https://aggacdtmyphgtkldjmvk.supabase.co/functions/v1/database-management";async function Tc(e,t={}){const{data:{session:r}}=await be.auth.getSession();if(!r)throw new Error("Not authenticated");const n=await fetch(JDe,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`},body:JSON.stringify({action:e,...t})}),a=await n.json();if(!n.ok)throw new Error(a.error||"Request failed");return a}function ZDe(){return Ir({queryKey:["db-health"],queryFn:()=>Tc("database_health"),staleTime:3e4})}function eMe(e,t,r){return Ir({queryKey:["db-table-data",e,t,r],queryFn:()=>Tc("get_table_data",{table:e,page:t,pageSize:r}),enabled:!!e})}function tMe(e){return Ir({queryKey:["db-table-schema",e],queryFn:()=>Tc("get_table_schema",{table:e}),enabled:!!e})}function rMe(){return Ir({queryKey:["db-enums"],queryFn:()=>Tc("list_enums")})}function nMe(e,t,r=""){return Ir({queryKey:["db-audit-log",e,t,r],queryFn:()=>Tc("get_audit_log",{page:e,pageSize:t,entityType:r})})}function sMe(){const e=In();return er({mutationFn:({table:t,rowData:r})=>Tc("insert_row",{table:t,rowData:r}),onSuccess:(t,r)=>{He.success("Row inserted successfully"),e.invalidateQueries({queryKey:["db-table-data",r.table]}),e.invalidateQueries({queryKey:["db-health"]})},onError:t=>He.error(t.message)})}function aMe(){const e=In();return er({mutationFn:({table:t,id:r,rowData:n})=>Tc("update_row",{table:t,id:r,rowData:n}),onSuccess:(t,r)=>{He.success("Row updated successfully"),e.invalidateQueries({queryKey:["db-table-data",r.table]})},onError:t=>He.error(t.message)})}function iMe(){const e=In();return er({mutationFn:({table:t,id:r})=>Tc("delete_row",{table:t,id:r}),onSuccess:(t,r)=>{He.success("Row deleted successfully"),e.invalidateQueries({queryKey:["db-table-data",r.table]}),e.invalidateQueries({queryKey:["db-health"]})},onError:t=>He.error(t.message)})}function oMe(){const e=In();return er({mutationFn:t=>Tc("add_column",t),onSuccess:(t,r)=>{He.success(`Column '${r.columnName}' added`),e.invalidateQueries({queryKey:["db-table-schema",r.table]})},onError:t=>He.error(t.message)})}function lMe(){const e=In();return er({mutationFn:({table:t,columnName:r})=>Tc("delete_column",{table:t,columnName:r}),onSuccess:(t,r)=>{He.success(`Column '${r.columnName}' deleted`),e.invalidateQueries({queryKey:["db-table-schema",r.table]}),e.invalidateQueries({queryKey:["db-table-data",r.table]})},onError:t=>He.error(t.message)})}function cMe(){const e=In();return er({mutationFn:({enumName:t,value:r})=>Tc("add_enum_value",{enumName:t,value:r}),onSuccess:()=>{He.success("Enum value added"),e.invalidateQueries({queryKey:["db-enums"]})},onError:t=>He.error(t.message)})}function uMe(){return er({mutationFn:({table:e,format:t})=>Tc("export_table",{table:e,format:t}),onSuccess:(e,t)=>{const r=t.format==="json"?JSON.stringify(e.data,null,2):e.data,n=t.format==="json"?"application/json":"text/csv",a=new Blob([r],{type:n}),i=URL.createObjectURL(a),o=document.createElement("a");o.href=i,o.download=`${t.table}-${new Date().toISOString().split("T")[0]}.${t.format}`,o.click(),URL.revokeObjectURL(i),He.success(`Exported ${t.table} as ${t.format.toUpperCase()}`)},onError:e=>He.error(e.message)})}const Dk=["hsl(var(--primary))","hsl(var(--destructive))","hsl(45 93% 47%)","hsl(142 76% 36%)","hsl(var(--muted-foreground))"],dMe=()=>{const{data:e,isLoading:t}=ZDe();if(t)return s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full"})});const r=e?.tableCounts||{},a=[...Object.entries(r).map(([l,c])=>({name:l,records:c,percentage:e?.totalRecords?c/e.totalRecords*100:0}))].sort((l,c)=>c.records-l.records),i=a[0],o=[{title:"Total Records",value:(e?.totalRecords||0).toLocaleString(),change:`~${e?.estimatedSizeMB||0} MB`,changeType:"positive",icon:ll},{title:"Tables",value:String(e?.totalTables||0),change:"Active schema",changeType:"positive",icon:LW},{title:"Largest Table",value:i?.name||"",change:`${(i?.records||0).toLocaleString()} rows`,changeType:"neutral",icon:yue},{title:"Status",value:e?.status==="healthy"?"Healthy":"Issue",change:new Date(e?.timestamp||"").toLocaleTimeString(),changeType:e?.status==="healthy"?"positive":"negative",icon:Hl}];return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:o.map((l,c)=>s.jsx(Rh,{...l,index:c},l.title))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:s.jsxs(Le,{children:[s.jsxs(pt,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(gt,{className:"text-lg",children:"Table Distribution"}),s.jsx(KA,{className:"w-5 h-5 text-primary"})]}),s.jsx(De,{children:s.jsx(Ua,{width:"100%",height:260,children:s.jsxs(fh,{children:[s.jsx(Ao,{data:a.slice(0,8),dataKey:"records",nameKey:"name",cx:"50%",cy:"50%",outerRadius:90,label:({name:l,percentage:c})=>`${l}: ${c.toFixed(1)}%`,children:a.slice(0,8).map((l,c)=>s.jsx(gu,{fill:Dk[c%Dk.length]},c))}),s.jsx(ss,{})]})})})]})}),s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:s.jsxs(Le,{children:[s.jsxs(pt,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(gt,{className:"text-lg",children:"Record Counts"}),s.jsx(ll,{className:"w-5 h-5 text-primary"})]}),s.jsx(De,{children:s.jsx(Ua,{width:"100%",height:260,children:s.jsxs(D_,{data:a.slice(0,10),children:[s.jsx(Fi,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",fontSize:11,angle:-45,textAnchor:"end",height:70}),s.jsx(Ri,{stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(ss,{contentStyle:{background:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:8}}),s.jsx(_d,{dataKey:"records",fill:Dk[0],radius:[4,4,0,0]})]})})})]})})]}),s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsx(gt,{className:"text-lg",children:"All Tables"})}),s.jsx(De,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:a.map(l=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ll,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-mono text-sm",children:l.name})]}),s.jsx("span",{className:"text-sm font-semibold text-muted-foreground",children:l.records.toLocaleString()})]},l.name))})})]})]})};var Ese="AlertDialog",[AMe]=$i(Ese,[pne]),ZA=pne(),kse=e=>{const{__scopeAlertDialog:t,...r}=e,n=ZA(t);return s.jsx(kC,{...n,...r,modal:!0})};kse.displayName=Ese;var fMe="AlertDialogTrigger",Pse=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ZA(r);return s.jsx(oL,{...a,...n,ref:t})});Pse.displayName=fMe;var hMe="AlertDialogPortal",Tse=e=>{const{__scopeAlertDialog:t,...r}=e,n=ZA(t);return s.jsx(PC,{...n,...r})};Tse.displayName=hMe;var mMe="AlertDialogOverlay",Ose=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ZA(r);return s.jsx(qy,{...a,...n,ref:t})});Ose.displayName=mMe;var Sv="AlertDialogContent",[pMe,gMe]=AMe(Sv),vMe=sW("AlertDialogContent"),Ise=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=ZA(r),o=C.useRef(null),l=Qr(t,o),c=C.useRef(null);return s.jsx(rDe,{contentName:Sv,titleName:Fse,docsSlug:"alert-dialog",children:s.jsx(pMe,{scope:r,cancelRef:c,children:s.jsxs(Ky,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:yt(a.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(vMe,{children:n}),s.jsx(xMe,{contentRef:o})]})})})});Ise.displayName=Sv;var Fse="AlertDialogTitle",Rse=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ZA(r);return s.jsx(xb,{...a,...n,ref:t})});Rse.displayName=Fse;var Lse="AlertDialogDescription",Use=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ZA(r);return s.jsx(wb,{...a,...n,ref:t})});Use.displayName=Lse;var yMe="AlertDialogAction",Dse=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ZA(r);return s.jsx(TC,{...a,...n,ref:t})});Dse.displayName=yMe;var Mse="AlertDialogCancel",Qse=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=gMe(Mse,r),i=ZA(r),o=Qr(t,a);return s.jsx(TC,{...i,...n,ref:o})});Qse.displayName=Mse;var xMe=({contentRef:e})=>{const t=`\`${Sv}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Sv}\` by passing a \`${Lse}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Sv}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return C.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},wMe=kse,bMe=Pse,jMe=Tse,Hse=Ose,$se=Ise,Vse=Dse,qse=Qse,Kse=Rse,zse=Use;const LC=wMe,_Me=bMe,NMe=jMe,Wse=C.forwardRef(({className:e,...t},r)=>s.jsx(Hse,{className:st("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Wse.displayName=Hse.displayName;const bb=C.forwardRef(({className:e,...t},r)=>s.jsxs(NMe,{children:[s.jsx(Wse,{}),s.jsx($se,{ref:r,className:st("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));bb.displayName=$se.displayName;const jb=({className:e,...t})=>s.jsx("div",{className:st("flex flex-col space-y-2 text-center sm:text-left",e),...t});jb.displayName="AlertDialogHeader";const _b=({className:e,...t})=>s.jsx("div",{className:st("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});_b.displayName="AlertDialogFooter";const Nb=C.forwardRef(({className:e,...t},r)=>s.jsx(Kse,{ref:r,className:st("text-lg font-semibold",e),...t}));Nb.displayName=Kse.displayName;const Cb=C.forwardRef(({className:e,...t},r)=>s.jsx(zse,{ref:r,className:st("text-sm text-muted-foreground",e),...t}));Cb.displayName=zse.displayName;const Sb=C.forwardRef(({className:e,...t},r)=>s.jsx(Vse,{ref:r,className:st(sw(),e),...t}));Sb.displayName=Vse.displayName;const Bb=C.forwardRef(({className:e,...t},r)=>s.jsx(qse,{ref:r,className:st(sw({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Bb.displayName=qse.displayName;const vu=C.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:st("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));vu.displayName="Textarea";const CMe=["profiles","organizations","properties","units","tenants","invoices","payments","maintenance_tickets","expenses","activity_log","user_roles","tenant_documents","ticket_comments","notifications","user_permissions","tenants_profile","tenant_bills","tenant_family_members","tenant_payment_records","tenant_rooms"],SMe=()=>{const e=In(),[t,r]=C.useState(""),[n,a]=C.useState(1),i=25,[o,l]=C.useState(!1),[c,u]=C.useState(null),[d,A]=C.useState(!1),[h,m]=C.useState({open:!1,id:""}),[y,g]=C.useState({}),{data:v,isLoading:x}=eMe(t,n,i),b=sMe(),j=aMe(),_=iMe(),N=uMe(),B=v?.data||[],T=v?.total||0,O=Math.ceil(T/i),P=B.length>0?Object.keys(B[0]):[],M=()=>{A(!0),u(null),g({}),l(!0)},I=F=>{A(!1),u(F);const V={};Object.entries(F).forEach(([X,K])=>{V[X]=typeof K=="object"?JSON.stringify(K):String(K??"")}),g(V),l(!0)},D=()=>{const F={};Object.entries(y).forEach(([V,X])=>{if(!(V==="id"&&!d))try{F[V]=JSON.parse(X)}catch{F[V]=X===""?null:X}}),d?b.mutate({table:t,rowData:F},{onSuccess:()=>l(!1)}):j.mutate({table:t,id:c.id,rowData:F},{onSuccess:()=>l(!1)})},$=()=>{_.mutate({table:t,id:h.id},{onSuccess:()=>m({open:!1,id:""})})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsxs(ar,{value:t,onValueChange:F=>{r(F),a(1)},children:[s.jsx(ir,{className:"w-64",children:s.jsx(lr,{placeholder:"Select a table..."})}),s.jsx(or,{children:CMe.map(F=>s.jsx(Fe,{value:F,children:F},F))})]}),t&&s.jsxs(s.Fragment,{children:[s.jsxs(de,{variant:"outline",size:"sm",onClick:M,className:"gap-1",children:[s.jsx(mn,{className:"w-4 h-4"})," Add Row"]}),s.jsxs(de,{variant:"outline",size:"sm",onClick:()=>N.mutate({table:t,format:"csv"}),className:"gap-1",children:[s.jsx(Ro,{className:"w-4 h-4"})," CSV"]}),s.jsxs(de,{variant:"outline",size:"sm",onClick:()=>N.mutate({table:t,format:"json"}),className:"gap-1",children:[s.jsx(Ro,{className:"w-4 h-4"})," JSON"]}),s.jsx(de,{variant:"ghost",size:"sm",onClick:()=>e.invalidateQueries({queryKey:["db-table-data",t]}),children:s.jsx(Rs,{className:"w-4 h-4"})}),s.jsxs(Ze,{variant:"outline",className:"ml-auto",children:[T," records"]})]})]}),t?x?s.jsx(Le,{children:s.jsxs(De,{className:"py-16 text-center",children:[s.jsx(Rs,{className:"w-5 h-5 animate-spin mx-auto mb-2"}),"Loading data..."]})}):s.jsxs(s.Fragment,{children:[s.jsx(Le,{className:"overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ui,{children:[s.jsx(Di,{children:s.jsxs(jr,{children:[s.jsx(ht,{className:"w-20",children:"Actions"}),P.map(F=>s.jsx(ht,{className:"text-xs font-mono whitespace-nowrap",children:F},F))]})}),s.jsx(Mi,{children:B.length===0?s.jsx(jr,{children:s.jsx(ct,{colSpan:P.length+1,className:"text-center py-8 text-muted-foreground",children:"No records found"})}):B.map((F,V)=>s.jsxs(jr,{children:[s.jsx(ct,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(de,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>I(F),children:s.jsx(hl,{className:"w-3.5 h-3.5"})}),s.jsx(de,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>m({open:!0,id:F.id}),children:s.jsx(yi,{className:"w-3.5 h-3.5"})})]})}),P.map(X=>s.jsx(ct,{className:"text-xs max-w-48 truncate",children:typeof F[X]=="object"?JSON.stringify(F[X]):String(F[X]??"")},X))]},F.id||V))})]})})}),O>1&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",n," of ",O," (",T," total)"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{variant:"outline",size:"sm",disabled:n<=1,onClick:()=>a(n-1),children:s.jsx(Yw,{className:"w-4 h-4"})}),s.jsx(de,{variant:"outline",size:"sm",disabled:n>=O,onClick:()=>a(n+1),children:s.jsx(Pp,{className:"w-4 h-4"})})]})]})]}):s.jsx(Le,{children:s.jsx(De,{className:"py-16 text-center text-muted-foreground",children:"Select a table to view and manage its data"})}),s.jsx(dn,{open:o,onOpenChange:l,children:s.jsxs(an,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(pn,{children:[s.jsx(gn,{children:d?"Insert New Row":"Edit Row"}),s.jsx(_n,{children:d?`Add a new record to ${t}`:`Editing record in ${t}`})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 py-4",children:(d?P.length>0?P.filter(F=>F!=="id"&&F!=="created_at"&&F!=="updated_at"):[]:P).map(F=>s.jsxs("div",{className:"space-y-1",children:[s.jsx(Je,{className:"text-xs font-mono",children:F}),(y[F]||"").length>80?s.jsx(vu,{value:y[F]||"",onChange:V=>g({...y,[F]:V.target.value}),rows:3,className:"text-xs font-mono",disabled:F==="id"&&!d}):s.jsx(it,{value:y[F]||"",onChange:V=>g({...y,[F]:V.target.value}),className:"text-xs font-mono",disabled:F==="id"&&!d})]},F))}),s.jsxs(Qa,{children:[s.jsx(de,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(de,{onClick:D,disabled:b.isPending||j.isPending,children:b.isPending||j.isPending?"Saving...":"Save"})]})]})}),s.jsx(LC,{open:h.open,onOpenChange:F=>m({...h,open:F}),children:s.jsxs(bb,{children:[s.jsxs(jb,{children:[s.jsx(Nb,{children:"Delete Record"}),s.jsxs(Cb,{children:["Are you sure you want to permanently delete this record from ",s.jsx("strong",{children:t}),"? This action cannot be undone."]})]}),s.jsxs(_b,{children:[s.jsx(Bb,{children:"Cancel"}),s.jsx(Sb,{onClick:$,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:_.isPending?"Deleting...":"Delete"})]})]})})]})};var UC="Switch",[BMe]=$i(UC),[EMe,kMe]=BMe(UC),Gse=C.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...A}=e,[h,m]=C.useState(null),y=Qr(t,j=>m(j)),g=C.useRef(!1),v=h?d||!!h.closest("form"):!0,[x,b]=xu({prop:a,defaultProp:i??!1,onChange:u,caller:UC});return s.jsxs(EMe,{scope:r,checked:x,disabled:l,children:[s.jsx(kt.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":Zse(x),"data-disabled":l?"":void 0,disabled:l,value:c,...A,ref:y,onClick:yt(e.onClick,j=>{b(_=>!_),v&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),v&&s.jsx(Jse,{control:h,bubbles:!g.current,name:n,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Gse.displayName=UC;var Yse="SwitchThumb",Xse=C.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=kMe(Yse,r);return s.jsx(kt.span,{"data-state":Zse(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Xse.displayName=Yse;var PMe="SwitchBubbleInput",Jse=C.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=C.useRef(null),l=Qr(o,i),c=O3(r),u=DF(t);return C.useEffect(()=>{const d=o.current;if(!d)return;const A=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(A,"checked").set;if(c!==r&&m){const y=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(y)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Jse.displayName=PMe;function Zse(e){return e?"checked":"unchecked"}var eae=Gse,TMe=Xse;const yu=C.forwardRef(({className:e,...t},r)=>s.jsx(eae,{className:st("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(TMe,{className:st("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));yu.displayName=eae.displayName;const OMe=["profiles","organizations","properties","units","tenants","invoices","payments","maintenance_tickets","expenses","activity_log","user_roles","tenant_documents","ticket_comments","notifications","user_permissions","tenants_profile","tenant_bills","tenant_family_members","tenant_payment_records","tenant_rooms"],IMe=["text","integer","bigint","numeric","boolean","uuid","date","timestamp with time zone","jsonb","json"],FMe=["id","created_at","updated_at","organization_id","user_id"],RMe=()=>{const[e,t]=C.useState(""),{data:r,isLoading:n}=tMe(e),a=oMe(),i=lMe(),[o,l]=C.useState(!1),[c,u]=C.useState({name:"",type:"text",nullable:!0,default:""}),[d,A]=C.useState({open:!1,column:""}),h=r?.columns||[],m=()=>{a.mutate({table:e,columnName:c.name,columnType:c.type,nullable:c.nullable,defaultValue:c.default||null},{onSuccess:()=>{l(!1),u({name:"",type:"text",nullable:!0,default:""})}})},y=()=>{i.mutate({table:e,columnName:d.column},{onSuccess:()=>A({open:!1,column:""})})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsxs(ar,{value:e,onValueChange:t,children:[s.jsx(ir,{className:"w-64",children:s.jsx(lr,{placeholder:"Select a table..."})}),s.jsx(or,{children:OMe.map(g=>s.jsx(Fe,{value:g,children:g},g))})]}),e&&s.jsxs(de,{variant:"outline",size:"sm",onClick:()=>l(!0),className:"gap-1",children:[s.jsx(mn,{className:"w-4 h-4"})," Add Column"]})]}),e?n?s.jsx(Le,{children:s.jsx(De,{className:"py-16 text-center text-muted-foreground",children:"Loading schema..."})}):s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsx(gt,{className:"text-lg font-mono",children:e})}),s.jsx(De,{children:s.jsxs(Ui,{children:[s.jsx(Di,{children:s.jsxs(jr,{children:[s.jsx(ht,{children:"Column"}),s.jsx(ht,{children:"Type"}),s.jsx(ht,{children:"Nullable"}),s.jsx(ht,{children:"Default"}),s.jsx(ht,{className:"w-12"})]})}),s.jsx(Mi,{children:h.map(g=>{const v=FMe.includes(g.column_name);return s.jsxs(jr,{children:[s.jsxs(ct,{className:"font-mono text-sm",children:[g.column_name,v&&s.jsx(Ze,{variant:"outline",className:"ml-2 text-xs",children:"protected"})]}),s.jsx(ct,{className:"text-sm text-muted-foreground",children:g.data_type}),s.jsx(ct,{children:s.jsx(Ze,{variant:g.is_nullable==="YES"?"outline":"secondary",children:g.is_nullable==="YES"?"nullable":"required"})}),s.jsx(ct,{className:"text-xs text-muted-foreground font-mono",children:g.column_default||""}),s.jsx(ct,{children:!v&&s.jsx(de,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>A({open:!0,column:g.column_name}),children:s.jsx(yi,{className:"w-3.5 h-3.5"})})})]},g.column_name)})})]})})]}):s.jsx(Le,{children:s.jsxs(De,{className:"py-16 text-center text-muted-foreground",children:[s.jsx(TW,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),"Select a table to inspect its schema"]})}),s.jsx(dn,{open:o,onOpenChange:l,children:s.jsxs(an,{children:[s.jsxs(pn,{children:[s.jsxs(gn,{children:["Add Column to ",e]}),s.jsx(_n,{children:"This will alter the table schema. Use with caution."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{children:"Column Name"}),s.jsx(it,{value:c.name,onChange:g=>u({...c,name:g.target.value}),placeholder:"e.g. phone_number",className:"font-mono"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{children:"Data Type"}),s.jsxs(ar,{value:c.type,onValueChange:g=>u({...c,type:g}),children:[s.jsx(ir,{children:s.jsx(lr,{})}),s.jsx(or,{children:IMe.map(g=>s.jsx(Fe,{value:g,children:g},g))})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yu,{checked:c.nullable,onCheckedChange:g=>u({...c,nullable:g})}),s.jsx(Je,{children:"Nullable"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{children:"Default Value (optional)"}),s.jsx(it,{value:c.default,onChange:g=>u({...c,default:g.target.value}),placeholder:"e.g. 0",className:"font-mono"})]})]}),s.jsxs(Qa,{children:[s.jsx(de,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(de,{onClick:m,disabled:!c.name||a.isPending,children:a.isPending?"Adding...":"Add Column"})]})]})}),s.jsx(LC,{open:d.open,onOpenChange:g=>A({...d,open:g}),children:s.jsxs(bb,{children:[s.jsxs(jb,{children:[s.jsxs(Nb,{className:"flex items-center gap-2",children:[s.jsx(xi,{className:"w-5 h-5 text-destructive"}),"Delete Column"]}),s.jsxs(Cb,{children:["This will permanently remove the column ",s.jsx("strong",{className:"font-mono",children:d.column})," from ",s.jsx("strong",{children:e}),".",s.jsx("br",{}),s.jsx("br",{}),s.jsx("span",{className:"text-destructive font-semibold",children:" All data in this column will be lost. This cannot be undone."})]})]}),s.jsxs(_b,{children:[s.jsx(Bb,{children:"Cancel"}),s.jsx(Sb,{onClick:y,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:i.isPending?"Deleting...":"Permanently Delete"})]})]})})]})},LMe=()=>{const e=In(),{data:t,isLoading:r}=rMe(),n=cMe(),[a,i]=C.useState(!1),[o,l]=C.useState(""),[c,u]=C.useState(""),d=t?.enums||[],A=()=>{n.mutate({enumName:o,value:c},{onSuccess:()=>{i(!1),u("")}})};return r?s.jsx(Le,{children:s.jsxs(De,{className:"py-16 text-center text-muted-foreground",children:[s.jsx(Rs,{className:"w-5 h-5 animate-spin mx-auto mb-2"}),"Loading enums..."]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Database Enums"}),s.jsx(de,{variant:"ghost",size:"sm",onClick:()=>e.invalidateQueries({queryKey:["db-enums"]}),children:s.jsx(Rs,{className:"w-4 h-4"})})]}),d.length===0?s.jsx(Le,{children:s.jsxs(De,{className:"py-16 text-center text-muted-foreground",children:[s.jsx(MW,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),"No enums found"]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(h=>s.jsxs(Le,{children:[s.jsxs(pt,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(gt,{className:"text-sm font-mono",children:h.name}),s.jsxs(de,{variant:"outline",size:"sm",className:"gap-1",onClick:()=>{l(h.name),i(!0)},children:[s.jsx(mn,{className:"w-3.5 h-3.5"})," Add Value"]})]}),s.jsx(De,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:(h.values||[]).map(m=>s.jsx(Ze,{variant:"secondary",className:"font-mono text-xs",children:m},m))})})]},h.name))}),s.jsx(dn,{open:a,onOpenChange:i,children:s.jsxs(an,{children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Add Enum Value"}),s.jsxs(_n,{children:["Add a new value to ",s.jsx("strong",{className:"font-mono",children:o}),". Note: Enum values cannot be removed once added in PostgreSQL."]})]}),s.jsxs("div",{className:"py-4 space-y-2",children:[s.jsx(Je,{children:"New Value"}),s.jsx(it,{value:c,onChange:h=>u(h.target.value),placeholder:"e.g. moderator",className:"font-mono"})]}),s.jsxs(Qa,{children:[s.jsx(de,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx(de,{onClick:A,disabled:!c||n.isPending,children:n.isPending?"Adding...":"Add Value"})]})]})})]})},UMe=()=>{const e=In(),[t,r]=C.useState(1),[n,a]=C.useState(""),i=30,{data:o,isLoading:l}=nMe(t,i,n),c=o?.data||[],u=o?.total||0,d=Math.ceil(u/i),A=h=>h.includes("DELETE")?"destructive":h.includes("INSERT")||h.includes("CREATE")||h.includes("ADDED")?"default":h.includes("UPDATE")?"secondary":"outline";return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsxs(ar,{value:n,onValueChange:h=>{a(h==="all"?"":h),r(1)},children:[s.jsx(ir,{className:"w-56",children:s.jsx(lr,{placeholder:"Filter by entity..."})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"all",children:"All entities"}),s.jsx(Fe,{value:"profiles",children:"Profiles"}),s.jsx(Fe,{value:"organizations",children:"Organizations"}),s.jsx(Fe,{value:"properties",children:"Properties"}),s.jsx(Fe,{value:"tenants",children:"Tenants"}),s.jsx(Fe,{value:"enum",children:"Enums"})]})]}),s.jsx(de,{variant:"ghost",size:"sm",onClick:()=>e.invalidateQueries({queryKey:["db-audit-log"]}),children:s.jsx(Rs,{className:"w-4 h-4"})}),s.jsxs(Ze,{variant:"outline",className:"ml-auto",children:[u," entries"]})]}),l?s.jsx(Le,{children:s.jsxs(De,{className:"py-16 text-center text-muted-foreground",children:[s.jsx(Rs,{className:"w-5 h-5 animate-spin mx-auto mb-2"}),"Loading audit log..."]})}):c.length===0?s.jsx(Le,{children:s.jsxs(De,{className:"py-16 text-center text-muted-foreground",children:[s.jsx(RW,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),"No audit entries found"]})}):s.jsxs(s.Fragment,{children:[s.jsx(Le,{className:"overflow-hidden",children:s.jsxs(Ui,{children:[s.jsx(Di,{children:s.jsxs(jr,{children:[s.jsx(ht,{children:"Time"}),s.jsx(ht,{children:"User"}),s.jsx(ht,{children:"Action"}),s.jsx(ht,{children:"Entity"}),s.jsx(ht,{children:"Details"})]})}),s.jsx(Mi,{children:c.map(h=>s.jsxs(jr,{children:[s.jsx(ct,{className:"text-xs text-muted-foreground whitespace-nowrap",children:Rn(new Date(h.created_at),"MMM dd, HH:mm:ss")}),s.jsx(ct,{className:"text-sm",children:h.profiles?.full_name||h.profiles?.email||h.user_id?.substring(0,8)}),s.jsx(ct,{children:s.jsx(Ze,{variant:A(h.action),className:"text-xs",children:h.action})}),s.jsx(ct,{className:"text-sm font-mono",children:h.entity_type||""}),s.jsx(ct,{className:"text-xs text-muted-foreground max-w-64 truncate",children:h.details?JSON.stringify(h.details):""})]},h.id))})]})}),d>1&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",t," of ",d]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{variant:"outline",size:"sm",disabled:t<=1,onClick:()=>r(t-1),children:s.jsx(Yw,{className:"w-4 h-4"})}),s.jsx(de,{variant:"outline",size:"sm",disabled:t>=d,onClick:()=>r(t+1),children:s.jsx(Pp,{className:"w-4 h-4"})})]})]})]})]})},DMe=()=>{const e=In();return s.jsx(GA,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Database Management"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Full database control  CRUD, schema, enums, and audit trail"})]}),s.jsxs(de,{variant:"outline",onClick:()=>e.invalidateQueries(),className:"gap-2",children:[s.jsx(Rs,{className:"w-4 h-4"})," Refresh All"]})]}),s.jsxs(kd,{defaultValue:"overview",className:"space-y-4",children:[s.jsxs(Pu,{className:"grid w-full grid-cols-5 lg:w-auto lg:inline-grid",children:[s.jsxs(Zr,{value:"overview",className:"gap-1.5",children:[s.jsx(ll,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Overview"})]}),s.jsxs(Zr,{value:"tables",className:"gap-1.5",children:[s.jsx(Bue,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Tables"})]}),s.jsxs(Zr,{value:"schema",className:"gap-1.5",children:[s.jsx(TW,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Schema"})]}),s.jsxs(Zr,{value:"enums",className:"gap-1.5",children:[s.jsx(MW,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Enums"})]}),s.jsxs(Zr,{value:"audit",className:"gap-1.5",children:[s.jsx(RW,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Audit Log"})]})]}),s.jsx(hn,{value:"overview",children:s.jsx(dMe,{})}),s.jsx(hn,{value:"tables",children:s.jsx(SMe,{})}),s.jsx(hn,{value:"schema",children:s.jsx(RMe,{})}),s.jsx(hn,{value:"enums",children:s.jsx(LMe,{})}),s.jsx(hn,{value:"audit",children:s.jsx(UMe,{})})]})]})})};var MMe="Separator",JV="horizontal",QMe=["horizontal","vertical"],tae=C.forwardRef((e,t)=>{const{decorative:r,orientation:n=JV,...a}=e,i=HMe(n)?n:JV,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(kt.div,{"data-orientation":i,...l,...a,ref:t})});tae.displayName=MMe;function HMe(e){return QMe.includes(e)}var rae=tae;const ol=C.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(rae,{ref:a,decorative:r,orientation:t,className:st("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));ol.displayName=rae.displayName;const $Me=()=>{const[e,t]=C.useState(!1),[r,n]=C.useState(!0),[a,i]=C.useState(!0),{theme:o,setTheme:l}=e3();return s.jsx(GA,{children:s.jsxs("div",{className:"space-y-6 max-w-3xl",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Platform Settings"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure global platform settings and preferences."})]}),s.jsxs(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:s.jsx(BF,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold",children:"General"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Basic platform configuration"})]})]}),s.jsx(ol,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Platform Name"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Displayed across the application"})]}),s.jsx(it,{defaultValue:"PropManager Pro",className:"w-64"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Default Timezone"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for reports and logs"})]}),s.jsx(it,{defaultValue:"UTC",className:"w-64"})]})]})]}),s.jsxs(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-card p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-destructive/10 flex items-center justify-center",children:s.jsx(Lo,{className:"w-5 h-5 text-destructive"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Security"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Authentication and access controls"})]})]}),s.jsx(ol,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Maintenance Mode"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Restrict access to super admins only"})]}),s.jsx(yu,{checked:e,onCheckedChange:c=>{t(c),He.info(c?"Maintenance mode enabled":"Maintenance mode disabled")}})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Public Registration"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow self-service sign-ups"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(Ze,{variant:"outline",className:"bg-destructive/10 text-destructive border-destructive/20",children:"Disabled"})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Require 2FA for admin accounts"})]}),s.jsx(Ze,{variant:"outline",className:"bg-muted text-muted-foreground",children:"Coming Soon"})]})]})]}),s.jsxs(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass-card p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:s.jsx(sl,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email and alert preferences"})]})]}),s.jsx(ol,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Email Notifications"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive system alerts via email"})]}),s.jsx(yu,{checked:r,onCheckedChange:n})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Auto Backup"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatic daily database backups"})]}),s.jsx(yu,{checked:a,onCheckedChange:i})]})]})]}),s.jsxs(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"glass-card p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-muted flex items-center justify-center",children:s.jsx(ll,{className:"w-5 h-5 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold",children:"System Information"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Platform version and status"})]})]}),s.jsx(ol,{}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Version:"})," ",s.jsx("span",{className:"font-medium ml-2",children:"1.0.0"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Environment:"})," ",s.jsx("span",{className:"font-medium ml-2",children:"Production"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Database:"})," ",s.jsx(Ze,{variant:"outline",className:"ml-2 bg-success/10 text-success border-success/20",children:"Connected"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Auth:"})," ",s.jsx(Ze,{variant:"outline",className:"ml-2 bg-success/10 text-success border-success/20",children:"Active"})]})]})]}),s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.35},className:"glass-card p-6 space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:s.jsx(Iv,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:"Appearance"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Switch between dark and light mode"})]})]}),s.jsxs("div",{className:"flex bg-muted rounded-lg p-1",children:[s.jsxs(de,{variant:"ghost",size:"sm",className:`h-8 px-3 gap-2 ${o==="dark"?"bg-background shadow-sm":"opacity-50"}`,onClick:()=>l("dark"),children:[s.jsx(Iv,{className:"w-3 h-3"})," Dark"]}),s.jsxs(de,{variant:"ghost",size:"sm",className:`h-8 px-3 gap-2 ${o==="light"?"bg-background shadow-sm":"opacity-50"}`,onClick:()=>l("light"),children:[s.jsx(kF,{className:"w-3 h-3"})," Light"]})]})]})})]})})};var Eb=e=>e.type==="checkbox",zm=e=>e instanceof Date,Eo=e=>e==null;const nae=e=>typeof e=="object";var Ca=e=>!Eo(e)&&!Array.isArray(e)&&nae(e)&&!zm(e),sae=e=>Ca(e)&&e.target?Eb(e.target)?e.target.checked:e.target.value:e,VMe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,aae=(e,t)=>e.has(VMe(t)),qMe=e=>{const t=e.constructor&&e.constructor.prototype;return Ca(t)&&t.hasOwnProperty("isPrototypeOf")},uL=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ja(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(uL&&(e instanceof Blob||n))&&(r||Ca(e)))if(t=r?[]:{},!r&&!qMe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Ja(e[a]));else return e;return t}var DC=e=>/^\w*$/.test(e),ya=e=>e===void 0,dL=e=>Array.isArray(e)?e.filter(Boolean):[],AL=e=>dL(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Nt=(e,t,r)=>{if(!t||!Ca(e))return r;const n=(DC(t)?[t]:AL(t)).reduce((a,i)=>Eo(a)?a:a[i],e);return ya(n)||n===e?ya(e[t])?r:e[t]:n},Ul=e=>typeof e=="boolean",Gn=(e,t,r)=>{let n=-1;const a=DC(t)?[t]:AL(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Ca(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const $_={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Au={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},gA={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},fL=se.createContext(null);fL.displayName="HookFormContext";const MC=()=>se.useContext(fL),KMe=e=>{const{children:t,...r}=e;return se.createElement(fL.Provider,{value:r},t)};var iae=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Au.all&&(t._proxyFormState[o]=!n||Au.all),r&&(r[o]=!0),e[o]}});return a};const hL=typeof window<"u"?se.useLayoutEffect:se.useEffect;function zMe(e){const t=MC(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=se.useState(r._formState),c=se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return hL(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),se.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),se.useMemo(()=>iae(o,r,c.current,!1),[o,r])}var dd=e=>typeof e=="string",oae=(e,t,r,n,a)=>dd(e)?(n&&t.watch.add(e),Nt(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Nt(r,i))):(n&&(t.watchAll=!0),r),SI=e=>Eo(e)||!nae(e);function SA(e,t,r=new WeakSet){if(SI(e)||SI(t))return e===t;if(zm(e)&&zm(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(zm(o)&&zm(l)||Ca(o)&&Ca(l)||Array.isArray(o)&&Array.isArray(l)?!SA(o,l,r):o!==l)return!1}}return!0}function WMe(e){const t=MC(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=se.useRef(a),u=se.useRef(l),d=se.useRef(void 0);u.current=l;const A=se.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,m]=se.useState(u.current?u.current(A):A);return hL(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:y=>{if(!i){const g=oae(n,r._names,y.values||r._formValues,!1,c.current);if(u.current){const v=u.current(g);SA(v,d.current)||(m(v),d.current=v)}else m(g)}}}),[r,i,n,o]),se.useEffect(()=>r._removeUnmounted()),h}function GMe(e){const t=MC(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=aae(a._names.array,r),c=se.useMemo(()=>Nt(a._formValues,r,Nt(a._defaultValues,r,o)),[a,r,o]),u=WMe({control:a,name:r,defaultValue:c,exact:!0}),d=zMe({control:a,name:r,exact:!0}),A=se.useRef(e),h=se.useRef(a.register(r,{...e.rules,value:u,...Ul(e.disabled)?{disabled:e.disabled}:{}}));A.current=e;const m=se.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Nt(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Nt(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Nt(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Nt(d.validatingFields,r)},error:{enumerable:!0,get:()=>Nt(d.errors,r)}}),[d,r]),y=se.useCallback(b=>h.current.onChange({target:{value:sae(b),name:r},type:$_.CHANGE}),[r]),g=se.useCallback(()=>h.current.onBlur({target:{value:Nt(a._formValues,r),name:r},type:$_.BLUR}),[r,a._formValues]),v=se.useCallback(b=>{const j=Nt(a._fields,r);j&&b&&(j._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:_=>b.setCustomValidity(_),reportValidity:()=>b.reportValidity()})},[a._fields,r]),x=se.useMemo(()=>({name:r,value:u,...Ul(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:y,onBlur:g,ref:v}),[r,n,d.disabled,y,g,v,u]);return se.useEffect(()=>{const b=a._options.shouldUnregister||i;a.register(r,{...A.current.rules,...Ul(A.current.disabled)?{disabled:A.current.disabled}:{}});const j=(_,N)=>{const B=Nt(a._fields,_);B&&B._f&&(B._f.mount=N)};if(j(r,!0),b){const _=Ja(Nt(a._options.defaultValues,r));Gn(a._defaultValues,r,_),ya(Nt(a._formValues,r))&&Gn(a._formValues,r,_)}return!l&&a.register(r),()=>{(l?b&&!a._state.action:b)?a.unregister(r):j(r,!1)}},[r,a,l,i]),se.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),se.useMemo(()=>({field:x,formState:d,fieldState:m}),[x,d,m])}const YMe=e=>e.render(GMe(e));var lae=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},E0=e=>Array.isArray(e)?e:[e],ZV=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},el=e=>Ca(e)&&!Object.keys(e).length,mL=e=>e.type==="file",fu=e=>typeof e=="function",V_=e=>{if(!uL)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},cae=e=>e.type==="select-multiple",pL=e=>e.type==="radio",XMe=e=>pL(e)||Eb(e),Mk=e=>V_(e)&&e.isConnected;function JMe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=ya(e)?n++:e[t[n++]];return e}function ZMe(e){for(const t in e)if(e.hasOwnProperty(t)&&!ya(e[t]))return!1;return!0}function Oa(e,t){const r=Array.isArray(t)?t:DC(t)?[t]:AL(t),n=r.length===1?e:JMe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Ca(n)&&el(n)||Array.isArray(n)&&ZMe(n))&&Oa(e,r.slice(0,-1)),e}var uae=e=>{for(const t in e)if(fu(e[t]))return!0;return!1};function q_(e,t={}){const r=Array.isArray(e);if(Ca(e)||r)for(const n in e)Array.isArray(e[n])||Ca(e[n])&&!uae(e[n])?(t[n]=Array.isArray(e[n])?[]:{},q_(e[n],t[n])):Eo(e[n])||(t[n]=!0);return t}function dae(e,t,r){const n=Array.isArray(e);if(Ca(e)||n)for(const a in e)Array.isArray(e[a])||Ca(e[a])&&!uae(e[a])?ya(t)||SI(r[a])?r[a]=Array.isArray(e[a])?q_(e[a],[]):{...q_(e[a])}:dae(e[a],Eo(t)?{}:t[a],r[a]):r[a]=!SA(e[a],t[a]);return r}var $x=(e,t)=>dae(e,t,q_(t));const eq={value:!1,isValid:!1},tq={value:!0,isValid:!0};var Aae=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ya(e[0].attributes.value)?ya(e[0].value)||e[0].value===""?tq:{value:e[0].value,isValid:!0}:tq:eq}return eq},fae=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>ya(e)?e:t?e===""?NaN:e&&+e:r&&dd(e)?new Date(e):n?n(e):e;const rq={isValid:!1,value:null};var hae=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,rq):rq;function nq(e){const t=e.ref;return mL(t)?t.files:pL(t)?hae(e.refs).value:cae(t)?[...t.selectedOptions].map(({value:r})=>r):Eb(t)?Aae(e.refs).value:fae(ya(t.value)?e.ref.value:t.value,e)}var e6e=(e,t,r,n)=>{const a={};for(const i of e){const o=Nt(t,i);o&&Gn(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},K_=e=>e instanceof RegExp,Vx=e=>ya(e)?e:K_(e)?e.source:Ca(e)?K_(e.value)?e.value.source:e.value:e,sq=e=>({isOnSubmit:!e||e===Au.onSubmit,isOnBlur:e===Au.onBlur,isOnChange:e===Au.onChange,isOnAll:e===Au.all,isOnTouch:e===Au.onTouched});const aq="AsyncFunction";var t6e=e=>!!e&&!!e.validate&&!!(fu(e.validate)&&e.validate.constructor.name===aq||Ca(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===aq)),r6e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),iq=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const k0=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Nt(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(k0(l,t))break}else if(Ca(l)&&k0(l,t))break}}};function oq(e,t,r){const n=Nt(e,r);if(n||DC(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Nt(t,i),l=Nt(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var n6e=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return el(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Au.all))},s6e=(e,t,r)=>!e||!t||e===t||E0(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),a6e=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,i6e=(e,t)=>!dL(Nt(e,t)).length&&Oa(e,t),o6e=(e,t,r)=>{const n=E0(Nt(e,r));return Gn(n,"root",t[r]),Gn(e,r,n),e},J2=e=>dd(e);function lq(e,t,r="validate"){if(J2(e)||Array.isArray(e)&&e.every(J2)||Ul(e)&&!e)return{type:r,message:J2(e)?e:"",ref:t}}var Lg=e=>Ca(e)&&!K_(e)?e:{value:e,message:""},cq=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:A,max:h,pattern:m,validate:y,name:g,valueAsNumber:v,mount:x}=e._f,b=Nt(r,g);if(!x||t.has(g))return{};const j=l?l[0]:o,_=D=>{a&&j.reportValidity&&(j.setCustomValidity(Ul(D)?"":D||""),j.reportValidity())},N={},B=pL(o),T=Eb(o),O=B||T,P=(v||mL(o))&&ya(o.value)&&ya(b)||V_(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,M=lae.bind(null,g,n,N),I=(D,$,F,V=gA.maxLength,X=gA.minLength)=>{const K=D?$:F;N[g]={type:D?V:X,message:K,ref:o,...M(D?V:X,K)}};if(i?!Array.isArray(b)||!b.length:c&&(!O&&(P||Eo(b))||Ul(b)&&!b||T&&!Aae(l).isValid||B&&!hae(l).isValid)){const{value:D,message:$}=J2(c)?{value:!!c,message:c}:Lg(c);if(D&&(N[g]={type:gA.required,message:$,ref:j,...M(gA.required,$)},!n))return _($),N}if(!P&&(!Eo(A)||!Eo(h))){let D,$;const F=Lg(h),V=Lg(A);if(!Eo(b)&&!isNaN(b)){const X=o.valueAsNumber||b&&+b;Eo(F.value)||(D=X>F.value),Eo(V.value)||($=X<V.value)}else{const X=o.valueAsDate||new Date(b),K=te=>new Date(new Date().toDateString()+" "+te),W=o.type=="time",z=o.type=="week";dd(F.value)&&b&&(D=W?K(b)>K(F.value):z?b>F.value:X>new Date(F.value)),dd(V.value)&&b&&($=W?K(b)<K(V.value):z?b<V.value:X<new Date(V.value))}if((D||$)&&(I(!!D,F.message,V.message,gA.max,gA.min),!n))return _(N[g].message),N}if((u||d)&&!P&&(dd(b)||i&&Array.isArray(b))){const D=Lg(u),$=Lg(d),F=!Eo(D.value)&&b.length>+D.value,V=!Eo($.value)&&b.length<+$.value;if((F||V)&&(I(F,D.message,$.message),!n))return _(N[g].message),N}if(m&&!P&&dd(b)){const{value:D,message:$}=Lg(m);if(K_(D)&&!b.match(D)&&(N[g]={type:gA.pattern,message:$,ref:o,...M(gA.pattern,$)},!n))return _($),N}if(y){if(fu(y)){const D=await y(b,r),$=lq(D,j);if($&&(N[g]={...$,...M(gA.validate,$.message)},!n))return _($.message),N}else if(Ca(y)){let D={};for(const $ in y){if(!el(D)&&!n)break;const F=lq(await y[$](b,r),j,$);F&&(D={...F,...M($,F.message)},_(F.message),n&&(N[g]=D))}if(!el(D)&&(N[g]={ref:j,...D},!n))return N}}return _(!0),N};const l6e={mode:Au.onSubmit,reValidateMode:Au.onChange,shouldFocusError:!0};function c6e(e={}){let t={...l6e,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:fu(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Ca(t.defaultValues)||Ca(t.values)?Ja(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Ja(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let A={...d};const h={array:ZV(),state:ZV()},m=t.criteriaMode===Au.all,y=fe=>ve=>{clearTimeout(u),u=setTimeout(fe,ve)},g=async fe=>{if(!t.disabled&&(d.isValid||A.isValid||fe)){const ve=t.resolver?el((await T()).errors):await P(n,!0);ve!==r.isValid&&h.state.next({isValid:ve})}},v=(fe,ve)=>{!t.disabled&&(d.isValidating||d.validatingFields||A.isValidating||A.validatingFields)&&((fe||Array.from(l.mount)).forEach(Ee=>{Ee&&(ve?Gn(r.validatingFields,Ee,ve):Oa(r.validatingFields,Ee))}),h.state.next({validatingFields:r.validatingFields,isValidating:!el(r.validatingFields)}))},x=(fe,ve=[],Ee,xe,qe=!0,Ke=!0)=>{if(xe&&Ee&&!t.disabled){if(o.action=!0,Ke&&Array.isArray(Nt(n,fe))){const tt=Ee(Nt(n,fe),xe.argA,xe.argB);qe&&Gn(n,fe,tt)}if(Ke&&Array.isArray(Nt(r.errors,fe))){const tt=Ee(Nt(r.errors,fe),xe.argA,xe.argB);qe&&Gn(r.errors,fe,tt),i6e(r.errors,fe)}if((d.touchedFields||A.touchedFields)&&Ke&&Array.isArray(Nt(r.touchedFields,fe))){const tt=Ee(Nt(r.touchedFields,fe),xe.argA,xe.argB);qe&&Gn(r.touchedFields,fe,tt)}(d.dirtyFields||A.dirtyFields)&&(r.dirtyFields=$x(a,i)),h.state.next({name:fe,isDirty:I(fe,ve),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Gn(i,fe,ve)},b=(fe,ve)=>{Gn(r.errors,fe,ve),h.state.next({errors:r.errors})},j=fe=>{r.errors=fe,h.state.next({errors:r.errors,isValid:!1})},_=(fe,ve,Ee,xe)=>{const qe=Nt(n,fe);if(qe){const Ke=Nt(i,fe,ya(Ee)?Nt(a,fe):Ee);ya(Ke)||xe&&xe.defaultChecked||ve?Gn(i,fe,ve?Ke:nq(qe._f)):F(fe,Ke),o.mount&&g()}},N=(fe,ve,Ee,xe,qe)=>{let Ke=!1,tt=!1;const jt={name:fe};if(!t.disabled){if(!Ee||xe){(d.isDirty||A.isDirty)&&(tt=r.isDirty,r.isDirty=jt.isDirty=I(),Ke=tt!==jt.isDirty);const Ct=SA(Nt(a,fe),ve);tt=!!Nt(r.dirtyFields,fe),Ct?Oa(r.dirtyFields,fe):Gn(r.dirtyFields,fe,!0),jt.dirtyFields=r.dirtyFields,Ke=Ke||(d.dirtyFields||A.dirtyFields)&&tt!==!Ct}if(Ee){const Ct=Nt(r.touchedFields,fe);Ct||(Gn(r.touchedFields,fe,Ee),jt.touchedFields=r.touchedFields,Ke=Ke||(d.touchedFields||A.touchedFields)&&Ct!==Ee)}Ke&&qe&&h.state.next(jt)}return Ke?jt:{}},B=(fe,ve,Ee,xe)=>{const qe=Nt(r.errors,fe),Ke=(d.isValid||A.isValid)&&Ul(ve)&&r.isValid!==ve;if(t.delayError&&Ee?(c=y(()=>b(fe,Ee)),c(t.delayError)):(clearTimeout(u),c=null,Ee?Gn(r.errors,fe,Ee):Oa(r.errors,fe)),(Ee?!SA(qe,Ee):qe)||!el(xe)||Ke){const tt={...xe,...Ke&&Ul(ve)?{isValid:ve}:{},errors:r.errors,name:fe};r={...r,...tt},h.state.next(tt)}},T=async fe=>{v(fe,!0);const ve=await t.resolver(i,t.context,e6e(fe||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(fe),ve},O=async fe=>{const{errors:ve}=await T(fe);if(fe)for(const Ee of fe){const xe=Nt(ve,Ee);xe?Gn(r.errors,Ee,xe):Oa(r.errors,Ee)}else r.errors=ve;return ve},P=async(fe,ve,Ee={valid:!0})=>{for(const xe in fe){const qe=fe[xe];if(qe){const{_f:Ke,...tt}=qe;if(Ke){const jt=l.array.has(Ke.name),Ct=qe._f&&t6e(qe._f);Ct&&d.validatingFields&&v([xe],!0);const _t=await cq(qe,l.disabled,i,m,t.shouldUseNativeValidation&&!ve,jt);if(Ct&&d.validatingFields&&v([xe]),_t[Ke.name]&&(Ee.valid=!1,ve))break;!ve&&(Nt(_t,Ke.name)?jt?o6e(r.errors,_t,Ke.name):Gn(r.errors,Ke.name,_t[Ke.name]):Oa(r.errors,Ke.name))}!el(tt)&&await P(tt,ve,Ee)}}return Ee.valid},M=()=>{for(const fe of l.unMount){const ve=Nt(n,fe);ve&&(ve._f.refs?ve._f.refs.every(Ee=>!Mk(Ee)):!Mk(ve._f.ref))&&ce(fe)}l.unMount=new Set},I=(fe,ve)=>!t.disabled&&(fe&&ve&&Gn(i,fe,ve),!SA(te(),a)),D=(fe,ve,Ee)=>oae(fe,l,{...o.mount?i:ya(ve)?a:dd(fe)?{[fe]:ve}:ve},Ee,ve),$=fe=>dL(Nt(o.mount?i:a,fe,t.shouldUnregister?Nt(a,fe,[]):[])),F=(fe,ve,Ee={})=>{const xe=Nt(n,fe);let qe=ve;if(xe){const Ke=xe._f;Ke&&(!Ke.disabled&&Gn(i,fe,fae(ve,Ke)),qe=V_(Ke.ref)&&Eo(ve)?"":ve,cae(Ke.ref)?[...Ke.ref.options].forEach(tt=>tt.selected=qe.includes(tt.value)):Ke.refs?Eb(Ke.ref)?Ke.refs.forEach(tt=>{(!tt.defaultChecked||!tt.disabled)&&(Array.isArray(qe)?tt.checked=!!qe.find(jt=>jt===tt.value):tt.checked=qe===tt.value||!!qe)}):Ke.refs.forEach(tt=>tt.checked=tt.value===qe):mL(Ke.ref)?Ke.ref.value="":(Ke.ref.value=qe,Ke.ref.type||h.state.next({name:fe,values:Ja(i)})))}(Ee.shouldDirty||Ee.shouldTouch)&&N(fe,qe,Ee.shouldTouch,Ee.shouldDirty,!0),Ee.shouldValidate&&z(fe)},V=(fe,ve,Ee)=>{for(const xe in ve){if(!ve.hasOwnProperty(xe))return;const qe=ve[xe],Ke=fe+"."+xe,tt=Nt(n,Ke);(l.array.has(fe)||Ca(qe)||tt&&!tt._f)&&!zm(qe)?V(Ke,qe,Ee):F(Ke,qe,Ee)}},X=(fe,ve,Ee={})=>{const xe=Nt(n,fe),qe=l.array.has(fe),Ke=Ja(ve);Gn(i,fe,Ke),qe?(h.array.next({name:fe,values:Ja(i)}),(d.isDirty||d.dirtyFields||A.isDirty||A.dirtyFields)&&Ee.shouldDirty&&h.state.next({name:fe,dirtyFields:$x(a,i),isDirty:I(fe,Ke)})):xe&&!xe._f&&!Eo(Ke)?V(fe,Ke,Ee):F(fe,Ke,Ee),iq(fe,l)&&h.state.next({...r,name:fe}),h.state.next({name:o.mount?fe:void 0,values:Ja(i)})},K=async fe=>{o.mount=!0;const ve=fe.target;let Ee=ve.name,xe=!0;const qe=Nt(n,Ee),Ke=Ct=>{xe=Number.isNaN(Ct)||zm(Ct)&&isNaN(Ct.getTime())||SA(Ct,Nt(i,Ee,Ct))},tt=sq(t.mode),jt=sq(t.reValidateMode);if(qe){let Ct,_t;const tr=ve.type?nq(qe._f):sae(fe),St=fe.type===$_.BLUR||fe.type===$_.FOCUS_OUT,Zn=!r6e(qe._f)&&!t.resolver&&!Nt(r.errors,Ee)&&!qe._f.deps||a6e(St,Nt(r.touchedFields,Ee),r.isSubmitted,jt,tt),Hr=iq(Ee,l,St);Gn(i,Ee,tr),St?(qe._f.onBlur&&qe._f.onBlur(fe),c&&c(0)):qe._f.onChange&&qe._f.onChange(fe);const dr=N(Ee,tr,St),Fr=!el(dr)||Hr;if(!St&&h.state.next({name:Ee,type:fe.type,values:Ja(i)}),Zn)return(d.isValid||A.isValid)&&(t.mode==="onBlur"?St&&g():St||g()),Fr&&h.state.next({name:Ee,...Hr?{}:dr});if(!St&&Hr&&h.state.next({...r}),t.resolver){const{errors:tn}=await T([Ee]);if(Ke(tr),xe){const Wt=oq(r.errors,n,Ee),vn=oq(tn,n,Wt.name||Ee);Ct=vn.error,Ee=vn.name,_t=el(tn)}}else v([Ee],!0),Ct=(await cq(qe,l.disabled,i,m,t.shouldUseNativeValidation))[Ee],v([Ee]),Ke(tr),xe&&(Ct?_t=!1:(d.isValid||A.isValid)&&(_t=await P(n,!0)));xe&&(qe._f.deps&&z(qe._f.deps),B(Ee,_t,Ct,dr))}},W=(fe,ve)=>{if(Nt(r.errors,ve)&&fe.focus)return fe.focus(),1},z=async(fe,ve={})=>{let Ee,xe;const qe=E0(fe);if(t.resolver){const Ke=await O(ya(fe)?fe:qe);Ee=el(Ke),xe=fe?!qe.some(tt=>Nt(Ke,tt)):Ee}else fe?(xe=(await Promise.all(qe.map(async Ke=>{const tt=Nt(n,Ke);return await P(tt&&tt._f?{[Ke]:tt}:tt)}))).every(Boolean),!(!xe&&!r.isValid)&&g()):xe=Ee=await P(n);return h.state.next({...!dd(fe)||(d.isValid||A.isValid)&&Ee!==r.isValid?{}:{name:fe},...t.resolver||!fe?{isValid:Ee}:{},errors:r.errors}),ve.shouldFocus&&!xe&&k0(n,W,fe?qe:l.mount),xe},te=fe=>{const ve={...o.mount?i:a};return ya(fe)?ve:dd(fe)?Nt(ve,fe):fe.map(Ee=>Nt(ve,Ee))},G=(fe,ve)=>({invalid:!!Nt((ve||r).errors,fe),isDirty:!!Nt((ve||r).dirtyFields,fe),error:Nt((ve||r).errors,fe),isValidating:!!Nt(r.validatingFields,fe),isTouched:!!Nt((ve||r).touchedFields,fe)}),U=fe=>{fe&&E0(fe).forEach(ve=>Oa(r.errors,ve)),h.state.next({errors:fe?r.errors:{}})},Y=(fe,ve,Ee)=>{const xe=(Nt(n,fe,{_f:{}})._f||{}).ref,qe=Nt(r.errors,fe)||{},{ref:Ke,message:tt,type:jt,...Ct}=qe;Gn(r.errors,fe,{...Ct,...ve,ref:xe}),h.state.next({name:fe,errors:r.errors,isValid:!1}),Ee&&Ee.shouldFocus&&xe&&xe.focus&&xe.focus()},ee=(fe,ve)=>fu(fe)?h.state.subscribe({next:Ee=>"values"in Ee&&fe(D(void 0,ve),Ee)}):D(fe,ve,!0),ae=fe=>h.state.subscribe({next:ve=>{s6e(fe.name,ve.name,fe.exact)&&n6e(ve,fe.formState||d,Pt,fe.reRenderRoot)&&fe.callback({values:{...i},...r,...ve,defaultValues:a})}}).unsubscribe,Ae=fe=>(o.mount=!0,A={...A,...fe.formState},ae({...fe,formState:A})),ce=(fe,ve={})=>{for(const Ee of fe?E0(fe):l.mount)l.mount.delete(Ee),l.array.delete(Ee),ve.keepValue||(Oa(n,Ee),Oa(i,Ee)),!ve.keepError&&Oa(r.errors,Ee),!ve.keepDirty&&Oa(r.dirtyFields,Ee),!ve.keepTouched&&Oa(r.touchedFields,Ee),!ve.keepIsValidating&&Oa(r.validatingFields,Ee),!t.shouldUnregister&&!ve.keepDefaultValue&&Oa(a,Ee);h.state.next({values:Ja(i)}),h.state.next({...r,...ve.keepDirty?{isDirty:I()}:{}}),!ve.keepIsValid&&g()},we=({disabled:fe,name:ve})=>{(Ul(fe)&&o.mount||fe||l.disabled.has(ve))&&(fe?l.disabled.add(ve):l.disabled.delete(ve))},ge=(fe,ve={})=>{let Ee=Nt(n,fe);const xe=Ul(ve.disabled)||Ul(t.disabled);return Gn(n,fe,{...Ee||{},_f:{...Ee&&Ee._f?Ee._f:{ref:{name:fe}},name:fe,mount:!0,...ve}}),l.mount.add(fe),Ee?we({disabled:Ul(ve.disabled)?ve.disabled:t.disabled,name:fe}):_(fe,!0,ve.value),{...xe?{disabled:ve.disabled||t.disabled}:{},...t.progressive?{required:!!ve.required,min:Vx(ve.min),max:Vx(ve.max),minLength:Vx(ve.minLength),maxLength:Vx(ve.maxLength),pattern:Vx(ve.pattern)}:{},name:fe,onChange:K,onBlur:K,ref:qe=>{if(qe){ge(fe,ve),Ee=Nt(n,fe);const Ke=ya(qe.value)&&qe.querySelectorAll&&qe.querySelectorAll("input,select,textarea")[0]||qe,tt=XMe(Ke),jt=Ee._f.refs||[];if(tt?jt.find(Ct=>Ct===Ke):Ke===Ee._f.ref)return;Gn(n,fe,{_f:{...Ee._f,...tt?{refs:[...jt.filter(Mk),Ke,...Array.isArray(Nt(a,fe))?[{}]:[]],ref:{type:Ke.type,name:fe}}:{ref:Ke}}}),_(fe,!1,void 0,Ke)}else Ee=Nt(n,fe,{}),Ee._f&&(Ee._f.mount=!1),(t.shouldUnregister||ve.shouldUnregister)&&!(aae(l.array,fe)&&o.action)&&l.unMount.add(fe)}}},je=()=>t.shouldFocusError&&k0(n,W,l.mount),Oe=fe=>{Ul(fe)&&(h.state.next({disabled:fe}),k0(n,(ve,Ee)=>{const xe=Nt(n,Ee);xe&&(ve.disabled=xe._f.disabled||fe,Array.isArray(xe._f.refs)&&xe._f.refs.forEach(qe=>{qe.disabled=xe._f.disabled||fe}))},0,!1))},Ne=(fe,ve)=>async Ee=>{let xe;Ee&&(Ee.preventDefault&&Ee.preventDefault(),Ee.persist&&Ee.persist());let qe=Ja(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:Ke,values:tt}=await T();r.errors=Ke,qe=Ja(tt)}else await P(n);if(l.disabled.size)for(const Ke of l.disabled)Oa(qe,Ke);if(Oa(r.errors,"root"),el(r.errors)){h.state.next({errors:{}});try{await fe(qe,Ee)}catch(Ke){xe=Ke}}else ve&&await ve({...r.errors},Ee),je(),setTimeout(je);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:el(r.errors)&&!xe,submitCount:r.submitCount+1,errors:r.errors}),xe)throw xe},et=(fe,ve={})=>{Nt(n,fe)&&(ya(ve.defaultValue)?X(fe,Ja(Nt(a,fe))):(X(fe,ve.defaultValue),Gn(a,fe,Ja(ve.defaultValue))),ve.keepTouched||Oa(r.touchedFields,fe),ve.keepDirty||(Oa(r.dirtyFields,fe),r.isDirty=ve.defaultValue?I(fe,Ja(Nt(a,fe))):I()),ve.keepError||(Oa(r.errors,fe),d.isValid&&g()),h.state.next({...r}))},nt=(fe,ve={})=>{const Ee=fe?Ja(fe):a,xe=Ja(Ee),qe=el(fe),Ke=qe?a:xe;if(ve.keepDefaultValues||(a=Ee),!ve.keepValues){if(ve.keepDirtyValues){const tt=new Set([...l.mount,...Object.keys($x(a,i))]);for(const jt of Array.from(tt))Nt(r.dirtyFields,jt)?Gn(Ke,jt,Nt(i,jt)):X(jt,Nt(Ke,jt))}else{if(uL&&ya(fe))for(const tt of l.mount){const jt=Nt(n,tt);if(jt&&jt._f){const Ct=Array.isArray(jt._f.refs)?jt._f.refs[0]:jt._f.ref;if(V_(Ct)){const _t=Ct.closest("form");if(_t){_t.reset();break}}}}if(ve.keepFieldsRef)for(const tt of l.mount)X(tt,Nt(Ke,tt));else n={}}i=t.shouldUnregister?ve.keepDefaultValues?Ja(a):{}:Ja(Ke),h.array.next({values:{...Ke}}),h.state.next({values:{...Ke}})}l={mount:ve.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!ve.keepIsValid||!!ve.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:ve.keepSubmitCount?r.submitCount:0,isDirty:qe?!1:ve.keepDirty?r.isDirty:!!(ve.keepDefaultValues&&!SA(fe,a)),isSubmitted:ve.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:qe?{}:ve.keepDirtyValues?ve.keepDefaultValues&&i?$x(a,i):r.dirtyFields:ve.keepDefaultValues&&fe?$x(a,fe):ve.keepDirty?r.dirtyFields:{},touchedFields:ve.keepTouched?r.touchedFields:{},errors:ve.keepErrors?r.errors:{},isSubmitSuccessful:ve.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},le=(fe,ve)=>nt(fu(fe)?fe(i):fe,ve),lt=(fe,ve={})=>{const Ee=Nt(n,fe),xe=Ee&&Ee._f;if(xe){const qe=xe.refs?xe.refs[0]:xe.ref;qe.focus&&(qe.focus(),ve.shouldSelect&&fu(qe.select)&&qe.select())}},Pt=fe=>{r={...r,...fe}},Me={control:{register:ge,unregister:ce,getFieldState:G,handleSubmit:Ne,setError:Y,_subscribe:ae,_runSchema:T,_focusError:je,_getWatch:D,_getDirty:I,_setValid:g,_setFieldArray:x,_setDisabledField:we,_setErrors:j,_getFieldArray:$,_reset:nt,_resetDefaultValues:()=>fu(t.defaultValues)&&t.defaultValues().then(fe=>{le(fe,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:M,_disableForm:Oe,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(fe){o=fe},get _defaultValues(){return a},get _names(){return l},set _names(fe){l=fe},get _formState(){return r},get _options(){return t},set _options(fe){t={...t,...fe}}},subscribe:Ae,trigger:z,register:ge,handleSubmit:Ne,watch:ee,setValue:X,getValues:te,reset:le,resetField:et,clearErrors:U,unregister:ce,setError:Y,setFocus:lt,getFieldState:G};return{...Me,formControl:Me}}function Mp(e={}){const t=se.useRef(void 0),r=se.useRef(void 0),[n,a]=se.useState({isDirty:!1,isValidating:!1,isLoading:fu(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:fu(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!fu(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=c6e(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,hL(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),se.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),se.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),se.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),se.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),se.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),se.useEffect(()=>{e.values&&!SA(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),se.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=iae(n,i),t.current}const uq=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Nt(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},mae=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?uq(n.ref,r,e):n.refs&&n.refs.forEach(a=>uq(a,r,e))}},u6e=(e,t)=>{t.shouldUseNativeValidation&&mae(e,t);const r={};for(const n in e){const a=Nt(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(d6e(t.names||Object.keys(e),n)){const o=Object.assign({},Nt(r,n));Gn(o,"root",i),Gn(r,n,o)}else Gn(r,n,i)}return r},d6e=(e,t)=>e.some(r=>r.startsWith(t+"."));var A6e=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(A){return e.push(A)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=lae(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},Qp=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve((function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&mae({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c})(0,function(o){if((function(l){return Array.isArray(l?.errors)})(o))return{values:{},errors:u6e(A6e(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Tn;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Tn||(Tn={}));var dq;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(dq||(dq={}));const zt=Tn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yf=e=>{switch(typeof e){case"undefined":return zt.undefined;case"string":return zt.string;case"number":return Number.isNaN(e)?zt.nan:zt.number;case"boolean":return zt.boolean;case"function":return zt.function;case"bigint":return zt.bigint;case"symbol":return zt.symbol;case"object":return Array.isArray(e)?zt.array:e===null?zt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?zt.promise:typeof Map<"u"&&e instanceof Map?zt.map:typeof Set<"u"&&e instanceof Set?zt.set:typeof Date<"u"&&e instanceof Date?zt.date:zt.object;default:return zt.unknown}},wt=Tn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class VA extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof VA))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Tn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}VA.create=e=>new VA(e);const BI=(e,t)=>{let r;switch(e.code){case wt.invalid_type:e.received===zt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case wt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Tn.jsonStringifyReplacer)}`;break;case wt.unrecognized_keys:r=`Unrecognized key(s) in object: ${Tn.joinValues(e.keys,", ")}`;break;case wt.invalid_union:r="Invalid input";break;case wt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Tn.joinValues(e.options)}`;break;case wt.invalid_enum_value:r=`Invalid enum value. Expected ${Tn.joinValues(e.options)}, received '${e.received}'`;break;case wt.invalid_arguments:r="Invalid function arguments";break;case wt.invalid_return_type:r="Invalid function return type";break;case wt.invalid_date:r="Invalid date";break;case wt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Tn.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case wt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case wt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case wt.custom:r="Invalid input";break;case wt.invalid_intersection_types:r="Intersection results could not be merged";break;case wt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case wt.not_finite:r="Number must be finite";break;default:r=t.defaultError,Tn.assertNever(e)}return{message:r}};let f6e=BI;function h6e(){return f6e}const m6e=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Ot(e,t){const r=h6e(),n=m6e({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===BI?void 0:BI].filter(a=>!!a)});e.common.issues.push(n)}class Yl{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Kr;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return Yl.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Kr;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const Kr=Object.freeze({status:"aborted"}),a0=e=>({status:"dirty",value:e}),Oc=e=>({status:"valid",value:e}),Aq=e=>e.status==="aborted",fq=e=>e.status==="dirty",hy=e=>e.status==="valid",z_=e=>typeof Promise<"u"&&e instanceof Promise;var Jt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Jt||(Jt={}));class Nh{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const hq=(e,t)=>{if(hy(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new VA(e.common.issues);return this._error=r,this._error}}};function on(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class kn{get description(){return this._def.description}_getType(t){return Yf(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Yf(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Yl,ctx:{common:t.parent.common,data:t.data,parsedType:Yf(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(z_(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yf(t)},a=this._parseSync({data:t,path:n.path,parent:n});return hq(n,a)}"~validate"(t){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yf(t)};if(!this["~standard"].async)try{const n=this._parseSync({data:t,path:[],parent:r});return hy(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>hy(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yf(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(z_(a)?a:Promise.resolve(a));return hq(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:wt.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new gy({schema:this,typeName:zr.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return hh.create(this,this._def)}nullable(){return vy.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vd.create(this)}promise(){return X_.create(this,this._def)}or(t){return G_.create([this,t],this._def)}and(t){return Y_.create(this,t,this._def)}transform(t){return new gy({...on(this._def),schema:this,typeName:zr.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new PI({...on(this._def),innerType:this,defaultValue:r,typeName:zr.ZodDefault})}brand(){return new U6e({typeName:zr.ZodBranded,type:this,...on(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new TI({...on(this._def),innerType:this,catchValue:r,typeName:zr.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return gL.create(this,t)}readonly(){return OI.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const p6e=/^c[^\s-]{8,}$/i,g6e=/^[0-9a-z]+$/,v6e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,y6e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,x6e=/^[a-z0-9_-]{21}$/i,w6e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,b6e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,j6e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_6e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Qk;const N6e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,C6e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,S6e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,B6e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,E6e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,k6e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,pae="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",P6e=new RegExp(`^${pae}$`);function gae(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function T6e(e){return new RegExp(`^${gae(e)}$`)}function O6e(e){let t=`${pae}T${gae(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function I6e(e,t){return!!((t==="v4"||!t)&&N6e.test(e)||(t==="v6"||!t)&&S6e.test(e))}function F6e(e,t){if(!w6e.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function R6e(e,t){return!!((t==="v4"||!t)&&C6e.test(e)||(t==="v6"||!t)&&B6e.test(e))}class PA extends kn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==zt.string){const i=this._getOrReturnCtx(t);return Ot(i,{code:wt.invalid_type,expected:zt.string,received:i.parsedType}),Kr}const n=new Yl;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Ot(a,{code:wt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Ot(a,{code:wt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Ot(a,{code:wt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ot(a,{code:wt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")j6e.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"email",code:wt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Qk||(Qk=new RegExp(_6e,"u")),Qk.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"emoji",code:wt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")y6e.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"uuid",code:wt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")x6e.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"nanoid",code:wt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")p6e.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"cuid",code:wt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")g6e.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"cuid2",code:wt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")v6e.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"ulid",code:wt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Ot(a,{validation:"url",code:wt.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"regex",code:wt.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Ot(a,{code:wt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ot(a,{code:wt.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ot(a,{code:wt.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?O6e(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{code:wt.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?P6e.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{code:wt.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?T6e(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{code:wt.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?b6e.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"duration",code:wt.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?I6e(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"ip",code:wt.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?F6e(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"jwt",code:wt.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?R6e(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"cidr",code:wt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?E6e.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"base64",code:wt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?k6e.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"base64url",code:wt.invalid_string,message:i.message}),n.dirty()):Tn.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:wt.invalid_string,...Jt.errToObj(n)})}_addCheck(t){return new PA({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Jt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Jt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Jt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Jt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Jt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Jt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Jt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Jt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Jt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Jt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Jt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Jt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Jt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Jt.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Jt.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Jt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Jt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...Jt.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Jt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Jt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Jt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Jt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Jt.errToObj(r)})}nonempty(t){return this.min(1,Jt.errToObj(t))}trim(){return new PA({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new PA({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new PA({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}PA.create=e=>new PA({checks:[],typeName:zr.ZodString,coerce:e?.coerce??!1,...on(e)});function L6e(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class xp extends kn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==zt.number){const i=this._getOrReturnCtx(t);return Ot(i,{code:wt.invalid_type,expected:zt.number,received:i.parsedType}),Kr}let n;const a=new Yl;for(const i of this._def.checks)i.kind==="int"?Tn.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ot(n,{code:wt.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ot(n,{code:wt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ot(n,{code:wt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?L6e(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Ot(n,{code:wt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ot(n,{code:wt.not_finite,message:i.message}),a.dirty()):Tn.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Jt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Jt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Jt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Jt.toString(r))}setLimit(t,r,n,a){return new xp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Jt.toString(a)}]})}_addCheck(t){return new xp({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Jt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Jt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Jt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Jt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Jt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Jt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Jt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Jt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Jt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Tn.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}xp.create=e=>new xp({checks:[],typeName:zr.ZodNumber,coerce:e?.coerce||!1,...on(e)});class wp extends kn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==zt.bigint)return this._getInvalidInput(t);let n;const a=new Yl;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ot(n,{code:wt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ot(n,{code:wt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ot(n,{code:wt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Tn.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ot(r,{code:wt.invalid_type,expected:zt.bigint,received:r.parsedType}),Kr}gte(t,r){return this.setLimit("min",t,!0,Jt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Jt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Jt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Jt.toString(r))}setLimit(t,r,n,a){return new wp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Jt.toString(a)}]})}_addCheck(t){return new wp({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Jt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Jt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Jt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Jt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Jt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}wp.create=e=>new wp({checks:[],typeName:zr.ZodBigInt,coerce:e?.coerce??!1,...on(e)});class W_ extends kn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==zt.boolean){const n=this._getOrReturnCtx(t);return Ot(n,{code:wt.invalid_type,expected:zt.boolean,received:n.parsedType}),Kr}return Oc(t.data)}}W_.create=e=>new W_({typeName:zr.ZodBoolean,coerce:e?.coerce||!1,...on(e)});class my extends kn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==zt.date){const i=this._getOrReturnCtx(t);return Ot(i,{code:wt.invalid_type,expected:zt.date,received:i.parsedType}),Kr}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ot(i,{code:wt.invalid_date}),Kr}const n=new Yl;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Ot(a,{code:wt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Ot(a,{code:wt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Tn.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new my({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Jt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Jt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}my.create=e=>new my({checks:[],coerce:e?.coerce||!1,typeName:zr.ZodDate,...on(e)});class mq extends kn{_parse(t){if(this._getType(t)!==zt.symbol){const n=this._getOrReturnCtx(t);return Ot(n,{code:wt.invalid_type,expected:zt.symbol,received:n.parsedType}),Kr}return Oc(t.data)}}mq.create=e=>new mq({typeName:zr.ZodSymbol,...on(e)});class pq extends kn{_parse(t){if(this._getType(t)!==zt.undefined){const n=this._getOrReturnCtx(t);return Ot(n,{code:wt.invalid_type,expected:zt.undefined,received:n.parsedType}),Kr}return Oc(t.data)}}pq.create=e=>new pq({typeName:zr.ZodUndefined,...on(e)});class gq extends kn{_parse(t){if(this._getType(t)!==zt.null){const n=this._getOrReturnCtx(t);return Ot(n,{code:wt.invalid_type,expected:zt.null,received:n.parsedType}),Kr}return Oc(t.data)}}gq.create=e=>new gq({typeName:zr.ZodNull,...on(e)});class vq extends kn{constructor(){super(...arguments),this._any=!0}_parse(t){return Oc(t.data)}}vq.create=e=>new vq({typeName:zr.ZodAny,...on(e)});class yq extends kn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Oc(t.data)}}yq.create=e=>new yq({typeName:zr.ZodUnknown,...on(e)});class Ch extends kn{_parse(t){const r=this._getOrReturnCtx(t);return Ot(r,{code:wt.invalid_type,expected:zt.never,received:r.parsedType}),Kr}}Ch.create=e=>new Ch({typeName:zr.ZodNever,...on(e)});class xq extends kn{_parse(t){if(this._getType(t)!==zt.undefined){const n=this._getOrReturnCtx(t);return Ot(n,{code:wt.invalid_type,expected:zt.void,received:n.parsedType}),Kr}return Oc(t.data)}}xq.create=e=>new xq({typeName:zr.ZodVoid,...on(e)});class vd extends kn{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==zt.array)return Ot(r,{code:wt.invalid_type,expected:zt.array,received:r.parsedType}),Kr;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Ot(r,{code:o?wt.too_big:wt.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ot(r,{code:wt.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ot(r,{code:wt.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Nh(r,o,r.path,l)))).then(o=>Yl.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Nh(r,o,r.path,l)));return Yl.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new vd({...this._def,minLength:{value:t,message:Jt.toString(r)}})}max(t,r){return new vd({...this._def,maxLength:{value:t,message:Jt.toString(r)}})}length(t,r){return new vd({...this._def,exactLength:{value:t,message:Jt.toString(r)}})}nonempty(t){return this.min(1,t)}}vd.create=(e,t)=>new vd({type:e,minLength:null,maxLength:null,exactLength:null,typeName:zr.ZodArray,...on(t)});function Xg(e){if(e instanceof La){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=hh.create(Xg(n))}return new La({...e._def,shape:()=>t})}else return e instanceof vd?new vd({...e._def,type:Xg(e.element)}):e instanceof hh?hh.create(Xg(e.unwrap())):e instanceof vy?vy.create(Xg(e.unwrap())):e instanceof bp?bp.create(e.items.map(t=>Xg(t))):e}class La extends kn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Tn.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==zt.object){const u=this._getOrReturnCtx(t);return Ot(u,{code:wt.invalid_type,expected:zt.object,received:u.parsedType}),Kr}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ch&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],A=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Nh(a,A,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Ch){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Ot(a,{code:wt.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const A=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Nh(a,A,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const A=await d.key,h=await d.value;u.push({key:A,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Yl.mergeObjectSync(n,u)):Yl.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Jt.errToObj,new La({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{const a=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Jt.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new La({...this._def,unknownKeys:"strip"})}passthrough(){return new La({...this._def,unknownKeys:"passthrough"})}extend(t){return new La({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new La({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:zr.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new La({...this._def,catchall:t})}pick(t){const r={};for(const n of Tn.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new La({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Tn.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new La({...this._def,shape:()=>r})}deepPartial(){return Xg(this)}partial(t){const r={};for(const n of Tn.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new La({...this._def,shape:()=>r})}required(t){const r={};for(const n of Tn.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof hh;)i=i._def.innerType;r[n]=i}return new La({...this._def,shape:()=>r})}keyof(){return vae(Tn.objectKeys(this.shape))}}La.create=(e,t)=>new La({shape:()=>e,unknownKeys:"strip",catchall:Ch.create(),typeName:zr.ZodObject,...on(t)});La.strictCreate=(e,t)=>new La({shape:()=>e,unknownKeys:"strict",catchall:Ch.create(),typeName:zr.ZodObject,...on(t)});La.lazycreate=(e,t)=>new La({shape:e,unknownKeys:"strip",catchall:Ch.create(),typeName:zr.ZodObject,...on(t)});class G_ extends kn{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new VA(l.ctx.common.issues));return Ot(r,{code:wt.invalid_union,unionErrors:o}),Kr}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new VA(c));return Ot(r,{code:wt.invalid_union,unionErrors:l}),Kr}}get options(){return this._def.options}}G_.create=(e,t)=>new G_({options:e,typeName:zr.ZodUnion,...on(t)});function EI(e,t){const r=Yf(e),n=Yf(t);if(e===t)return{valid:!0,data:e};if(r===zt.object&&n===zt.object){const a=Tn.objectKeys(t),i=Tn.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=EI(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===zt.array&&n===zt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=EI(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===zt.date&&n===zt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Y_ extends kn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(Aq(i)||Aq(o))return Kr;const l=EI(i.value,o.value);return l.valid?((fq(i)||fq(o))&&r.dirty(),{status:r.value,value:l.data}):(Ot(n,{code:wt.invalid_intersection_types}),Kr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Y_.create=(e,t,r)=>new Y_({left:e,right:t,typeName:zr.ZodIntersection,...on(r)});class bp extends kn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==zt.array)return Ot(n,{code:wt.invalid_type,expected:zt.array,received:n.parsedType}),Kr;if(n.data.length<this._def.items.length)return Ot(n,{code:wt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Kr;!this._def.rest&&n.data.length>this._def.items.length&&(Ot(n,{code:wt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Nh(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Yl.mergeArray(r,o)):Yl.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new bp({...this._def,rest:t})}}bp.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new bp({items:e,typeName:zr.ZodTuple,rest:null,...on(t)})};class wq extends kn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==zt.map)return Ot(n,{code:wt.invalid_type,expected:zt.map,received:n.parsedType}),Kr;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Nh(n,l,n.path,[u,"key"])),value:i._parse(new Nh(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Kr;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Kr;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}wq.create=(e,t,r)=>new wq({valueType:t,keyType:e,typeName:zr.ZodMap,...on(r)});class Hw extends kn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==zt.set)return Ot(n,{code:wt.invalid_type,expected:zt.set,received:n.parsedType}),Kr;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Ot(n,{code:wt.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Ot(n,{code:wt.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Kr;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Nh(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Hw({...this._def,minSize:{value:t,message:Jt.toString(r)}})}max(t,r){return new Hw({...this._def,maxSize:{value:t,message:Jt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Hw.create=(e,t)=>new Hw({valueType:e,minSize:null,maxSize:null,typeName:zr.ZodSet,...on(t)});class bq extends kn{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}bq.create=(e,t)=>new bq({getter:e,typeName:zr.ZodLazy,...on(t)});class kI extends kn{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ot(r,{received:r.data,code:wt.invalid_literal,expected:this._def.value}),Kr}return{status:"valid",value:t.data}}get value(){return this._def.value}}kI.create=(e,t)=>new kI({value:e,typeName:zr.ZodLiteral,...on(t)});function vae(e,t){return new py({values:e,typeName:zr.ZodEnum,...on(t)})}class py extends kn{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ot(r,{expected:Tn.joinValues(n),received:r.parsedType,code:wt.invalid_type}),Kr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ot(r,{received:r.data,code:wt.invalid_enum_value,options:n}),Kr}return Oc(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return py.create(t,{...this._def,...r})}exclude(t,r=this._def){return py.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}py.create=vae;class jq extends kn{_parse(t){const r=Tn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==zt.string&&n.parsedType!==zt.number){const a=Tn.objectValues(r);return Ot(n,{expected:Tn.joinValues(a),received:n.parsedType,code:wt.invalid_type}),Kr}if(this._cache||(this._cache=new Set(Tn.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Tn.objectValues(r);return Ot(n,{received:n.data,code:wt.invalid_enum_value,options:a}),Kr}return Oc(t.data)}get enum(){return this._def.values}}jq.create=(e,t)=>new jq({values:e,typeName:zr.ZodNativeEnum,...on(t)});class X_ extends kn{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==zt.promise&&r.common.async===!1)return Ot(r,{code:wt.invalid_type,expected:zt.promise,received:r.parsedType}),Kr;const n=r.parsedType===zt.promise?r.data:Promise.resolve(r.data);return Oc(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}X_.create=(e,t)=>new X_({type:e,typeName:zr.ZodPromise,...on(t)});class gy extends kn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===zr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Ot(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Kr;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Kr:c.status==="dirty"||r.value==="dirty"?a0(c.value):c});{if(r.value==="aborted")return Kr;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Kr:l.status==="dirty"||r.value==="dirty"?a0(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Kr:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Kr:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!hy(o))return Kr;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>hy(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):Kr);Tn.assertNever(a)}}gy.create=(e,t,r)=>new gy({schema:e,typeName:zr.ZodEffects,effect:t,...on(r)});gy.createWithPreprocess=(e,t,r)=>new gy({schema:t,effect:{type:"preprocess",transform:e},typeName:zr.ZodEffects,...on(r)});class hh extends kn{_parse(t){return this._getType(t)===zt.undefined?Oc(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}hh.create=(e,t)=>new hh({innerType:e,typeName:zr.ZodOptional,...on(t)});class vy extends kn{_parse(t){return this._getType(t)===zt.null?Oc(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}vy.create=(e,t)=>new vy({innerType:e,typeName:zr.ZodNullable,...on(t)});class PI extends kn{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===zt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}PI.create=(e,t)=>new PI({innerType:e,typeName:zr.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...on(t)});class TI extends kn{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return z_(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new VA(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new VA(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}TI.create=(e,t)=>new TI({innerType:e,typeName:zr.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...on(t)});class _q extends kn{_parse(t){if(this._getType(t)!==zt.nan){const n=this._getOrReturnCtx(t);return Ot(n,{code:wt.invalid_type,expected:zt.nan,received:n.parsedType}),Kr}return{status:"valid",value:t.data}}}_q.create=e=>new _q({typeName:zr.ZodNaN,...on(e)});class U6e extends kn{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class gL extends kn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Kr:i.status==="dirty"?(r.dirty(),a0(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Kr:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new gL({in:t,out:r,typeName:zr.ZodPipeline})}}class OI extends kn{_parse(t){const r=this._def.innerType._parse(t),n=a=>(hy(a)&&(a.value=Object.freeze(a.value)),a);return z_(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}OI.create=(e,t)=>new OI({innerType:e,typeName:zr.ZodReadonly,...on(t)});var zr;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(zr||(zr={}));const Jr=PA.create,II=xp.create;wp.create;const D6e=W_.create,jp=my.create;Ch.create;vd.create;const Hp=La.create;G_.create;Y_.create;bp.create;const FI=kI.create,Z2=py.create;X_.create;hh.create;vy.create;const M6e={string:(e=>PA.create({...e,coerce:!0})),number:(e=>xp.create({...e,coerce:!0})),boolean:(e=>W_.create({...e,coerce:!0})),bigint:(e=>wp.create({...e,coerce:!0})),date:(e=>my.create({...e,coerce:!0}))},$p=KMe,yae=C.createContext({}),vr=({...e})=>s.jsx(yae.Provider,{value:{name:e.name},children:s.jsx(YMe,{...e})}),QC=()=>{const e=C.useContext(yae),t=C.useContext(xae),{getFieldState:r,formState:n}=MC(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},xae=C.createContext({}),hr=C.forwardRef(({className:e,...t},r)=>{const n=C.useId();return s.jsx(xae.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:st("space-y-2",e),...t})})});hr.displayName="FormItem";const mr=C.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=QC();return s.jsx(Je,{ref:r,className:st(n&&"text-destructive",e),htmlFor:a,...t})});mr.displayName="FormLabel";const pr=C.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=QC();return s.jsx(rW,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});pr.displayName="FormControl";const ej=C.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=QC();return s.jsx("p",{ref:r,id:n,className:st("text-sm text-muted-foreground",e),...t})});ej.displayName="FormDescription";const yr=C.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=QC(),o=a?String(a?.message):t;return o?s.jsx("p",{ref:n,id:i,className:st("text-sm font-medium text-destructive",e),...r,children:o}):null});yr.displayName="FormMessage";const Q6e=Hp({user_id:Jr().uuid("Valid user ID is required"),full_name:Jr().min(2,"Full name must be at least 2 characters"),email:Jr().email("Valid email is required"),phone:Jr().optional(),address:Jr().optional(),id_proof_type:Jr().optional(),id_proof_url:Jr().url().optional().or(FI("")),profile_photo_url:Jr().url().optional().or(FI("")),date_of_birth:Jr().optional(),gender:Jr().optional(),emergency_contact_name:Jr().optional(),emergency_contact_phone:Jr().optional()});function H6e({onSuccess:e,onCancel:t}){const[r,n]=C.useState(!1),[a,i]=C.useState([]),[o,l]=C.useState(!1),c=Mp({resolver:Qp(Q6e),defaultValues:{full_name:"",email:"",phone:"",address:"",id_proof_type:"",id_proof_url:"",profile_photo_url:"",date_of_birth:"",gender:"",emergency_contact_name:"",emergency_contact_phone:""}}),u=async()=>{try{l(!0);const{data:h,error:m}=await be.from("profiles").select(`
          id,
          email,
          user_roles!inner(role)
        `).eq("user_roles.role","tenant");if(m)throw m;i(h||[])}catch(h){He.error("Failed to fetch available users: "+h.message)}finally{l(!1)}},d=async h=>{try{n(!0);const{data:{session:m}}=await be.auth.getSession();if(!m)throw new Error("Not authenticated");const y=await fetch("https://aggacdtmyphgtkldjmvk.supabase.co/functions/v1/tenant-management/tenants",{method:"POST",headers:{Authorization:`Bearer ${m.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(h)});if(!y.ok){const v=await y.json();throw new Error(v.error||"Failed to create tenant")}const g=await y.json();He.success("Tenant created successfully!"),c.reset(),e?.()}catch(m){He.error(m.message)}finally{n(!1)}},A=h=>{const m=a.find(y=>y.id===h);m&&(c.setValue("user_id",h),c.setValue("email",m.email))};return s.jsxs(Le,{className:"w-full max-w-2xl mx-auto",children:[s.jsxs(pt,{children:[s.jsx(gt,{children:"Create New Tenant"}),s.jsx(Wr,{children:"Add a new tenant to the system. Fill in all the required information."})]}),s.jsx(De,{children:s.jsx($p,{...c,children:s.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{children:"Select User"}),s.jsxs(ar,{onValueChange:A,children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select a user to create tenant profile for"})}),s.jsx(or,{children:o?s.jsx("div",{className:"p-2 text-center text-sm text-muted-foreground",children:"Loading users..."}):a.length===0?s.jsx("div",{className:"p-2 text-center text-sm text-muted-foreground",children:"No available users found"}):a.map(h=>s.jsx(Fe,{value:h.id,children:h.email},h.id))})]}),s.jsx(de,{type:"button",variant:"outline",size:"sm",onClick:u,disabled:o,children:o?"Loading...":"Refresh Users"})]}),s.jsx(vr,{control:c.control,name:"full_name",render:({field:h})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"Full Name *"}),s.jsx(pr,{children:s.jsx(it,{placeholder:"Enter tenant's full name",...h})}),s.jsx(yr,{})]})}),s.jsx(vr,{control:c.control,name:"email",render:({field:h})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"Email *"}),s.jsx(pr,{children:s.jsx(it,{placeholder:"tenant@example.com",...h})}),s.jsx(yr,{})]})}),s.jsx(vr,{control:c.control,name:"phone",render:({field:h})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"Phone Number"}),s.jsx(pr,{children:s.jsx(it,{placeholder:"+1234567890",...h})}),s.jsx(yr,{})]})}),s.jsx(vr,{control:c.control,name:"address",render:({field:h})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"Address"}),s.jsx(pr,{children:s.jsx(vu,{placeholder:"Enter complete address",...h})}),s.jsx(yr,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(vr,{control:c.control,name:"date_of_birth",render:({field:h})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"Date of Birth"}),s.jsx(pr,{children:s.jsx(it,{type:"date",...h})}),s.jsx(yr,{})]})}),s.jsx(vr,{control:c.control,name:"gender",render:({field:h})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"Gender"}),s.jsxs(ar,{onValueChange:h.onChange,defaultValue:h.value,children:[s.jsx(pr,{children:s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select gender"})})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"male",children:"Male"}),s.jsx(Fe,{value:"female",children:"Female"}),s.jsx(Fe,{value:"other",children:"Other"})]})]}),s.jsx(yr,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(vr,{control:c.control,name:"id_proof_type",render:({field:h})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"ID Proof Type"}),s.jsxs(ar,{onValueChange:h.onChange,defaultValue:h.value,children:[s.jsx(pr,{children:s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select ID type"})})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"aadhar",children:"Aadhar Card"}),s.jsx(Fe,{value:"passport",children:"Passport"}),s.jsx(Fe,{value:"driving_license",children:"Driving License"}),s.jsx(Fe,{value:"voter_id",children:"Voter ID"})]})]}),s.jsx(yr,{})]})}),s.jsx(vr,{control:c.control,name:"id_proof_url",render:({field:h})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"ID Proof URL"}),s.jsx(pr,{children:s.jsx(it,{placeholder:"https://example.com/id-proof.jpg",...h})}),s.jsx(yr,{})]})})]}),s.jsx(vr,{control:c.control,name:"profile_photo_url",render:({field:h})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"Profile Photo URL"}),s.jsx(pr,{children:s.jsx(it,{placeholder:"https://example.com/photo.jpg",...h})}),s.jsx(yr,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(vr,{control:c.control,name:"emergency_contact_name",render:({field:h})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"Emergency Contact Name"}),s.jsx(pr,{children:s.jsx(it,{placeholder:"Emergency contact name",...h})}),s.jsx(yr,{})]})}),s.jsx(vr,{control:c.control,name:"emergency_contact_phone",render:({field:h})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"Emergency Contact Phone"}),s.jsx(pr,{children:s.jsx(it,{placeholder:"+1234567890",...h})}),s.jsx(yr,{})]})})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[t&&s.jsx(de,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsx(de,{type:"submit",disabled:r,children:r?"Creating...":"Create Tenant"})]})]})})})]})}function $6e(){const[e,t]=C.useState([]),[r,n]=C.useState(null),[a,i]=C.useState(!0),[o,l]=C.useState(""),[c,u]=C.useState("all"),[d,A]=C.useState(1),[h,m]=C.useState(1),[y,g]=C.useState(null),[v,x]=C.useState(!1),[b,j]=C.useState(!1),_=async()=>{try{const{data:{session:P}}=await be.auth.getSession();if(!P)return;let M=be.from("tenants").select("*",{count:"exact"});o&&(M=M.or(`name.ilike.%${o}%,email.ilike.%${o}%`)),c!=="all"&&(M=M.eq("status",c));const{data:I,error:D,count:$}=await M.order("created_at",{ascending:!1}).range((d-1)*10,d*10-1);if(D)throw D;t(I||[]),m(Math.ceil(($||0)/10))}catch(P){He.error(P.message)}finally{i(!1)}},N=async()=>{try{const{data:{session:P}}=await be.auth.getSession();if(!P)return;const{data:M,error:I}=await be.from("tenants").select("status",{count:"exact"});if(I)throw I;const D={total_tenants:M?.length||0,active_tenants:M?.filter($=>$.status==="active").length||0,inactive_tenants:M?.filter($=>$.status==="inactive").length||0,suspended_tenants:M?.filter($=>$.status==="suspended").length||0,total_rooms_assigned:0,total_family_members:0,total_documents:0,pending_bills:0,overdue_bills:0};n(D)}catch(P){He.error(P.message)}};C.useEffect(()=>{_(),N()},[d,o,c]);const B=P=>{const M={active:"default",inactive:"secondary",suspended:"destructive"},I={active:s.jsx(Gr,{className:"w-3 h-3"}),inactive:s.jsx(vh,{className:"w-3 h-3"}),suspended:s.jsx(Qi,{className:"w-3 h-3"})};return s.jsxs(Ze,{variant:M[P],className:"flex items-center gap-1",children:[I[P],P.charAt(0).toUpperCase()+P.slice(1)]})},T=async(P,M,I)=>{try{const{data:{session:D}}=await be.auth.getSession();if(!D)return;let $=`https://aggacdtmyphgtkldjmvk.supabase.co/functions/v1/tenant-management/tenants?id=${M}`,F="PUT",V={};if(P==="update_status"&&I?V={status:I}:P==="delete"&&(F="DELETE"),!(await fetch($,{method:F,headers:{Authorization:`Bearer ${D.access_token}`,"Content-Type":"application/json"},body:F!=="DELETE"?JSON.stringify(V):void 0})).ok)throw new Error(`Failed to ${P} tenant`);He.success(`Tenant ${P.replace("_"," ")} successfully`),_(),N()}catch(D){He.error(D.message)}},O=async P=>{try{const{data:{session:M}}=await be.auth.getSession();if(!M)return;const I=await fetch(`https://aggacdtmyphgtkldjmvk.supabase.co/functions/v1/tenant-management/tenants?id=${P}`,{headers:{Authorization:`Bearer ${M.access_token}`}});if(!I.ok)throw new Error("Failed to fetch tenant details");const D=await I.json();g(D.data.tenant),x(!0)}catch(M){He.error(M.message)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Tenant Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage all tenants and their information"})]}),s.jsxs(de,{onClick:()=>j(!0),children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Add Tenant"]})]}),r&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(Le,{children:[s.jsxs(pt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(gt,{className:"text-sm font-medium",children:"Total Tenants"}),s.jsx(Nr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(De,{children:s.jsx("div",{className:"text-2xl font-bold",children:r.total_tenants})})]}),s.jsxs(Le,{children:[s.jsxs(pt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(gt,{className:"text-sm font-medium",children:"Active Tenants"}),s.jsx(kue,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(De,{children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.active_tenants})})]}),s.jsxs(Le,{children:[s.jsxs(pt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(gt,{className:"text-sm font-medium",children:"Rooms Assigned"}),s.jsx(Xr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(De,{children:s.jsx("div",{className:"text-2xl font-bold",children:r.total_rooms_assigned})})]}),s.jsxs(Le,{children:[s.jsxs(pt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(gt,{className:"text-sm font-medium",children:"Pending Bills"}),s.jsx(ca,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(De,{children:s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:r.pending_bills})})]})]}),s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsx(gt,{children:"Filters"})}),s.jsx(De,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(it,{placeholder:"Search tenants...",value:o,onChange:P=>l(P.target.value),className:"pl-10"})]})}),s.jsxs(ar,{value:c,onValueChange:u,children:[s.jsx(ir,{className:"w-full sm:w-48",children:s.jsx(lr,{placeholder:"Filter by status"})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"all",children:"All Status"}),s.jsx(Fe,{value:"active",children:"Active"}),s.jsx(Fe,{value:"inactive",children:"Inactive"}),s.jsx(Fe,{value:"suspended",children:"Suspended"})]})]})]})})]}),s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsx(gt,{children:"Tenants"}),s.jsx(Wr,{children:"A list of all tenants in the system"})]}),s.jsxs(De,{children:[s.jsxs(Ui,{children:[s.jsx(Di,{children:s.jsxs(jr,{children:[s.jsx(ht,{children:"Tenant Code"}),s.jsx(ht,{children:"Name"}),s.jsx(ht,{children:"Email"}),s.jsx(ht,{children:"Phone"}),s.jsx(ht,{children:"Status"}),s.jsx(ht,{children:"Rooms"}),s.jsx(ht,{children:"Family"}),s.jsx(ht,{children:"Documents"}),s.jsx(ht,{children:"Bills"}),s.jsx(ht,{children:"Actions"})]})}),s.jsx(Mi,{children:a?s.jsx(jr,{children:s.jsx(ct,{colSpan:10,className:"text-center py-8",children:"Loading tenants..."})}):e.length===0?s.jsx(jr,{children:s.jsx(ct,{colSpan:10,className:"text-center py-8",children:"No tenants found"})}):e.map(P=>s.jsxs(jr,{children:[s.jsx(ct,{className:"font-medium",children:P.id}),s.jsx(ct,{children:P.name}),s.jsx(ct,{children:P.email}),s.jsx(ct,{children:P.phone||"-"}),s.jsx(ct,{children:B(P.status)}),s.jsx(ct,{children:"0"}),s.jsx(ct,{children:"0"}),s.jsx(ct,{children:"0"}),s.jsx(ct,{children:"0"}),s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(de,{variant:"ghost",size:"sm",onClick:()=>O(P.id),children:s.jsx(si,{className:"w-4 h-4"})}),s.jsx(de,{variant:"ghost",size:"sm",onClick:()=>T("update_status",P.id,P.status==="active"?"inactive":"active"),children:s.jsx(hl,{className:"w-4 h-4"})}),s.jsx(de,{variant:"ghost",size:"sm",onClick:()=>T("delete",P.id),children:s.jsx(yi,{className:"w-4 h-4"})})]})})]},P.id))})]}),h>1&&s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",d," of ",h]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(de,{variant:"outline",size:"sm",onClick:()=>A(P=>Math.max(1,P-1)),disabled:d===1,children:"Previous"}),s.jsx(de,{variant:"outline",size:"sm",onClick:()=>A(P=>Math.min(h,P+1)),disabled:d===h,children:"Next"})]})]})]})]}),s.jsx(dn,{open:v,onOpenChange:x,children:s.jsxs(an,{className:"max-w-2xl",children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Tenant Details"}),s.jsx(_n,{children:"Complete information about the tenant"})]}),y&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Tenant ID"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.id})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsx("div",{className:"mt-1",children:B(y.status)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Name"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Email"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Phone"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.phone||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Address"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.address||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Created At"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(y.created_at).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Last Updated"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(y.updated_at).toLocaleDateString()})]})]})})]})}),s.jsx(dn,{open:b,onOpenChange:j,children:s.jsxs(an,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Create New Tenant"}),s.jsx(_n,{children:"Add a new tenant to the system with complete information"})]}),s.jsx(H6e,{onSuccess:()=>{j(!1),_(),N()},onCancel:()=>j(!1)})]})})]})}const Nq={admin:["view_properties","create_properties","edit_properties","delete_properties","view_tenants","create_tenants","edit_tenants","delete_tenants","view_units","create_units","edit_units","delete_units","view_billing","create_billing","edit_billing","delete_billing","view_payments","create_payments","edit_payments","delete_payments","view_maintenance","create_maintenance","edit_maintenance","delete_maintenance","view_analytics","manage_users","manage_organization","view_settings","admin_dashboard","admin_users","admin_organization","admin_billing","admin_reports","admin_settings"],manager:["view_properties","create_properties","edit_properties","view_tenants","create_tenants","edit_tenants","view_units","create_units","edit_units","view_billing","create_billing","edit_billing","view_payments","create_payments","edit_payments","view_maintenance","create_maintenance","edit_maintenance","view_analytics","view_settings","manager_dashboard","manager_properties","manager_tenants","manager_reports","manager_settings"],user:["view_properties","view_tenants","view_units","view_billing","view_payments","view_maintenance","view_analytics","view_settings","user_dashboard","user_journey","user_properties","user_tenants","user_reports","user_operations"],tenant:["tenant_dashboard","tenant_profile","tenant_documents","tenant_family_members","tenant_bills","tenant_payments"],staff:["staff_dashboard","staff_maintenance","staff_properties","view_properties","view_units","view_maintenance","create_maintenance","edit_maintenance","view_settings"],guest:["guest_dashboard","guest_view_properties","view_properties","view_settings"]},V6e=()=>{const{profile:e}=ua(),{roles:t,isLoading:r}=Ec(),{data:n=[],isLoading:a}=Ir({queryKey:["user-permissions",e?.id],queryFn:async()=>{if(!e?.id)return[];try{const{data:d,error:A}=await be.from("user_permissions").select("permission").eq("user_id",e.id);return A?(console.error("Error fetching user permissions:",A),[]):(d||[]).map(h=>h.permission)}catch(d){return console.error("Failed to fetch user permissions:",d),[]}},enabled:!!e?.id}),i=C.useMemo(()=>{if(r||a)return[];const d=[];return t.forEach(h=>{Nq[h]&&d.push(...Nq[h])}),[...new Set([...d,...n])]},[t,r,n,a]),o=d=>i.includes(d),l=d=>d.some(A=>i.includes(A));return{permissions:i,hasPermission:o,hasAnyPermission:l,hasAllPermissions:d=>d.every(A=>i.includes(A)),canAccessRoute:d=>{const h={"/":["view_properties"],"/properties":["view_properties"],"/tenants":["view_tenants"],"/units":["view_units"],"/billing":["view_billing"],"/payments":["view_payments"],"/maintenance":["view_maintenance"],"/analytics":["view_analytics"],"/settings":["view_settings"]}[d];return h?l(h):!0},isLoading:r||a,isAdmin:t.includes("admin"),isManager:t.includes("manager"),isUser:t.includes("user"),isTenant:t.includes("tenant"),isStaff:t.includes("staff"),isGuest:t.includes("guest")}},q6e=()=>{const{hasPermission:e}=V6e(),{isAdmin:t,isManager:r,isTenant:n,isStaff:a,isGuest:i}=Ec(),o=Vi(),l=[{name:"Admin Dashboard",href:zs.ADMIN.DASHBOARD,icon:Xr,role:"admin"},{name:"Properties",href:zs.ADMIN.PROPERTIES,icon:sn,permission:"view_properties",role:"admin"},{name:"Tenants",href:zs.ADMIN.TENANTS,icon:Nr,permission:"view_tenants",role:"admin"},{name:"Units",href:zs.ADMIN.UNITS,icon:sn,permission:"view_units",role:"admin"},{name:"Billing",href:zs.ADMIN.BILLING,icon:bn,permission:"view_billing",role:"admin"},{name:"Payments",href:zs.ADMIN.PAYMENTS,icon:ja,permission:"view_payments",role:"admin"},{name:"Payment Verification",href:zs.ADMIN.PAYMENT_VERIFICATION,icon:ap,role:"admin"},{name:"Maintenance",href:zs.ADMIN.MAINTENANCE,icon:Ma,permission:"view_maintenance",role:"admin"},{name:"Analytics",href:zs.ADMIN.ANALYTICS,icon:KA,permission:"view_analytics",role:"admin"},{name:"Settings",href:zs.ADMIN.SETTINGS,icon:Is,permission:"view_settings",role:"admin"},{name:"Inventory",href:zs.ADMIN.INVENTORY,icon:fj,role:"admin"},{name:"Tenant Data",href:zs.ADMIN.TENANT_DATA,icon:Aj,role:"admin"},{name:"Backend",href:zs.ADMIN.BACKEND,icon:ll,role:"admin",divider:!0},{name:"Tenant Management",href:zs.ADMIN.TENANT_MANAGEMENT,icon:Nr,role:"admin"}],c=[{name:"Manager Dashboard",href:"/manager",icon:Xr,role:"manager"},{name:"Properties",href:"/manager/properties",icon:sn,permission:"view_properties",role:"manager"},{name:"Tenants",href:"/manager/tenants",icon:Nr,permission:"view_tenants",role:"manager"},{name:"Units",href:"/manager/units",icon:Xr,permission:"view_units",role:"manager"},{name:"Billing",href:"/manager/billing",icon:bn,permission:"view_billing",role:"manager"},{name:"Payments",href:"/manager/payments",icon:ja,permission:"view_payments",role:"manager"},{name:"Maintenance",href:"/manager/maintenance",icon:Ma,permission:"view_maintenance",role:"manager"},{name:"Settings",href:"/manager/settings",icon:Is,permission:"view_settings",role:"manager"}],u=[{name:"My Dashboard",href:"/user",icon:Xr,role:"user"},{name:"My Properties",href:"/user/properties",icon:sn,permission:"view_properties",role:"user"},{name:"My Tenants",href:"/user/tenants",icon:Nr,permission:"view_tenants",role:"user"},{name:"My Units",href:"/user/units",icon:Xr,permission:"view_units",role:"user"},{name:"Billing",href:"/user/billing",icon:bn,permission:"view_billing",role:"user"},{name:"Payments",href:"/user/payments",icon:ja,permission:"view_payments",role:"user"},{name:"Maintenance",href:"/user/maintenance",icon:Ma,permission:"view_maintenance",role:"user"},{name:"Settings",href:"/user/settings",icon:Is,permission:"view_settings",role:"user"}],d=[{name:"My Dashboard",href:zs.TENANT.DASHBOARD,icon:Xr,role:"tenant"},{name:"Personal Details",href:zs.TENANT.PROFILE,icon:Fs,permission:"tenant_profile",role:"tenant"},{name:"My Documents",href:zs.TENANT.DOCUMENTS,icon:ur,permission:"tenant_documents",role:"tenant"},{name:"Family Members",href:zs.TENANT.FAMILY,icon:Nr,permission:"tenant_family_members",role:"tenant"},{name:"My Bills",href:zs.TENANT.BILLS,icon:bn,permission:"tenant_bills",role:"tenant"},{name:"Online Payments",href:zs.TENANT.PAYMENTS_ENHANCED,icon:ja,permission:"tenant_payments",role:"tenant"},{name:"Complaints",href:zs.TENANT.COMPLAINTS,icon:Ma,permission:"tenant_complaints",role:"tenant"},{name:"Notifications",href:zs.TENANT.NOTIFICATIONS,icon:sl,permission:"tenant_notifications",role:"tenant"},{name:"Settings",href:zs.TENANT.SETTINGS,icon:Is,permission:"tenant_profile",role:"tenant"}],y=(t?l:r?c:a?[{name:"Staff Dashboard",href:"/staff",icon:Xr,role:"staff"},{name:"Properties",href:"/staff/properties",icon:sn,permission:"view_properties",role:"staff"},{name:"Maintenance",href:"/staff/maintenance",icon:Ma,permission:"view_maintenance",role:"staff"},{name:"Units",href:"/staff/units",icon:Xr,permission:"view_units",role:"staff"},{name:"Settings",href:"/staff/settings",icon:Is,permission:"view_settings",role:"staff"}]:n?d:i?[{name:"Guest Dashboard",href:"/guest",icon:Xr,role:"guest"},{name:"Properties",href:"/guest/properties",icon:sn,permission:"view_properties",role:"guest"},{name:"Settings",href:"/guest/settings",icon:Is,permission:"view_settings",role:"guest"}]:u).filter(g=>!g.permission||e(g.permission));return s.jsxs("nav",{className:"flex-1 py-4 px-3 space-y-1 overflow-y-auto scrollbar-thin",children:[y.map((g,v)=>{const x=o.pathname===g.href;return s.jsx("div",{children:s.jsxs(uh,{to:g.href,className:st("flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-200 group relative",x?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-muted/50",g.divider&&v>0?"mt-6 pt-6 border-t border-border/50":""),children:[x&&s.jsx(vt.div,{layoutId:"activeNav",className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-6 bg-primary rounded-r-full",transition:{type:"spring",stiffness:500,damping:35}}),s.jsx(g.icon,{className:st("w-5 h-5 shrink-0",x&&"text-primary")}),s.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:g.name})]})},g.href)}),s.jsx("div",{className:"pt-6 border-t border-border/50 mt-6",children:s.jsxs("div",{className:"px-3 py-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-2",children:[s.jsx(Lo,{className:"w-3 h-3"}),"Your Role"]}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[t&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-yellow-500/10 text-yellow-600 border border-yellow-500/20",children:[s.jsx(wu,{className:"w-3 h-3"}),"Admin"]}),r&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-blue-500/10 text-blue-600 border border-blue-500/20",children:[s.jsx(QW,{className:"w-3 h-3"}),"Manager"]}),!t&&!r&&!n&&!a&&!i&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-500/10 text-green-600 border border-green-500/20",children:[s.jsx(Nr,{className:"w-3 h-3"}),"User"]}),n&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-purple-500/10 text-purple-600 border border-purple-500/20",children:[s.jsx(Xr,{className:"w-3 h-3"}),"Tenant"]}),a&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-orange-500/10 text-orange-600 border border-orange-500/20",children:[s.jsx(PW,{className:"w-3 h-3"}),"Staff"]}),i&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-500/10 text-gray-600 border border-gray-500/20",children:[s.jsx(si,{className:"w-3 h-3"}),"Guest"]})]})]})})]})};function K6e(){const{sidebarCollapsed:e,toggleSidebar:t}=Fy();return s.jsxs(vt.aside,{initial:!1,animate:{width:e?68:260},transition:{duration:.3,ease:[.4,0,.2,1]},className:"fixed left-0 top-0 h-screen bg-card border-r border-border/50 flex flex-col z-40",children:[s.jsx("div",{className:"h-16 flex items-center px-4 border-b border-border/50",children:s.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[s.jsx("div",{className:"w-9 h-9 rounded-xl bg-primary flex items-center justify-center shrink-0 glow-primary",children:s.jsx(Sue,{className:"w-5 h-5 text-primary-foreground"})}),s.jsx(mu,{children:!e&&s.jsx(vt.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"text-lg font-bold whitespace-nowrap gradient-text",children:"PropFlow"})})]})}),s.jsx(q6e,{}),s.jsx("div",{className:"p-3 border-t border-border/50",children:s.jsx("button",{onClick:t,className:"w-full flex items-center justify-center gap-2 px-3 py-2 rounded-xl text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors",children:e?s.jsx(Pp,{className:"w-4 h-4"}):s.jsxs(s.Fragment,{children:[s.jsx(Yw,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Collapse"})]})})})]})}var Cq=1,z6e=.9,W6e=.8,G6e=.17,Hk=.1,$k=.999,Y6e=.9999,X6e=.99,J6e=/[\\\/_+.#"@\[\(\{&]/,Z6e=/[\\\/_+.#"@\[\(\{&]/g,eQe=/[\s-]/,wae=/[\s-]/g;function RI(e,t,r,n,a,i,o){if(i===t.length)return a===e.length?Cq:X6e;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),u=r.indexOf(c,a),d=0,A,h,m,y;u>=0;)A=RI(e,t,r,n,u+1,i+1,o),A>d&&(u===a?A*=Cq:J6e.test(e.charAt(u-1))?(A*=W6e,m=e.slice(a,u-1).match(Z6e),m&&a>0&&(A*=Math.pow($k,m.length))):eQe.test(e.charAt(u-1))?(A*=z6e,y=e.slice(a,u-1).match(wae),y&&a>0&&(A*=Math.pow($k,y.length))):(A*=G6e,a>0&&(A*=Math.pow($k,u-a))),e.charAt(u)!==t.charAt(i)&&(A*=Y6e)),(A<Hk&&r.charAt(u-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(u-1)!==n.charAt(i))&&(h=RI(e,t,r,n,u+1,i+2,o),h*Hk>A&&(A=h*Hk)),A>d&&(d=A),u=r.indexOf(c,u+1);return o[l]=d,d}function Sq(e){return e.toLowerCase().replace(wae," ")}function tQe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,RI(e,t,Sq(e),Sq(t),0,0,{})}var qx='[cmdk-group=""]',Vk='[cmdk-group-items=""]',rQe='[cmdk-group-heading=""]',bae='[cmdk-item=""]',Bq=`${bae}:not([aria-disabled="true"])`,LI="cmdk-item-select",Jg="data-value",nQe=(e,t,r)=>tQe(e,t,r),jae=C.createContext(void 0),kb=()=>C.useContext(jae),_ae=C.createContext(void 0),vL=()=>C.useContext(_ae),Nae=C.createContext(void 0),Cae=C.forwardRef((e,t)=>{let r=Zg(()=>{var U,Y;return{search:"",value:(Y=(U=e.value)!=null?U:e.defaultValue)!=null?Y:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Zg(()=>new Set),a=Zg(()=>new Map),i=Zg(()=>new Map),o=Zg(()=>new Set),l=Sae(e),{label:c,children:u,value:d,onValueChange:A,filter:h,shouldFilter:m,loop:y,disablePointerSelection:g=!1,vimBindings:v=!0,...x}=e,b=vi(),j=vi(),_=vi(),N=C.useRef(null),B=hQe();_p(()=>{if(d!==void 0){let U=d.trim();r.current.value=U,T.emit()}},[d]),_p(()=>{B(6,$)},[]);let T=C.useMemo(()=>({subscribe:U=>(o.current.add(U),()=>o.current.delete(U)),snapshot:()=>r.current,setState:(U,Y,ee)=>{var ae,Ae,ce,we;if(!Object.is(r.current[U],Y)){if(r.current[U]=Y,U==="search")D(),M(),B(1,I);else if(U==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ge=document.getElementById(_);ge?ge.focus():(ae=document.getElementById(b))==null||ae.focus()}if(B(7,()=>{var ge;r.current.selectedItemId=(ge=F())==null?void 0:ge.id,T.emit()}),ee||B(5,$),((Ae=l.current)==null?void 0:Ae.value)!==void 0){let ge=Y??"";(we=(ce=l.current).onValueChange)==null||we.call(ce,ge);return}}T.emit()}},emit:()=>{o.current.forEach(U=>U())}}),[]),O=C.useMemo(()=>({value:(U,Y,ee)=>{var ae;Y!==((ae=i.current.get(U))==null?void 0:ae.value)&&(i.current.set(U,{value:Y,keywords:ee}),r.current.filtered.items.set(U,P(Y,ee)),B(2,()=>{M(),T.emit()}))},item:(U,Y)=>(n.current.add(U),Y&&(a.current.has(Y)?a.current.get(Y).add(U):a.current.set(Y,new Set([U]))),B(3,()=>{D(),M(),r.current.value||I(),T.emit()}),()=>{i.current.delete(U),n.current.delete(U),r.current.filtered.items.delete(U);let ee=F();B(4,()=>{D(),ee?.getAttribute("id")===U&&I(),T.emit()})}),group:U=>(a.current.has(U)||a.current.set(U,new Set),()=>{i.current.delete(U),a.current.delete(U)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:b,inputId:_,labelId:j,listInnerRef:N}),[]);function P(U,Y){var ee,ae;let Ae=(ae=(ee=l.current)==null?void 0:ee.filter)!=null?ae:nQe;return U?Ae(U,r.current.search,Y):0}function M(){if(!r.current.search||l.current.shouldFilter===!1)return;let U=r.current.filtered.items,Y=[];r.current.filtered.groups.forEach(ae=>{let Ae=a.current.get(ae),ce=0;Ae.forEach(we=>{let ge=U.get(we);ce=Math.max(ge,ce)}),Y.push([ae,ce])});let ee=N.current;V().sort((ae,Ae)=>{var ce,we;let ge=ae.getAttribute("id"),je=Ae.getAttribute("id");return((ce=U.get(je))!=null?ce:0)-((we=U.get(ge))!=null?we:0)}).forEach(ae=>{let Ae=ae.closest(Vk);Ae?Ae.appendChild(ae.parentElement===Ae?ae:ae.closest(`${Vk} > *`)):ee.appendChild(ae.parentElement===ee?ae:ae.closest(`${Vk} > *`))}),Y.sort((ae,Ae)=>Ae[1]-ae[1]).forEach(ae=>{var Ae;let ce=(Ae=N.current)==null?void 0:Ae.querySelector(`${qx}[${Jg}="${encodeURIComponent(ae[0])}"]`);ce?.parentElement.appendChild(ce)})}function I(){let U=V().find(ee=>ee.getAttribute("aria-disabled")!=="true"),Y=U?.getAttribute(Jg);T.setState("value",Y||void 0)}function D(){var U,Y,ee,ae;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let Ae=0;for(let ce of n.current){let we=(Y=(U=i.current.get(ce))==null?void 0:U.value)!=null?Y:"",ge=(ae=(ee=i.current.get(ce))==null?void 0:ee.keywords)!=null?ae:[],je=P(we,ge);r.current.filtered.items.set(ce,je),je>0&&Ae++}for(let[ce,we]of a.current)for(let ge of we)if(r.current.filtered.items.get(ge)>0){r.current.filtered.groups.add(ce);break}r.current.filtered.count=Ae}function $(){var U,Y,ee;let ae=F();ae&&(((U=ae.parentElement)==null?void 0:U.firstChild)===ae&&((ee=(Y=ae.closest(qx))==null?void 0:Y.querySelector(rQe))==null||ee.scrollIntoView({block:"nearest"})),ae.scrollIntoView({block:"nearest"}))}function F(){var U;return(U=N.current)==null?void 0:U.querySelector(`${bae}[aria-selected="true"]`)}function V(){var U;return Array.from(((U=N.current)==null?void 0:U.querySelectorAll(Bq))||[])}function X(U){let Y=V()[U];Y&&T.setState("value",Y.getAttribute(Jg))}function K(U){var Y;let ee=F(),ae=V(),Ae=ae.findIndex(we=>we===ee),ce=ae[Ae+U];(Y=l.current)!=null&&Y.loop&&(ce=Ae+U<0?ae[ae.length-1]:Ae+U===ae.length?ae[0]:ae[Ae+U]),ce&&T.setState("value",ce.getAttribute(Jg))}function W(U){let Y=F(),ee=Y?.closest(qx),ae;for(;ee&&!ae;)ee=U>0?AQe(ee,qx):fQe(ee,qx),ae=ee?.querySelector(Bq);ae?T.setState("value",ae.getAttribute(Jg)):K(U)}let z=()=>X(V().length-1),te=U=>{U.preventDefault(),U.metaKey?z():U.altKey?W(1):K(1)},G=U=>{U.preventDefault(),U.metaKey?X(0):U.altKey?W(-1):K(-1)};return C.createElement(kt.div,{ref:t,tabIndex:-1,...x,"cmdk-root":"",onKeyDown:U=>{var Y;(Y=x.onKeyDown)==null||Y.call(x,U);let ee=U.nativeEvent.isComposing||U.keyCode===229;if(!(U.defaultPrevented||ee))switch(U.key){case"n":case"j":{v&&U.ctrlKey&&te(U);break}case"ArrowDown":{te(U);break}case"p":case"k":{v&&U.ctrlKey&&G(U);break}case"ArrowUp":{G(U);break}case"Home":{U.preventDefault(),X(0);break}case"End":{U.preventDefault(),z();break}case"Enter":{U.preventDefault();let ae=F();if(ae){let Ae=new Event(LI);ae.dispatchEvent(Ae)}}}}},C.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:pQe},c),HC(e,U=>C.createElement(_ae.Provider,{value:T},C.createElement(jae.Provider,{value:O},U))))}),sQe=C.forwardRef((e,t)=>{var r,n;let a=vi(),i=C.useRef(null),o=C.useContext(Nae),l=kb(),c=Sae(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o?.forceMount;_p(()=>{if(!u)return l.item(a,o?.id)},[u]);let d=Bae(a,i,[e.value,e.children,i],e.keywords),A=vL(),h=Sh(B=>B.value&&B.value===d.current),m=Sh(B=>u||l.filter()===!1?!0:B.search?B.filtered.items.get(a)>0:!0);C.useEffect(()=>{let B=i.current;if(!(!B||e.disabled))return B.addEventListener(LI,y),()=>B.removeEventListener(LI,y)},[m,e.onSelect,e.disabled]);function y(){var B,T;g(),(T=(B=c.current).onSelect)==null||T.call(B,d.current)}function g(){A.setState("value",d.current,!0)}if(!m)return null;let{disabled:v,value:x,onSelect:b,forceMount:j,keywords:_,...N}=e;return C.createElement(kt.div,{ref:FA(i,t),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!h,"data-disabled":!!v,"data-selected":!!h,onPointerMove:v||l.getDisablePointerSelection()?void 0:g,onClick:v?void 0:y},e.children)}),aQe=C.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...i}=e,o=vi(),l=C.useRef(null),c=C.useRef(null),u=vi(),d=kb(),A=Sh(m=>a||d.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);_p(()=>d.group(o),[]),Bae(o,l,[e.value,e.heading,c]);let h=C.useMemo(()=>({id:o,forceMount:a}),[a]);return C.createElement(kt.div,{ref:FA(l,t),...i,"cmdk-group":"",role:"presentation",hidden:A?void 0:!0},r&&C.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),HC(e,m=>C.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},C.createElement(Nae.Provider,{value:h},m))))}),iQe=C.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=C.useRef(null),i=Sh(o=>!o.search);return!r&&!i?null:C.createElement(kt.div,{ref:FA(a,t),...n,"cmdk-separator":"",role:"separator"})}),oQe=C.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,i=vL(),o=Sh(u=>u.search),l=Sh(u=>u.selectedItemId),c=kb();return C.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),C.createElement(kt.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||i.setState("search",u.target.value),r?.(u.target.value)}})}),lQe=C.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,i=C.useRef(null),o=C.useRef(null),l=Sh(u=>u.selectedItemId),c=kb();return C.useEffect(()=>{if(o.current&&i.current){let u=o.current,d=i.current,A,h=new ResizeObserver(()=>{A=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(A),h.unobserve(u)}}},[]),C.createElement(kt.div,{ref:FA(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},HC(e,u=>C.createElement("div",{ref:FA(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),cQe=C.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:o,...l}=e;return C.createElement(kC,{open:r,onOpenChange:n},C.createElement(PC,{container:o},C.createElement(qy,{"cmdk-overlay":"",className:a}),C.createElement(Ky,{"aria-label":e.label,"cmdk-dialog":"",className:i},C.createElement(Cae,{ref:t,...l}))))}),uQe=C.forwardRef((e,t)=>Sh(r=>r.filtered.count===0)?C.createElement(kt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),dQe=C.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...i}=e;return C.createElement(kt.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},HC(e,o=>C.createElement("div",{"aria-hidden":!0},o)))}),pl=Object.assign(Cae,{List:lQe,Item:sQe,Input:oQe,Group:aQe,Separator:iQe,Dialog:cQe,Empty:uQe,Loading:dQe});function AQe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function fQe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function Sae(e){let t=C.useRef(e);return _p(()=>{t.current=e}),t}var _p=typeof window>"u"?C.useEffect:C.useLayoutEffect;function Zg(e){let t=C.useRef();return t.current===void 0&&(t.current=e()),t}function Sh(e){let t=vL(),r=()=>e(t.snapshot());return C.useSyncExternalStore(t.subscribe,r,r)}function Bae(e,t,r,n=[]){let a=C.useRef(),i=kb();return _p(()=>{var o;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(Jg,l),a.current=l}),a}var hQe=()=>{let[e,t]=C.useState(),r=Zg(()=>new Map);return _p(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function mQe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function HC({asChild:e,children:t},r){return e&&C.isValidElement(t)?C.cloneElement(mQe(t),{ref:t.ref},r(t.props.children)):r(t)}var pQe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Eae=C.forwardRef(({className:e,...t},r)=>s.jsx(pl,{ref:r,className:st("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));Eae.displayName=pl.displayName;const gQe=({children:e,...t})=>s.jsx(dn,{...t,children:s.jsx(an,{className:"overflow-hidden p-0 shadow-lg",children:s.jsx(Eae,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),kae=C.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(Ba,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(pl.Input,{ref:r,className:st("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));kae.displayName=pl.Input.displayName;const Pae=C.forwardRef(({className:e,...t},r)=>s.jsx(pl.List,{ref:r,className:st("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Pae.displayName=pl.List.displayName;const Tae=C.forwardRef((e,t)=>s.jsx(pl.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Tae.displayName=pl.Empty.displayName;const Oae=C.forwardRef(({className:e,...t},r)=>s.jsx(pl.Group,{ref:r,className:st("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Oae.displayName=pl.Group.displayName;const vQe=C.forwardRef(({className:e,...t},r)=>s.jsx(pl.Separator,{ref:r,className:st("-mx-1 h-px bg-border",e),...t}));vQe.displayName=pl.Separator.displayName;const Iae=C.forwardRef(({className:e,...t},r)=>s.jsx(pl.Item,{ref:r,className:st("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));Iae.displayName=pl.Item.displayName;const yQe=[{label:"Super Admin Dashboard",icon:jy,path:"/super-admin"},{label:"Users",icon:Nr,path:"/super-admin/users"},{label:"Organizations",icon:sn,path:"/super-admin/organizations"},{label:"Roles",icon:Lo,path:"/super-admin/roles"},{label:"Analytics",icon:KA,path:"/super-admin/analytics"},{label:"Database",icon:ll,path:"/super-admin/database"},{label:"Activity Logs",icon:ur,path:"/super-admin/logs"},{label:"Settings",icon:Is,path:"/super-admin/settings"}],xQe=[{label:"Admin Dashboard",icon:jy,path:"/admin"},{label:"Properties",icon:sn,path:"/admin/properties"},{label:"Units",icon:SF,path:"/admin/units"},{label:"Tenants",icon:Nr,path:"/admin/tenants"},{label:"Billing",icon:CA,path:"/admin/billing"},{label:"Payments",icon:bn,path:"/admin/payments"},{label:"Maintenance",icon:Ma,path:"/admin/maintenance"},{label:"Analytics",icon:KA,path:"/admin/analytics"},{label:"User Management",icon:QW,path:"/admin/users"},{label:"Settings",icon:Is,path:"/admin/settings"}],wQe=[{label:"Manager Dashboard",icon:jy,path:"/manager"},{label:"Properties",icon:sn,path:"/manager/properties"},{label:"Units",icon:SF,path:"/manager/units"},{label:"Tenants",icon:Nr,path:"/manager/tenants"},{label:"Billing",icon:CA,path:"/manager/billing"},{label:"Payments",icon:bn,path:"/manager/payments"},{label:"Maintenance",icon:Ma,path:"/manager/maintenance"},{label:"Settings",icon:Is,path:"/manager/settings"}],bQe=[{label:"My Dashboard",icon:jy,path:"/tenant"},{label:"Personal Details",icon:Fs,path:"/tenant/profile"},{label:"My Documents",icon:ur,path:"/tenant/documents"},{label:"Family Members",icon:Nr,path:"/tenant/family"},{label:"My Bills",icon:bn,path:"/tenant/bills"},{label:"Payment History",icon:CA,path:"/tenant/payments"},{label:"Settings",icon:Is,path:"/tenant/settings"}],jQe=[{label:"My Dashboard",icon:jy,path:"/user"},{label:"Properties",icon:sn,path:"/user/properties"},{label:"Units",icon:SF,path:"/user/units"},{label:"Tenants",icon:Nr,path:"/user/tenants"},{label:"Billing",icon:CA,path:"/user/billing"},{label:"Payments",icon:bn,path:"/user/payments"},{label:"Maintenance",icon:Ma,path:"/user/maintenance"},{label:"Settings",icon:Is,path:"/user/settings"}];function _Qe(){const{commandPaletteOpen:e,setCommandPaletteOpen:t}=Fy(),r=bi(),{isSuperAdmin:n,isAdmin:a,isManager:i,isTenant:o}=Ec(),l=n?yQe:a?xQe:i?wQe:o?bQe:jQe,c=u=>{r(u),t(!1)};return s.jsxs(gQe,{open:e,onOpenChange:t,children:[s.jsx(kae,{placeholder:"Search pages..."}),s.jsxs(Pae,{children:[s.jsx(Tae,{children:"No results found."}),s.jsx(Oae,{heading:"Pages",children:l.map(u=>s.jsxs(Iae,{onSelect:()=>c(u.path),className:"gap-3 rounded-lg",children:[s.jsx(u.icon,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{children:u.label})]},u.path))})]})]})}function An({children:e}){const{sidebarCollapsed:t,setCommandPaletteOpen:r}=Fy();return C.useEffect(()=>{const n=a=>{(a.metaKey||a.ctrlKey)&&a.key==="k"&&(a.preventDefault(),r(!0))};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[r]),s.jsxs("div",{className:"min-h-screen bg-background flex",children:[s.jsx(K6e,{}),s.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-300 ${t?"ml-[68px]":"ml-[260px]"}`,children:[s.jsx(DZ,{}),s.jsx("main",{className:"flex-1 p-6 overflow-auto scrollbar-thin",children:e})]}),s.jsx(_Qe,{})]})}const NQe=[{month:"Jan",revenue:42e3,expenses:28e3},{month:"Feb",revenue:45e3,expenses:27e3},{month:"Mar",revenue:48e3,expenses:3e4},{month:"Apr",revenue:51e3,expenses:29e3},{month:"May",revenue:53e3,expenses:31e3},{month:"Jun",revenue:58e3,expenses:32e3},{month:"Jul",revenue:62e3,expenses:33e3}];function Fae(){return s.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Revenue Overview"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly revenue & expenses"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"}),s.jsx("span",{className:"text-muted-foreground",children:"Revenue"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-accent"}),s.jsx("span",{className:"text-muted-foreground",children:"Expenses"})]})]})]}),s.jsx(Ua,{width:"100%",height:300,children:s.jsxs(M_,{data:NQe,children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"revenueGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"hsl(263, 58%, 59%)",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"hsl(263, 58%, 59%)",stopOpacity:0})]}),s.jsxs("linearGradient",{id:"expenseGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"hsl(271, 81%, 56%)",stopOpacity:.2}),s.jsx("stop",{offset:"95%",stopColor:"hsl(271, 81%, 56%)",stopOpacity:0})]})]}),s.jsx(O_,{strokeDasharray:"3 3",stroke:"hsl(217, 33%, 20%)"}),s.jsx(Fi,{dataKey:"month",stroke:"hsl(215, 20%, 65%)",fontSize:12}),s.jsx(Ri,{stroke:"hsl(215, 20%, 65%)",fontSize:12,tickFormatter:e=>`$${e/1e3}k`}),s.jsx(ss,{contentStyle:{backgroundColor:"hsl(221, 39%, 11%)",border:"1px solid hsl(217, 33%, 20%)",borderRadius:"12px",fontSize:"13px"},formatter:e=>[`$${e.toLocaleString()}`,""]}),s.jsx(Gl,{type:"monotone",dataKey:"revenue",stroke:"hsl(263, 58%, 59%)",fill:"url(#revenueGrad)",strokeWidth:2}),s.jsx(Gl,{type:"monotone",dataKey:"expenses",stroke:"hsl(271, 81%, 56%)",fill:"url(#expenseGrad)",strokeWidth:2})]})})]})}function Rae(){const{formatAmount:e}=ji(),t=[{icon:wu,label:"New tenant Sarah Johnson signed lease",time:"2 min ago",color:"text-success"},{icon:bn,label:`Payment of ${e(1200)} received from Unit 4B`,time:"15 min ago",color:"text-primary"},{icon:Ma,label:"Maintenance ticket #1042 resolved",time:"1 hour ago",color:"text-warning"},{icon:sn,label:"Property 'Riverside Apts' listed",time:"3 hours ago",color:"text-accent"},{icon:bn,label:"Invoice #INV-2024-089 generated",time:"5 hours ago",color:"text-primary"}];return s.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activity"}),s.jsxs("button",{className:"text-sm text-primary hover:text-primary/80 flex items-center gap-1 transition-colors",children:["View all ",s.jsx(kW,{className:"w-3 h-3"})]})]}),s.jsx("div",{className:"space-y-4",children:t.map((r,n)=>s.jsxs(vt.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.6+n*.08},className:"flex items-start gap-3 group",children:[s.jsx("div",{className:"w-9 h-9 rounded-xl bg-muted/50 flex items-center justify-center shrink-0 group-hover:bg-muted transition-colors",children:s.jsx(r.icon,{className:`w-4 h-4 ${r.color}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm leading-snug",children:r.label}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:r.time})]})]},n))})]})}const qk=[{name:"Occupied",value:85,color:"hsl(263, 58%, 59%)"},{name:"Vacant",value:10,color:"hsl(217, 33%, 25%)"},{name:"Maintenance",value:5,color:"hsl(38, 92%, 50%)"}];function Lae(){return s.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"glass-card p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Occupancy Rate"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Current unit status breakdown"}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"w-40 h-40 relative",children:[s.jsx(Ua,{width:"100%",height:"100%",children:s.jsx(fh,{children:s.jsx(Ao,{data:qk,cx:"50%",cy:"50%",innerRadius:45,outerRadius:70,paddingAngle:3,dataKey:"value",strokeWidth:0,children:qk.map((e,t)=>s.jsx(gu,{fill:e.color},`cell-${t}`))})})}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold",children:"85%"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"occupied"})]})})]}),s.jsx("div",{className:"space-y-3",children:qk.map(e=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),s.jsx("span",{className:"text-sm text-muted-foreground",children:e.name}),s.jsxs("span",{className:"text-sm font-medium ml-auto",children:[e.value,"%"]})]},e.name))})]})]})}function Uae(){const[e,t]=C.useState(null),[r,n]=C.useState(!1),a=[{id:"add-tenant",title:"Add New Tenant",description:"Create a new tenant with user account",icon:wu,color:"text-blue-600 bg-blue-50 border-blue-200",route:"/admin/tenants",badge:"Quick"},{id:"view-tenants",title:"View All Tenants",description:"See all tenant records and status",icon:Nr,color:"text-green-600 bg-green-50 border-green-200",route:"/admin/tenant-data",badge:"List"},{id:"payment-verification",title:"Payment Verification",description:"Review and verify QR code payments",icon:ap,color:"text-purple-600 bg-purple-50 border-purple-200",route:"/admin/payment-verification",badge:"Pending"},{id:"generate-bills",title:"Generate Bills",description:"Create monthly bills for all tenants",icon:ur,color:"text-orange-600 bg-orange-50 border-orange-200",route:"/admin/billing",requiresConfirmation:!0},{id:"meter-readings",title:"Meter Readings",description:"Record utility meter readings",icon:Wl,color:"text-yellow-600 bg-yellow-50 border-yellow-200",route:"/admin/tenant-data"},{id:"payment-tracking",title:"Payment Tracking",description:"Monitor payment status and history",icon:ja,color:"text-pink-600 bg-pink-50 border-pink-200",route:"/admin/payments"}],i=[{title:"Total Tenants",value:"156",change:"+12%",icon:Nr,color:"text-blue-600"},{title:"Pending Payments",value:"23",change:"-5%",icon:ca,color:"text-orange-600"},{title:"Active Units",value:"142",change:"+8%",icon:Xr,color:"text-green-600"},{title:"Monthly Revenue",value:"2.4L",change:"+15%",icon:Al,color:"text-purple-600"}],o=c=>{c.requiresConfirmation?(t(c),n(!0)):console.log(`Navigate to: ${c.route}`)},l=()=>{e&&(console.log(`Execute: ${e.title}`),n(!1),t(null))};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:i.map((c,u)=>s.jsx(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.1},children:s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:c.title}),s.jsx("p",{className:"text-2xl font-bold",children:c.value}),s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx("span",{className:c.color,children:c.change}),s.jsx(Al,{className:"w-3 h-3"})]})]}),s.jsx(c.icon,{className:`w-8 h-8 ${c.color}`})]})})})},c.title))}),s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(Is,{className:"w-5 h-5"}),"Quick Actions"]}),s.jsx(Wr,{children:"Frequently used tenant management tasks"})]}),s.jsx(De,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map((c,u)=>s.jsx(vt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:u*.1},children:s.jsxs(de,{variant:"outline",className:"h-auto p-4 flex-col items-start space-y-2 hover:shadow-md transition-shadow",onClick:()=>o(c),children:[s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx(c.icon,{className:"w-6 h-6"}),c.badge&&s.jsx(Ze,{variant:"secondary",className:"text-xs",children:c.badge})]}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-medium",children:c.title}),s.jsx("p",{className:"text-xs text-muted-foreground",children:c.description})]})]})},c.id))})})]}),s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(Jn,{className:"w-5 h-5"}),"Recent Activity"]}),s.jsx(Wr,{children:"Latest tenant management actions"})]}),s.jsx(De,{children:s.jsx("div",{className:"space-y-4",children:[{action:"New tenant added",tenant:"John Doe",time:"2 hours ago",icon:wu,color:"text-blue-600"},{action:"Payment verified",tenant:"Jane Smith",time:"3 hours ago",icon:ap,color:"text-green-600"},{action:"Bill generated",tenant:"Mike Johnson",time:"5 hours ago",icon:ur,color:"text-orange-600"},{action:"Meter reading recorded",tenant:"Sarah Williams",time:"1 day ago",icon:Wl,color:"text-yellow-600"}].map((c,u)=>s.jsxs(vt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.1},className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(c.icon,{className:`w-5 h-5 ${c.color}`}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:c.action}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.tenant})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:c.time})})]},u))})})]}),s.jsx(dn,{open:r,onOpenChange:n,children:s.jsxs(an,{children:[s.jsxs(pn,{children:[s.jsxs(gn,{className:"flex items-center gap-2",children:[s.jsx(xi,{className:"w-5 h-5 text-orange-500"}),"Confirm Action"]}),s.jsxs(_n,{children:["Are you sure you want to ",e?.title.toLowerCase(),"? This action may affect multiple tenant records."]})]}),s.jsx("div",{className:"space-y-4",children:e&&s.jsx("div",{className:"bg-muted p-4 rounded",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(e.icon,{className:"w-6 h-6"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:e.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]})]})})}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(de,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),s.jsxs(de,{onClick:l,children:[s.jsx(Gr,{className:"w-4 h-4 mr-2"}),"Confirm"]})]})]})})]})}const Vh=()=>{const{profile:e}=ua(),t=e?.organization_id,r=async a=>{const{data:i,error:o}=await be.from("organizations").insert({name:a}).select().single();if(o)throw o;const{error:l}=await be.from("profiles").update({organization_id:i.id}).eq("id",e.id);if(l)throw l;const{error:c}=await be.from("user_roles").insert({user_id:e.id,role:"admin"});if(c)throw c;return i};return{orgId:t,setupOrganization:r,ensureOrganization:async()=>{if(t)return t;const{data:{user:a}}=await be.auth.getUser();if(!a)throw new Error("Authentication required");const{data:i}=await be.from("profiles").select("organization_id").eq("id",a.id).single();return i?.organization_id?i.organization_id:(await r(`${a.email?.split("@")[0]}'s Workspace`)).id}}},qh=()=>{const{orgId:e,ensureOrganization:t}=Vh(),r=In(),n=Ir({queryKey:["properties",e],queryFn:async()=>{if(!e)return[];const{data:l,error:c}=await be.from("properties").select("*").eq("organization_id",e).order("created_at",{ascending:!1});if(c)throw c;return l},enabled:!!e}),a=er({mutationFn:async l=>{const c=await t(),{data:u,error:d}=await be.from("properties").insert({...l,name:l.name,units_count:l.units_count||0,status:l.status||"active",image_emoji:l.image_emoji||"",organization_id:c}).select().single();if(d)throw d;return u},onSuccess:()=>{r.invalidateQueries({queryKey:["properties"]}),He.success("Property created successfully")},onError:l=>He.error(l.message)}),i=er({mutationFn:async({id:l,...c})=>{const{data:u,error:d}=await be.from("properties").update(c).eq("id",l).select().single();if(d)throw d;return u},onSuccess:()=>{r.invalidateQueries({queryKey:["properties"]}),He.success("Property updated successfully")},onError:l=>He.error(l.message)}),o=er({mutationFn:async l=>{const{error:c}=await be.from("properties").delete().eq("id",l);if(c)throw c},onSuccess:()=>{r.invalidateQueries({queryKey:["properties"]}),He.success("Property deleted successfully")},onError:l=>He.error(l.message)});return{properties:n.data,isLoading:n.isLoading,createProperty:a,updateProperty:i,deleteProperty:o}},Vp=()=>{const{orgId:e}=Vh(),{isAdmin:t}=Ec(),r=In(),n=Ir({queryKey:["tenants",e],queryFn:async()=>{if(!e)return[];const{data:l,error:c}=await be.from("tenants").select(`
          *,
          security_deposit,
          units!units_tenant_id_fkey (
            id,
            unit_number,
            rent,
            properties (
              id,
              name
            )
          )
        `).eq("organization_id",e).order("created_at",{ascending:!1});if(c)throw c;return l},enabled:!!e}),a=er({mutationFn:async l=>{if(!e)throw new Error("No organization");if(l.create_user_account&&l.email&&l.password){const{data:{session:y}}=await be.auth.getSession();if(!y?.access_token)throw new Error("Not authenticated");const v=await fetch("https://aggacdtmyphgtkldjmvk.supabase.co/functions/v1/create-tenant-user",{method:"POST",headers:{Authorization:`Bearer ${y.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({name:l.name,email:l.email,password:l.password,phone:l.phone,lease_start:l.lease_start,lease_end:l.lease_end,status:l.status,organization_id:e,property_id:l.property_id||null,unit_id:l.unit_id||null,rent_amount:l.rent_amount,security_deposit:l.security_deposit,agreement_document_url:l.agreement_document_url})});if(!v.ok){const b=await v.json();throw new Error(b.error||"Failed to create tenant user")}const x=await v.json();return l.unit_id&&await be.from("units").update({tenant_id:x.data.id,availability:"occupied"}).eq("id",l.unit_id),x.data}const{create_user_account:c,password:u,...d}=l,A={...d,lease_start:l.lease_start?.toISOString().split("T")[0],lease_end:l.lease_end?.toISOString().split("T")[0],organization_id:e},{data:h,error:m}=await be.from("tenants").insert(A).select().single();if(m)throw m;return l.unit_id&&await be.from("units").update({tenant_id:h.id,availability:"occupied"}).eq("id",l.unit_id),h},onSuccess:()=>{r.invalidateQueries({queryKey:["tenants"]}),r.invalidateQueries({queryKey:["units"]}),He.success("Tenant created successfully")},onError:l=>He.error(l.message)}),i=er({mutationFn:async({id:l,...c})=>{const u=Object.fromEntries(Object.entries(c).filter(([v,x])=>x!==void 0));u.property_id===""&&(u.property_id=null),u.unit_id===""&&(u.unit_id=null),u.email===""&&(u.email=null),u.phone===""&&(u.phone=null);const{data:d}=await be.from("tenants").select("*").eq("id",l).single(),A={...u,lease_start:u.lease_start?.toISOString().split("T")[0],lease_end:u.lease_end?.toISOString().split("T")[0]},{data:h,error:m}=await be.from("tenants").update(A).eq("id",l).select().single();if(m)throw m;const y=d?.unit_id,g=u.unit_id;return y!==g&&(y&&await be.from("units").update({tenant_id:null,availability:"available"}).eq("id",y),g&&await be.from("units").update({tenant_id:l,availability:"occupied"}).eq("id",String(g))),h},onSuccess:()=>{r.invalidateQueries({queryKey:["tenants"]}),r.invalidateQueries({queryKey:["units"]}),He.success("Tenant updated")},onError:l=>He.error(l.message)}),o=er({mutationFn:async l=>{if(console.log("Attempting to delete tenant with ID:",l),!t)throw new Error("Only administrators can delete tenants. Please contact your admin for assistance.");const{data:c,error:u}=await be.from("tenants").select("id, name").eq("id",l).single();if(u)throw console.error("Error checking tenant existence:",u),new Error(`Tenant not found: ${u.message}`);console.log("Found tenant to delete:",c);const{error:d}=await be.from("tenants").delete().eq("id",l);if(d)throw console.error("Delete error:",d),d.code==="42501"||d.message?.includes("permission denied")?new Error("You don't have permission to delete tenants. Only administrators can delete tenants."):new Error(`Failed to delete tenant: ${d.message}`);console.log("Successfully deleted tenant")},onSuccess:()=>{r.invalidateQueries({queryKey:["tenants"]}),He.success("Tenant deleted successfully")},onError:l=>{console.error("Delete tenant error:",l),He.error(l.message||"Failed to delete tenant")}});return{...n,createTenant:a,updateTenant:i,deleteTenant:o,isAdmin:t}},Wy=e=>{const t=In(),r=Ir({queryKey:["units",e],queryFn:async()=>{let c=be.from("units").select(`
          *,
          properties (name, image_emoji),
          tenants!units_tenant_id_fkey (name)
        `).order("unit_number",{ascending:!0});e&&e!=="all"&&(c=c.eq("property_id",e));const{data:u,error:d}=await c;if(console.log("[useUnits] Query result:",{data:u,error:d,propertyId:e}),d)throw console.error("[useUnits] Query error:",d),d;return u},refetchOnMount:"always",staleTime:0}),n=er({mutationFn:async c=>{const{data:u,error:d}=await be.from("units").insert({property_id:c.property_id,unit_number:c.unit_number,rent:c.rent||0,availability:c.availability||"vacant",room_type:c.room_type||null,status:c.status||"active"}).select().single();if(d)throw d;return u},onSuccess:async()=>{await t.invalidateQueries({queryKey:["units"]}),await t.invalidateQueries({queryKey:["properties"]}),He.success("Unit created successfully")},onError:c=>He.error(c.message)}),a=er({mutationFn:async({id:c,...u})=>{const d={...u,property_id:u.property_id||null,tenant_id:u.tenant_id||null},{data:A,error:h}=await be.from("units").update(d).eq("id",c).select().single();if(h)throw h;return A},onSuccess:()=>{t.invalidateQueries({queryKey:["units"]}),t.invalidateQueries({queryKey:["properties"]}),He.success("Unit updated successfully")},onError:c=>He.error(c.message)}),i=er({mutationFn:async c=>{const{error:u}=await be.from("units").delete().eq("id",c);if(u)throw u},onSuccess:()=>{t.invalidateQueries({queryKey:["units"]}),t.invalidateQueries({queryKey:["properties"]}),He.success("Unit deleted successfully")},onError:c=>He.error(c.message)}),o=er({mutationFn:async({unitId:c,tenantId:u,leaseStart:d,leaseEnd:A})=>{const{data:h,error:m}=await be.from("units").update({tenant_id:u,availability:"occupied"}).eq("id",c).select().single();if(m)throw m;const{data:y,error:g}=await be.from("tenants").update({lease_start:d,lease_end:A,status:"active"}).eq("id",u).select().single();if(g)throw g;return{unitData:h,tenantData:y}},onSuccess:()=>{t.invalidateQueries({queryKey:["units"]}),t.invalidateQueries({queryKey:["tenants"]}),t.invalidateQueries({queryKey:["properties"]}),He.success("Tenant assigned successfully")},onError:c=>He.error(c.message)}),l=er({mutationFn:async({unitId:c,tenantId:u})=>{const{data:d,error:A}=await be.from("units").update({tenant_id:null,availability:"vacant"}).eq("id",c).select().single();if(A)throw A;const{data:h,error:m}=await be.from("tenants").update({status:"inactive"}).eq("id",u).select().single();if(m)throw m;return{unitData:d,tenantData:h}},onSuccess:()=>{t.invalidateQueries({queryKey:["units"]}),t.invalidateQueries({queryKey:["tenants"]}),t.invalidateQueries({queryKey:["properties"]}),He.success("Tenant unassigned successfully")},onError:c=>He.error(c.message)});return{units:r.data,isLoading:r.isLoading,createUnit:n,updateUnit:a,deleteUnit:i,assignTenant:o,unassignTenant:l}},$C=()=>{const{orgId:e}=Vh(),t=In(),r=Ir({queryKey:["invoices",e],queryFn:async()=>{if(!e)return[];const{data:c,error:u}=await be.from("invoices").select("*").eq("organization_id",e).order("created_at",{ascending:!1});if(u)throw u;return c},enabled:!!e}),n=er({mutationFn:async c=>{if(!e)throw new Error("No organization");const{data:u,error:d}=await be.from("invoices").insert({invoice_number:c.invoice_number,amount:c.amount,due_date:c.due_date,tenant_id:c.tenant_id,unit_id:c.unit_id,status:c.status||"pending",organization_id:e}).select().single();if(d)throw d;return u},onSuccess:()=>{t.invalidateQueries({queryKey:["invoices"]}),t.invalidateQueries({queryKey:["invoice-stats"]}),t.invalidateQueries({queryKey:["tenant-profile"]}),He.success("Invoice created")},onError:c=>He.error(c.message)}),a=er({mutationFn:async({id:c,...u})=>{const d={};u.invoice_number&&(d.invoice_number=u.invoice_number),u.amount&&(d.amount=u.amount),u.due_date&&(d.due_date=u.due_date),u.status&&(d.status=u.status),u.tenant_id&&(d.tenant_id=u.tenant_id),u.unit_id&&(d.unit_id=u.unit_id);const{data:A,error:h}=await be.from("invoices").update(d).eq("id",c).select().single();if(h)throw h;return A},onSuccess:()=>{t.invalidateQueries({queryKey:["invoices"]}),t.invalidateQueries({queryKey:["tenant-profile"]}),He.success("Invoice updated")},onError:c=>He.error(c.message)}),i=er({mutationFn:async c=>{const{error:u}=await be.from("invoices").delete().eq("id",c);if(u)throw u},onSuccess:()=>{t.invalidateQueries({queryKey:["invoices"]}),t.invalidateQueries({queryKey:["tenant-profile"]}),He.success("Invoice deleted")},onError:c=>He.error(c.message)});return{...r,createInvoice:n,updateInvoice:a,deleteInvoice:i,getInvoiceById:async c=>{const{data:u,error:d}=await be.from("invoices").select(`
        *,
        tenant:tenants(id, name, email, phone),
        unit:units(id, unit_number, rent, property:properties(id, name))
      `).eq("id",c).single();if(d)throw d;return u},getInvoiceStats:async()=>{if(!e)return null;const{data:c,error:u}=await be.from("invoices").select("status, amount, created_at").eq("organization_id",e).order("created_at",{ascending:!1});if(u)throw u;const d=new Date,A=d.getMonth(),h=d.getFullYear(),m=c?.filter(b=>{const j=new Date(b.created_at);return j.getMonth()===A&&j.getFullYear()===h})||[],y=c?.filter(b=>{const j=new Date(b.created_at),_=A===0?11:A-1,N=A===0?h-1:h;return j.getMonth()===_&&j.getFullYear()===N})||[],g=m.reduce((b,j)=>b+Number(j.amount),0),v=y.reduce((b,j)=>b+Number(j.amount),0);return{total:c?.reduce((b,j)=>b+Number(j.amount),0)||0,paid:c?.filter(b=>b.status==="paid").reduce((b,j)=>b+Number(j.amount),0)||0,overdue:c?.filter(b=>b.status==="overdue").reduce((b,j)=>b+Number(j.amount),0)||0,pending:c?.filter(b=>b.status==="pending").reduce((b,j)=>b+Number(j.amount),0)||0,monthlyChange:v>0?(g-v)/v*100:0,paidPercentage:c&&c.length>0?c.filter(b=>b.status==="paid").length/c.length*100:0}}}},yL=()=>{const{orgId:e}=Vh(),t=In(),r=Ir({queryKey:["maintenance_tickets",e],queryFn:async()=>{if(!e)return[];const{data:o,error:l}=await be.from("maintenance_tickets").select("*").eq("organization_id",e).order("created_at",{ascending:!1});if(l)throw l;return o},enabled:!!e}),n=er({mutationFn:async o=>{if(!e)throw new Error("No organization");const l={...o,property_id:o.property_id||null,unit_id:o.unit_id||null,organization_id:e},{data:c,error:u}=await be.from("maintenance_tickets").insert(l).select().single();if(u)throw u;return c},onSuccess:()=>{t.invalidateQueries({queryKey:["maintenance_tickets"]}),He.success("Ticket created")},onError:o=>He.error(o.message)}),a=er({mutationFn:async({id:o,...l})=>{const c={...l,assignee_id:l.assignee_id||null},{data:u,error:d}=await be.from("maintenance_tickets").update(c).eq("id",o).select().single();if(d)throw d;return u},onSuccess:()=>{t.invalidateQueries({queryKey:["maintenance_tickets"]}),He.success("Ticket updated")},onError:o=>He.error(o.message)}),i=er({mutationFn:async o=>{const{error:l}=await be.from("maintenance_tickets").delete().eq("id",o);if(l)throw l},onSuccess:()=>{t.invalidateQueries({queryKey:["maintenance_tickets"]}),He.success("Ticket deleted")},onError:o=>He.error(o.message)});return{...r,createTicket:n,updateTicket:a,deleteTicket:i}};function rl({className:e,...t}){return s.jsx("div",{className:st("animate-pulse rounded-md bg-muted",e),...t})}const CQe=()=>{const{formatAmount:e}=ji();bi();const{properties:t,isLoading:r}=qh(),{data:n=[],isLoading:a}=Vp(),{units:i,isLoading:o}=Wy(),l=$C(),c=yL(),u=l.data||[],d=c.data||[],A=r||a||o||l.isLoading||c.isLoading,h=u.filter(O=>O.status==="paid").reduce((O,P)=>O+Number(P.amount),0),m=u.reduce((O,P)=>O+Number(P.amount),0),y=n.filter(O=>O.status==="active").length,g=i?.length||0,v=i?.filter(O=>O.tenant_id).length||0,x=g>0?(v/g*100).toFixed(1):"0",b=d.filter(O=>O.status==="open").length,j=u.filter(O=>O.status==="pending").length,_=u.filter(O=>O.status==="overdue").length,N=u.filter(O=>O.status==="paid").length,B=m>0?(h/m*100).toFixed(1):"0",T=[{title:"Total Revenue",value:e(h),change:`${B}% collection rate`,changeType:Number(B)>80?"positive":Number(B)>60?"neutral":"negative",icon:Hi},{title:"Total Invoiced",value:e(m),change:`${u.length} total invoices`,changeType:"positive",icon:ur},{title:"Properties",value:(t?.length||0).toString(),change:`${g} total units`,changeType:"positive",icon:sn},{title:"Active Tenants",value:y.toString(),change:`${n.length} total tenants`,changeType:"positive",icon:Nr},{title:"Occupancy Rate",value:`${x}%`,change:`${v}/${g} units occupied`,changeType:Number(x)>80?"positive":Number(x)>60?"neutral":"negative",icon:Al},{title:"Open Tickets",value:b.toString(),change:b>5?"High priority":"Normal",changeType:b>5?"negative":"positive",icon:Ma}];return s.jsx(An,{children:s.jsxs("div",{className:"flex-1 space-y-4 p-4 md:p-8 pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between space-y-2",children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Jn,{className:"h-4 w-4"}),s.jsx(de,{children:"Download"})]})]}),A?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((O,P)=>s.jsxs(Le,{className:"p-6",children:[s.jsx(rl,{className:"h-4 w-3/4 mb-2"}),s.jsx(rl,{className:"h-8 w-1/2 mb-2"}),s.jsx(rl,{className:"h-3 w-full"})]},P))}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map((O,P)=>s.jsx(Rh,{...O,index:P},O.title))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:s.jsxs(Le,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(pt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(gt,{className:"text-sm font-medium",children:"Pending Invoices"}),s.jsx(bn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(De,{children:[s.jsx("div",{className:"text-2xl font-bold",children:j}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e(u.filter(O=>O.status==="pending").reduce((O,P)=>O+Number(P.amount),0))," pending"]}),s.jsx(DA,{value:u.length>0?j/u.length*100:0,className:"mt-2"})]})]})}),s.jsx(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsxs(Le,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(pt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(gt,{className:"text-sm font-medium",children:"Overdue"}),s.jsx(Qi,{className:"h-4 w-4 text-destructive"})]}),s.jsxs(De,{children:[s.jsx("div",{className:"text-2xl font-bold text-destructive",children:_}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e(u.filter(O=>O.status==="overdue").reduce((O,P)=>O+Number(P.amount),0))," overdue"]}),s.jsx(Ze,{variant:_>0?"destructive":"secondary",className:"mt-2",children:_>0?"Action Required":"All Clear"})]})]})}),s.jsx(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:s.jsxs(Le,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(pt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(gt,{className:"text-sm font-medium",children:"Collection Rate"}),s.jsx(Al,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(De,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[B,"%"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[N," of ",u.length," paid"]}),s.jsx(DA,{value:Number(B),className:"mt-2"})]})]})}),s.jsx(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:s.jsx(Uae,{})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(Fae,{})}),s.jsx(Lae,{})]}),s.jsx(Rae,{})]})})},SQe=Hp({name:Jr().min(2,"Property name is required"),custom_id:Jr().optional(),address:Jr().optional(),owner_name:Jr().optional(),mobile:Jr().optional(),email:Jr().email("Invalid email").optional().or(FI("")),status:Jr().default("active"),notes:Jr().optional(),image_emoji:Jr().default("")}),BQe=({open:e,onOpenChange:t,onSubmit:r,initialData:n,title:a})=>{const i=Mp({resolver:Qp(SQe),defaultValues:{name:"",custom_id:"",address:"",owner_name:"",mobile:"",email:"",status:"active",notes:"",image_emoji:""}});return C.useEffect(()=>{n?i.reset({name:n.name,custom_id:n.custom_id||"",address:n.address||"",owner_name:n.owner_name||"",mobile:n.mobile||"",email:n.email||"",status:n.status,notes:n.notes||"",image_emoji:n.image_emoji||""}):i.reset({name:"",custom_id:"",address:"",owner_name:"",mobile:"",email:"",status:"active",notes:"",image_emoji:""})},[n,i,e]),s.jsx(dn,{open:e,onOpenChange:t,children:s.jsx(an,{className:"sm:max-w-[620px] p-0 overflow-hidden glass-card border-border/50 shadow-2xl",children:s.jsx(mu,{children:e&&s.jsxs(vt.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{type:"spring",duration:.5,bounce:.3},className:"flex flex-col h-full",children:[s.jsx("div",{className:"p-6 pb-0",children:s.jsxs(pn,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/20 flex items-center justify-center text-xl",children:i.watch("image_emoji")||""}),s.jsx(gn,{className:"text-2xl font-bold tracking-tight",children:a})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Fill in the details to ",n?"update":"create"," your property record."]})]})}),s.jsx($p,{...i,children:s.jsxs("form",{onSubmit:i.handleSubmit(r),className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(vr,{control:i.control,name:"name",render:({field:o})=>s.jsxs(hr,{className:"space-y-1.5",children:[s.jsxs(mr,{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(Eue,{className:"w-3.5 h-3.5 text-primary"})," Property Name"]}),s.jsx(pr,{children:s.jsx(it,{placeholder:"e.g. Riverside Apartments",...o,className:"bg-muted/30 h-11 rounded-xl"})}),s.jsx(yr,{})]})}),s.jsx(vr,{control:i.control,name:"custom_id",render:({field:o})=>s.jsxs(hr,{className:"space-y-1.5",children:[s.jsxs(mr,{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(xue,{className:"w-3.5 h-3.5 text-primary"})," Custom ID"]}),s.jsx(pr,{children:s.jsx(it,{placeholder:"e.g. PROP-001",...o,className:"bg-muted/30 h-11 rounded-xl"})}),s.jsx(yr,{})]})})]}),s.jsx(vr,{control:i.control,name:"address",render:({field:o})=>s.jsxs(hr,{className:"space-y-1.5",children:[s.jsxs(mr,{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(yd,{className:"w-3.5 h-3.5 text-primary"})," Full Address"]}),s.jsx(pr,{children:s.jsx(it,{placeholder:"123 Luxury Ave, Business District",...o,className:"bg-muted/30 h-11 rounded-xl"})}),s.jsx(yr,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 rounded-2xl bg-muted/20 border border-border/50",children:[s.jsx(vr,{control:i.control,name:"owner_name",render:({field:o})=>s.jsxs(hr,{className:"space-y-1.5",children:[s.jsxs(mr,{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(Fs,{className:"w-3.5 h-3.5 text-primary"})," Owner Name"]}),s.jsx(pr,{children:s.jsx(it,{placeholder:"John Doe",...o,className:"bg-background/50 h-10 rounded-xl"})}),s.jsx(yr,{})]})}),s.jsx(vr,{control:i.control,name:"mobile",render:({field:o})=>s.jsxs(hr,{className:"space-y-1.5",children:[s.jsxs(mr,{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(Vl,{className:"w-3.5 h-3.5 text-primary"})," Mobile"]}),s.jsx(pr,{children:s.jsx(it,{placeholder:"+1 234 567 890",...o,className:"bg-background/50 h-10 rounded-xl"})}),s.jsx(yr,{})]})}),s.jsx(vr,{control:i.control,name:"email",render:({field:o})=>s.jsxs(hr,{className:"space-y-1.5",children:[s.jsxs(mr,{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(Bu,{className:"w-3.5 h-3.5 text-primary"})," Email"]}),s.jsx(pr,{children:s.jsx(it,{type:"email",placeholder:"owner@example.com",...o,className:"bg-background/50 h-10 rounded-xl"})}),s.jsx(yr,{})]})}),s.jsx(vr,{control:i.control,name:"status",render:({field:o})=>s.jsxs(hr,{className:"space-y-1.5",children:[s.jsxs(mr,{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(DW,{className:"w-3.5 h-3.5 text-primary"})," Status"]}),s.jsxs(ar,{onValueChange:o.onChange,defaultValue:o.value,children:[s.jsx(pr,{children:s.jsx(ir,{className:"bg-background/50 h-10 rounded-xl",children:s.jsx(lr,{placeholder:"Select status"})})}),s.jsxs(or,{className:"glass-card",children:[s.jsx(Fe,{value:"active",children:"Active"}),s.jsx(Fe,{value:"inactive",children:"Inactive"})]})]}),s.jsx(yr,{})]})})]}),s.jsx(vr,{control:i.control,name:"notes",render:({field:o})=>s.jsxs(hr,{className:"space-y-1.5",children:[s.jsxs(mr,{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(ur,{className:"w-3.5 h-3.5 text-primary"})," Internal Notes"]}),s.jsx(pr,{children:s.jsx(vu,{placeholder:"Additional details, gate codes, etc.",className:"bg-muted/30 min-h-[80px] rounded-xl resize-none",...o})}),s.jsx(yr,{})]})}),s.jsxs(Qa,{className:"pt-2 gap-3",children:[s.jsx(de,{type:"button",variant:"ghost",onClick:()=>t(!1),className:"rounded-xl h-11 flex-1",children:"Cancel"}),s.jsx(de,{type:"submit",className:"rounded-xl h-11 flex-1 glow-primary font-bold",children:n?"Update Property":"Create Property"})]})]})})]})})})})},t2=()=>{const{formatAmount:e}=ji(),[t,r]=C.useState("grid"),[n,a]=C.useState(""),{properties:i,isLoading:o,createProperty:l,updateProperty:c,deleteProperty:u}=qh(),{units:d}=Wy("all"),[A,h]=C.useState(!1),[m,y]=C.useState(),g=C.useMemo(()=>{const B={};return i?.forEach(T=>{const O=d?.filter(M=>M.property_id===T.id)||[],P=O.filter(M=>M.availability==="occupied");B[T.id]={total:O.length,occupied:P.length,vacant:O.length-P.length,revenue:P.reduce((M,I)=>M+(I.rent||0),0)}}),B},[i,d]),v=i?.filter(B=>B.name.toLowerCase().includes(n.toLowerCase())||B.address?.toLowerCase().includes(n.toLowerCase())||B.custom_id?.toLowerCase().includes(n.toLowerCase()))||[],x=B=>{l.mutate(B,{onSuccess:()=>h(!1)})},b=B=>{m&&c.mutate({id:m.id,...B},{onSuccess:()=>{h(!1),y(void 0)}})},j=B=>{confirm("Are you sure you want to delete this property? This action cannot be undone.")&&u.mutate(B)},_=B=>{y(B),h(!0)},N=()=>{y(void 0),h(!0)};return s.jsxs(An,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Properties"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:[i?.length||0," properties in your portfolio"]})]}),s.jsxs(de,{onClick:N,className:"rounded-xl gap-2 glow-primary",children:[s.jsx(mn,{className:"w-4 h-4"}),"Add Property"]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(it,{placeholder:"Search by name, address, or ID...",value:n,onChange:B=>a(B.target.value),className:"pl-9 rounded-xl bg-muted/50 border-border/50"})]}),s.jsxs("div",{className:"flex items-center bg-muted/50 rounded-xl p-1 border border-border/50",children:[s.jsx("button",{onClick:()=>r("grid"),className:st("p-2 rounded-lg transition-colors",t==="grid"?"bg-card shadow-sm text-foreground":"text-muted-foreground"),children:s.jsx(_ue,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>r("list"),className:st("p-2 rounded-lg transition-colors",t==="list"?"bg-card shadow-sm text-foreground":"text-muted-foreground"),children:s.jsx(Aj,{className:"w-4 h-4"})})]})]}),o?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(jn,{className:"w-8 h-8 animate-spin text-primary"})}):v.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] glass-card p-12 border-dashed border-2",children:[s.jsx(Xr,{className:"w-12 h-12 text-muted-foreground/50 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No properties found"}),s.jsx("p",{className:"text-muted-foreground text-center max-w-sm mb-6",children:"Start by adding your first property to manage units, tenants, and bills."}),s.jsxs(de,{onClick:N,variant:"outline",className:"rounded-xl",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Add First Property"]})]}):s.jsx(mu,{mode:"wait",children:t==="grid"?s.jsx(vt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map((B,T)=>s.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:T*.05},className:"glass-card-hover p-5 group relative",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 flex items-center justify-center text-2xl group-hover:scale-110 transition-transform",children:B.image_emoji||""}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-primary/70",children:B.custom_id||`ID: ${B.id.slice(0,8)}`}),s.jsx("h3",{className:"font-bold text-lg leading-none",children:B.name})]})]}),s.jsxs(cl,{children:[s.jsx(ul,{asChild:!0,children:s.jsx(de,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg",children:s.jsx(Th,{className:"w-4 h-4"})})}),s.jsxs(Fo,{align:"end",className:"glass-card border-border/50",children:[s.jsxs(qr,{onClick:()=>_(B),className:"gap-2",children:[s.jsx(hj,{className:"w-3.5 h-3.5"})," Edit Property"]}),s.jsxs(qr,{onClick:()=>j(B.id),className:"gap-2 text-destructive focus:text-destructive",children:[s.jsx(yi,{className:"w-3.5 h-3.5"})," Delete Property"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground mb-4",children:[s.jsx(yd,{className:"w-3.5 h-3.5 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:B.address||"No address provided"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"p-2 rounded-xl bg-primary/5 border border-primary/10",children:[s.jsx("p",{className:"text-[9px] font-bold uppercase text-muted-foreground mb-0.5",children:"Owner"}),s.jsxs("p",{className:"text-xs font-medium truncate flex items-center gap-1",children:[s.jsx(Fs,{className:"w-3 h-3 text-primary/60"}),B.owner_name||"No Owner"]})]}),s.jsxs("div",{className:"p-2 rounded-xl bg-primary/5 border border-primary/10",children:[s.jsx("p",{className:"text-[9px] font-bold uppercase text-muted-foreground mb-0.5",children:"Status"}),s.jsx("span",{className:st("text-[10px] font-bold px-1.5 py-0.5 rounded-md uppercase",B.status==="active"?"bg-success/10 text-success":"bg-warning/10 text-warning"),children:B.status})]})]}),s.jsxs("div",{className:"space-y-3 pt-4 border-t border-border/50",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1.5 font-medium",children:[s.jsx(Xr,{className:"w-3.5 h-3.5 text-primary"}),s.jsxs("span",{children:[g[B.id]?.total||0," Total Units"]})]}),s.jsxs("span",{className:"text-xs font-semibold text-primary",children:[e(g[B.id]?.revenue||0),"/mo"]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-success"}),g[B.id]?.occupied||0," Occupied"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),g[B.id]?.vacant||0," Vacant"]})]})]})]},B.id))},"grid"):s.jsx(vt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"glass-card overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border/50 bg-muted/20",children:[s.jsx("th",{className:"text-left text-[10px] font-bold uppercase tracking-widest text-muted-foreground px-6 py-4",children:"Property"}),s.jsx("th",{className:"text-left text-[10px] font-bold uppercase tracking-widest text-muted-foreground px-6 py-4",children:"Location"}),s.jsx("th",{className:"text-left text-[10px] font-bold uppercase tracking-widest text-muted-foreground px-6 py-4",children:"Owner"}),s.jsx("th",{className:"text-left text-[10px] font-bold uppercase tracking-widest text-muted-foreground px-6 py-4",children:"Units"}),s.jsx("th",{className:"text-left text-[10px] font-bold uppercase tracking-widest text-muted-foreground px-6 py-4",children:"Status"}),s.jsx("th",{className:"text-right text-[10px] font-bold uppercase tracking-widest text-muted-foreground px-6 py-4",children:"Actions"})]})}),s.jsx("tbody",{children:v.map(B=>s.jsxs("tr",{className:"border-b border-border/30 hover:bg-muted/30 transition-colors group",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xl",children:B.image_emoji||""}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold",children:B.name}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:B.custom_id||B.id.slice(0,8)})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[s.jsx(yd,{className:"w-3 h-3"}),B.address||"No address"]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-xs font-medium",children:B.owner_name||"No Owner"}),s.jsxs("div",{className:"flex items-center gap-2",children:[B.mobile&&s.jsx(Vl,{className:"w-2.5 h-2.5 text-muted-foreground"}),B.email&&s.jsx(Bu,{className:"w-2.5 h-2.5 text-muted-foreground"})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("span",{className:"text-xs font-bold",children:[g[B.id]?.total||0," Units"]}),s.jsx("div",{className:"w-20 bg-muted rounded-full h-1",children:s.jsx("div",{className:"bg-primary h-1 rounded-full",style:{width:`${(g[B.id]?.occupied||0)/(g[B.id]?.total||1)*100}%`}})})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:st("text-[10px] font-bold px-2 py-0.5 rounded-full uppercase",B.status==="active"?"bg-success/10 text-success":"bg-warning/10 text-warning"),children:B.status})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx(de,{onClick:()=>_(B),variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-primary/10 hover:text-primary",children:s.jsx(hj,{className:"w-3.5 h-3.5"})}),s.jsx(de,{onClick:()=>j(B.id),variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-destructive/10 hover:text-destructive",children:s.jsx(yi,{className:"w-3.5 h-3.5"})})]})})]},B.id))})]})})},"list")})]}),s.jsx(BQe,{open:A,onOpenChange:h,onSubmit:m?b:x,initialData:m,title:m?"Edit Property":"Add New Property"})]})};var Pr=function(){return Pr=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Pr.apply(this,arguments)};function EQe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Dae(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Pb(e){return e.mode==="multiple"}function Tb(e){return e.mode==="range"}function VC(e){return e.mode==="single"}var kQe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function PQe(e,t){return Rn(e,"LLLL y",t)}function TQe(e,t){return Rn(e,"d",t)}function OQe(e,t){return Rn(e,"LLLL",t)}function IQe(e){return"".concat(e)}function FQe(e,t){return Rn(e,"cccccc",t)}function RQe(e,t){return Rn(e,"yyyy",t)}var LQe=Object.freeze({__proto__:null,formatCaption:PQe,formatDay:TQe,formatMonthCaption:OQe,formatWeekNumber:IQe,formatWeekdayName:FQe,formatYearCaption:RQe}),UQe=function(e,t,r){return Rn(e,"do MMMM (EEEE)",r)},DQe=function(){return"Month: "},MQe=function(){return"Go to next month"},QQe=function(){return"Go to previous month"},HQe=function(e,t){return Rn(e,"cccc",t)},$Qe=function(e){return"Week n. ".concat(e)},VQe=function(){return"Year: "},qQe=Object.freeze({__proto__:null,labelDay:UQe,labelMonthDropdown:DQe,labelNext:MQe,labelPrevious:QQe,labelWeekNumber:$Qe,labelWeekday:HQe,labelYearDropdown:VQe});function KQe(){var e="buttons",t=kQe,r=K3,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:LQe,labels:qQe,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function zQe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=dl(n):t&&(i=new Date(t,0,1)),a?o=VN(a):r&&(o=new Date(r,11,31)),{fromDate:i?Uv(i):void 0,toDate:o?Uv(o):void 0}}var Mae=C.createContext(void 0);function WQe(e){var t,r=e.initialProps,n=KQe(),a=zQe(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(VC(r)||Pb(r)||Tb(r))&&(c=r.onSelect);var u=Pr(Pr(Pr({},n),r),{captionLayout:l,classNames:Pr(Pr({},n.classNames),r.classNames),components:Pr({},r.components),formatters:Pr(Pr({},n.formatters),r.formatters),fromDate:i,labels:Pr(Pr({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Pr(Pr({},n.modifiers),r.modifiers),modifiersClassNames:Pr(Pr({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Pr(Pr({},n.styles),r.styles),toDate:o});return s.jsx(Mae.Provider,{value:u,children:e.children})}function xs(){var e=C.useContext(Mae);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Qae(e){var t=xs(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function GQe(e){return s.jsx("svg",Pr({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Hae(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,u=xs(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:GQe;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function YQe(e){var t,r=xs(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var A=[];if(Uje(n,a))for(var h=dl(n),m=n.getMonth();m<=a.getMonth();m++)A.push(LB(h,m));else for(var h=dl(new Date),m=0;m<=11;m++)A.push(LB(h,m));var y=function(v){var x=Number(v.target.value),b=LB(dl(e.displayMonth),x);e.onChange(b)},g=(t=u?.Dropdown)!==null&&t!==void 0?t:Hae;return s.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:y,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:A.map(function(v){return s.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function XQe(e){var t,r=e.displayMonth,n=xs(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,A=n.labels.labelYearDropdown,h=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var m=a.getFullYear(),y=i.getFullYear(),g=m;g<=y;g++)h.push(W6(gZ(new Date),g));var v=function(b){var j=W6(dl(r),Number(b.target.value));e.onChange(j)},x=(t=u?.Dropdown)!==null&&t!==void 0?t:Hae;return s.jsx(x,{name:"years","aria-label":A(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(b){return s.jsx("option",{value:b.getFullYear(),children:d(b,{locale:o})},b.getFullYear())})})}function JQe(e,t){var r=C.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function ZQe(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Mv(i,a)<0){var u=-1*(c-1);a=_u(i,u)}return o&&Mv(a,o)<0&&(a=o),dl(a)}function e8e(){var e=xs(),t=ZQe(e),r=JQe(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=dl(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function t8e(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=dl(e),i=dl(_u(a,n)),o=Mv(i,a),l=[],c=0;c<o;c++){var u=_u(a,c);l.push(u)}return r&&(l=l.reverse()),l}function r8e(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=dl(e);if(!r)return _u(l,o);var c=Mv(r,e);if(!(c<i))return _u(l,o)}}function n8e(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=dl(e);if(!r)return _u(l,-o);var c=Mv(l,r);if(!(c<=0))return _u(l,-o)}}var $ae=C.createContext(void 0);function s8e(e){var t=xs(),r=e8e(),n=r[0],a=r[1],i=t8e(n,t),o=r8e(n,t),l=n8e(n,t),c=function(A){return i.some(function(h){return z3(A,h)})},u=function(A,h){c(A)||(h&&_Z(A,h)?a(_u(A,1+t.numberOfMonths*-1)):a(A))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx($ae.Provider,{value:d,children:e.children})}function Ob(){var e=C.useContext($ae);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Eq(e){var t,r=xs(),n=r.classNames,a=r.styles,i=r.components,o=Ob().goToMonth,l=function(d){o(_u(d,e.displayIndex?-e.displayIndex:0))},c=(t=i?.CaptionLabel)!==null&&t!==void 0?t:Qae,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:u}),s.jsx(YQe,{onChange:l,displayMonth:e.displayMonth}),s.jsx(XQe,{onChange:l,displayMonth:e.displayMonth})]})}function a8e(e){return s.jsx("svg",Pr({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function i8e(e){return s.jsx("svg",Pr({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var J_=C.forwardRef(function(e,t){var r=xs(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=Pr(Pr({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Pr({},e,{ref:t,type:"button",className:o,style:l}))});function o8e(e){var t,r,n=xs(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,A=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var h=u(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),y=d(e.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),v=(t=A?.IconRight)!==null&&t!==void 0?t:i8e,x=(r=A?.IconLeft)!==null&&r!==void 0?r:a8e;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(J_,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(v,{className:o.nav_icon,style:l.nav_icon}):s.jsx(x,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(J_,{name:"next-month","aria-label":y,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(x,{className:o.nav_icon,style:l.nav_icon}):s.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function kq(e){var t=xs().numberOfMonths,r=Ob(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(y){return z3(e.displayMonth,y)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),A=t>1&&(u||!c),h=function(){n&&i(n)},m=function(){a&&i(a)};return s.jsx(o8e,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:A,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function l8e(e){var t,r=xs(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l?.CaptionLabel)!==null&&t!==void 0?t:Qae,u;return a?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(Eq,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(Eq,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(kq,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(kq,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:u})}function c8e(e){var t=xs(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function u8e(e,t,r){for(var n=r?cp(new Date):bd(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Bo(n,i);a.push(o)}return a}function d8e(){var e=xs(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=u8e(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,A){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},A)})]})}function A8e(){var e,t=xs(),r=t.classNames,n=t.styles,a=t.components,i=(e=a?.HeadRow)!==null&&e!==void 0?e:d8e;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function f8e(e){var t=xs(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var xL=C.createContext(void 0);function h8e(e){if(!Pb(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(xL.Provider,{value:t,children:e.children})}return s.jsx(m8e,{initialProps:e.initialProps,children:e.children})}function m8e(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(u,d,A){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,A);var y=!!(d.selected&&a&&n?.length===a);if(!y){var g=!!(!d.selected&&i&&n?.length===i);if(!g){var v=n?Dae([],n):[];if(d.selected){var x=v.findIndex(function(b){return al(u,b)});v.splice(x,1)}else v.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,v,u,d,A)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,A=n.some(function(h){return al(h,u)});return!!(d&&!A)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(xL.Provider,{value:c,children:r})}function wL(){var e=C.useContext(xL);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function p8e(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?al(a,e)&&al(n,e)?void 0:al(a,e)?{from:a,to:void 0}:al(n,e)?void 0:JT(n,e)?{from:e,to:a}:{from:n,to:e}:a?JT(e,a)?{from:a,to:e}:{from:e,to:a}:n?_Z(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var bL=C.createContext(void 0);function g8e(e){if(!Tb(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(bL.Provider,{value:t,children:e.children})}return s.jsx(v8e,{initialProps:e.initialProps,children:e.children})}function v8e(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,c=t.max,u=function(m,y,g){var v,x;(v=t.onDayClick)===null||v===void 0||v.call(t,m,y,g);var b=p8e(m,n);(x=t.onSelect)===null||x===void 0||x.call(t,b,m,y,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],al(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:RB(i,l-1),before:Bo(i,l-1)}),i&&o&&d.disabled.push({after:i,before:Bo(i,l-1)}),!i&&o&&d.disabled.push({after:RB(o,l-1),before:Bo(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:Bo(i,-c+1)}),d.disabled.push({after:Bo(i,c-1)})),i&&o){var A=ld(o,i)+1,h=c-A;d.disabled.push({before:RB(i,h)}),d.disabled.push({after:Bo(o,h)})}!i&&o&&(d.disabled.push({before:Bo(o,-c+1)}),d.disabled.push({after:Bo(o,c-1)}))}return s.jsx(bL.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function jL(){var e=C.useContext(bL);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function tj(e){return Array.isArray(e)?Dae([],e):e!==void 0?[e]:[]}function y8e(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=tj(a)}),t}var Cu;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Cu||(Cu={}));var x8e=Cu.Selected,vA=Cu.Disabled,w8e=Cu.Hidden,b8e=Cu.Today,Kk=Cu.RangeEnd,zk=Cu.RangeMiddle,Wk=Cu.RangeStart,j8e=Cu.Outside;function _8e(e,t,r){var n,a=(n={},n[x8e]=tj(e.selected),n[vA]=tj(e.disabled),n[w8e]=tj(e.hidden),n[b8e]=[e.today],n[Kk]=[],n[zk]=[],n[Wk]=[],n[j8e]=[],n);return e.fromDate&&a[vA].push({before:e.fromDate}),e.toDate&&a[vA].push({after:e.toDate}),Pb(e)?a[vA]=a[vA].concat(t.modifiers[vA]):Tb(e)&&(a[vA]=a[vA].concat(r.modifiers[vA]),a[Wk]=r.modifiers[Wk],a[zk]=r.modifiers[zk],a[Kk]=r.modifiers[Kk]),a}var Vae=C.createContext(void 0);function N8e(e){var t=xs(),r=wL(),n=jL(),a=_8e(t,r,n),i=y8e(t.modifiers),o=Pr(Pr({},a),i);return s.jsx(Vae.Provider,{value:o,children:e.children})}function qae(){var e=C.useContext(Vae);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function C8e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function S8e(e){return!!(e&&typeof e=="object"&&"from"in e)}function B8e(e){return!!(e&&typeof e=="object"&&"after"in e)}function E8e(e){return!!(e&&typeof e=="object"&&"before"in e)}function k8e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function P8e(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=ld(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=ld(e,n)>=0&&ld(a,e)>=0;return o}return a?al(a,e):n?al(n,e):!1}function T8e(e){return V3(e)}function O8e(e){return Array.isArray(e)&&e.every(V3)}function I8e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(T8e(r))return al(e,r);if(O8e(r))return r.includes(e);if(S8e(r))return P8e(e,r);if(k8e(r))return r.dayOfWeek.includes(e.getDay());if(C8e(r)){var n=ld(r.before,e),a=ld(r.after,e),i=n>0,o=a<0,l=JT(r.before,r.after);return l?o&&i:i||o}return B8e(r)?ld(e,r.after)>0:E8e(r)?ld(r.before,e)>0:typeof r=="function"?r(e):!1})}function _L(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return I8e(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!z3(e,r)&&(a.outside=!0),a}function F8e(e,t){for(var r=dl(e[0]),n=VN(e[e.length-1]),a,i,o=r;o<=n;){var l=_L(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Bo(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Bo(o,1)}return i||a}var R8e=365;function Kae(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,A=a.locale,h={day:Bo,week:XT,month:_u,year:C2e,startOfWeek:function(v){return a.ISOWeek?cp(v):bd(v,{locale:A,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?vZ(v):q3(v,{locale:A,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=S2e([u,m]):n==="after"&&d&&(m=B2e([d,m]));var y=!0;if(i){var g=_L(m,i);y=!g.disabled&&!g.hidden}return y?m:l.count>R8e?l.lastFocused:Kae(m,{moveBy:r,direction:n,context:a,modifiers:i,retry:Pr(Pr({},l),{count:l.count+1})})}var zae=C.createContext(void 0);function L8e(e){var t=Ob(),r=qae(),n=C.useState(),a=n[0],i=n[1],o=C.useState(),l=o[0],c=o[1],u=F8e(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,A=function(){c(a),i(void 0)},h=function(v){i(v)},m=xs(),y=function(v,x){if(a){var b=Kae(a,{moveBy:v,direction:x,context:m,modifiers:r});al(a,b)||(t.goToDate(b,a),h(b))}},g={focusedDay:a,focusTarget:d,blur:A,focus:h,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return s.jsx(zae.Provider,{value:g,children:e.children})}function NL(){var e=C.useContext(zae);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function U8e(e,t){var r=qae(),n=_L(e,r,t);return n}var CL=C.createContext(void 0);function D8e(e){if(!VC(e.initialProps)){var t={selected:void 0};return s.jsx(CL.Provider,{value:t,children:e.children})}return s.jsx(M8e,{initialProps:e.initialProps,children:e.children})}function M8e(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx(CL.Provider,{value:a,children:r})}function Wae(){var e=C.useContext(CL);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Q8e(e,t){var r=xs(),n=Wae(),a=wL(),i=jL(),o=NL(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,A=o.blur,h=o.focus,m=o.focusMonthBefore,y=o.focusMonthAfter,g=o.focusYearBefore,v=o.focusYearAfter,x=o.focusStartOfWeek,b=o.focusEndOfWeek,j=function(K){var W,z,te,G;VC(r)?(W=n.onDayClick)===null||W===void 0||W.call(n,e,t,K):Pb(r)?(z=a.onDayClick)===null||z===void 0||z.call(a,e,t,K):Tb(r)?(te=i.onDayClick)===null||te===void 0||te.call(i,e,t,K):(G=r.onDayClick)===null||G===void 0||G.call(r,e,t,K)},_=function(K){var W;h(e),(W=r.onDayFocus)===null||W===void 0||W.call(r,e,t,K)},N=function(K){var W;A(),(W=r.onDayBlur)===null||W===void 0||W.call(r,e,t,K)},B=function(K){var W;(W=r.onDayMouseEnter)===null||W===void 0||W.call(r,e,t,K)},T=function(K){var W;(W=r.onDayMouseLeave)===null||W===void 0||W.call(r,e,t,K)},O=function(K){var W;(W=r.onDayPointerEnter)===null||W===void 0||W.call(r,e,t,K)},P=function(K){var W;(W=r.onDayPointerLeave)===null||W===void 0||W.call(r,e,t,K)},M=function(K){var W;(W=r.onDayTouchCancel)===null||W===void 0||W.call(r,e,t,K)},I=function(K){var W;(W=r.onDayTouchEnd)===null||W===void 0||W.call(r,e,t,K)},D=function(K){var W;(W=r.onDayTouchMove)===null||W===void 0||W.call(r,e,t,K)},$=function(K){var W;(W=r.onDayTouchStart)===null||W===void 0||W.call(r,e,t,K)},F=function(K){var W;(W=r.onDayKeyUp)===null||W===void 0||W.call(r,e,t,K)},V=function(K){var W;switch(K.key){case"ArrowLeft":K.preventDefault(),K.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":K.preventDefault(),K.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":K.preventDefault(),K.stopPropagation(),u();break;case"ArrowUp":K.preventDefault(),K.stopPropagation(),d();break;case"PageUp":K.preventDefault(),K.stopPropagation(),K.shiftKey?g():m();break;case"PageDown":K.preventDefault(),K.stopPropagation(),K.shiftKey?v():y();break;case"Home":K.preventDefault(),K.stopPropagation(),x();break;case"End":K.preventDefault(),K.stopPropagation(),b();break}(W=r.onDayKeyDown)===null||W===void 0||W.call(r,e,t,K)},X={onClick:j,onFocus:_,onBlur:N,onKeyDown:V,onKeyUp:F,onMouseEnter:B,onMouseLeave:T,onPointerEnter:O,onPointerLeave:P,onTouchCancel:M,onTouchEnd:I,onTouchMove:D,onTouchStart:$};return X}function H8e(){var e=xs(),t=Wae(),r=wL(),n=jL(),a=VC(e)?t.selected:Pb(e)?r.selected:Tb(e)?n.selected:void 0;return a}function $8e(e){return Object.values(Cu).includes(e)}function V8e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if($8e(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function q8e(e,t){var r=Pr({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Pr(Pr({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function K8e(e,t,r){var n,a,i,o=xs(),l=NL(),c=U8e(e,t),u=Q8e(e,c),d=H8e(),A=!!(o.onDayClick||o.mode!=="default");C.useEffect(function(){var B;c.outside||l.focusedDay&&A&&al(l.focusedDay,e)&&((B=r.current)===null||B===void 0||B.focus())},[l.focusedDay,e,r,A,c.outside]);var h=V8e(o,c).join(" "),m=q8e(o,c),y=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:f8e,v=s.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),x={style:m,className:h,children:v,role:"gridcell"},b=l.focusTarget&&al(l.focusTarget,e)&&!c.outside,j=l.focusedDay&&al(l.focusedDay,e),_=Pr(Pr(Pr({},x),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=j||b?0:-1,n)),u),N={isButton:A,isHidden:y,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:x};return N}function z8e(e){var t=C.useRef(null),r=K8e(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(J_,Pr({name:"day",ref:t},r.buttonProps)):s.jsx("div",Pr({},r.divProps))}function W8e(e){var t=e.number,r=e.dates,n=xs(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var A=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return s.jsx(J_,{name:"week-number","aria-label":A,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function G8e(e){var t,r,n=xs(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l?.Day)!==null&&t!==void 0?t:z8e,u=(r=l?.WeekNumber)!==null&&r!==void 0?r:W8e,d;return o&&(d=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(A){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:A})},Fje(A))})]})}function Pq(e,t,r){for(var n=r?.ISOWeek?vZ(t):q3(t,r),a=r?.ISOWeek?cp(e):bd(e,r),i=ld(n,a),o=[],l=0;l<=i;l++)o.push(Bo(a,l));var c=o.reduce(function(u,d){var A=r?.ISOWeek?yZ(d):wZ(d,r),h=u.find(function(m){return m.weekNumber===A});return h?(h.dates.push(d),u):(u.push({weekNumber:A,dates:[d]}),u)},[]);return c}function Y8e(e,t){var r=Pq(dl(e),VN(e),t);if(t?.useFixedWeeks){var n=Lje(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=XT(i,6-n),l=Pq(XT(i,1),o,t);r.push.apply(r,l)}}return r}function X8e(e){var t,r,n,a=xs(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,A=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,y=Y8e(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:A,firstWeekContainsDate:h}),g=(t=d?.Head)!==null&&t!==void 0?t:A8e,v=(r=d?.Row)!==null&&r!==void 0?r:G8e,x=(n=d?.Footer)!==null&&n!==void 0?n:c8e;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(g,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:y.map(function(b){return s.jsx(v,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),s.jsx(x,{displayMonth:e.displayMonth})]})}function J8e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Z8e=J8e()?C.useLayoutEffect:C.useEffect,Gk=!1,eHe=0;function Tq(){return"react-day-picker-".concat(++eHe)}function tHe(e){var t,r=e??(Gk?Tq():null),n=C.useState(r),a=n[0],i=n[1];return Z8e(function(){a===null&&i(Tq())},[]),C.useEffect(function(){Gk===!1&&(Gk=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function rHe(e){var t,r,n=xs(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,c=Ob().displayMonths,u=tHe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,A=[i.month],h=o.month,m=e.displayIndex===0,y=e.displayIndex===c.length-1,g=!m&&!y;a==="rtl"&&(t=[m,y],y=t[0],m=t[1]),m&&(A.push(i.caption_start),h=Pr(Pr({},h),o.caption_start)),y&&(A.push(i.caption_end),h=Pr(Pr({},h),o.caption_end)),g&&(A.push(i.caption_between),h=Pr(Pr({},h),o.caption_between));var v=(r=l?.Caption)!==null&&r!==void 0?r:l8e;return s.jsxs("div",{className:A.join(" "),style:h,children:[s.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(X8e,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function nHe(e){var t=xs(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function sHe(e){var t,r,n=e.initialProps,a=xs(),i=NL(),o=Ob(),l=C.useState(!1),c=l[0],u=l[1];C.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var A=Pr(Pr({},a.styles.root),a.style),h=Object.keys(n).filter(function(y){return y.startsWith("data-")}).reduce(function(y,g){var v;return Pr(Pr({},y),(v={},v[g]=n[g],v))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:nHe;return s.jsx("div",Pr({className:d.join(" "),style:A,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:s.jsx(m,{children:o.displayMonths.map(function(y,g){return s.jsx(rHe,{displayIndex:g,displayMonth:y},g)})})}))}function aHe(e){var t=e.children,r=EQe(e,["children"]);return s.jsx(WQe,{initialProps:r,children:s.jsx(s8e,{children:s.jsx(D8e,{initialProps:r,children:s.jsx(h8e,{initialProps:r,children:s.jsx(g8e,{initialProps:r,children:s.jsx(N8e,{children:s.jsx(L8e,{children:t})})})})})})})}function iHe(e){return s.jsx(aHe,Pr({},e,{children:s.jsx(sHe,{initialProps:e})}))}function Bh({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(iHe,{showOutsideDays:r,className:st("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:st(sw({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:st(sw({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(Yw,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(Pp,{className:"h-4 w-4"})},...n})}Bh.displayName="Calendar";var qC="Popover",[Gae]=$i(qC,[Oh]),Ib=Oh(),[oHe,Kh]=Gae(qC),Yae=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Ib(t),c=C.useRef(null),[u,d]=C.useState(!1),[A,h]=xu({prop:n,defaultProp:a??!1,onChange:i,caller:qC});return s.jsx(bN,{...l,children:s.jsx(oHe,{scope:t,contentId:vi(),triggerRef:c,open:A,onOpenChange:h,onOpenToggle:C.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:C.useCallback(()=>d(!0),[]),onCustomAnchorRemove:C.useCallback(()=>d(!1),[]),modal:o,children:r})})};Yae.displayName=qC;var Xae="PopoverAnchor",lHe=C.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Kh(Xae,r),i=Ib(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return C.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(eb,{...i,...n,ref:t})});lHe.displayName=Xae;var Jae="PopoverTrigger",Zae=C.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Kh(Jae,r),i=Ib(r),o=Qr(t,a.triggerRef),l=s.jsx(kt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":sie(a.open),...n,ref:o,onClick:yt(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(eb,{asChild:!0,...i,children:l})});Zae.displayName=Jae;var SL="PopoverPortal",[cHe,uHe]=Gae(SL,{forceMount:void 0}),eie=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Kh(SL,t);return s.jsx(cHe,{scope:t,forceMount:r,children:s.jsx(wi,{present:r||i.open,children:s.jsx(by,{asChild:!0,container:a,children:n})})})};eie.displayName=SL;var yy="PopoverContent",tie=C.forwardRef((e,t)=>{const r=uHe(yy,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Kh(yy,e.__scopePopover);return s.jsx(wi,{present:n||i.open,children:i.modal?s.jsx(AHe,{...a,ref:t}):s.jsx(fHe,{...a,ref:t})})});tie.displayName=yy;var dHe=gh("PopoverContent.RemoveScroll"),AHe=C.forwardRef((e,t)=>{const r=Kh(yy,e.__scopePopover),n=C.useRef(null),a=Qr(t,n),i=C.useRef(!1);return C.useEffect(()=>{const o=n.current;if(o)return DN(o)},[]),s.jsx(cb,{as:dHe,allowPinchZoom:!0,children:s.jsx(rie,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:yt(e.onCloseAutoFocus,o=>{o.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:yt(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:yt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),fHe=C.forwardRef((e,t)=>{const r=Kh(yy,e.__scopePopover),n=C.useRef(!1),a=C.useRef(!1);return s.jsx(rie,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),rie=C.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...A}=e,h=Kh(yy,r),m=Ib(r);return LN(),s.jsx(ob,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(kp,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(jN,{"data-state":sie(h.open),role:"dialog",id:h.contentId,...m,...A,ref:t,style:{...A.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),nie="PopoverClose",hHe=C.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Kh(nie,r);return s.jsx(kt.button,{type:"button",...n,ref:t,onClick:yt(e.onClick,()=>a.onOpenChange(!1))})});hHe.displayName=nie;var mHe="PopoverArrow",pHe=C.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Ib(r);return s.jsx(_N,{...a,...n,ref:t})});pHe.displayName=mHe;function sie(e){return e?"open":"closed"}var gHe=Yae,vHe=Zae,yHe=eie,aie=tie;const Np=gHe,Cp=vHe,Eh=C.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(yHe,{children:s.jsx(aie,{ref:a,align:t,sideOffset:r,className:st("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Eh.displayName=aie.displayName;const xHe=Hp({name:Jr().min(1,"Name is required"),email:Jr().optional(),phone:Jr().optional(),password:Jr().optional(),lease_start:jp().optional(),lease_end:jp().optional(),status:Z2(["active","inactive","expiring"]).default("active"),property_id:Jr().optional(),unit_id:Jr().optional(),rent_amount:II().optional(),security_deposit:II().optional(),create_user_account:D6e().default(!1)}).refine(e=>!(e.create_user_account&&(!e.email||!e.email.includes("@"))),{message:"Valid email is required when creating a user account",path:["email"]}).refine(e=>!(e.create_user_account&&(!e.password||e.password.length<6)),{message:"Password (min 6 chars) is required for user account",path:["password"]}).refine(e=>!(e.unit_id&&!e.property_id),{message:"Property must be selected when assigning a unit",path:["property_id"]}).refine(e=>!(e.lease_start&&e.lease_end&&e.lease_end<=e.lease_start),{message:"Lease end date must be after start date",path:["lease_end"]}),wHe=({open:e,onOpenChange:t,tenant:r,onSubmit:n})=>{const{formatAmount:a}=ji(),[i,o]=C.useState(!1),{properties:l}=qh(),{units:c}=Wy(),u=Mp({resolver:Qp(xHe),defaultValues:{name:"",email:"",phone:"",password:"",status:"active",create_user_account:!1}}),d=u.watch("property_id"),A=u.watch("unit_id"),h=c?.filter(v=>{const x=v.property_id===d,b=v.availability==="available"||v.availability==="vacant";return x&&(b||v.id===A)})||[],m=c?.find(v=>v.id===A),y=[{value:"active",label:"Active",icon:"",color:"text-green-600"},{value:"inactive",label:"Inactive",icon:"",color:"text-yellow-600"},{value:"expiring",label:"Expiring",icon:"",color:"text-orange-600"}];C.useEffect(()=>{r?u.reset({name:r.name||"",email:r.email||"",phone:r.phone||"",lease_start:r.lease_start?new Date(r.lease_start):void 0,lease_end:r.lease_end?new Date(r.lease_end):void 0,status:r.status||"active",property_id:r.property_id||"",unit_id:r.unit_id||"",rent_amount:r.rent_amount||void 0,security_deposit:r.security_deposit||void 0,create_user_account:!1}):u.reset({name:"",email:"",phone:"",password:"",status:"active",create_user_account:!1})},[r,u]);const g=async v=>{o(!0);try{await n(v),t(!1),u.reset()}catch(x){console.error("Error submitting tenant:",x)}finally{o(!1)}};return s.jsx(dn,{open:e,onOpenChange:t,children:s.jsxs(an,{className:"sm:max-w-[425px]",children:[s.jsxs(pn,{children:[s.jsx(gn,{children:r?"Edit Tenant":"Add New Tenant"}),s.jsx(_n,{children:r?"Update the tenant information below.":"Fill in the tenant details to add a new tenant."})]}),s.jsx($p,{...u,children:s.jsxs("form",{onSubmit:u.handleSubmit(g),className:"space-y-4",children:[s.jsx(vr,{control:u.control,name:"name",render:({field:v})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"Name *"}),s.jsx(pr,{children:s.jsx(it,{placeholder:"John Doe",...v})}),s.jsx(yr,{})]})}),s.jsx(vr,{control:u.control,name:"phone",render:({field:v})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"Phone"}),s.jsx(pr,{children:s.jsx(it,{placeholder:"(555) 123-4567",...v})}),s.jsx(yr,{})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(vr,{control:u.control,name:"create_user_account",render:({field:v})=>s.jsxs(hr,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(mr,{className:"text-base",children:"Create User Account"}),s.jsx(ej,{children:"Create a login account for this tenant to access their dashboard"})]}),s.jsx(pr,{children:s.jsx("input",{type:"checkbox",checked:v.value,onChange:v.onChange,className:"h-4 w-4"})})]})}),u.watch("create_user_account")&&s.jsxs(s.Fragment,{children:[s.jsx(vr,{control:u.control,name:"email",render:({field:v})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"Email *"}),s.jsx(pr,{children:s.jsx(it,{type:"email",placeholder:"tenant@example.com",...v})}),s.jsx(yr,{})]})}),s.jsx(vr,{control:u.control,name:"password",render:({field:v})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"Password *"}),s.jsx(pr,{children:s.jsx(it,{type:"password",placeholder:"Enter password for tenant account",...v})}),s.jsx(yr,{})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(vr,{control:u.control,name:"property_id",render:({field:v})=>s.jsxs(hr,{children:[s.jsxs(mr,{className:"flex items-center gap-2",children:[s.jsx(Xr,{className:"w-4 h-4"}),"Property *"]}),s.jsxs(ar,{onValueChange:x=>{v.onChange(x),u.setValue("unit_id","")},value:v.value,children:[s.jsx(pr,{children:s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select property first"})})}),s.jsx(or,{children:l?.map(x=>s.jsx(Fe,{value:x.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xr,{className:"w-4 h-4"}),x.name]})},x.id))})]}),s.jsx(yr,{})]})}),s.jsx(vr,{control:u.control,name:"unit_id",render:({field:v})=>s.jsxs(hr,{children:[s.jsxs(mr,{className:"flex items-center gap-2",children:[s.jsx(Xr,{className:"w-4 h-4"}),"Unit ",d?"*":"(select property first)"]}),s.jsxs(ar,{onValueChange:v.onChange,value:v.value,disabled:!d,children:[s.jsx(pr,{children:s.jsx(ir,{children:s.jsx(lr,{placeholder:d?"Select unit":"Select property first"})})}),s.jsx(or,{children:h.length===0&&d?s.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"No available units for this property"}):h?.map(x=>{const b=x.availability==="occupied";return s.jsx(Fe,{value:x.id,disabled:b&&x.id!==A,children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xr,{className:"w-4 h-4"}),s.jsx("span",{children:x.unit_number}),b&&s.jsx(Ze,{variant:"destructive",className:"text-xs",children:"Occupied"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[a(x.rent),"/mo"]}),x.availability==="available"&&s.jsx(Ze,{variant:"secondary",className:"text-xs",children:"Available"})]})]})},x.id)})})]}),s.jsx(yr,{})]})})]}),u.watch("unit_id")&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(vr,{control:u.control,name:"rent_amount",render:({field:v})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"Rent Amount"}),s.jsx(pr,{children:s.jsx(it,{type:"number",placeholder:"1200",...v,onChange:x=>v.onChange(parseFloat(x.target.value)||void 0)})}),s.jsx(ej,{children:m&&`Default: ${a(m.rent)}/mo`}),s.jsx(yr,{})]})}),s.jsx(vr,{control:u.control,name:"security_deposit",render:({field:v})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"Security Deposit"}),s.jsx(pr,{children:s.jsx(it,{type:"number",placeholder:"2400",...v,onChange:x=>v.onChange(parseFloat(x.target.value)||void 0)})}),s.jsx(ej,{children:"Typically 2x rent amount"}),s.jsx(yr,{})]})})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(vr,{control:u.control,name:"lease_start",render:({field:v})=>s.jsxs(hr,{className:"flex flex-col",children:[s.jsx(mr,{children:"Lease Start"}),s.jsxs(Np,{children:[s.jsx(Cp,{asChild:!0,children:s.jsx(pr,{children:s.jsxs(de,{variant:"outline",className:st("w-full pl-3 text-left font-normal",!v.value&&"text-muted-foreground"),children:[v.value?Rn(v.value,"PPP"):s.jsx("span",{children:"Pick a date"}),s.jsx(Jn,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(Eh,{className:"w-auto p-0",align:"start",children:s.jsx(Bh,{mode:"single",selected:v.value,onSelect:v.onChange,disabled:x=>x>new Date||x<new Date("1900-01-01"),initialFocus:!0})})]}),s.jsx(yr,{})]})}),s.jsx(vr,{control:u.control,name:"lease_end",render:({field:v})=>s.jsxs(hr,{className:"flex flex-col",children:[s.jsx(mr,{children:"Lease End"}),s.jsxs(Np,{children:[s.jsx(Cp,{asChild:!0,children:s.jsx(pr,{children:s.jsxs(de,{variant:"outline",className:st("w-full pl-3 text-left font-normal",!v.value&&"text-muted-foreground"),children:[v.value?Rn(v.value,"PPP"):s.jsx("span",{children:"Pick a date"}),s.jsx(Jn,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(Eh,{className:"w-auto p-0",align:"start",children:s.jsx(Bh,{mode:"single",selected:v.value,onSelect:v.onChange,disabled:x=>x<new Date("1900-01-01"),initialFocus:!0})})]}),s.jsx(yr,{})]})})]}),s.jsx(vr,{control:u.control,name:"status",render:({field:v})=>s.jsxs(hr,{children:[s.jsxs(mr,{className:"flex items-center gap-2",children:[s.jsx(Gr,{className:"w-4 h-4"}),"Status"]}),s.jsxs(ar,{onValueChange:v.onChange,defaultValue:v.value,children:[s.jsx(pr,{children:s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select status"})})}),s.jsx(or,{children:y.map(x=>s.jsx(Fe,{value:x.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:x.icon}),s.jsx("span",{className:x.color,children:x.label})]})},x.value))})]}),s.jsx(yr,{})]})}),s.jsxs(Qa,{children:[s.jsx(de,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(de,{type:"submit",disabled:i,children:i?"Saving...":r?"Update":"Create"})]})]})})]})})},bHe=({tenant:e,onEdit:t,onViewAgreement:r,onStatusChange:n,className:a})=>{const{formatAmount:i}=ji(),o=bi(),l=()=>{o(`/admin/tenants/${e.id}`)},c=h=>{switch(h){case"active":return"bg-green-100 text-green-800 border-green-200";case"inactive":return"bg-gray-100 text-gray-800 border-gray-200";case"expiring":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},u=h=>{switch(h){case"active":return s.jsx(Gr,{className:"w-4 h-4"});case"inactive":return s.jsx(ca,{className:"w-4 h-4"});case"expiring":return s.jsx(Qi,{className:"w-4 h-4"});default:return s.jsx(Fs,{className:"w-4 h-4"})}},d=()=>{if(!e.lease_end)return!1;const h=Math.ceil((new Date(e.lease_end).getTime()-new Date().getTime())/(1e3*60*60*24));return h<=30&&h>0},A=()=>e.lease_end?Math.ceil((new Date(e.lease_end).getTime()-new Date().getTime())/(1e3*60*60*24)):null;return s.jsx(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-2},className:st("group",a),children:s.jsxs(Le,{className:"hover:shadow-lg transition-all duration-200 border-l-4 border-l-primary cursor-pointer",onClick:l,children:[s.jsx(pt,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Fs,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(gt,{className:"text-lg font-semibold",children:e.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsxs(Ze,{variant:"outline",className:st("text-xs flex items-center gap-1",c(e.status)),children:[u(e.status),e.status]}),d()&&s.jsxs(Ze,{variant:"destructive",className:"text-xs",children:[s.jsx(Qi,{className:"w-3 h-3 mr-1"}),A()," days left"]})]})]})]}),s.jsxs(cl,{children:[s.jsx(ul,{asChild:!0,children:s.jsx(de,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:h=>h.stopPropagation(),children:s.jsx(Th,{className:"w-4 h-4"})})}),s.jsxs(Fo,{align:"end",children:[s.jsxs(qr,{onClick:l,children:[s.jsx(si,{className:"w-4 h-4 mr-2"}),"View Details"]}),s.jsxs(qr,{onClick:()=>t?.(e),children:[s.jsx(hl,{className:"w-4 h-4 mr-2"}),"Edit Tenant"]}),e.agreement_document_url&&s.jsxs(qr,{onClick:()=>r?.(e),children:[s.jsx(ur,{className:"w-4 h-4 mr-2"}),"View Agreement"]}),s.jsxs(qr,{onClick:()=>n?.(e.id,e.status==="active"?"inactive":"active"),children:[s.jsx(ca,{className:"w-4 h-4 mr-2"}),e.status==="active"?"Deactivate":"Activate"]})]})]})]})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[e.email&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Bu,{className:"w-4 h-4"}),s.jsx("span",{children:e.email})]}),e.phone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Vl,{className:"w-4 h-4"}),s.jsx("span",{children:e.phone})]})]}),e.units&&Array.isArray(e.units)&&e.units.length>0&&s.jsxs("div",{className:"bg-muted/30 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Xr,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-medium text-sm",children:"Room Assignment"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:e.units[0].unit_number}),s.jsx(Ze,{variant:"secondary",className:"text-xs",children:e.units[0].properties?.name||"Unknown Property"})]}),e.units[0].rent&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Hi,{className:"w-3 h-3"}),s.jsxs("span",{children:[i(e.units[0].rent),"/month"]})]})]})]}),e.rent_amount&&s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-600 mb-1",children:[s.jsx(Hi,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Rent"})]}),s.jsx("div",{className:"text-lg font-bold text-blue-700",children:i(e.rent_amount)})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-600 mb-1",children:[s.jsx(jue,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Deposit"})]}),s.jsx("div",{className:"text-lg font-bold text-green-700",children:i(e.security_deposit||0)})]})]}),(e.lease_start||e.lease_end)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Jn,{className:"w-4 h-4"}),s.jsxs("span",{children:[e.lease_start&&Rn(new Date(e.lease_start),"MMM d, yyyy"),e.lease_start&&e.lease_end&&" - ",e.lease_end&&Rn(new Date(e.lease_end),"MMM d, yyyy")]})]}),e.agreement_document_url&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ur,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm text-green-600",children:"Agreement uploaded"})]})]})]})})},Yk=()=>{const{formatAmount:e}=ji(),[t,r]=C.useState(""),[n,a]=C.useState(!1),[i,o]=C.useState(null),[l,c]=C.useState(!1),[u,d]=C.useState(null),[A,h]=C.useState("all"),[m,y]=C.useState(!1),{data:g=[],isLoading:v,createTenant:x,updateTenant:b,deleteTenant:j,refetch:_}=Vp(),N=g.filter(V=>{const X=V.name.toLowerCase().includes(t.toLowerCase())||V.email?.toLowerCase().includes(t.toLowerCase()),K=A==="all"||V.status===A;return X&&K}),B={all:g.length,active:g.filter(V=>V.status==="active").length,inactive:g.filter(V=>V.status==="inactive").length,expiring:g.filter(V=>V.status==="expiring").length},T=async()=>{y(!0);try{await _(),He.success("Tenant data refreshed")}catch{He.error("Failed to refresh tenant data")}finally{y(!1)}},O=()=>{const V=N.map(te=>({name:te.name,email:te.email||"",phone:te.phone||"",status:te.status,property:Array.isArray(te.units)&&te.units[0]?.properties?.name||"Not assigned",unit:te.units?.[0]?.unit_number||"Not assigned",rent:e(te.units?.[0]?.rent||0),leaseStart:te.lease_start||"",leaseEnd:te.lease_end||""})),X=[["Name","Email","Phone","Status","Property","Unit","Rent","Lease Start","Lease End"],...V.map(te=>[te.name,te.email,te.phone,te.status,te.property,te.unit,te.rent,te.leaseStart,te.leaseEnd])].map(te=>te.join(",")).join(`
`),K=new Blob([X],{type:"text/csv"}),W=URL.createObjectURL(K),z=document.createElement("a");z.href=W,z.download=`tenants_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(W),He.success("Tenants data exported")},P=V=>{o(V),a(!0)},M=V=>{V.agreement_document_url?window.open(V.agreement_document_url,"_blank"):He.error("No agreement document available")},I=async(V,X)=>{try{await b.mutateAsync({id:V,status:X}),He.success(`Tenant status updated to ${X}`)}catch(K){console.error("Status update failed:",K),He.error("Failed to update tenant status")}},D=async()=>{if(u)try{await j.mutateAsync(u.id),c(!1),d(null),He.success(`Tenant ${u.name} deleted successfully`)}catch(V){console.error("Delete failed:",V),He.error(`Failed to delete tenant: ${V instanceof Error?V.message:"Unknown error"}`)}},$=()=>{a(!1),o(null)},F=()=>{const V=g.length,X=g.filter(te=>te.status==="active").length,K=g.filter(te=>te.status==="inactive").length,W=g.filter(te=>te.units&&(Array.isArray(te.units)?te.units.length>0:!!te.units)).length,z=g.filter(te=>te.create_user_account).length;return{total:V,active:X,inactive:K,withUnits:W,withUserAccounts:z}};return s.jsx(An,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Tenants"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:[F().active," of ",F().total," active tenants"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(de,{variant:"outline",onClick:T,disabled:m,className:"gap-2",children:[m?s.jsx(Rs,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Rs,{className:"w-4 h-4 mr-2"}),m?"Refreshing...":"Refresh"]}),s.jsxs(de,{onClick:O,variant:"outline",className:"gap-2",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),s.jsxs(de,{onClick:()=>a(!0),className:"rounded-xl gap-2 glow-primary",children:[s.jsx(mn,{className:"w-4 h-4"}),"Add Tenant"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative max-w-sm",children:[s.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(it,{placeholder:"Search tenants...",value:t,onChange:V=>r(V.target.value),className:"pl-9 rounded-xl bg-muted/50 border-border/50"})]}),s.jsxs(de,{variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(Tp,{className:"w-4 h-4"}),"Filter"]})]}),s.jsx("div",{className:"flex gap-1",children:["all","active","inactive","expiring"].map(V=>s.jsxs(de,{variant:A===V?"default":"outline",size:"sm",onClick:()=>h(V),className:"gap-1",children:[V.charAt(0).toUpperCase()+V.slice(1)," (",B[V],")"]},V))})]}),v?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((V,X)=>s.jsxs("div",{className:"p-5 border border-border/50 rounded-xl",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(rl,{className:"w-10 h-10 rounded-full"}),s.jsxs("div",{children:[s.jsx(rl,{className:"h-4 w-24 mb-2"}),s.jsx(rl,{className:"h-3 w-16"})]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(rl,{className:"h-3 w-full"}),s.jsx(rl,{className:"h-3 w-3/4"})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-border/50",children:[s.jsx(rl,{className:"h-4 w-16"}),s.jsx(rl,{className:"h-6 w-16 rounded-full"})]})]},X))}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map((V,X)=>s.jsx(bHe,{tenant:V,onEdit:P,onViewAgreement:M,onStatusChange:I},V.id))}),s.jsx(wHe,{open:n,onOpenChange:$,tenant:i,onSubmit:async V=>{if(i){const{password:X,...K}=V;await b.mutateAsync({id:i.id,...K})}else{const X={name:V.name,email:V.email||null,phone:V.phone||null,lease_start:V.lease_start,lease_end:V.lease_end,status:V.status,property_id:V.property_id||null,unit_id:V.unit_id||null,rent_amount:V.rent_amount,create_user_account:V.create_user_account};V.create_user_account&&(X.password=V.password),await x.mutateAsync(X)}}}),s.jsx(LC,{open:l,onOpenChange:c,children:s.jsxs(bb,{children:[s.jsxs(jb,{children:[s.jsx(Nb,{children:"Delete Tenant"}),s.jsxs(Cb,{children:["Are you sure you want to delete ",u?.name,"? This action cannot be undone."]})]}),s.jsxs(_b,{children:[s.jsx(Bb,{children:"Cancel"}),s.jsx(Sb,{onClick:D,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})})},jHe=Hp({property_id:Jr().min(1,"Property is required"),unit_number:Jr().min(1,"Unit name/number is required"),room_type:Z2(["Single","Double","1BHK","2BHK"]),rent:M6e.number().min(0,"Rent must be positive"),availability:Z2(["vacant","occupied","maintenance"]).default("vacant"),status:Z2(["active","inactive"]).default("active")}),_He=({open:e,onOpenChange:t,onSubmit:r,initialData:n,title:a})=>{const{properties:i}=qh(),[o,l]=C.useState(""),c=Mp({resolver:Qp(jHe),defaultValues:{property_id:"",unit_number:"",room_type:"Single",rent:0,availability:"vacant",status:"active"}}),d=!c.watch("property_id");C.useEffect(()=>{n?c.reset({property_id:n.property_id,unit_number:n.unit_number,room_type:n.room_type||"Single",rent:n.rent,availability:n.availability||"vacant",status:n.status==="inactive"?"inactive":"active"}):c.reset({property_id:"",unit_number:"",room_type:"Single",rent:0,availability:"vacant",status:"active"})},[n,c,e]);const A=i?.filter(h=>h.name.toLowerCase().includes(o.toLowerCase())||h.custom_id?.toLowerCase().includes(o.toLowerCase()))||[];return s.jsx(dn,{open:e,onOpenChange:t,children:s.jsxs(an,{className:"sm:max-w-[500px] glass-card border-border/50",children:[s.jsx(pn,{children:s.jsxs(gn,{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Xr,{className:"w-5 h-5 text-primary"}),a]})}),s.jsx($p,{...c,children:s.jsxs("form",{onSubmit:c.handleSubmit(r),className:"space-y-4 py-4",children:[s.jsx(vr,{control:c.control,name:"property_id",render:({field:h})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"Select Property (Compulsory)"}),s.jsxs(ar,{onValueChange:h.onChange,value:h.value,children:[s.jsx(pr,{children:s.jsx(ir,{className:"bg-muted/30 h-12",children:s.jsx(lr,{placeholder:"Search & Select Property"})})}),s.jsxs(or,{className:"glass-card",children:[s.jsxs("div",{className:"flex items-center px-3 pb-2 border-b border-border/50",children:[s.jsx(Ba,{className:"w-4 h-4 mr-2 text-muted-foreground"}),s.jsx(it,{placeholder:"Search property ID or name...",className:"h-8 border-none bg-transparent focus-visible:ring-0 px-0",value:o,onChange:m=>l(m.target.value)})]}),s.jsx("div",{className:"max-h-[200px] overflow-y-auto mt-1",children:A.length===0?s.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:"No properties found."}):A.map(m=>s.jsx(Fe,{value:m.id,children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:m.name}),s.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-widest",children:m.custom_id||m.id.slice(0,8)})]})},m.id))})]})]}),s.jsx(yr,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(vr,{control:c.control,name:"unit_number",render:({field:h})=>s.jsxs(hr,{children:[s.jsx(mr,{className:st(d&&"text-muted-foreground/50"),children:"Unit Name / Number"}),s.jsx(pr,{children:s.jsx(it,{placeholder:"e.g. 101, A-1",...h,disabled:d,className:"bg-muted/30"})}),s.jsx(yr,{})]})}),s.jsx(vr,{control:c.control,name:"room_type",render:({field:h})=>s.jsxs(hr,{children:[s.jsx(mr,{className:st(d&&"text-muted-foreground/50"),children:"Room Type"}),s.jsxs(ar,{onValueChange:h.onChange,value:h.value,disabled:d,children:[s.jsx(pr,{children:s.jsx(ir,{className:"bg-muted/30",children:s.jsx(lr,{placeholder:"Select type"})})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"Single",children:"Single"}),s.jsx(Fe,{value:"Double",children:"Double"}),s.jsx(Fe,{value:"1BHK",children:"1BHK"}),s.jsx(Fe,{value:"2BHK",children:"2BHK"})]})]}),s.jsx(yr,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(vr,{control:c.control,name:"rent",render:({field:h})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"Monthly Rent"}),s.jsx(pr,{children:s.jsx(it,{type:"number",placeholder:"0.00",...h,disabled:d,className:"bg-muted/30"})}),s.jsx(yr,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(vr,{control:c.control,name:"availability",render:({field:h})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"Availability"}),s.jsxs(ar,{onValueChange:h.onChange,value:h.value,disabled:d,children:[s.jsx(pr,{children:s.jsx(ir,{className:"bg-muted/30",children:s.jsx(lr,{placeholder:"Select availability"})})}),s.jsxs(or,{className:"glass-card",children:[s.jsx(Fe,{value:"vacant",children:"Vacant"}),s.jsx(Fe,{value:"occupied",children:"Occupied"}),s.jsx(Fe,{value:"maintenance",children:"Maintenance"})]})]}),s.jsx(yr,{})]})}),s.jsx(vr,{control:c.control,name:"status",render:({field:h})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"Unit Status"}),s.jsxs(ar,{onValueChange:h.onChange,value:h.value,disabled:d,children:[s.jsx(pr,{children:s.jsx(ir,{className:"bg-muted/30",children:s.jsx(lr,{placeholder:"Select status"})})}),s.jsxs(or,{className:"glass-card",children:[s.jsx(Fe,{value:"active",children:"Active"}),s.jsx(Fe,{value:"inactive",children:"Inactive"})]})]}),s.jsx(yr,{})]})})]})]}),s.jsxs(Qa,{className:"pt-6",children:[s.jsx(de,{type:"button",variant:"outline",onClick:()=>t(!1),className:"rounded-xl",children:"Cancel"}),s.jsx(de,{type:"submit",disabled:d,className:"rounded-xl glow-primary",children:"Save Unit"})]})]})})]})})},NHe=Hp({tenant_id:Jr().min(1,"Tenant is required"),lease_start:jp({required_error:"Lease start date is required"}),lease_end:jp({required_error:"Lease end date is required"})}),CHe=({open:e,onOpenChange:t,onSubmit:r,isLoading:n,unitId:a,currentTenantId:i})=>{const{data:o}=Vp(),l=Mp({resolver:Qp(NHe),defaultValues:{tenant_id:i||"",lease_start:new Date,lease_end:new Date(new Date().setFullYear(new Date().getFullYear()+1))}}),c=d=>{r({...d,lease_start:d.lease_start.toISOString().split("T")[0],lease_end:d.lease_end.toISOString().split("T")[0]}),l.reset(),t(!1)},u=o?.filter(d=>!i||d.id!==i);return s.jsx(dn,{open:e,onOpenChange:t,children:s.jsxs(an,{className:"sm:max-w-[425px]",children:[s.jsxs(pn,{children:[s.jsx(gn,{children:i?"Update Tenant Assignment":"Assign Tenant"}),s.jsx(_n,{children:i?"Update the tenant assignment and lease details for this unit.":"Assign a tenant to this unit and set lease terms."})]}),s.jsx($p,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[s.jsx(vr,{control:l.control,name:"tenant_id",render:({field:d})=>s.jsxs(hr,{children:[s.jsx(mr,{children:"Tenant"}),s.jsxs(ar,{onValueChange:d.onChange,defaultValue:d.value,children:[s.jsx(pr,{children:s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select a tenant"})})}),s.jsx(or,{children:u?.map(A=>s.jsxs(Fe,{value:A.id,children:[A.name," ",A.email&&`(${A.email})`]},A.id))})]}),s.jsx(yr,{})]})}),s.jsx(vr,{control:l.control,name:"lease_start",render:({field:d})=>s.jsxs(hr,{className:"flex flex-col",children:[s.jsx(mr,{children:"Lease Start Date"}),s.jsxs(Np,{children:[s.jsx(Cp,{asChild:!0,children:s.jsx(pr,{children:s.jsxs(de,{variant:"outline",className:st("w-full pl-3 text-left font-normal",!d.value&&"text-muted-foreground"),children:[d.value?Rn(d.value,"PPP"):s.jsx("span",{children:"Pick a date"}),s.jsx(Jn,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(Eh,{className:"w-auto p-0",align:"start",children:s.jsx(Bh,{mode:"single",selected:d.value,onSelect:d.onChange,disabled:A=>A<new Date("1900-01-01"),initialFocus:!0})})]}),s.jsx(yr,{})]})}),s.jsx(vr,{control:l.control,name:"lease_end",render:({field:d})=>s.jsxs(hr,{className:"flex flex-col",children:[s.jsx(mr,{children:"Lease End Date"}),s.jsxs(Np,{children:[s.jsx(Cp,{asChild:!0,children:s.jsx(pr,{children:s.jsxs(de,{variant:"outline",className:st("w-full pl-3 text-left font-normal",!d.value&&"text-muted-foreground"),children:[d.value?Rn(d.value,"PPP"):s.jsx("span",{children:"Pick a date"}),s.jsx(Jn,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(Eh,{className:"w-auto p-0",align:"start",children:s.jsx(Bh,{mode:"single",selected:d.value,onSelect:d.onChange,disabled:A=>A<new Date("1900-01-01"),initialFocus:!0})})]}),s.jsx(yr,{})]})}),s.jsxs(Qa,{children:[s.jsx(de,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(de,{type:"submit",disabled:n,children:n?"Assigning...":i?"Update Assignment":"Assign Tenant"})]})]})})]})})},SHe=({status:e,availability:t})=>{if(e==="inactive")return s.jsxs(Ze,{variant:"outline",className:"bg-destructive/10 text-destructive border-destructive/20 gap-1",children:[s.jsx(vh,{className:"w-3 h-3"})," Inactive"]});const n={occupied:"bg-success/10 text-success border-success/20",vacant:"bg-primary/10 text-primary border-primary/20",maintenance:"bg-warning/10 text-warning border-warning/20"};return s.jsxs(Ze,{variant:"outline",className:st("gap-1",n[t.toLowerCase()]||""),children:[t==="occupied"&&s.jsx(h0,{className:"w-3 h-3"}),t.charAt(0).toUpperCase()+t.slice(1)]})},r2=()=>{const{formatAmount:e}=ji(),[t,r]=C.useState("all"),[n,a]=C.useState(""),{units:i,isLoading:o,createUnit:l,updateUnit:c,deleteUnit:u,assignTenant:d,unassignTenant:A}=Wy(t),{properties:h}=qh(),[m,y]=C.useState(!1),[g,v]=C.useState(),[x,b]=C.useState(!1),[j,_]=C.useState(),N=C.useMemo(()=>i?.filter(F=>F.unit_number.toLowerCase().includes(n.toLowerCase())||F.properties?.name.toLowerCase().includes(n.toLowerCase()))||[],[i,n]),B=F=>{l.mutate(F,{onSuccess:()=>y(!1)})},T=F=>{g&&c.mutate({id:g.id,...F},{onSuccess:()=>{y(!1),v(void 0)}})},O=F=>{confirm("Are you sure you want to delete this unit?")&&u.mutate(F)},P=F=>{_(F),b(!0)},M=F=>{F.tenant_id&&confirm("Are you sure you want to unassign this tenant?")&&A.mutate({unitId:F.id,tenantId:F.tenant_id})},I=async F=>{j&&await d.mutateAsync({unitId:j.id,tenantId:F.tenant_id,leaseStart:F.lease_start,leaseEnd:F.lease_end})},D=F=>{v(F),y(!0)},$=()=>{v(void 0),y(!0)};return s.jsxs(An,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Units Inventory"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage individual units and rooms across your portfolio."})]}),s.jsxs(de,{onClick:$,className:"glow-primary rounded-xl",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Add New Unit"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"md:col-span-2 relative",children:[s.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(it,{placeholder:"Search by unit number or property...",className:"pl-10 rounded-xl bg-muted/50 border-border/50",value:n,onChange:F=>a(F.target.value)})]}),s.jsx("div",{children:s.jsxs(ar,{value:t,onValueChange:r,children:[s.jsx(ir,{className:"rounded-xl border-border/50 bg-muted/50",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sn,{className:"w-4 h-4 text-muted-foreground"}),s.jsx(lr,{placeholder:"All Properties"})]})}),s.jsxs(or,{className:"glass-card",children:[s.jsx(Fe,{value:"all",children:"All Properties"}),h?.map(F=>s.jsx(Fe,{value:F.id,children:F.name},F.id))]})]})}),s.jsxs(de,{variant:"outline",className:"rounded-xl border-border/50",children:[s.jsx(Tp,{className:"w-4 h-4 mr-2"}),"Sort By"]})]}),o?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(jn,{className:"w-8 h-8 animate-spin text-primary"})}):N.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] glass-card p-12 border-2 border-dashed",children:[s.jsx(Xr,{className:"w-12 h-12 text-muted-foreground/30 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No units found"}),s.jsx("p",{className:"text-muted-foreground text-center max-w-sm mb-6",children:t!=="all"?"This property doesn't have any units yet.":"Start by adding your first unit to the inventory."}),s.jsxs(de,{onClick:$,variant:"outline",className:"rounded-xl",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Add First Unit"]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.jsx(mu,{mode:"popLayout",children:N.map((F,V)=>s.jsxs(vt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:V*.05},className:"glass-card-hover p-5 space-y-4 group relative",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:s.jsx(Xr,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-lg leading-none",children:["Unit ",F.unit_number]}),s.jsx(Ze,{variant:"secondary",className:"mt-1.5 text-[10px] h-4 px-1.5 bg-muted/50 text-muted-foreground uppercase font-bold tracking-tighter",children:F.room_type||"Standard"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(SHe,{availability:F.availability,status:F.status}),s.jsxs(cl,{children:[s.jsx(ul,{asChild:!0,children:s.jsx(de,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Th,{className:"w-4 h-4"})})}),s.jsxs(Fo,{align:"end",className:"glass-card border-border/50",children:[s.jsxs(qr,{onClick:()=>D(F),className:"gap-2",children:[s.jsx(hj,{className:"w-3.5 h-3.5"})," Edit Unit"]}),F.availability==="vacant"?s.jsxs(qr,{onClick:()=>P(F),className:"gap-2",children:[s.jsx(wu,{className:"w-3.5 h-3.5"})," Assign Tenant"]}):s.jsxs(qr,{onClick:()=>M(F),className:"gap-2 text-destructive focus:text-destructive",children:[s.jsx(Pue,{className:"w-3.5 h-3.5"})," Unassign Tenant"]}),s.jsxs(qr,{onClick:()=>O(F.id),className:"gap-2 text-destructive focus:text-destructive",children:[s.jsx(yi,{className:"w-3.5 h-3.5"})," Delete Unit"]})]})]})]})]}),s.jsx("div",{className:"flex flex-col gap-1",children:s.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[s.jsx(sn,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:F.properties?.name})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-3 border-y border-border/50",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-muted-foreground font-bold",children:"Planned Rent"}),s.jsxs("div",{className:"flex items-center gap-1 text-sm font-bold",children:[s.jsx(Hi,{className:"w-3 h-3 text-success"}),e(F.rent)]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-muted-foreground font-bold",children:"Current Tenant"}),s.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium truncate",children:[s.jsx(Nr,{className:"w-3 h-3 text-primary/70"}),s.jsx("span",{className:"truncate",children:F.tenants?.name||"Ready to Lease"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-1",children:[s.jsxs("span",{className:"text-[10px] text-muted-foreground uppercase font-bold tracking-widest",children:["UID: ",F.id.slice(0,8)]}),s.jsx(de,{variant:"ghost",size:"sm",className:"h-7 text-[10px] uppercase font-bold tracking-wider hover:bg-primary/10 hover:text-primary rounded-lg transition-all",children:"Manage state"})]})]},F.id))})})]}),s.jsx(_He,{open:m,onOpenChange:y,onSubmit:g?T:B,initialData:g,title:g?"Edit Unit Details":"Add Unit to Inventory"}),s.jsx(CHe,{open:x,onOpenChange:b,onSubmit:I,isLoading:d.isPending,unitId:j?.id,currentTenantId:j?.tenant_id})]})};var UI=function(e,t){return UI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},UI(e,t)};function Tu(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");UI(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var DI=function(){return DI=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},DI.apply(this,arguments)};function No(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(A){o(A)}}function c(d){try{u(n.throw(d))}catch(A){o(A)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,[])).next())})}function io(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function n2(e,t,r){if(arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||t)}var qA=(function(){function e(t,r,n,a){this.left=t,this.top=r,this.width=n,this.height=a}return e.prototype.add=function(t,r,n,a){return new e(this.left+t,this.top+r,this.width+n,this.height+a)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e})(),KC=function(e,t){return qA.fromClientRect(e,t.getBoundingClientRect())},BHe=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),a=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new qA(0,0,n,a)},zC=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},va=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var o=e[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},Oq="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",EHe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var s2=0;s2<Oq.length;s2++)EHe[Oq.charCodeAt(s2)]=s2;var Iq="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var a2=0;a2<Iq.length;a2++)i0[Iq.charCodeAt(a2)]=a2;var kHe=function(e){var t=e.length*.75,r=e.length,n,a=0,i,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)i=i0[e.charCodeAt(n)],o=i0[e.charCodeAt(n+1)],l=i0[e.charCodeAt(n+2)],c=i0[e.charCodeAt(n+3)],d[a++]=i<<2|o>>4,d[a++]=(o&15)<<4|l>>2,d[a++]=(l&3)<<6|c&63;return u},PHe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},THe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},ep=5,BL=11,Xk=2,OHe=BL-ep,iie=65536>>ep,IHe=1<<ep,Jk=IHe-1,FHe=1024>>ep,RHe=iie+FHe,LHe=RHe,UHe=32,DHe=LHe+UHe,MHe=65536>>BL,QHe=1<<OHe,HHe=QHe-1,Fq=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},$He=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},VHe=function(e,t){var r=kHe(e),n=Array.isArray(r)?THe(r):new Uint32Array(r),a=Array.isArray(r)?PHe(r):new Uint16Array(r),i=24,o=Fq(a,i/2,n[4]/2),l=n[5]===2?Fq(a,(i+n[4])/2):$He(n,Math.ceil((i+n[4])/4));return new qHe(n[0],n[1],n[2],n[3],o,l)},qHe=(function(){function e(t,r,n,a,i,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>ep],r=(r<<Xk)+(t&Jk),this.data[r];if(t<=65535)return r=this.index[iie+(t-55296>>ep)],r=(r<<Xk)+(t&Jk),this.data[r];if(t<this.highStart)return r=DHe-MHe+(t>>BL),r=this.index[r],r+=t>>ep&HHe,r=this.index[r],r=(r<<Xk)+(t&Jk),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),Rq="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",KHe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i2=0;i2<Rq.length;i2++)KHe[Rq.charCodeAt(i2)]=i2;var zHe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Lq=50,WHe=1,oie=2,lie=3,GHe=4,YHe=5,Uq=7,cie=8,Dq=9,sh=10,MI=11,Mq=12,QI=13,XHe=14,o0=15,HI=16,o2=17,Kx=18,JHe=19,Qq=20,$I=21,zx=22,Zk=23,Ug=24,Fl=25,l0=26,c0=27,Dg=28,ZHe=29,Lm=30,e7e=31,l2=32,c2=33,VI=34,qI=35,KI=36,$w=37,zI=38,rj=39,nj=40,eP=41,uie=42,t7e=43,r7e=[9001,65288],die="!",fn="",u2="",WI=VHe(zHe),yA=[Lm,KI],GI=[WHe,oie,lie,YHe],Aie=[sh,cie],Hq=[c0,l0],n7e=GI.concat(Aie),$q=[zI,rj,nj,VI,qI],s7e=[o0,QI],a7e=function(e,t){t===void 0&&(t="strict");var r=[],n=[],a=[];return e.forEach(function(i,o){var l=WI.get(i);if(l>Lq?(a.push(!0),l-=Lq):a.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(o),r.push(HI);if(l===GHe||l===MI){if(o===0)return n.push(o),r.push(Lm);var c=r[o-1];return n7e.indexOf(c)===-1?(n.push(n[o-1]),r.push(c)):(n.push(o),r.push(Lm))}if(n.push(o),l===e7e)return r.push(t==="strict"?$I:$w);if(l===uie||l===ZHe)return r.push(Lm);if(l===t7e)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push($w):r.push(Lm);r.push(l)}),[n,r,a]},tP=function(e,t,r,n){var a=n[r];if(Array.isArray(e)?e.indexOf(a)!==-1:e===a)for(var i=r;i<=n.length;){i++;var o=n[i];if(o===t)return!0;if(o!==sh)break}if(a===sh)for(var i=r;i>0;){i--;var l=n[i];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var c=r;c<=n.length;){c++;var o=n[c];if(o===t)return!0;if(o!==sh)break}if(l!==sh)break}return!1},Vq=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===sh)r--;else return n}return 0},i7e=function(e,t,r,n,a){if(r[n]===0)return fn;var i=n-1;if(Array.isArray(a)&&a[i]===!0)return fn;var o=i-1,l=i+1,c=t[i],u=o>=0?t[o]:0,d=t[l];if(c===oie&&d===lie)return fn;if(GI.indexOf(c)!==-1)return die;if(GI.indexOf(d)!==-1||Aie.indexOf(d)!==-1)return fn;if(Vq(i,t)===cie)return u2;if(WI.get(e[i])===MI||(c===l2||c===c2)&&WI.get(e[l])===MI||c===Uq||d===Uq||c===Dq||[sh,QI,o0].indexOf(c)===-1&&d===Dq||[o2,Kx,JHe,Ug,Dg].indexOf(d)!==-1||Vq(i,t)===zx||tP(Zk,zx,i,t)||tP([o2,Kx],$I,i,t)||tP(Mq,Mq,i,t))return fn;if(c===sh)return u2;if(c===Zk||d===Zk)return fn;if(d===HI||c===HI)return u2;if([QI,o0,$I].indexOf(d)!==-1||c===XHe||u===KI&&s7e.indexOf(c)!==-1||c===Dg&&d===KI||d===Qq||yA.indexOf(d)!==-1&&c===Fl||yA.indexOf(c)!==-1&&d===Fl||c===c0&&[$w,l2,c2].indexOf(d)!==-1||[$w,l2,c2].indexOf(c)!==-1&&d===l0||yA.indexOf(c)!==-1&&Hq.indexOf(d)!==-1||Hq.indexOf(c)!==-1&&yA.indexOf(d)!==-1||[c0,l0].indexOf(c)!==-1&&(d===Fl||[zx,o0].indexOf(d)!==-1&&t[l+1]===Fl)||[zx,o0].indexOf(c)!==-1&&d===Fl||c===Fl&&[Fl,Dg,Ug].indexOf(d)!==-1)return fn;if([Fl,Dg,Ug,o2,Kx].indexOf(d)!==-1)for(var A=i;A>=0;){var h=t[A];if(h===Fl)return fn;if([Dg,Ug].indexOf(h)!==-1)A--;else break}if([c0,l0].indexOf(d)!==-1)for(var A=[o2,Kx].indexOf(c)!==-1?o:i;A>=0;){var h=t[A];if(h===Fl)return fn;if([Dg,Ug].indexOf(h)!==-1)A--;else break}if(zI===c&&[zI,rj,VI,qI].indexOf(d)!==-1||[rj,VI].indexOf(c)!==-1&&[rj,nj].indexOf(d)!==-1||[nj,qI].indexOf(c)!==-1&&d===nj||$q.indexOf(c)!==-1&&[Qq,l0].indexOf(d)!==-1||$q.indexOf(d)!==-1&&c===c0||yA.indexOf(c)!==-1&&yA.indexOf(d)!==-1||c===Ug&&yA.indexOf(d)!==-1||yA.concat(Fl).indexOf(c)!==-1&&d===zx&&r7e.indexOf(e[l])===-1||yA.concat(Fl).indexOf(d)!==-1&&c===Kx)return fn;if(c===eP&&d===eP){for(var m=r[i],y=1;m>0&&(m--,t[m]===eP);)y++;if(y%2!==0)return fn}return c===l2&&d===c2?fn:u2},o7e=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=a7e(e,t.lineBreak),n=r[0],a=r[1],i=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(a=a.map(function(l){return[Fl,Lm,uie].indexOf(l)!==-1?$w:l}));var o=t.wordBreak==="keep-all"?i.map(function(l,c){return l&&e[c]>=19968&&e[c]<=40959}):void 0;return[n,a,o]},l7e=(function(){function e(t,r,n,a){this.codePoints=t,this.required=r===die,this.start=n,this.end=a}return e.prototype.slice=function(){return va.apply(void 0,this.codePoints.slice(this.start,this.end))},e})(),c7e=function(e,t){var r=zC(e),n=o7e(r,t),a=n[0],i=n[1],o=n[2],l=r.length,c=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var d=fn;u<l&&(d=i7e(r,i,a,++u,o))===fn;);if(d!==fn||u===l){var A=new l7e(r,d,c,u);return c=u,{value:A,done:!1}}return{done:!0,value:null}}}},u7e=1,d7e=2,Fb=4,qq=8,Z_=10,Kq=47,P0=92,A7e=9,f7e=32,d2=34,Wx=61,h7e=35,m7e=36,p7e=37,A2=39,f2=40,Gx=41,g7e=95,nl=45,v7e=33,y7e=60,x7e=62,w7e=64,b7e=91,j7e=93,_7e=61,N7e=123,h2=63,C7e=125,zq=124,S7e=126,B7e=128,Wq=65533,rP=42,Wm=43,E7e=44,k7e=58,P7e=59,Vw=46,T7e=0,O7e=8,I7e=11,F7e=14,R7e=31,L7e=127,rd=-1,fie=48,hie=97,mie=101,U7e=102,D7e=117,M7e=122,pie=65,gie=69,vie=70,Q7e=85,H7e=90,lo=function(e){return e>=fie&&e<=57},$7e=function(e){return e>=55296&&e<=57343},Mg=function(e){return lo(e)||e>=pie&&e<=vie||e>=hie&&e<=U7e},V7e=function(e){return e>=hie&&e<=M7e},q7e=function(e){return e>=pie&&e<=H7e},K7e=function(e){return V7e(e)||q7e(e)},z7e=function(e){return e>=B7e},m2=function(e){return e===Z_||e===A7e||e===f7e},eN=function(e){return K7e(e)||z7e(e)||e===g7e},Gq=function(e){return eN(e)||lo(e)||e===nl},W7e=function(e){return e>=T7e&&e<=O7e||e===I7e||e>=F7e&&e<=R7e||e===L7e},Xf=function(e,t){return e!==P0?!1:t!==Z_},p2=function(e,t,r){return e===nl?eN(t)||Xf(t,r):eN(e)?!0:!!(e===P0&&Xf(e,t))},nP=function(e,t,r){return e===Wm||e===nl?lo(t)?!0:t===Vw&&lo(r):lo(e===Vw?t:e)},G7e=function(e){var t=0,r=1;(e[t]===Wm||e[t]===nl)&&(e[t]===nl&&(r=-1),t++);for(var n=[];lo(e[t]);)n.push(e[t++]);var a=n.length?parseInt(va.apply(void 0,n),10):0;e[t]===Vw&&t++;for(var i=[];lo(e[t]);)i.push(e[t++]);var o=i.length,l=o?parseInt(va.apply(void 0,i),10):0;(e[t]===gie||e[t]===mie)&&t++;var c=1;(e[t]===Wm||e[t]===nl)&&(e[t]===nl&&(c=-1),t++);for(var u=[];lo(e[t]);)u.push(e[t++]);var d=u.length?parseInt(va.apply(void 0,u),10):0;return r*(a+l*Math.pow(10,-o))*Math.pow(10,c*d)},Y7e={type:2},X7e={type:3},J7e={type:4},Z7e={type:13},e$e={type:8},t$e={type:21},r$e={type:9},n$e={type:10},s$e={type:11},a$e={type:12},i$e={type:14},g2={type:23},o$e={type:1},l$e={type:25},c$e={type:24},u$e={type:26},d$e={type:27},A$e={type:28},f$e={type:29},h$e={type:31},YI={type:32},yie=(function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(zC(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==YI;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case d2:return this.consumeStringToken(d2);case h7e:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(Gq(r)||Xf(n,a)){var i=p2(r,n,a)?d7e:u7e,o=this.consumeName();return{type:5,value:o,flags:i}}break;case m7e:if(this.peekCodePoint(0)===Wx)return this.consumeCodePoint(),Z7e;break;case A2:return this.consumeStringToken(A2);case f2:return Y7e;case Gx:return X7e;case rP:if(this.peekCodePoint(0)===Wx)return this.consumeCodePoint(),i$e;break;case Wm:if(nP(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case E7e:return J7e;case nl:var l=t,c=this.peekCodePoint(0),u=this.peekCodePoint(1);if(nP(l,c,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(p2(l,c,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===nl&&u===x7e)return this.consumeCodePoint(),this.consumeCodePoint(),c$e;break;case Vw:if(nP(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Kq:if(this.peekCodePoint(0)===rP)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===rP&&(d=this.consumeCodePoint(),d===Kq))return this.consumeToken();if(d===rd)return this.consumeToken()}break;case k7e:return u$e;case P7e:return d$e;case y7e:if(this.peekCodePoint(0)===v7e&&this.peekCodePoint(1)===nl&&this.peekCodePoint(2)===nl)return this.consumeCodePoint(),this.consumeCodePoint(),l$e;break;case w7e:var A=this.peekCodePoint(0),h=this.peekCodePoint(1),m=this.peekCodePoint(2);if(p2(A,h,m)){var o=this.consumeName();return{type:7,value:o}}break;case b7e:return A$e;case P0:if(Xf(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case j7e:return f$e;case _7e:if(this.peekCodePoint(0)===Wx)return this.consumeCodePoint(),e$e;break;case N7e:return s$e;case C7e:return a$e;case D7e:case Q7e:var y=this.peekCodePoint(0),g=this.peekCodePoint(1);return y===Wm&&(Mg(g)||g===h2)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case zq:if(this.peekCodePoint(0)===Wx)return this.consumeCodePoint(),r$e;if(this.peekCodePoint(0)===zq)return this.consumeCodePoint(),t$e;break;case S7e:if(this.peekCodePoint(0)===Wx)return this.consumeCodePoint(),n$e;break;case rd:return YI}return m2(t)?(this.consumeWhiteSpace(),h$e):lo(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):eN(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:va(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();Mg(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===h2&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(va.apply(void 0,t.map(function(c){return c===h2?fie:c})),16),i=parseInt(va.apply(void 0,t.map(function(c){return c===h2?vie:c})),16);return{type:30,start:a,end:i}}var o=parseInt(va.apply(void 0,t),16);if(this.peekCodePoint(0)===nl&&Mg(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];Mg(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var i=parseInt(va.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===f2?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===f2?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===rd)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===A2||r===d2){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===rd||this.peekCodePoint(0)===Gx)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),g2)}for(;;){var a=this.consumeCodePoint();if(a===rd||a===Gx)return{type:22,value:va.apply(void 0,t)};if(m2(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===rd||this.peekCodePoint(0)===Gx?(this.consumeCodePoint(),{type:22,value:va.apply(void 0,t)}):(this.consumeBadUrlRemnants(),g2);if(a===d2||a===A2||a===f2||W7e(a))return this.consumeBadUrlRemnants(),g2;if(a===P0)if(Xf(a,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),g2;else t.push(a)}},e.prototype.consumeWhiteSpace=function(){for(;m2(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Gx||t===rd)return;Xf(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var a=Math.min(r,t);n+=va.apply(void 0,this._value.splice(0,a)),t-=a}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var a=this._value[n];if(a===rd||a===void 0||a===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===Z_)return this._value.splice(0,n),o$e;if(a===P0){var i=this._value[n+1];i!==rd&&i!==void 0&&(i===Z_?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Xf(a,i)&&(r+=this.consumeStringSlice(n),r+=va(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=Fb,n=this.peekCodePoint(0);for((n===Wm||n===nl)&&t.push(this.consumeCodePoint());lo(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===Vw&&lo(a))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=qq;lo(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===gie||n===mie)&&((a===Wm||a===nl)&&lo(i)||lo(a)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=qq;lo(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[G7e(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(p2(a,i,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return a===p7e?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Mg(t)){for(var r=va(t);Mg(this.peekCodePoint(0))&&r.length<6;)r+=va(this.consumeCodePoint());m2(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||$7e(n)||n>1114111?Wq:n}return t===rd?Wq:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(Gq(r))t+=va(r);else if(Xf(r,this.peekCodePoint(0)))t+=va(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e})(),xie=(function(){function e(t){this._tokens=t}return e.create=function(t){var r=new yie;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||p$e(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?YI:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e})(),Rb=function(e){return e.type===15},Gy=function(e){return e.type===17},as=function(e){return e.type===20},m$e=function(e){return e.type===0},XI=function(e,t){return as(e)&&e.value===t},wie=function(e){return e.type!==31},xy=function(e){return e.type!==31&&e.type!==4},Pd=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},p$e=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},kh=function(e){return e.type===17||e.type===15},Da=function(e){return e.type===16||kh(e)},bie=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Li={type:17,number:0,flags:Fb},EL={type:16,number:50,flags:Fb},ah={type:16,number:100,flags:Fb},u0=function(e,t,r){var n=e[0],a=e[1];return[gs(n,t),gs(typeof a<"u"?a:n,r)]},gs=function(e,t){if(e.type===16)return e.number/100*t;if(Rb(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},jie="deg",_ie="grad",Nie="rad",Cie="turn",WC={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case jie:return Math.PI*t.number/180;case _ie:return Math.PI/200*t.number;case Nie:return t.number;case Cie:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},Sie=function(e){return e.type===15&&(e.unit===jie||e.unit===_ie||e.unit===Nie||e.unit===Cie)},Bie=function(e){var t=e.filter(as).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Li,Li];case"to top":case"bottom":return jc(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Li,ah];case"to right":case"left":return jc(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ah,ah];case"to bottom":case"top":return jc(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ah,Li];case"to left":case"right":return jc(270)}return 0},jc=function(e){return Math.PI*e/180},mh={name:"color",parse:function(e,t){if(t.type===18){var r=g$e[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3);return ih(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3),o=t.value.substring(3,4);return ih(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6);return ih(parseInt(n,16),parseInt(a,16),parseInt(i,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6),o=t.value.substring(6,8);return ih(parseInt(n,16),parseInt(a,16),parseInt(i,16),parseInt(o,16)/255)}}if(t.type===20){var l=IA[t.value.toUpperCase()];if(typeof l<"u")return l}return IA.TRANSPARENT}},ph=function(e){return(255&e)===0},hi=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,a=255&e>>24;return t<255?"rgba("+a+","+n+","+r+","+t/255+")":"rgb("+a+","+n+","+r+")"},ih=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},Yq=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},Xq=function(e,t){var r=t.filter(xy);if(r.length===3){var n=r.map(Yq),a=n[0],i=n[1],o=n[2];return ih(a,i,o,1)}if(r.length===4){var l=r.map(Yq),a=l[0],i=l[1],o=l[2],c=l[3];return ih(a,i,o,c)}return 0};function sP(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var Jq=function(e,t){var r=t.filter(xy),n=r[0],a=r[1],i=r[2],o=r[3],l=(n.type===17?jc(n.number):WC.parse(e,n))/(Math.PI*2),c=Da(a)?a.number/100:0,u=Da(i)?i.number/100:0,d=typeof o<"u"&&Da(o)?gs(o,1):1;if(c===0)return ih(u*255,u*255,u*255,1);var A=u<=.5?u*(c+1):u+c-u*c,h=u*2-A,m=sP(h,A,l+1/3),y=sP(h,A,l),g=sP(h,A,l-1/3);return ih(m*255,y*255,g*255,d)},g$e={hsl:Jq,hsla:Jq,rgb:Xq,rgba:Xq},T0=function(e,t){return mh.parse(e,xie.create(t).parseComponentValue())},IA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},v$e={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(as(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},y$e={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},GC=function(e,t){var r=mh.parse(e,t[0]),n=t[1];return n&&Da(n)?{color:r,stop:n}:{color:r,stop:null}},Zq=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=Li),n.stop===null&&(n.stop=ah);for(var a=[],i=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var c=gs(l,t);c>i?a.push(c):a.push(i),i=c}else a.push(null)}for(var u=null,o=0;o<a.length;o++){var d=a[o];if(d===null)u===null&&(u=o);else if(u!==null){for(var A=o-u,h=a[u-1],m=(d-h)/(A+1),y=1;y<=A;y++)a[u+y-1]=m*y;u=null}}return e.map(function(g,v){var x=g.color;return{color:x,stop:Math.max(Math.min(1,a[v]/t),0)}})},x$e=function(e,t,r){var n=t/2,a=r/2,i=gs(e[0],t)-n,o=a-gs(e[1],r);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},w$e=function(e,t,r){var n=typeof e=="number"?e:x$e(e,t,r),a=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),i=t/2,o=r/2,l=a/2,c=Math.sin(n-Math.PI/2)*l,u=Math.cos(n-Math.PI/2)*l;return[a,i-u,i+u,o-c,o+c]},su=function(e,t){return Math.sqrt(e*e+t*t)},eK=function(e,t,r,n,a){var i=[[0,0],[0,t],[e,0],[e,t]];return i.reduce(function(o,l){var c=l[0],u=l[1],d=su(r-c,n-u);return(a?d<o.optimumDistance:d>o.optimumDistance)?{optimumCorner:l,optimumDistance:d}:o},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},b$e=function(e,t,r,n,a){var i=0,o=0;switch(e.size){case 0:e.shape===0?i=o=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-n)),o=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(e.shape===0)i=o=Math.min(su(t,r),su(t,r-a),su(t-n,r),su(t-n,r-a));else if(e.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(t),Math.abs(t-n)),c=eK(n,a,t,r,!0),u=c[0],d=c[1];i=su(u-t,(d-r)/l),o=l*i}break;case 1:e.shape===0?i=o=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-n)),o=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(e.shape===0)i=o=Math.max(su(t,r),su(t,r-a),su(t-n,r),su(t-n,r-a));else if(e.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(t),Math.abs(t-n)),A=eK(n,a,t,r,!1),u=A[0],d=A[1];i=su(u-t,(d-r)/l),o=l*i}break}return Array.isArray(e.size)&&(i=gs(e.size[0],n),o=e.size.length===2?gs(e.size[1],a):i),[i,o]},j$e=function(e,t){var r=jc(180),n=[];return Pd(t).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&o.value==="to"){r=Bie(a);return}else if(Sie(o)){r=WC.parse(e,o);return}}var l=GC(e,a);n.push(l)}),{angle:r,stops:n,type:1}},v2=function(e,t){var r=jc(180),n=[];return Pd(t).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=Bie(a);return}else if(Sie(o)){r=(WC.parse(e,o)+jc(270))%jc(360);return}}var l=GC(e,a);n.push(l)}),{angle:r,stops:n,type:1}},_$e=function(e,t){var r=jc(180),n=[],a=1,i=0,o=3,l=[];return Pd(t).forEach(function(c,u){var d=c[0];if(u===0){if(as(d)&&d.value==="linear"){a=1;return}else if(as(d)&&d.value==="radial"){a=2;return}}if(d.type===18){if(d.name==="from"){var A=mh.parse(e,d.values[0]);n.push({stop:Li,color:A})}else if(d.name==="to"){var A=mh.parse(e,d.values[0]);n.push({stop:ah,color:A})}else if(d.name==="color-stop"){var h=d.values.filter(xy);if(h.length===2){var A=mh.parse(e,h[1]),m=h[0];Gy(m)&&n.push({stop:{type:16,number:m.number*100,flags:m.flags},color:A})}}}}),a===1?{angle:(r+jc(180))%jc(360),stops:n,type:a}:{size:o,shape:i,stops:n,position:l,type:a}},Eie="closest-side",kie="farthest-side",Pie="closest-corner",Tie="farthest-corner",Oie="circle",Iie="ellipse",Fie="cover",Rie="contain",N$e=function(e,t){var r=0,n=3,a=[],i=[];return Pd(t).forEach(function(o,l){var c=!0;if(l===0){var u=!1;c=o.reduce(function(A,h){if(u)if(as(h))switch(h.value){case"center":return i.push(EL),A;case"top":case"left":return i.push(Li),A;case"right":case"bottom":return i.push(ah),A}else(Da(h)||kh(h))&&i.push(h);else if(as(h))switch(h.value){case Oie:return r=0,!1;case Iie:return r=1,!1;case"at":return u=!0,!1;case Eie:return n=0,!1;case Fie:case kie:return n=1,!1;case Rie:case Pie:return n=2,!1;case Tie:return n=3,!1}else if(kh(h)||Da(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return A},c)}if(c){var d=GC(e,o);a.push(d)}}),{size:n,shape:r,stops:a,position:i,type:2}},y2=function(e,t){var r=0,n=3,a=[],i=[];return Pd(t).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(d,A){if(as(A))switch(A.value){case"center":return i.push(EL),!1;case"top":case"left":return i.push(Li),!1;case"right":case"bottom":return i.push(ah),!1}else if(Da(A)||kh(A))return i.push(A),!1;return d},c):l===1&&(c=o.reduce(function(d,A){if(as(A))switch(A.value){case Oie:return r=0,!1;case Iie:return r=1,!1;case Rie:case Eie:return n=0,!1;case kie:return n=1,!1;case Pie:return n=2,!1;case Fie:case Tie:return n=3,!1}else if(kh(A)||Da(A))return Array.isArray(n)||(n=[]),n.push(A),!1;return d},c)),c){var u=GC(e,o);a.push(u)}}),{size:n,shape:r,stops:a,position:i,type:2}},C$e=function(e){return e.type===1},S$e=function(e){return e.type===2},kL={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=Lie[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function B$e(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!Lie[e.name])}var Lie={"linear-gradient":j$e,"-moz-linear-gradient":v2,"-ms-linear-gradient":v2,"-o-linear-gradient":v2,"-webkit-linear-gradient":v2,"radial-gradient":N$e,"-moz-radial-gradient":y2,"-ms-radial-gradient":y2,"-o-radial-gradient":y2,"-webkit-radial-gradient":y2,"-webkit-gradient":_$e},E$e={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return xy(n)&&B$e(n)}).map(function(n){return kL.parse(e,n)})}},k$e={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(as(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},P$e={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Pd(t).map(function(r){return r.filter(Da)}).map(bie)}},T$e={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Pd(t).map(function(r){return r.filter(as).map(function(n){return n.value}).join(" ")}).map(O$e)}},O$e=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},Bv;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Bv||(Bv={}));var I$e={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Pd(t).map(function(r){return r.filter(F$e)})}},F$e=function(e){return as(e)||Da(e)},YC=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},R$e=YC("top"),L$e=YC("right"),U$e=YC("bottom"),D$e=YC("left"),XC=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return bie(r.filter(Da))}}},M$e=XC("top-left"),Q$e=XC("top-right"),H$e=XC("bottom-right"),$$e=XC("bottom-left"),JC=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},V$e=JC("top"),q$e=JC("right"),K$e=JC("bottom"),z$e=JC("left"),ZC=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return Rb(r)?r.number:0}}},W$e=ZC("top"),G$e=ZC("right"),Y$e=ZC("bottom"),X$e=ZC("left"),J$e={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Z$e={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return t==="rtl"?1:0}},e9e={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(as).reduce(function(r,n){return r|t9e(n.value)},0)}},t9e=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},r9e={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},n9e={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},tN;(function(e){e.NORMAL="normal",e.STRICT="strict"})(tN||(tN={}));var s9e={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return t==="strict"?tN.STRICT:tN.NORMAL}},a9e={name:"line-height",initialValue:"normal",prefix:!1,type:4},tK=function(e,t){return as(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Da(e)?gs(e,t):t},i9e={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:kL.parse(e,t)}},o9e={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return t==="inside"?0:1}},JI={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},eS=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},l9e=eS("top"),c9e=eS("right"),u9e=eS("bottom"),d9e=eS("left"),A9e={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(as).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},f9e={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return t==="break-word"?"break-word":"normal"}},tS=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},h9e=tS("top"),m9e=tS("right"),p9e=tS("bottom"),g9e=tS("left"),v9e={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},y9e={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},x9e={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&XI(t[0],"none")?[]:Pd(t).map(function(r){for(var n={color:IA.TRANSPARENT,offsetX:Li,offsetY:Li,blur:Li},a=0,i=0;i<r.length;i++){var o=r[i];kh(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:n.blur=o,a++):n.color=mh.parse(e,o)}return n})}},w9e={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},b9e={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=N9e[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},j9e=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},_9e=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=t[0],n=t[1];t[2],t[3];var a=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],l=t[13];return t[14],t[15],t.length===16?[r,n,a,i,o,l]:null},N9e={matrix:j9e,matrix3d:_9e},rK={type:16,number:50,flags:Fb},C9e=[rK,rK],S9e={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Da);return r.length!==2?C9e:[r[0],r[1]]}},B9e={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}},O0;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(O0||(O0={}));var E9e={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return O0.BREAK_ALL;case"keep-all":return O0.KEEP_ALL;default:return O0.NORMAL}}},k9e={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Gy(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Uie={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},P9e={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Gy(t)?t.number:1}},T9e={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},O9e={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(as).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},I9e={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},F9e={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},R9e={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Gy(t)?t.number:as(t)&&t.value==="bold"?700:400}},L9e={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(as).map(function(r){return r.value})}},U9e={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},ri=function(e,t){return(e&t)!==0},D9e={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},M9e={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=t.filter(wie),i=0;i<a.length;i++){var o=a[i],l=a[i+1];if(o.type===20){var c=l&&Gy(l)?l.number:1;n.push({counter:o.value,increment:c})}}return n}},Q9e={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(wie),a=0;a<n.length;a++){var i=n[a],o=n[a+1];if(as(i)&&i.value!=="none"){var l=o&&Gy(o)?o.number:0;r.push({counter:i.value,reset:l})}}return r}},H9e={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Rb).map(function(r){return Uie.parse(e,r)})}},$9e={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],a=t.filter(m$e);if(a.length%2!==0)return null;for(var i=0;i<a.length;i+=2){var o=a[i].value,l=a[i+1].value;n.push({open:o,close:l})}return n}},nK=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},V9e={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&XI(t[0],"none")?[]:Pd(t).map(function(r){for(var n={color:255,offsetX:Li,offsetY:Li,blur:Li,spread:Li,inset:!1},a=0,i=0;i<r.length;i++){var o=r[i];XI(o,"inset")?n.inset=!0:kh(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:a===2?n.blur=o:n.spread=o,a++):n.color=mh.parse(e,o)}return n})}},q9e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(as).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},K9e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},z9e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Rb(t)?t.number:0}},W9e=(function(){function e(t,r){var n,a;this.animationDuration=It(t,H9e,r.animationDuration),this.backgroundClip=It(t,v$e,r.backgroundClip),this.backgroundColor=It(t,y$e,r.backgroundColor),this.backgroundImage=It(t,E$e,r.backgroundImage),this.backgroundOrigin=It(t,k$e,r.backgroundOrigin),this.backgroundPosition=It(t,P$e,r.backgroundPosition),this.backgroundRepeat=It(t,T$e,r.backgroundRepeat),this.backgroundSize=It(t,I$e,r.backgroundSize),this.borderTopColor=It(t,R$e,r.borderTopColor),this.borderRightColor=It(t,L$e,r.borderRightColor),this.borderBottomColor=It(t,U$e,r.borderBottomColor),this.borderLeftColor=It(t,D$e,r.borderLeftColor),this.borderTopLeftRadius=It(t,M$e,r.borderTopLeftRadius),this.borderTopRightRadius=It(t,Q$e,r.borderTopRightRadius),this.borderBottomRightRadius=It(t,H$e,r.borderBottomRightRadius),this.borderBottomLeftRadius=It(t,$$e,r.borderBottomLeftRadius),this.borderTopStyle=It(t,V$e,r.borderTopStyle),this.borderRightStyle=It(t,q$e,r.borderRightStyle),this.borderBottomStyle=It(t,K$e,r.borderBottomStyle),this.borderLeftStyle=It(t,z$e,r.borderLeftStyle),this.borderTopWidth=It(t,W$e,r.borderTopWidth),this.borderRightWidth=It(t,G$e,r.borderRightWidth),this.borderBottomWidth=It(t,Y$e,r.borderBottomWidth),this.borderLeftWidth=It(t,X$e,r.borderLeftWidth),this.boxShadow=It(t,V9e,r.boxShadow),this.color=It(t,J$e,r.color),this.direction=It(t,Z$e,r.direction),this.display=It(t,e9e,r.display),this.float=It(t,r9e,r.cssFloat),this.fontFamily=It(t,I9e,r.fontFamily),this.fontSize=It(t,F9e,r.fontSize),this.fontStyle=It(t,U9e,r.fontStyle),this.fontVariant=It(t,L9e,r.fontVariant),this.fontWeight=It(t,R9e,r.fontWeight),this.letterSpacing=It(t,n9e,r.letterSpacing),this.lineBreak=It(t,s9e,r.lineBreak),this.lineHeight=It(t,a9e,r.lineHeight),this.listStyleImage=It(t,i9e,r.listStyleImage),this.listStylePosition=It(t,o9e,r.listStylePosition),this.listStyleType=It(t,JI,r.listStyleType),this.marginTop=It(t,l9e,r.marginTop),this.marginRight=It(t,c9e,r.marginRight),this.marginBottom=It(t,u9e,r.marginBottom),this.marginLeft=It(t,d9e,r.marginLeft),this.opacity=It(t,P9e,r.opacity);var i=It(t,A9e,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=It(t,f9e,r.overflowWrap),this.paddingTop=It(t,h9e,r.paddingTop),this.paddingRight=It(t,m9e,r.paddingRight),this.paddingBottom=It(t,p9e,r.paddingBottom),this.paddingLeft=It(t,g9e,r.paddingLeft),this.paintOrder=It(t,q9e,r.paintOrder),this.position=It(t,y9e,r.position),this.textAlign=It(t,v9e,r.textAlign),this.textDecorationColor=It(t,T9e,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=It(t,O9e,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=It(t,x9e,r.textShadow),this.textTransform=It(t,w9e,r.textTransform),this.transform=It(t,b9e,r.transform),this.transformOrigin=It(t,S9e,r.transformOrigin),this.visibility=It(t,B9e,r.visibility),this.webkitTextStrokeColor=It(t,K9e,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=It(t,z9e,r.webkitTextStrokeWidth),this.wordBreak=It(t,E9e,r.wordBreak),this.zIndex=It(t,k9e,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return ph(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return ri(this.display,4)||ri(this.display,33554432)||ri(this.display,268435456)||ri(this.display,536870912)||ri(this.display,67108864)||ri(this.display,134217728)},e})(),G9e=(function(){function e(t,r){this.content=It(t,D9e,r.content),this.quotes=It(t,$9e,r.quotes)}return e})(),sK=(function(){function e(t,r){this.counterIncrement=It(t,M9e,r.counterIncrement),this.counterReset=It(t,Q9e,r.counterReset)}return e})(),It=function(e,t,r){var n=new yie,a=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(a);var i=new xie(n.read());switch(t.type){case 2:var o=i.parseComponentValue();return t.parse(e,as(o)?o.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return WC.parse(e,i.parseComponentValue());case"color":return mh.parse(e,i.parseComponentValue());case"image":return kL.parse(e,i.parseComponentValue());case"length":var l=i.parseComponentValue();return kh(l)?l:Li;case"length-percentage":var c=i.parseComponentValue();return Da(c)?c:Li;case"time":return Uie.parse(e,i.parseComponentValue())}break}},Y9e="data-html2canvas-debug",X9e=function(e){var t=e.getAttribute(Y9e);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},ZI=function(e,t){var r=X9e(e);return r===1||t===r},Td=(function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,ZI(r,3))debugger;this.styles=new W9e(t,window.getComputedStyle(r,null)),rF(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=KC(this.context,r),ZI(r,4)&&(this.flags|=16)}return e})(),J9e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",aK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var x2=0;x2<aK.length;x2++)d0[aK.charCodeAt(x2)]=x2;var Z9e=function(e){var t=e.length*.75,r=e.length,n,a=0,i,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)i=d0[e.charCodeAt(n)],o=d0[e.charCodeAt(n+1)],l=d0[e.charCodeAt(n+2)],c=d0[e.charCodeAt(n+3)],d[a++]=i<<2|o>>4,d[a++]=(o&15)<<4|l>>2,d[a++]=(l&3)<<6|c&63;return u},eVe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},tVe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},tp=5,PL=11,aP=2,rVe=PL-tp,Die=65536>>tp,nVe=1<<tp,iP=nVe-1,sVe=1024>>tp,aVe=Die+sVe,iVe=aVe,oVe=32,lVe=iVe+oVe,cVe=65536>>PL,uVe=1<<rVe,dVe=uVe-1,iK=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},AVe=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},fVe=function(e,t){var r=Z9e(e),n=Array.isArray(r)?tVe(r):new Uint32Array(r),a=Array.isArray(r)?eVe(r):new Uint16Array(r),i=24,o=iK(a,i/2,n[4]/2),l=n[5]===2?iK(a,(i+n[4])/2):AVe(n,Math.ceil((i+n[4])/4));return new hVe(n[0],n[1],n[2],n[3],o,l)},hVe=(function(){function e(t,r,n,a,i,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>tp],r=(r<<aP)+(t&iP),this.data[r];if(t<=65535)return r=this.index[Die+(t-55296>>tp)],r=(r<<aP)+(t&iP),this.data[r];if(t<this.highStart)return r=lVe-cVe+(t>>PL),r=this.index[r],r+=t>>tp&dVe,r=this.index[r],r=(r<<aP)+(t&iP),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),oK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mVe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var w2=0;w2<oK.length;w2++)mVe[oK.charCodeAt(w2)]=w2;var pVe=1,oP=2,lP=3,lK=4,cK=5,gVe=7,uK=8,cP=9,uP=10,dK=11,AK=12,fK=13,hK=14,dP=15,vVe=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},yVe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var o=e[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},xVe=fVe(J9e),gc="",AP="",wVe=function(e){return xVe.get(e)},bVe=function(e,t,r){var n=r-2,a=t[n],i=t[r-1],o=t[r];if(i===oP&&o===lP)return gc;if(i===oP||i===lP||i===lK||o===oP||o===lP||o===lK)return AP;if(i===uK&&[uK,cP,dK,AK].indexOf(o)!==-1||(i===dK||i===cP)&&(o===cP||o===uP)||(i===AK||i===uP)&&o===uP||o===fK||o===cK||o===gVe||i===pVe)return gc;if(i===fK&&o===hK){for(;a===cK;)a=t[--n];if(a===hK)return gc}if(i===dP&&o===dP){for(var l=0;a===dP;)l++,a=t[--n];if(l%2===0)return gc}return AP},jVe=function(e){var t=vVe(e),r=t.length,n=0,a=0,i=t.map(wVe);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=gc;n<r&&(o=bVe(t,i,++n))===gc;);if(o!==gc||n===r){var l=yVe.apply(null,t.slice(a,n));return a=n,{value:l,done:!1}}return{done:!0,value:null}}}},_Ve=function(e){for(var t=jVe(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},NVe=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),i=Math.round(a.height);if(e.body.removeChild(n),i===t)return!0}}return!1},CVe=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,a=zC(n.data).map(function(c){return va(c)}),i=0,o={},l=a.every(function(c,u){r.setStart(n,i),r.setEnd(n,i+c.length);var d=r.getBoundingClientRect();i+=c.length;var A=d.x>o.x||d.y>o.y;return o=d,u===0?!0:A});return e.body.removeChild(t),l},SVe=function(){return typeof new Image().crossOrigin<"u"},BVe=function(){return typeof new XMLHttpRequest().responseType=="string"},EVe=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},mK=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},kVe=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,i=t.toDataURL();a.src=i;var o=eF(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),pK(o).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=e.createElement("div");return u.style.backgroundImage="url("+i+")",u.style.height=r+"px",mK(c)?pK(eF(r,r,0,0,u)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),mK(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},eF=function(e,t,r,n,a){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(a),o},pK=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Ii={get SUPPORT_RANGE_BOUNDS(){var e=NVe(document);return Object.defineProperty(Ii,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ii.SUPPORT_RANGE_BOUNDS&&CVe(document);return Object.defineProperty(Ii,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=EVe(document);return Object.defineProperty(Ii,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?kVe(document):Promise.resolve(!1);return Object.defineProperty(Ii,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=SVe();return Object.defineProperty(Ii,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=BVe();return Object.defineProperty(Ii,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ii,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ii,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},I0=(function(){function e(t,r){this.text=t,this.bounds=r}return e})(),PVe=function(e,t,r,n){var a=IVe(t,r),i=[],o=0;return a.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(Ii.SUPPORT_RANGE_BOUNDS){var c=gK(n,o,l.length).getClientRects();if(c.length>1){var u=TL(l),d=0;u.forEach(function(h){i.push(new I0(h,qA.fromDOMRectList(e,gK(n,d+o,h.length).getClientRects()))),d+=h.length})}else i.push(new I0(l,qA.fromDOMRectList(e,c)))}else{var A=n.splitText(l.length);i.push(new I0(l,TVe(e,n))),n=A}else Ii.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),i},TVe=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var a=t.parentNode;if(a){a.replaceChild(n,t);var i=KC(e,n);return n.firstChild&&a.replaceChild(n.firstChild,n),i}}return qA.EMPTY},gK=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(e,t),a.setEnd(e,t+r),a},TL=function(e){if(Ii.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return _Ve(e)},OVe=function(e,t){if(Ii.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return RVe(e,t)},IVe=function(e,t){return t.letterSpacing!==0?TL(e):OVe(e,t)},FVe=[32,160,4961,65792,65793,4153,4241],RVe=function(e,t){for(var r=c7e(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],a,i=function(){if(a.value){var o=a.value.slice(),l=zC(o),c="";l.forEach(function(u){FVe.indexOf(u)===-1?c+=va(u):(c.length&&n.push(c),n.push(va(u)),c="")}),c.length&&n.push(c)}};!(a=r.next()).done;)i();return n},LVe=(function(){function e(t,r,n){this.text=UVe(r.data,n.textTransform),this.textBounds=PVe(t,this.text,n,r)}return e})(),UVe=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(DVe,MVe);case 2:return e.toUpperCase();default:return e}},DVe=/(^|\s|:|-|\(|\))([a-z])/g,MVe=function(e,t,r){return e.length>0?t+r.toUpperCase():e},Mie=(function(e){Tu(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return t})(Td),Qie=(function(e){Tu(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return t})(Td),Hie=(function(e){Tu(t,e);function t(r,n){var a=e.call(this,r,n)||this,i=new XMLSerializer,o=KC(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return t})(Td),$ie=(function(e){Tu(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t})(Td),tF=(function(e){Tu(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return t})(Td),QVe=[{type:15,flags:0,unit:"px",number:3}],HVe=[{type:16,flags:0,number:50}],$Ve=function(e){return e.width>e.height?new qA(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new qA(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},VVe=function(e){var t=e.type===qVe?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},rN="checkbox",nN="radio",qVe="password",vK=707406591,OL=(function(e){Tu(t,e);function t(r,n){var a=e.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=VVe(n),(a.type===rN||a.type===nN)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=$Ve(a.bounds)),a.type){case rN:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=QVe;break;case nN:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=HVe;break}return a}return t})(Td),Vie=(function(e){Tu(t,e);function t(r,n){var a=e.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return a.value=i&&i.text||"",a}return t})(Td),qie=(function(e){Tu(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t})(Td),Kie=(function(e){Tu(t,e);function t(r,n){var a=e.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=Wie(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?T0(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):IA.TRANSPARENT,o=n.contentWindow.document.body?T0(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):IA.TRANSPARENT;a.backgroundColor=ph(i)?ph(o)?a.styles.backgroundColor:o:i}}catch{}return a}return t})(Td),KVe=["OL","UL","MENU"],sj=function(e,t,r,n){for(var a=t.firstChild,i=void 0;a;a=i)if(i=a.nextSibling,Gie(a)&&a.data.trim().length>0)r.textNodes.push(new LVe(e,a,r.styles));else if(mv(a))if(Zie(a)&&a.assignedNodes)a.assignedNodes().forEach(function(l){return sj(e,l,r,n)});else{var o=zie(e,a);o.styles.isVisible()&&(zVe(a,o,n)?o.flags|=4:WVe(o.styles)&&(o.flags|=2),KVe.indexOf(a.tagName)!==-1&&(o.flags|=8),r.elements.push(o),a.slot,a.shadowRoot?sj(e,a.shadowRoot,o,n):!sN(a)&&!Yie(a)&&!aN(a)&&sj(e,a,o,n))}},zie=function(e,t){return nF(t)?new Mie(e,t):Xie(t)?new Qie(e,t):Yie(t)?new Hie(e,t):GVe(t)?new $ie(e,t):YVe(t)?new tF(e,t):XVe(t)?new OL(e,t):aN(t)?new Vie(e,t):sN(t)?new qie(e,t):Jie(t)?new Kie(e,t):new Td(e,t)},Wie=function(e,t){var r=zie(e,t);return r.flags|=4,sj(e,t,r,r),r},zVe=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||IL(e)&&r.styles.isTransparent()},WVe=function(e){return e.isPositioned()||e.isFloating()},Gie=function(e){return e.nodeType===Node.TEXT_NODE},mv=function(e){return e.nodeType===Node.ELEMENT_NODE},rF=function(e){return mv(e)&&typeof e.style<"u"&&!aj(e)},aj=function(e){return typeof e.className=="object"},GVe=function(e){return e.tagName==="LI"},YVe=function(e){return e.tagName==="OL"},XVe=function(e){return e.tagName==="INPUT"},JVe=function(e){return e.tagName==="HTML"},Yie=function(e){return e.tagName==="svg"},IL=function(e){return e.tagName==="BODY"},Xie=function(e){return e.tagName==="CANVAS"},yK=function(e){return e.tagName==="VIDEO"},nF=function(e){return e.tagName==="IMG"},Jie=function(e){return e.tagName==="IFRAME"},xK=function(e){return e.tagName==="STYLE"},ZVe=function(e){return e.tagName==="SCRIPT"},sN=function(e){return e.tagName==="TEXTAREA"},aN=function(e){return e.tagName==="SELECT"},Zie=function(e){return e.tagName==="SLOT"},wK=function(e){return e.tagName.indexOf("-")>0},eqe=(function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,a=t.counterReset,i=!0;n!==null&&n.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(i=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return i&&a.forEach(function(l){var c=r.counters[l.counter];o.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),o},e})(),bK={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},jK={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},tqe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},rqe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Qg=function(e,t,r,n,a,i){return e<t||e>r?qw(e,a,i.length>0):n.integers.reduce(function(o,l,c){for(;e>=l;)e-=l,o+=n.values[c];return o},"")+i},eoe=function(e,t,r,n){var a="";do r||e--,a=n(e)+a,e/=t;while(e*t>=t);return a},ga=function(e,t,r,n,a){var i=r-t+1;return(e<0?"-":"")+(eoe(Math.abs(e),i,n,function(o){return va(Math.floor(o%i)+t)})+a)},Sm=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return eoe(Math.abs(e),n,!1,function(a){return t[Math.floor(a%n)]})+r},ev=1,Kf=2,zf=4,A0=8,xA=function(e,t,r,n,a,i){if(e<-9999||e>9999)return qw(e,4,a.length>0);var o=Math.abs(e),l=a;if(o===0)return t[0]+l;for(var c=0;o>0&&c<=4;c++){var u=o%10;u===0&&ri(i,ev)&&l!==""?l=t[u]+l:u>1||u===1&&c===0||u===1&&c===1&&ri(i,Kf)||u===1&&c===1&&ri(i,zf)&&e>100||u===1&&c>1&&ri(i,A0)?l=t[u]+(c>0?r[c-1]:"")+l:u===1&&c>0&&(l=r[c-1]+l),o=Math.floor(o/10)}return(e<0?n:"")+l},_K="",NK="",CK="",fP="",qw=function(e,t,r){var n=r?". ":"",a=r?"":"",i=r?", ":"",o=r?" ":"";switch(t){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=ga(e,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return Sm(e,"",a);case 6:return Qg(e,1,3999,bK,3,n).toLowerCase();case 7:return Qg(e,1,3999,bK,3,n);case 8:return ga(e,945,969,!1,n);case 9:return ga(e,97,122,!1,n);case 10:return ga(e,65,90,!1,n);case 11:return ga(e,1632,1641,!0,n);case 12:case 49:return Qg(e,1,9999,jK,3,n);case 35:return Qg(e,1,9999,jK,3,n).toLowerCase();case 13:return ga(e,2534,2543,!0,n);case 14:case 30:return ga(e,6112,6121,!0,n);case 15:return Sm(e,"",a);case 16:return Sm(e,"",a);case 17:case 48:return xA(e,"",_K,"",a,Kf|zf|A0);case 47:return xA(e,"",NK,"",a,ev|Kf|zf|A0);case 42:return xA(e,"",_K,"",a,Kf|zf|A0);case 41:return xA(e,"",NK,"",a,ev|Kf|zf|A0);case 26:return xA(e,"","",CK,a,0);case 25:return xA(e,"","",CK,a,ev|Kf|zf);case 31:return xA(e,"","",fP,i,ev|Kf|zf);case 33:return xA(e,"","",fP,i,0);case 32:return xA(e,"","",fP,i,ev|Kf|zf);case 18:return ga(e,2406,2415,!0,n);case 20:return Qg(e,1,19999,rqe,3,n);case 21:return ga(e,2790,2799,!0,n);case 22:return ga(e,2662,2671,!0,n);case 22:return Qg(e,1,10999,tqe,3,n);case 23:return Sm(e,"");case 24:return Sm(e,"");case 27:return ga(e,3302,3311,!0,n);case 28:return Sm(e,"",a);case 29:return Sm(e,"",a);case 34:return ga(e,3792,3801,!0,n);case 37:return ga(e,6160,6169,!0,n);case 38:return ga(e,4160,4169,!0,n);case 39:return ga(e,2918,2927,!0,n);case 40:return ga(e,1776,1785,!0,n);case 43:return ga(e,3046,3055,!0,n);case 44:return ga(e,3174,3183,!0,n);case 45:return ga(e,3664,3673,!0,n);case 46:return ga(e,3872,3881,!0,n);default:return ga(e,48,57,!0,n)}},toe="data-html2canvas-ignore",SK=(function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new eqe,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,a=nqe(t,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,l=a.contentWindow,c=l.document,u=iqe(a).then(function(){return No(n,void 0,void 0,function(){var d,A;return io(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(uqe),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),d=this.options.onclone,A=this.clonedReferenceElement,typeof A>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,aqe(c)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(c,A)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(lqe(document.doctype)+"<html></html>"),cqe(this.referenceElement.ownerDocument,i,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},e.prototype.createElementClone=function(t){if(ZI(t,2))debugger;if(Xie(t))return this.createCanvasClone(t);if(yK(t))return this.createVideoClone(t);if(xK(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return nF(r)&&(nF(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),wK(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return hP(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),a=t.cloneNode(!1);return a.textContent=n,a}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var a=t.cloneNode(!1);try{a.width=t.width,a.height=t.height;var i=t.getContext("2d"),o=a.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var l=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(l){var c=l.getContextAttributes();c?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return a},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var a=t.ownerDocument.createElement("canvas");return a.width=t.offsetWidth,a.height=t.offsetHeight,a},e.prototype.appendChildNode=function(t,r,n){(!mv(r)||!ZVe(r)&&!r.hasAttribute(toe)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!mv(r)||!xK(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var a=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(mv(i)&&Zie(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return a.appendChildNode(r,l,n)})}else this.appendChildNode(r,i,n)},e.prototype.cloneNode=function(t,r){if(Gie(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&mv(t)&&(rF(t)||aj(t))){var a=this.createElementClone(t);a.style.transitionProperty="none";var i=n.getComputedStyle(t),o=n.getComputedStyle(t,":before"),l=n.getComputedStyle(t,":after");this.referenceElement===t&&rF(a)&&(this.clonedReferenceElement=a),IL(a)&&fqe(a);var c=this.counters.parse(new sK(this.context,i)),u=this.resolvePseudoContent(t,a,o,F0.BEFORE);wK(t)&&(r=!0),yK(t)||this.cloneChildNodes(t,a,r),u&&a.insertBefore(u,a.firstChild);var d=this.resolvePseudoContent(t,a,l,F0.AFTER);return d&&a.appendChild(d),this.counters.pop(c),(i&&(this.options.copyStyles||aj(t))&&!Jie(t)||r)&&hP(i,a),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([a,t.scrollLeft,t.scrollTop]),(sN(t)||aN(t))&&(sN(a)||aN(a))&&(a.value=t.value),a}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,a){var i=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new sK(this.context,n));var c=new G9e(this.context,n),u=l.createElement("html2canvaspseudoelement");hP(n,u),c.content.forEach(function(A){if(A.type===0)u.appendChild(l.createTextNode(A.value));else if(A.type===22){var h=l.createElement("img");h.src=A.value,h.style.opacity="1",u.appendChild(h)}else if(A.type===18){if(A.name==="attr"){var m=A.values.filter(as);m.length&&u.appendChild(l.createTextNode(t.getAttribute(m[0].value)||""))}else if(A.name==="counter"){var y=A.values.filter(xy),g=y[0],v=y[1];if(g&&as(g)){var x=i.counters.getCounterValue(g.value),b=v&&as(v)?JI.parse(i.context,v.value):3;u.appendChild(l.createTextNode(qw(x,b,!1)))}}else if(A.name==="counters"){var j=A.values.filter(xy),g=j[0],_=j[1],v=j[2];if(g&&as(g)){var N=i.counters.getCounterValues(g.value),B=v&&as(v)?JI.parse(i.context,v.value):3,T=_&&_.type===0?_.value:"",O=N.map(function(I){return qw(I,B,!1)}).join(T);u.appendChild(l.createTextNode(O))}}}else if(A.type===20)switch(A.value){case"open-quote":u.appendChild(l.createTextNode(nK(c.quotes,i.quoteDepth++,!0)));break;case"close-quote":u.appendChild(l.createTextNode(nK(c.quotes,--i.quoteDepth,!1)));break;default:u.appendChild(l.createTextNode(A.value))}}),u.className=sF+" "+aF;var d=a===F0.BEFORE?" "+sF:" "+aF;return aj(r)?r.className.baseValue+=d:r.className+=d,u}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e})(),F0;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(F0||(F0={}));var nqe=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(toe,"true"),e.body.appendChild(r),r},sqe=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},aqe=function(e){return Promise.all([].slice.call(e.images,0).map(sqe))},iqe=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var i=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(i),t(e))},50)}})},oqe=["all","d","content"],hP=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);oqe.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},lqe=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},cqe=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},uqe=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},dqe=":before",Aqe=":after",sF="___html2canvas___pseudoelement_before",aF="___html2canvas___pseudoelement_after",BK=`{
    content: "" !important;
    display: none !important;
}`,fqe=function(e){hqe(e,"."+sF+dqe+BK+`
         .`+aF+Aqe+BK)},hqe=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},roe=(function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e})(),mqe=(function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(pP(t)||yqe(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return No(this,void 0,void 0,function(){var r,n,a,i,o=this;return io(this,function(l){switch(l.label){case 0:return r=roe.isSameOrigin(t),n=!mP(t)&&this._options.useCORS===!0&&Ii.SUPPORT_CORS_IMAGES&&!r,a=!mP(t)&&!r&&!pP(t)&&typeof this._options.proxy=="string"&&Ii.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!mP(t)&&!pP(t)&&!a&&!n?[2]:(i=t,a?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,u){var d=new Image;d.onload=function(){return c(d)},d.onerror=u,(xqe(i)||n)&&(d.crossOrigin="anonymous"),d.src=i,d.complete===!0&&setTimeout(function(){return c(d)},500),o._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=t.substring(0,256);return new Promise(function(i,o){var l=Ii.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")i(c.response);else{var A=new FileReader;A.addEventListener("load",function(){return i(A.result)},!1),A.addEventListener("error",function(h){return o(h)},!1),A.readAsDataURL(c.response)}else o("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=o;var u=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+u+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var d=r._options.imageTimeout;c.timeout=d,c.ontimeout=function(){return o("Timed out ("+d+"ms) proxying "+a)}}c.send()})},e})(),pqe=/^data:image\/svg\+xml/i,gqe=/^data:image\/.*;base64,/i,vqe=/^data:image\/.*/i,yqe=function(e){return Ii.SUPPORT_SVG_DRAWING||!wqe(e)},mP=function(e){return vqe.test(e)},xqe=function(e){return gqe.test(e)},pP=function(e){return e.substr(0,4)==="blob"},wqe=function(e){return e.substr(-3).toLowerCase()==="svg"||pqe.test(e)},Et=(function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e})(),Hg=function(e,t,r){return new Et(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},b2=(function(){function e(t,r,n,a){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=a}return e.prototype.subdivide=function(t,r){var n=Hg(this.start,this.startControl,t),a=Hg(this.startControl,this.endControl,t),i=Hg(this.endControl,this.end,t),o=Hg(n,a,t),l=Hg(a,i,t),c=Hg(o,l,t);return r?new e(this.start,n,o,c):new e(c,l,i,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e})(),yc=function(e){return e.type===1},bqe=(function(){function e(t){var r=t.styles,n=t.bounds,a=u0(r.borderTopLeftRadius,n.width,n.height),i=a[0],o=a[1],l=u0(r.borderTopRightRadius,n.width,n.height),c=l[0],u=l[1],d=u0(r.borderBottomRightRadius,n.width,n.height),A=d[0],h=d[1],m=u0(r.borderBottomLeftRadius,n.width,n.height),y=m[0],g=m[1],v=[];v.push((i+c)/n.width),v.push((y+A)/n.width),v.push((o+g)/n.height),v.push((u+h)/n.height);var x=Math.max.apply(Math,v);x>1&&(i/=x,o/=x,c/=x,u/=x,A/=x,h/=x,y/=x,g/=x);var b=n.width-c,j=n.height-h,_=n.width-A,N=n.height-g,B=r.borderTopWidth,T=r.borderRightWidth,O=r.borderBottomWidth,P=r.borderLeftWidth,M=gs(r.paddingTop,t.bounds.width),I=gs(r.paddingRight,t.bounds.width),D=gs(r.paddingBottom,t.bounds.width),$=gs(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?Ts(n.left+P/3,n.top+B/3,i-P/3,o-B/3,$n.TOP_LEFT):new Et(n.left+P/3,n.top+B/3),this.topRightBorderDoubleOuterBox=i>0||o>0?Ts(n.left+b,n.top+B/3,c-T/3,u-B/3,$n.TOP_RIGHT):new Et(n.left+n.width-T/3,n.top+B/3),this.bottomRightBorderDoubleOuterBox=A>0||h>0?Ts(n.left+_,n.top+j,A-T/3,h-O/3,$n.BOTTOM_RIGHT):new Et(n.left+n.width-T/3,n.top+n.height-O/3),this.bottomLeftBorderDoubleOuterBox=y>0||g>0?Ts(n.left+P/3,n.top+N,y-P/3,g-O/3,$n.BOTTOM_LEFT):new Et(n.left+P/3,n.top+n.height-O/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?Ts(n.left+P*2/3,n.top+B*2/3,i-P*2/3,o-B*2/3,$n.TOP_LEFT):new Et(n.left+P*2/3,n.top+B*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?Ts(n.left+b,n.top+B*2/3,c-T*2/3,u-B*2/3,$n.TOP_RIGHT):new Et(n.left+n.width-T*2/3,n.top+B*2/3),this.bottomRightBorderDoubleInnerBox=A>0||h>0?Ts(n.left+_,n.top+j,A-T*2/3,h-O*2/3,$n.BOTTOM_RIGHT):new Et(n.left+n.width-T*2/3,n.top+n.height-O*2/3),this.bottomLeftBorderDoubleInnerBox=y>0||g>0?Ts(n.left+P*2/3,n.top+N,y-P*2/3,g-O*2/3,$n.BOTTOM_LEFT):new Et(n.left+P*2/3,n.top+n.height-O*2/3),this.topLeftBorderStroke=i>0||o>0?Ts(n.left+P/2,n.top+B/2,i-P/2,o-B/2,$n.TOP_LEFT):new Et(n.left+P/2,n.top+B/2),this.topRightBorderStroke=i>0||o>0?Ts(n.left+b,n.top+B/2,c-T/2,u-B/2,$n.TOP_RIGHT):new Et(n.left+n.width-T/2,n.top+B/2),this.bottomRightBorderStroke=A>0||h>0?Ts(n.left+_,n.top+j,A-T/2,h-O/2,$n.BOTTOM_RIGHT):new Et(n.left+n.width-T/2,n.top+n.height-O/2),this.bottomLeftBorderStroke=y>0||g>0?Ts(n.left+P/2,n.top+N,y-P/2,g-O/2,$n.BOTTOM_LEFT):new Et(n.left+P/2,n.top+n.height-O/2),this.topLeftBorderBox=i>0||o>0?Ts(n.left,n.top,i,o,$n.TOP_LEFT):new Et(n.left,n.top),this.topRightBorderBox=c>0||u>0?Ts(n.left+b,n.top,c,u,$n.TOP_RIGHT):new Et(n.left+n.width,n.top),this.bottomRightBorderBox=A>0||h>0?Ts(n.left+_,n.top+j,A,h,$n.BOTTOM_RIGHT):new Et(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=y>0||g>0?Ts(n.left,n.top+N,y,g,$n.BOTTOM_LEFT):new Et(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?Ts(n.left+P,n.top+B,Math.max(0,i-P),Math.max(0,o-B),$n.TOP_LEFT):new Et(n.left+P,n.top+B),this.topRightPaddingBox=c>0||u>0?Ts(n.left+Math.min(b,n.width-T),n.top+B,b>n.width+T?0:Math.max(0,c-T),Math.max(0,u-B),$n.TOP_RIGHT):new Et(n.left+n.width-T,n.top+B),this.bottomRightPaddingBox=A>0||h>0?Ts(n.left+Math.min(_,n.width-P),n.top+Math.min(j,n.height-O),Math.max(0,A-T),Math.max(0,h-O),$n.BOTTOM_RIGHT):new Et(n.left+n.width-T,n.top+n.height-O),this.bottomLeftPaddingBox=y>0||g>0?Ts(n.left+P,n.top+Math.min(N,n.height-O),Math.max(0,y-P),Math.max(0,g-O),$n.BOTTOM_LEFT):new Et(n.left+P,n.top+n.height-O),this.topLeftContentBox=i>0||o>0?Ts(n.left+P+$,n.top+B+M,Math.max(0,i-(P+$)),Math.max(0,o-(B+M)),$n.TOP_LEFT):new Et(n.left+P+$,n.top+B+M),this.topRightContentBox=c>0||u>0?Ts(n.left+Math.min(b,n.width+P+$),n.top+B+M,b>n.width+P+$?0:c-P+$,u-(B+M),$n.TOP_RIGHT):new Et(n.left+n.width-(T+I),n.top+B+M),this.bottomRightContentBox=A>0||h>0?Ts(n.left+Math.min(_,n.width-(P+$)),n.top+Math.min(j,n.height+B+M),Math.max(0,A-(T+I)),h-(O+D),$n.BOTTOM_RIGHT):new Et(n.left+n.width-(T+I),n.top+n.height-(O+D)),this.bottomLeftContentBox=y>0||g>0?Ts(n.left+P+$,n.top+N,Math.max(0,y-(P+$)),g-(O+D),$n.BOTTOM_LEFT):new Et(n.left+P+$,n.top+n.height-(O+D))}return e})(),$n;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})($n||($n={}));var Ts=function(e,t,r,n,a){var i=4*((Math.sqrt(2)-1)/3),o=r*i,l=n*i,c=e+r,u=t+n;switch(a){case $n.TOP_LEFT:return new b2(new Et(e,u),new Et(e,u-l),new Et(c-o,t),new Et(c,t));case $n.TOP_RIGHT:return new b2(new Et(e,t),new Et(e+o,t),new Et(c,u-l),new Et(c,u));case $n.BOTTOM_RIGHT:return new b2(new Et(c,t),new Et(c,t+l),new Et(e+o,u),new Et(e,u));case $n.BOTTOM_LEFT:default:return new b2(new Et(c,u),new Et(c-o,u),new Et(e,t+l),new Et(e,t))}},iN=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},jqe=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},oN=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},_qe=(function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e})(),j2=(function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e})(),Nqe=(function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e})(),Cqe=function(e){return e.type===0},noe=function(e){return e.type===1},Sqe=function(e){return e.type===2},EK=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},Bqe=function(e,t,r,n,a){return e.map(function(i,o){switch(o){case 0:return i.add(t,r);case 1:return i.add(t+n,r);case 2:return i.add(t+n,r+a);case 3:return i.add(t,r+a)}return i})},soe=(function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e})(),aoe=(function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new bqe(this.container),this.container.styles.opacity<1&&this.effects.push(new Nqe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new _qe(n,a,i))}if(this.container.styles.overflowX!==0){var o=iN(this.curves),l=oN(this.curves);EK(o,l)?this.effects.push(new j2(o,6)):(this.effects.push(new j2(o,2)),this.effects.push(new j2(l,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var i=n.effects.filter(function(c){return!noe(c)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=iN(n.curves),l=oN(n.curves);EK(o,l)||a.unshift(new j2(l,6))}}else a.unshift.apply(a,i);n=n.parent}return a.filter(function(c){return ri(c.target,t)})},e})(),iF=function(e,t,r,n){e.container.elements.forEach(function(a){var i=ri(a.flags,4),o=ri(a.flags,2),l=new aoe(a,e);ri(a.styles.display,2048)&&n.push(l);var c=ri(a.flags,8)?[]:n;if(i||o){var u=i||a.styles.isPositioned()?r:t,d=new soe(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var A=a.styles.zIndex.order;if(A<0){var h=0;u.negativeZIndex.some(function(y,g){return A>y.element.container.styles.zIndex.order?(h=g,!1):h>0}),u.negativeZIndex.splice(h,0,d)}else if(A>0){var m=0;u.positiveZIndex.some(function(y,g){return A>=y.element.container.styles.zIndex.order?(m=g+1,!1):m>0}),u.positiveZIndex.splice(m,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else a.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);iF(l,d,i?d:r,c)}else a.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),iF(l,t,r,c);ri(a.flags,8)&&ioe(a,c)})},ioe=function(e,t){for(var r=e instanceof tF?e.start:1,n=e instanceof tF?e.reversed:!1,a=0;a<t.length;a++){var i=t[a];i.container instanceof $ie&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=qw(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},Eqe=function(e){var t=new aoe(e,null),r=new soe(t),n=[];return iF(t,r,r,n),ioe(t.container,n),r},kK=function(e,t){switch(t){case 0:return _c(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return _c(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return _c(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return _c(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},kqe=function(e,t){switch(t){case 0:return _c(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return _c(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return _c(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return _c(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Pqe=function(e,t){switch(t){case 0:return _c(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return _c(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return _c(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return _c(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Tqe=function(e,t){switch(t){case 0:return _2(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return _2(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return _2(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return _2(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},_2=function(e,t){var r=[];return yc(e)?r.push(e.subdivide(.5,!1)):r.push(e),yc(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},_c=function(e,t,r,n){var a=[];return yc(e)?a.push(e.subdivide(.5,!1)):a.push(e),yc(r)?a.push(r.subdivide(.5,!0)):a.push(r),yc(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),yc(t)?a.push(t.subdivide(.5,!1).reverse()):a.push(t),a},ooe=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},lN=function(e){var t=e.styles,r=e.bounds,n=gs(t.paddingLeft,r.width),a=gs(t.paddingRight,r.width),i=gs(t.paddingTop,r.width),o=gs(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+a),-(t.borderTopWidth+t.borderBottomWidth+i+o))},Oqe=function(e,t){return e===0?t.bounds:e===2?lN(t):ooe(t)},Iqe=function(e,t){return e===0?t.bounds:e===2?lN(t):ooe(t)},gP=function(e,t,r){var n=Oqe(tv(e.styles.backgroundOrigin,t),e),a=Iqe(tv(e.styles.backgroundClip,t),e),i=Fqe(tv(e.styles.backgroundSize,t),r,n),o=i[0],l=i[1],c=u0(tv(e.styles.backgroundPosition,t),n.width-o,n.height-l),u=Rqe(tv(e.styles.backgroundRepeat,t),c,i,n,a),d=Math.round(n.left+c[0]),A=Math.round(n.top+c[1]);return[u,d,A,o,l]},$g=function(e){return as(e)&&e.value===Bv.AUTO},N2=function(e){return typeof e=="number"},Fqe=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=e[0],l=e[1];if(!o)return[0,0];if(Da(o)&&l&&Da(l))return[gs(o,r.width),gs(l,r.height)];var c=N2(i);if(as(o)&&(o.value===Bv.CONTAIN||o.value===Bv.COVER)){if(N2(i)){var u=r.width/r.height;return u<i!=(o.value===Bv.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var d=N2(n),A=N2(a),h=d||A;if($g(o)&&(!l||$g(l))){if(d&&A)return[n,a];if(!c&&!h)return[r.width,r.height];if(h&&c){var m=d?n:a*i,y=A?a:n/i;return[m,y]}var g=d?n:r.width,v=A?a:r.height;return[g,v]}if(c){var x=0,b=0;return Da(o)?x=gs(o,r.width):Da(l)&&(b=gs(l,r.height)),$g(o)?x=b*i:(!l||$g(l))&&(b=x/i),[x,b]}var j=null,_=null;if(Da(o)?j=gs(o,r.width):l&&Da(l)&&(_=gs(l,r.height)),j!==null&&(!l||$g(l))&&(_=d&&A?j/n*a:r.height),_!==null&&$g(o)&&(j=d&&A?_/a*n:r.width),j!==null&&_!==null)return[j,_];throw new Error("Unable to calculate background-size for element")},tv=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},Rqe=function(e,t,r,n,a){var i=t[0],o=t[1],l=r[0],c=r[1];switch(e){case 2:return[new Et(Math.round(n.left),Math.round(n.top+o)),new Et(Math.round(n.left+n.width),Math.round(n.top+o)),new Et(Math.round(n.left+n.width),Math.round(c+n.top+o)),new Et(Math.round(n.left),Math.round(c+n.top+o))];case 3:return[new Et(Math.round(n.left+i),Math.round(n.top)),new Et(Math.round(n.left+i+l),Math.round(n.top)),new Et(Math.round(n.left+i+l),Math.round(n.height+n.top)),new Et(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new Et(Math.round(n.left+i),Math.round(n.top+o)),new Et(Math.round(n.left+i+l),Math.round(n.top+o)),new Et(Math.round(n.left+i+l),Math.round(n.top+o+c)),new Et(Math.round(n.left+i),Math.round(n.top+o+c))];default:return[new Et(Math.round(a.left),Math.round(a.top)),new Et(Math.round(a.left+a.width),Math.round(a.top)),new Et(Math.round(a.left+a.width),Math.round(a.height+a.top)),new Et(Math.round(a.left),Math.round(a.height+a.top))]}},Lqe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",PK="Hidden Text",Uqe=(function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),a.src=Lqe,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(PK)),n.appendChild(i),n.appendChild(a);var l=a.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(PK)),n.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:c}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e})(),loe=(function(){function e(t,r){this.context=t,this.options=r}return e})(),Dqe=1e4,Mqe=(function(e){Tu(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new Uqe(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},t.prototype.applyEffect=function(r){this.ctx.save(),Sqe(r)&&(this.ctx.globalAlpha=r.opacity),Cqe(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),noe(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return No(this,void 0,void 0,function(){var n;return io(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return No(this,void 0,void 0,function(){return io(this,function(n){switch(n.label){case 0:if(ri(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,a){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var o=TL(r.text);o.reduce(function(l,c){return i.ctx.fillText(c,l,r.bounds.top+a),l+i.ctx.measureText(c).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),a=qqe(r.fontFamily).join(", "),i=Rb(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,a].join(" "),a,i]},t.prototype.renderTextNode=function(r,n){return No(this,void 0,void 0,function(){var a,i,o,l,c,u,d,A,h=this;return io(this,function(m){return a=this.createFontStyle(n),i=a[0],o=a[1],l=a[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),u=c.baseline,d=c.middle,A=n.paintOrder,r.textBounds.forEach(function(y){A.forEach(function(g){switch(g){case 0:h.ctx.fillStyle=hi(n.color),h.renderTextWithLetterSpacing(y,n.letterSpacing,u);var v=n.textShadow;v.length&&y.text.trim().length&&(v.slice(0).reverse().forEach(function(x){h.ctx.shadowColor=hi(x.color),h.ctx.shadowOffsetX=x.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=x.offsetY.number*h.options.scale,h.ctx.shadowBlur=x.blur.number,h.renderTextWithLetterSpacing(y,n.letterSpacing,u)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=hi(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(x){switch(x){case 1:h.ctx.fillRect(y.bounds.left,Math.round(y.bounds.top+u),y.bounds.width,1);break;case 2:h.ctx.fillRect(y.bounds.left,Math.round(y.bounds.top),y.bounds.width,1);break;case 3:h.ctx.fillRect(y.bounds.left,Math.ceil(y.bounds.top+d),y.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&y.text.trim().length&&(h.ctx.strokeStyle=hi(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(y.text,y.bounds.left,y.bounds.top+u)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=lN(r),o=oN(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return No(this,void 0,void 0,function(){var n,a,i,o,l,c,b,b,u,d,A,h,_,m,y,N,g,v,x,b,j,_,N;return io(this,function(B){switch(B.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,i=n.styles,o=0,l=n.textNodes,B.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,i)]):[3,4];case 2:B.sent(),B.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof Mie))return[3,8];B.label=5;case 5:return B.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return b=B.sent(),this.renderReplacedElement(n,a,b),[3,8];case 7:return B.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Qie&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof Hie))return[3,12];B.label=9;case 9:return B.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return b=B.sent(),this.renderReplacedElement(n,a,b),[3,12];case 11:return B.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Kie&&n.tree?(u=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:d=B.sent(),n.width&&n.height&&this.ctx.drawImage(d,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),B.label=14;case 14:if(n instanceof OL&&(A=Math.min(n.bounds.width,n.bounds.height),n.type===rN?n.checked&&(this.ctx.save(),this.path([new Et(n.bounds.left+A*.39363,n.bounds.top+A*.79),new Et(n.bounds.left+A*.16,n.bounds.top+A*.5549),new Et(n.bounds.left+A*.27347,n.bounds.top+A*.44071),new Et(n.bounds.left+A*.39694,n.bounds.top+A*.5649),new Et(n.bounds.left+A*.72983,n.bounds.top+A*.23),new Et(n.bounds.left+A*.84,n.bounds.top+A*.34085),new Et(n.bounds.left+A*.39363,n.bounds.top+A*.79)]),this.ctx.fillStyle=hi(vK),this.ctx.fill(),this.ctx.restore()):n.type===nN&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+A/2,n.bounds.top+A/2,A/4,0,Math.PI*2,!0),this.ctx.fillStyle=hi(vK),this.ctx.fill(),this.ctx.restore())),Qqe(n)&&n.value.length){switch(h=this.createFontStyle(i),_=h[0],m=h[1],y=this.fontMetrics.getMetrics(_,m).baseline,this.ctx.font=_,this.ctx.fillStyle=hi(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=$qe(n.styles.textAlign),N=lN(n),g=0,n.styles.textAlign){case 1:g+=N.width/2;break;case 2:g+=N.width;break}v=N.add(g,0,0,-N.height/2+1),this.ctx.save(),this.path([new Et(N.left,N.top),new Et(N.left+N.width,N.top),new Et(N.left+N.width,N.top+N.height),new Et(N.left,N.top+N.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new I0(n.value,v),i.letterSpacing,y),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ri(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(x=n.styles.listStyleImage,x.type!==0)return[3,18];b=void 0,j=x.url,B.label=15;case 15:return B.trys.push([15,17,,18]),[4,this.context.cache.match(j)];case 16:return b=B.sent(),this.ctx.drawImage(b,n.bounds.left-(b.width+10),n.bounds.top),[3,18];case 17:return B.sent(),this.context.logger.error("Error loading list-style-image "+j),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(_=this.createFontStyle(i)[0],this.ctx.font=_,this.ctx.fillStyle=hi(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",N=new qA(n.bounds.left,n.bounds.top+gs(n.styles.paddingTop,n.bounds.width),n.bounds.width,tK(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new I0(r.listValue,N),i.letterSpacing,tK(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),B.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return No(this,void 0,void 0,function(){var n,a,x,i,o,x,l,c,x,u,d,x,A,h,x,m,y,x,g,v,x;return io(this,function(b){switch(b.label){case 0:if(ri(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:b.sent(),n=0,a=r.negativeZIndex,b.label=2;case 2:return n<a.length?(x=a[n],[4,this.renderStack(x)]):[3,5];case 3:b.sent(),b.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:b.sent(),i=0,o=r.nonInlineLevel,b.label=7;case 7:return i<o.length?(x=o[i],[4,this.renderNode(x)]):[3,10];case 8:b.sent(),b.label=9;case 9:return i++,[3,7];case 10:l=0,c=r.nonPositionedFloats,b.label=11;case 11:return l<c.length?(x=c[l],[4,this.renderStack(x)]):[3,14];case 12:b.sent(),b.label=13;case 13:return l++,[3,11];case 14:u=0,d=r.nonPositionedInlineLevel,b.label=15;case 15:return u<d.length?(x=d[u],[4,this.renderStack(x)]):[3,18];case 16:b.sent(),b.label=17;case 17:return u++,[3,15];case 18:A=0,h=r.inlineLevel,b.label=19;case 19:return A<h.length?(x=h[A],[4,this.renderNode(x)]):[3,22];case 20:b.sent(),b.label=21;case 21:return A++,[3,19];case 22:m=0,y=r.zeroOrAutoZIndexOrTransformedOrOpacity,b.label=23;case 23:return m<y.length?(x=y[m],[4,this.renderStack(x)]):[3,26];case 24:b.sent(),b.label=25;case 25:return m++,[3,23];case 26:g=0,v=r.positiveZIndex,b.label=27;case 27:return g<v.length?(x=v[g],[4,this.renderStack(x)]):[3,30];case 28:b.sent(),b.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(a,i){var o=yc(a)?a.start:a;i===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),yc(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},t.prototype.renderRepeat=function(r,n,a,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,i),this.ctx.fill(),this.ctx.translate(-a,-i)},t.prototype.resizeImage=function(r,n,a){var i;if(r.width===n&&r.height===a)return r;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,a);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,a),l},t.prototype.renderBackgroundImage=function(r){return No(this,void 0,void 0,function(){var n,a,i,o,l,c;return io(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,a=function(d){var A,h,m,M,X,K,$,F,O,y,M,X,K,$,F,g,v,x,b,j,_,N,B,T,O,P,M,I,D,$,F,V,X,K,W,z,te,G,U,Y,ee,ae;return io(this,function(Ae){switch(Ae.label){case 0:if(d.type!==0)return[3,5];A=void 0,h=d.url,Ae.label=1;case 1:return Ae.trys.push([1,3,,4]),[4,i.context.cache.match(h)];case 2:return A=Ae.sent(),[3,4];case 3:return Ae.sent(),i.context.logger.error("Error loading background-image "+h),[3,4];case 4:return A&&(m=gP(r,n,[A.width,A.height,A.width/A.height]),M=m[0],X=m[1],K=m[2],$=m[3],F=m[4],O=i.ctx.createPattern(i.resizeImage(A,$,F),"repeat"),i.renderRepeat(M,O,X,K)),[3,6];case 5:C$e(d)?(y=gP(r,n,[null,null,null]),M=y[0],X=y[1],K=y[2],$=y[3],F=y[4],g=w$e(d.angle,$,F),v=g[0],x=g[1],b=g[2],j=g[3],_=g[4],N=document.createElement("canvas"),N.width=$,N.height=F,B=N.getContext("2d"),T=B.createLinearGradient(x,j,b,_),Zq(d.stops,v).forEach(function(ce){return T.addColorStop(ce.stop,hi(ce.color))}),B.fillStyle=T,B.fillRect(0,0,$,F),$>0&&F>0&&(O=i.ctx.createPattern(N,"repeat"),i.renderRepeat(M,O,X,K))):S$e(d)&&(P=gP(r,n,[null,null,null]),M=P[0],I=P[1],D=P[2],$=P[3],F=P[4],V=d.position.length===0?[EL]:d.position,X=gs(V[0],$),K=gs(V[V.length-1],F),W=b$e(d,X,K,$,F),z=W[0],te=W[1],z>0&&te>0&&(G=i.ctx.createRadialGradient(I+X,D+K,0,I+X,D+K,z),Zq(d.stops,z*2).forEach(function(ce){return G.addColorStop(ce.stop,hi(ce.color))}),i.path(M),i.ctx.fillStyle=G,z!==te?(U=r.bounds.left+.5*r.bounds.width,Y=r.bounds.top+.5*r.bounds.height,ee=te/z,ae=1/ee,i.ctx.save(),i.ctx.translate(U,Y),i.ctx.transform(1,0,0,ee,0,0),i.ctx.translate(-U,-Y),i.ctx.fillRect(I,ae*(D-Y)+Y,$,F*ae),i.ctx.restore()):i.ctx.fill())),Ae.label=6;case 6:return n--,[2]}})},i=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<l.length?(c=l[o],[5,a(c)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,a){return No(this,void 0,void 0,function(){return io(this,function(i){return this.path(kK(a,n)),this.ctx.fillStyle=hi(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,a,i){return No(this,void 0,void 0,function(){var o,l;return io(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,i)]:[3,2];case 1:return c.sent(),[2];case 2:return o=kqe(i,a),this.path(o),this.ctx.fillStyle=hi(r),this.ctx.fill(),l=Pqe(i,a),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return No(this,void 0,void 0,function(){var n,a,i,o,l,c,u,d,A=this;return io(this,function(h){switch(h.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!ph(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=Hqe(tv(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),ph(n.backgroundColor)||(this.ctx.fillStyle=hi(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(m){A.ctx.save();var y=iN(r.curves),g=m.inset?0:Dqe,v=Bqe(y,-g+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(A.path(y),A.ctx.clip(),A.mask(v)):(A.mask(y),A.ctx.clip(),A.path(v)),A.ctx.shadowOffsetX=m.offsetX.number+g,A.ctx.shadowOffsetY=m.offsetY.number,A.ctx.shadowColor=hi(m.color),A.ctx.shadowBlur=m.blur.number,A.ctx.fillStyle=m.inset?hi(m.color):"rgba(0,0,0,1)",A.ctx.fill(),A.ctx.restore()}),h.label=2;case 2:l=0,c=0,u=i,h.label=3;case 3:return c<u.length?(d=u[c],d.style!==0&&!ph(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,l,r.curves,3)];case 6:return h.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,l,r.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,l,r.curves)];case 10:h.sent(),h.label=11;case 11:l++,h.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,a,i,o){return No(this,void 0,void 0,function(){var l,c,u,d,A,h,m,y,g,v,x,b,j,_,N,B,N,B;return io(this,function(T){return this.ctx.save(),l=Tqe(i,a),c=kK(i,a),o===2&&(this.path(c),this.ctx.clip()),yc(c[0])?(u=c[0].start.x,d=c[0].start.y):(u=c[0].x,d=c[0].y),yc(c[1])?(A=c[1].end.x,h=c[1].end.y):(A=c[1].x,h=c[1].y),a===0||a===2?m=Math.abs(u-A):m=Math.abs(d-h),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),y=n<3?n*3:n*2,g=n<3?n*2:n,o===3&&(y=n,g=n),v=!0,m<=y*2?v=!1:m<=y*2+g?(x=m/(2*y+g),y*=x,g*=x):(b=Math.floor((m+g)/(y+g)),j=(m-b*y)/(b-1),_=(m-(b+1)*y)/b,g=_<=0||Math.abs(g-j)<Math.abs(g-_)?j:_),v&&(o===3?this.ctx.setLineDash([0,y+g]):this.ctx.setLineDash([y,g])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=hi(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(yc(c[0])&&(N=c[3],B=c[0],this.ctx.beginPath(),this.formatPath([new Et(N.end.x,N.end.y),new Et(B.start.x,B.start.y)]),this.ctx.stroke()),yc(c[1])&&(N=c[1],B=c[2],this.ctx.beginPath(),this.formatPath([new Et(N.end.x,N.end.y),new Et(B.start.x,B.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return No(this,void 0,void 0,function(){var n;return io(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=hi(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Eqe(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},t})(loe),Qqe=function(e){return e instanceof qie||e instanceof Vie?!0:e instanceof OL&&e.type!==nN&&e.type!==rN},Hqe=function(e,t){switch(e){case 0:return iN(t);case 2:return jqe(t);default:return oN(t)}},$qe=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},Vqe=["-apple-system","system-ui"],qqe=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return Vqe.indexOf(t)===-1}):e},Kqe=(function(e){Tu(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return t.prototype.render=function(r){return No(this,void 0,void 0,function(){var n,a;return io(this,function(i){switch(i.label){case 0:return n=eF(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,zqe(n)];case 1:return a=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=hi(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t})(loe),zqe=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Wqe=(function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,n2([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,n2([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,n2([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,n2([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e})(),Gqe=(function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new Wqe({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new mqe(this,t)}return e.instanceCount=1,e})(),coe=function(e,t){return t===void 0&&(t={}),Yqe(e,t)};typeof window<"u"&&roe.setContext(window);var Yqe=function(e,t){return No(void 0,void 0,void 0,function(){var r,n,a,i,o,l,c,u,d,A,h,m,y,g,v,x,b,j,_,N,T,B,T,O,P,M,I,D,$,F,V,X,K,W,z,te,G,U,Y,ee;return io(this,function(ae){switch(ae.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(O=t.allowTaint)!==null&&O!==void 0?O:!1,imageTimeout:(P=t.imageTimeout)!==null&&P!==void 0?P:15e3,proxy:t.proxy,useCORS:(M=t.useCORS)!==null&&M!==void 0?M:!1},i=DI({logging:(I=t.logging)!==null&&I!==void 0?I:!0,cache:t.cache},a),o={windowWidth:(D=t.windowWidth)!==null&&D!==void 0?D:n.innerWidth,windowHeight:($=t.windowHeight)!==null&&$!==void 0?$:n.innerHeight,scrollX:(F=t.scrollX)!==null&&F!==void 0?F:n.pageXOffset,scrollY:(V=t.scrollY)!==null&&V!==void 0?V:n.pageYOffset},l=new qA(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new Gqe(i,l),u=(X=t.foreignObjectRendering)!==null&&X!==void 0?X:!1,d={allowTaint:(K=t.allowTaint)!==null&&K!==void 0?K:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:u,copyStyles:u},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),A=new SK(c,e,d),h=A.clonedReferenceElement,h?[4,A.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=ae.sent(),y=IL(h)||JVe(h)?BHe(h.ownerDocument):KC(c,h),g=y.width,v=y.height,x=y.left,b=y.top,j=Xqe(c,h,t.backgroundColor),_={canvas:t.canvas,backgroundColor:j,scale:(z=(W=t.scale)!==null&&W!==void 0?W:n.devicePixelRatio)!==null&&z!==void 0?z:1,x:((te=t.x)!==null&&te!==void 0?te:0)+x,y:((G=t.y)!==null&&G!==void 0?G:0)+b,width:(U=t.width)!==null&&U!==void 0?U:Math.ceil(g),height:(Y=t.height)!==null&&Y!==void 0?Y:Math.ceil(v)},u?(c.logger.debug("Document cloned, using foreign object rendering"),T=new Kqe(c,_),[4,T.render(h)]):[3,3];case 2:return N=ae.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+x+","+b+" with size "+g+"x"+v+" using computed rendering"),c.logger.debug("Starting DOM parsing"),B=Wie(c,h),j===B.styles.backgroundColor&&(B.styles.backgroundColor=IA.TRANSPARENT),c.logger.debug("Starting renderer for element at "+_.x+","+_.y+" with size "+_.width+"x"+_.height),T=new Mqe(c,_),[4,T.render(B)];case 4:N=ae.sent(),ae.label=5;case 5:return(!((ee=t.removeContainer)!==null&&ee!==void 0)||ee)&&(SK.destroy(m)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,N]}})})},Xqe=function(e,t,r){var n=t.ownerDocument,a=n.documentElement?T0(e,getComputedStyle(n.documentElement).backgroundColor):IA.TRANSPARENT,i=n.body?T0(e,getComputedStyle(n.body).backgroundColor):IA.TRANSPARENT,o=typeof r=="string"?T0(e,r):r===null?IA.TRANSPARENT:4294967295;return t===n.documentElement?ph(a)?ph(i)?o:i:a:o};const Jqe=Object.freeze(Object.defineProperty({__proto__:null,default:coe},Symbol.toStringTag,{value:"Module"})),Zqe="modulepreload",eKe=function(e){return"/dharma_home/"+e},TK={},vP=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");a=c(r.map(u=>{if(u=eKe(u),u in TK)return;TK[u]=!0;const d=u.endsWith(".css"),A=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${A}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Zqe,d||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,y)=>{h.addEventListener("load",m),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function Xn(e){"@babel/helpers - typeof";return Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xn(e)}var Su=Uint8Array,$l=Uint16Array,FL=Int32Array,RL=new Su([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),LL=new Su([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),OK=new Su([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),uoe=function(e,t){for(var r=new $l(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new FL(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},doe=uoe(RL,2),tKe=doe.b,oF=doe.r;tKe[28]=258,oF[258]=28;var rKe=uoe(LL,0),IK=rKe.r,lF=new $l(32768);for(var Ns=0;Ns<32768;++Ns){var Qf=(Ns&43690)>>1|(Ns&21845)<<1;Qf=(Qf&52428)>>2|(Qf&13107)<<2,Qf=(Qf&61680)>>4|(Qf&3855)<<4,lF[Ns]=((Qf&65280)>>8|(Qf&255)<<8)>>1}var R0=(function(e,t,r){for(var n=e.length,a=0,i=new $l(t);a<n;++a)e[a]&&++i[e[a]-1];var o=new $l(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new $l(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],A=o[e[a]-1]++<<d,h=A|(1<<d)-1;A<=h;++A)l[lF[A]>>c]=u}else for(l=new $l(n),a=0;a<n;++a)e[a]&&(l[a]=lF[o[e[a]-1]++]>>15-e[a]);return l}),Sp=new Su(288);for(var Ns=0;Ns<144;++Ns)Sp[Ns]=8;for(var Ns=144;Ns<256;++Ns)Sp[Ns]=9;for(var Ns=256;Ns<280;++Ns)Sp[Ns]=7;for(var Ns=280;Ns<288;++Ns)Sp[Ns]=8;var cN=new Su(32);for(var Ns=0;Ns<32;++Ns)cN[Ns]=5;var nKe=R0(Sp,9,0),sKe=R0(cN,5,0),Aoe=function(e){return(e+7)/8|0},aKe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Su(e.subarray(t,r))},wA=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Yx=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},yP=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:hoe,l:0};if(a==1){var o=new Su(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(N,B){return N.f-B.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,A=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[A].f?u++:A++],c=r[u!=d&&r[u].f<r[A].f?u++:A++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var m=new $l(h+1),y=cF(r[d-1],m,0);if(y>t){var n=0,g=0,v=y-t,x=1<<v;for(i.sort(function(B,T){return m[T.s]-m[B.s]||B.f-T.f});n<a;++n){var b=i[n].s;if(m[b]>t)g+=x-(1<<y-m[b]),m[b]=t;else break}for(g>>=v;g>0;){var j=i[n].s;m[j]<t?g-=1<<t-m[j]++-1:++n}for(;n>=0&&g;--n){var _=i[n].s;m[_]==t&&(--m[_],++g)}y=t}return{t:new Su(m),l:y}},cF=function(e,t,r){return e.s==-1?Math.max(cF(e.l,t,r+1),cF(e.r,t,r+1)):t[e.s]=r},FK=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new $l(++t),n=0,a=e[0],i=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:r.subarray(0,n),n:t}},Xx=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},foe=function(e,t,r){var n=r.length,a=Aoe(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},RK=function(e,t,r,n,a,i,o,l,c,u,d){wA(t,d++,r),++a[256];for(var A=yP(a,15),h=A.t,m=A.l,y=yP(i,15),g=y.t,v=y.l,x=FK(h),b=x.c,j=x.n,_=FK(g),N=_.c,B=_.n,T=new $l(19),O=0;O<b.length;++O)++T[b[O]&31];for(var O=0;O<N.length;++O)++T[N[O]&31];for(var P=yP(T,7),M=P.t,I=P.l,D=19;D>4&&!M[OK[D-1]];--D);var $=u+5<<3,F=Xx(a,Sp)+Xx(i,cN)+o,V=Xx(a,h)+Xx(i,g)+o+14+3*D+Xx(T,M)+2*T[16]+3*T[17]+7*T[18];if(c>=0&&$<=F&&$<=V)return foe(t,d,e.subarray(c,c+u));var X,K,W,z;if(wA(t,d,1+(V<F)),d+=2,V<F){X=R0(h,m,0),K=h,W=R0(g,v,0),z=g;var te=R0(M,I,0);wA(t,d,j-257),wA(t,d+5,B-1),wA(t,d+10,D-4),d+=14;for(var O=0;O<D;++O)wA(t,d+3*O,M[OK[O]]);d+=3*D;for(var G=[b,N],U=0;U<2;++U)for(var Y=G[U],O=0;O<Y.length;++O){var ee=Y[O]&31;wA(t,d,te[ee]),d+=M[ee],ee>15&&(wA(t,d,Y[O]>>5&127),d+=Y[O]>>12)}}else X=nKe,K=Sp,W=sKe,z=cN;for(var O=0;O<l;++O){var ae=n[O];if(ae>255){var ee=ae>>18&31;Yx(t,d,X[ee+257]),d+=K[ee+257],ee>7&&(wA(t,d,ae>>23&31),d+=RL[ee]);var Ae=ae&31;Yx(t,d,W[Ae]),d+=z[Ae],Ae>3&&(Yx(t,d,ae>>5&8191),d+=LL[Ae])}else Yx(t,d,X[ae]),d+=K[ae]}return Yx(t,d,X[256]),d+K[256]},iKe=new FL([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),hoe=new Su(0),oKe=function(e,t,r,n,a,i){var o=i.z||e.length,l=new Su(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var A=iKe[t-1],h=A>>13,m=A&8191,y=(1<<r)-1,g=i.p||new $l(32768),v=i.h||new $l(y+1),x=Math.ceil(r/3),b=2*x,j=function(nt){return(e[nt]^e[nt+1]<<x^e[nt+2]<<b)&y},_=new FL(25e3),N=new $l(288),B=new $l(32),T=0,O=0,P=i.i||0,M=0,I=i.w||0,D=0;P+2<o;++P){var $=j(P),F=P&32767,V=v[$];if(g[F]=V,v[$]=F,I<=P){var X=o-P;if((T>7e3||M>24576)&&(X>423||!u)){d=RK(e,c,0,_,N,B,O,M,D,P-D,d),M=T=O=0,D=P;for(var K=0;K<286;++K)N[K]=0;for(var K=0;K<30;++K)B[K]=0}var W=2,z=0,te=m,G=F-V&32767;if(X>2&&$==j(P-G))for(var U=Math.min(h,X)-1,Y=Math.min(32767,P),ee=Math.min(258,X);G<=Y&&--te&&F!=V;){if(e[P+W]==e[P+W-G]){for(var ae=0;ae<ee&&e[P+ae]==e[P+ae-G];++ae);if(ae>W){if(W=ae,z=G,ae>U)break;for(var Ae=Math.min(G,ae-2),ce=0,K=0;K<Ae;++K){var we=P-G+K&32767,ge=g[we],je=we-ge&32767;je>ce&&(ce=je,V=we)}}}F=V,V=g[F],G+=F-V&32767}if(z){_[M++]=268435456|oF[W]<<18|IK[z];var Oe=oF[W]&31,Ne=IK[z]&31;O+=RL[Oe]+LL[Ne],++N[257+Oe],++B[Ne],I=P+W,++T}else _[M++]=e[P],++N[e[P]]}}for(P=Math.max(P,I);P<o;++P)_[M++]=e[P],++N[e[P]];d=RK(e,c,u,_,N,B,O,M,D,P-D,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=v,i.p=g,i.i=P,i.w=I)}else{for(var P=i.w||0;P<o+u;P+=65535){var et=P+65535;et>=o&&(c[d/8|0]=u,et=o),d=foe(c,d+1,e.subarray(P,et))}i.i=o}return aKe(l,0,n+Aoe(d)+a)},moe=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},lKe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Su(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return oKe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},poe=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},cKe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=moe();a.p(t.dictionary),poe(e,2,a.d())}};function uF(e,t){t||(t={});var r=moe();r.p(e);var n=lKe(e,t,t.dictionary?6:2,4);return cKe(n,t),poe(n,n.length-4,r.d()),n}var uKe=typeof TextDecoder<"u"&&new TextDecoder,dKe=0;try{uKe.decode(hoe,{stream:!0}),dKe=1}catch{}function AKe(e){if(Array.isArray(e))return e}function fKe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function LK(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function hKe(e,t){if(e){if(typeof e=="string")return LK(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?LK(e,t):void 0}}function mKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UK(e,t){return AKe(e)||fKe(e,t)||hKe(e,t)||mKe()}function DK(e,t="utf8"){return new TextDecoder(t).decode(e)}const pKe=new TextEncoder;function gKe(e){return pKe.encode(e)}const vKe=1024*8,yKe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),xP={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class UL{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=vKe,r={}){let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let o=a;(ArrayBuffer.isView(t)||t instanceof UL)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=xP[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===yKe&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new xP[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new xP[r](i);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return DK(this.readBytes(t))}decodeText(t=1,r="utf8"){return DK(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(gKe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Yy(e){let t=e.length;for(;--t>=0;)e[t]=0}const xKe=3,wKe=258,goe=29,bKe=256,jKe=bKe+1+goe,voe=30,_Ke=512,NKe=new Array((jKe+2)*2);Yy(NKe);const CKe=new Array(voe*2);Yy(CKe);const SKe=new Array(_Ke);Yy(SKe);const BKe=new Array(wKe-xKe+1);Yy(BKe);const EKe=new Array(goe);Yy(EKe);const kKe=new Array(voe);Yy(kKe);const PKe=(e,t,r,n)=>{let a=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+t[n++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0};var dF=PKe;const TKe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},OKe=new Uint32Array(TKe()),IKe=(e,t,r,n)=>{const a=OKe,i=n+r;e^=-1;for(let o=n;o<i;o++)e=e>>>8^a[(e^t[o])&255];return e^-1};var nd=IKe,AF={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},yoe={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const FKe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var RKe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)FKe(r,n)&&(e[n]=r[n])}}return e},LKe=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,i=e.length;n<i;n++){let o=e[n];r.set(o,a),a+=o.length}return r},xoe={assign:RKe,flattenChunks:LKe};let woe=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{woe=!1}const Kw=new Uint8Array(256);for(let e=0;e<256;e++)Kw[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Kw[254]=Kw[254]=1;var UKe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,i,o=e.length,l=0;for(a=0;a<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,a=0;i<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const DKe=(e,t)=>{if(t<65534&&e.subarray&&woe)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var MKe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let o=e[n++];if(o<128){i[a++]=o;continue}let l=Kw[o];if(l>4){i[a++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return DKe(i,a)},QKe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Kw[e[r]]>t?r:t},fF={string2buf:UKe,buf2string:MKe,utf8border:QKe};function HKe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var $Ke=HKe;const C2=16209,VKe=16191;var qKe=function(t,r){let n,a,i,o,l,c,u,d,A,h,m,y,g,v,x,b,j,_,N,B,T,O,P,M;const I=t.state;n=t.next_in,P=t.input,a=n+(t.avail_in-5),i=t.next_out,M=t.output,o=i-(r-t.avail_out),l=i+(t.avail_out-257),c=I.dmax,u=I.wsize,d=I.whave,A=I.wnext,h=I.window,m=I.hold,y=I.bits,g=I.lencode,v=I.distcode,x=(1<<I.lenbits)-1,b=(1<<I.distbits)-1;e:do{y<15&&(m+=P[n++]<<y,y+=8,m+=P[n++]<<y,y+=8),j=g[m&x];t:for(;;){if(_=j>>>24,m>>>=_,y-=_,_=j>>>16&255,_===0)M[i++]=j&65535;else if(_&16){N=j&65535,_&=15,_&&(y<_&&(m+=P[n++]<<y,y+=8),N+=m&(1<<_)-1,m>>>=_,y-=_),y<15&&(m+=P[n++]<<y,y+=8,m+=P[n++]<<y,y+=8),j=v[m&b];r:for(;;){if(_=j>>>24,m>>>=_,y-=_,_=j>>>16&255,_&16){if(B=j&65535,_&=15,y<_&&(m+=P[n++]<<y,y+=8,y<_&&(m+=P[n++]<<y,y+=8)),B+=m&(1<<_)-1,B>c){t.msg="invalid distance too far back",I.mode=C2;break e}if(m>>>=_,y-=_,_=i-o,B>_){if(_=B-_,_>d&&I.sane){t.msg="invalid distance too far back",I.mode=C2;break e}if(T=0,O=h,A===0){if(T+=u-_,_<N){N-=_;do M[i++]=h[T++];while(--_);T=i-B,O=M}}else if(A<_){if(T+=u+A-_,_-=A,_<N){N-=_;do M[i++]=h[T++];while(--_);if(T=0,A<N){_=A,N-=_;do M[i++]=h[T++];while(--_);T=i-B,O=M}}}else if(T+=A-_,_<N){N-=_;do M[i++]=h[T++];while(--_);T=i-B,O=M}for(;N>2;)M[i++]=O[T++],M[i++]=O[T++],M[i++]=O[T++],N-=3;N&&(M[i++]=O[T++],N>1&&(M[i++]=O[T++]))}else{T=i-B;do M[i++]=M[T++],M[i++]=M[T++],M[i++]=M[T++],N-=3;while(N>2);N&&(M[i++]=M[T++],N>1&&(M[i++]=M[T++]))}}else if((_&64)===0){j=v[(j&65535)+(m&(1<<_)-1)];continue r}else{t.msg="invalid distance code",I.mode=C2;break e}break}}else if((_&64)===0){j=g[(j&65535)+(m&(1<<_)-1)];continue t}else if(_&32){I.mode=VKe;break e}else{t.msg="invalid literal/length code",I.mode=C2;break e}break}}while(n<a&&i<l);N=y>>3,n-=N,y-=N<<3,m&=(1<<y)-1,t.next_in=n,t.next_out=i,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=i<l?257+(l-i):257-(i-l),I.hold=m,I.bits=y};const Vg=15,MK=852,QK=592,HK=0,wP=1,$K=2,KKe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),zKe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),WKe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),GKe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),YKe=(e,t,r,n,a,i,o,l)=>{const c=l.bits;let u=0,d=0,A=0,h=0,m=0,y=0,g=0,v=0,x=0,b=0,j,_,N,B,T,O=null,P;const M=new Uint16Array(Vg+1),I=new Uint16Array(Vg+1);let D=null,$,F,V;for(u=0;u<=Vg;u++)M[u]=0;for(d=0;d<n;d++)M[t[r+d]]++;for(m=c,h=Vg;h>=1&&M[h]===0;h--);if(m>h&&(m=h),h===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(A=1;A<h&&M[A]===0;A++);for(m<A&&(m=A),v=1,u=1;u<=Vg;u++)if(v<<=1,v-=M[u],v<0)return-1;if(v>0&&(e===HK||h!==1))return-1;for(I[1]=0,u=1;u<Vg;u++)I[u+1]=I[u]+M[u];for(d=0;d<n;d++)t[r+d]!==0&&(o[I[t[r+d]]++]=d);if(e===HK?(O=D=o,P=20):e===wP?(O=KKe,D=zKe,P=257):(O=WKe,D=GKe,P=0),b=0,d=0,u=A,T=i,y=m,g=0,N=-1,x=1<<m,B=x-1,e===wP&&x>MK||e===$K&&x>QK)return 1;for(;;){$=u-g,o[d]+1<P?(F=0,V=o[d]):o[d]>=P?(F=D[o[d]-P],V=O[o[d]-P]):(F=96,V=0),j=1<<u-g,_=1<<y,A=_;do _-=j,a[T+(b>>g)+_]=$<<24|F<<16|V|0;while(_!==0);for(j=1<<u-1;b&j;)j>>=1;if(j!==0?(b&=j-1,b+=j):b=0,d++,--M[u]===0){if(u===h)break;u=t[r+o[d]]}if(u>m&&(b&B)!==N){for(g===0&&(g=m),T+=A,y=u-g,v=1<<y;y+g<h&&(v-=M[y+g],!(v<=0));)y++,v<<=1;if(x+=1<<y,e===wP&&x>MK||e===$K&&x>QK)return 1;N=b&B,a[N]=m<<24|y<<16|T-i|0}}return b!==0&&(a[T+b]=u-g<<24|64<<16|0),l.bits=m,0};var L0=YKe;const XKe=0,boe=1,joe=2,{Z_FINISH:VK,Z_BLOCK:JKe,Z_TREES:S2,Z_OK:Bp,Z_STREAM_END:ZKe,Z_NEED_DICT:eze,Z_STREAM_ERROR:Bc,Z_DATA_ERROR:_oe,Z_MEM_ERROR:Noe,Z_BUF_ERROR:tze,Z_DEFLATED:qK}=yoe,rS=16180,KK=16181,zK=16182,WK=16183,GK=16184,YK=16185,XK=16186,JK=16187,ZK=16188,ez=16189,uN=16190,bA=16191,bP=16192,tz=16193,jP=16194,rz=16195,nz=16196,sz=16197,az=16198,B2=16199,E2=16200,iz=16201,oz=16202,lz=16203,cz=16204,uz=16205,_P=16206,dz=16207,Az=16208,Os=16209,Coe=16210,Soe=16211,rze=852,nze=592,sze=15,aze=sze,fz=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function ize(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const qp=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<rS||t.mode>Soe?1:0},Boe=e=>{if(qp(e))return Bc;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=rS,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(rze),t.distcode=t.distdyn=new Int32Array(nze),t.sane=1,t.back=-1,Bp},Eoe=e=>{if(qp(e))return Bc;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Boe(e)},koe=(e,t)=>{let r;if(qp(e))return Bc;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Bc:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,Eoe(e))},Poe=(e,t)=>{if(!e)return Bc;const r=new ize;e.state=r,r.strm=e,r.window=null,r.mode=rS;const n=koe(e,t);return n!==Bp&&(e.state=null),n},oze=e=>Poe(e,aze);let hz=!0,NP,CP;const lze=e=>{if(hz){NP=new Int32Array(512),CP=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(L0(boe,e.lens,0,288,NP,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;L0(joe,e.lens,0,32,CP,0,e.work,{bits:5}),hz=!1}e.lencode=NP,e.lenbits=9,e.distcode=CP,e.distbits=5},Toe=(e,t,r,n)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},cze=(e,t)=>{let r,n,a,i,o,l,c,u,d,A,h,m,y,g,v=0,x,b,j,_,N,B,T,O;const P=new Uint8Array(4);let M,I;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(qp(e)||!e.output||!e.input&&e.avail_in!==0)return Bc;r=e.state,r.mode===bA&&(r.mode=bP),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,A=l,h=c,O=Bp;e:for(;;)switch(r.mode){case rS:if(r.wrap===0){r.mode=bP;break}for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,P[0]=u&255,P[1]=u>>>8&255,r.check=nd(r.check,P,2,0),u=0,d=0,r.mode=KK;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=Os;break}if((u&15)!==qK){e.msg="unknown compression method",r.mode=Os;break}if(u>>>=4,d-=4,T=(u&15)+8,r.wbits===0&&(r.wbits=T),T>15||T>r.wbits){e.msg="invalid window size",r.mode=Os;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?ez:bA,u=0,d=0;break;case KK:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==qK){e.msg="unknown compression method",r.mode=Os;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Os;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=nd(r.check,P,2,0)),u=0,d=0,r.mode=zK;case zK:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,P[2]=u>>>16&255,P[3]=u>>>24&255,r.check=nd(r.check,P,4,0)),u=0,d=0,r.mode=WK;case WK:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=nd(r.check,P,2,0)),u=0,d=0,r.mode=GK;case GK:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=nd(r.check,P,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=YK;case YK:if(r.flags&1024&&(m=r.length,m>l&&(m=l),m&&(r.head&&(T=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+m),T)),r.flags&512&&r.wrap&4&&(r.check=nd(r.check,n,m,i)),l-=m,i+=m,r.length-=m),r.length))break e;r.length=0,r.mode=XK;case XK:if(r.flags&2048){if(l===0)break e;m=0;do T=n[i+m++],r.head&&T&&r.length<65536&&(r.head.name+=String.fromCharCode(T));while(T&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=nd(r.check,n,m,i)),l-=m,i+=m,T)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=JK;case JK:if(r.flags&4096){if(l===0)break e;m=0;do T=n[i+m++],r.head&&T&&r.length<65536&&(r.head.comment+=String.fromCharCode(T));while(T&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=nd(r.check,n,m,i)),l-=m,i+=m,T)break e}else r.head&&(r.head.comment=null);r.mode=ZK;case ZK:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Os;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=bA;break;case ez:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}e.adler=r.check=fz(u),u=0,d=0,r.mode=uN;case uN:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,eze;e.adler=r.check=1,r.mode=bA;case bA:if(t===JKe||t===S2)break e;case bP:if(r.last){u>>>=d&7,d-=d&7,r.mode=_P;break}for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=tz;break;case 1:if(lze(r),r.mode=B2,t===S2){u>>>=2,d-=2;break e}break;case 2:r.mode=nz;break;case 3:e.msg="invalid block type",r.mode=Os}u>>>=2,d-=2;break;case tz:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Os;break}if(r.length=u&65535,u=0,d=0,r.mode=jP,t===S2)break e;case jP:r.mode=rz;case rz:if(m=r.length,m){if(m>l&&(m=l),m>c&&(m=c),m===0)break e;a.set(n.subarray(i,i+m),o),l-=m,i+=m,c-=m,o+=m,r.length-=m;break}r.mode=bA;break;case nz:for(;d<14;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Os;break}r.have=0,r.mode=sz;case sz:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.lens[D[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[D[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,M={bits:r.lenbits},O=L0(XKe,r.lens,0,19,r.lencode,0,r.work,M),r.lenbits=M.bits,O){e.msg="invalid code lengths set",r.mode=Os;break}r.have=0,r.mode=az;case az:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],x=v>>>24,b=v>>>16&255,j=v&65535,!(x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(j<16)u>>>=x,d-=x,r.lens[r.have++]=j;else{if(j===16){for(I=x+2;d<I;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(u>>>=x,d-=x,r.have===0){e.msg="invalid bit length repeat",r.mode=Os;break}T=r.lens[r.have-1],m=3+(u&3),u>>>=2,d-=2}else if(j===17){for(I=x+3;d<I;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=x,d-=x,T=0,m=3+(u&7),u>>>=3,d-=3}else{for(I=x+7;d<I;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=x,d-=x,T=0,m=11+(u&127),u>>>=7,d-=7}if(r.have+m>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Os;break}for(;m--;)r.lens[r.have++]=T}}if(r.mode===Os)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Os;break}if(r.lenbits=9,M={bits:r.lenbits},O=L0(boe,r.lens,0,r.nlen,r.lencode,0,r.work,M),r.lenbits=M.bits,O){e.msg="invalid literal/lengths set",r.mode=Os;break}if(r.distbits=6,r.distcode=r.distdyn,M={bits:r.distbits},O=L0(joe,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,M),r.distbits=M.bits,O){e.msg="invalid distances set",r.mode=Os;break}if(r.mode=B2,t===S2)break e;case B2:r.mode=E2;case E2:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,qKe(e,h),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,r.mode===bA&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],x=v>>>24,b=v>>>16&255,j=v&65535,!(x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(b&&(b&240)===0){for(_=x,N=b,B=j;v=r.lencode[B+((u&(1<<_+N)-1)>>_)],x=v>>>24,b=v>>>16&255,j=v&65535,!(_+x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=_,d-=_,r.back+=_}if(u>>>=x,d-=x,r.back+=x,r.length=j,b===0){r.mode=uz;break}if(b&32){r.back=-1,r.mode=bA;break}if(b&64){e.msg="invalid literal/length code",r.mode=Os;break}r.extra=b&15,r.mode=iz;case iz:if(r.extra){for(I=r.extra;d<I;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=oz;case oz:for(;v=r.distcode[u&(1<<r.distbits)-1],x=v>>>24,b=v>>>16&255,j=v&65535,!(x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if((b&240)===0){for(_=x,N=b,B=j;v=r.distcode[B+((u&(1<<_+N)-1)>>_)],x=v>>>24,b=v>>>16&255,j=v&65535,!(_+x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=_,d-=_,r.back+=_}if(u>>>=x,d-=x,r.back+=x,b&64){e.msg="invalid distance code",r.mode=Os;break}r.offset=j,r.extra=b&15,r.mode=lz;case lz:if(r.extra){for(I=r.extra;d<I;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Os;break}r.mode=cz;case cz:if(c===0)break e;if(m=h-c,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Os;break}m>r.wnext?(m-=r.wnext,y=r.wsize-m):y=r.wnext-m,m>r.length&&(m=r.length),g=r.window}else g=a,y=o-r.offset,m=r.length;m>c&&(m=c),c-=m,r.length-=m;do a[o++]=g[y++];while(--m);r.length===0&&(r.mode=E2);break;case uz:if(c===0)break e;a[o++]=r.length,c--,r.mode=E2;break;case _P:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[i++]<<d,d+=8}if(h-=c,e.total_out+=h,r.total+=h,r.wrap&4&&h&&(e.adler=r.check=r.flags?nd(r.check,a,h,o-h):dF(r.check,a,h,o-h)),h=c,r.wrap&4&&(r.flags?u:fz(u))!==r.check){e.msg="incorrect data check",r.mode=Os;break}u=0,d=0}r.mode=dz;case dz:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Os;break}u=0,d=0}r.mode=Az;case Az:O=ZKe;break e;case Os:O=_oe;break e;case Coe:return Noe;case Soe:default:return Bc}return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,(r.wsize||h!==e.avail_out&&r.mode<Os&&(r.mode<_P||t!==VK))&&Toe(e,e.output,e.next_out,h-e.avail_out),A-=e.avail_in,h-=e.avail_out,e.total_in+=A,e.total_out+=h,r.total+=h,r.wrap&4&&h&&(e.adler=r.check=r.flags?nd(r.check,a,h,e.next_out-h):dF(r.check,a,h,e.next_out-h)),e.data_type=r.bits+(r.last?64:0)+(r.mode===bA?128:0)+(r.mode===B2||r.mode===jP?256:0),(A===0&&h===0||t===VK)&&O===Bp&&(O=tze),O},uze=e=>{if(qp(e))return Bc;let t=e.state;return t.window&&(t.window=null),e.state=null,Bp},dze=(e,t)=>{if(qp(e))return Bc;const r=e.state;return(r.wrap&2)===0?Bc:(r.head=t,t.done=!1,Bp)},Aze=(e,t)=>{const r=t.length;let n,a,i;return qp(e)||(n=e.state,n.wrap!==0&&n.mode!==uN)?Bc:n.mode===uN&&(a=1,a=dF(a,t,r,0),a!==n.check)?_oe:(i=Toe(e,t,r,r),i?(n.mode=Coe,Noe):(n.havedict=1,Bp))};var fze=Eoe,hze=koe,mze=Boe,pze=oze,gze=Poe,vze=cze,yze=uze,xze=dze,wze=Aze,bze="pako inflate (from Nodeca project)",NA={inflateReset:fze,inflateReset2:hze,inflateResetKeep:mze,inflateInit:pze,inflateInit2:gze,inflate:vze,inflateEnd:yze,inflateGetHeader:xze,inflateSetDictionary:wze,inflateInfo:bze};function jze(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var _ze=jze;const Ooe=Object.prototype.toString,{Z_NO_FLUSH:Nze,Z_FINISH:Cze,Z_OK:zw,Z_STREAM_END:SP,Z_NEED_DICT:BP,Z_STREAM_ERROR:Sze,Z_DATA_ERROR:mz,Z_MEM_ERROR:Bze}=yoe;function Lb(e){this.options=xoe.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $Ke,this.strm.avail_out=0;let r=NA.inflateInit2(this.strm,t.windowBits);if(r!==zw)throw new Error(AF[r]);if(this.header=new _ze,NA.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=fF.string2buf(t.dictionary):Ooe.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=NA.inflateSetDictionary(this.strm,t.dictionary),r!==zw)))throw new Error(AF[r])}Lb.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?Cze:Nze,Ooe.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=NA.inflate(r,o),i===BP&&a&&(i=NA.inflateSetDictionary(r,a),i===zw?i=NA.inflate(r,o):i===mz&&(i=BP));r.avail_in>0&&i===SP&&r.state.wrap>0&&e[r.next_in]!==0;)NA.inflateReset(r),i=NA.inflate(r,o);switch(i){case Sze:case mz:case BP:case Bze:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===SP))if(this.options.to==="string"){let c=fF.utf8border(r.output,r.next_out),u=r.next_out-c,d=fF.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===zw&&l===0)){if(i===SP)return i=NA.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Lb.prototype.onData=function(e){this.chunks.push(e)};Lb.prototype.onEnd=function(e){e===zw&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xoe.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Eze(e,t){const r=new Lb(t);if(r.push(e),r.err)throw r.msg||AF[r.err];return r.result}var kze=Lb,Pze=Eze,Tze={Inflate:kze,inflate:Pze};const{Inflate:Oze,inflate:Ize}=Tze;var pz=Oze,Fze=Ize;const Ioe=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;Ioe[e]=t}const gz=4294967295;function Rze(e,t,r){let n=e;for(let a=0;a<r;a++)n=Ioe[(n^t[a])&255]^n>>>8;return n}function Lze(e,t){return(Rze(gz,e,t)^gz)>>>0}function vz(e,t,r){const n=e.readUint32(),a=Lze(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function Foe(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function Roe(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function Loe(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function Uoe(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function Doe(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+Uze(t[i-a],r[i],r[i-a])&255}}function Uze(e,t,r){const n=e+t-r,a=Math.abs(n-e),i=Math.abs(n-t),o=Math.abs(n-r);return a<=i&&a<=o?e:i<=o?t:r}function Dze(e,t,r,n,a,i){switch(e){case 0:Foe(t,r,a);break;case 1:Roe(t,r,a,i);break;case 2:Loe(t,r,n,a);break;case 3:Uoe(t,r,n,a,i);break;case 4:Doe(t,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const Mze=new Uint16Array([255]),Qze=new Uint8Array(Mze.buffer),Hze=Qze[0]===255;function $ze(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*a,c=new Uint8Array(n*r*l);let u=0;for(let d=0;d<7;d++){const A=o[d],h=Math.ceil((r-A.x)/A.xStep),m=Math.ceil((n-A.y)/A.yStep);if(h<=0||m<=0)continue;const y=h*l,g=new Uint8Array(y);for(let v=0;v<m;v++){const x=t[u++],b=t.subarray(u,u+y);u+=y;const j=new Uint8Array(y);Dze(x,b,j,g,y,l),g.set(j);for(let _=0;_<h;_++){const N=A.x+_*A.xStep,B=A.y+v*A.yStep;if(!(N>=r||B>=n))for(let T=0;T<l;T++)c[(B*r+N)*l+T]=j[_*l+T]}}}if(i===16){const d=new Uint16Array(c.buffer);if(Hze)for(let A=0;A<d.length;A++)d[A]=Vze(d[A]);return d}else return c}function Vze(e){return(e&255)<<8|e>>8&255}const qze=new Uint16Array([255]),Kze=new Uint8Array(qze.buffer),zze=Kze[0]===255,Wze=new Uint8Array(0);function yz(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,o=Math.ceil(i/8)*a,l=Math.ceil(i/8*a*r),c=new Uint8Array(n*l);let u=Wze,d=0,A,h;for(let m=0;m<n;m++){switch(A=t.subarray(d+1,d+1+l),h=c.subarray(m*l,(m+1)*l),t[d]){case 0:Foe(A,h,l);break;case 1:Roe(A,h,l,o);break;case 2:Loe(A,h,u,l);break;case 3:Uoe(A,h,u,l,o);break;case 4:Doe(A,h,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=h,d+=l+1}if(i===16){const m=new Uint16Array(c.buffer);if(zze)for(let y=0;y<m.length;y++)m[y]=Gze(m[y]);return m}else return c}function Gze(e){return(e&255)<<8|e>>8&255}const ij=Uint8Array.of(137,80,78,71,13,10,26,10);function xz(e){if(!Yze(e.readBytes(ij.length)))throw new Error("wrong PNG signature")}function Yze(e){if(e.length<ij.length)return!1;for(let t=0;t<ij.length;t++)if(e[t]!==ij[t])return!1;return!0}const Xze="tEXt",Jze=0,Moe=new TextDecoder("latin1");function Zze(e){if(tWe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const eWe=/^[\u0000-\u00FF]*$/;function tWe(e){if(!eWe.test(e))throw new Error("invalid latin1 text")}function rWe(e,t,r){const n=Qoe(t);e[n]=nWe(t,r-n.length-1)}function Qoe(e){for(e.mark();e.readByte()!==Jze;);const t=e.offset;e.reset();const r=Moe.decode(e.readBytes(t-e.offset-1));return e.skip(1),Zze(r),r}function nWe(e,t){return Moe.decode(e.readBytes(t))}const Tl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},EP={UNKNOWN:-1,DEFLATE:0},wz={UNKNOWN:-1,ADAPTIVE:0},kP={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},k2={NONE:0,BACKGROUND:1,PREVIOUS:2},PP={SOURCE:0,OVER:1};class sWe extends UL{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,r={}){super(t);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new pz,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=EP.UNKNOWN,this._filterMethod=wz.UNKNOWN,this._interlaceMethod=kP.UNKNOWN,this._colorType=Tl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(xz(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(xz(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case Xze:rWe(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?vz(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?vz(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=aWe(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Tl.GREYSCALE:n=1;break;case Tl.TRUECOLOUR:n=3;break;case Tl.INDEXED_COLOUR:n=1;break;case Tl.GREYSCALE_ALPHA:n=2;break;case Tl.TRUECOLOUR_ALPHA:n=4;break;case Tl.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==EP.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let a=0;a<r;a++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Tl.GREYSCALE:case Tl.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case Tl.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Tl.UNKNOWN:case Tl.GREYSCALE_ALPHA:case Tl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=Qoe(this),n=this.readUint8();if(n!==EP.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const a=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Fze(a)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=yz({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(n,a,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,n){switch(t.disposeOp){case k2.NONE:break;case k2.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let i=0;i<this._png.width;i++){const o=(a*t.width+i)*this._png.channels;for(let l=0;l<this._png.channels;l++)n.data[o+l]=0}break;case k2.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const n=1<<this._png.depth,a=(i,o)=>{const l=((i+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,c=(i*r.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case PP.SOURCE:for(let i=0;i<r.height;i++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=a(i,o);for(let u=0;u<this._png.channels;u++)t.data[l+u]=r.data[c+u]}break;case PP.OVER:for(let i=0;i<r.height;i++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=a(i,o);for(let u=0;u<this._png.channels;u++){const d=r.data[c+this._png.channels-1]/n,A=u%(this._png.channels-1)===0?1:r.data[c+u],h=Math.floor(d*A+(1-d)*t.data[l+u]);t.data[l+u]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==wz.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===kP.NO_INTERLACE)this._png.data=yz({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===kP.ADAM7)this._png.data=$ze({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:k2.NONE,blendOp:PP.SOURCE,data:t}),this._inflator=new pz,this._writingDataChunks=!1}}function aWe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var bz;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(bz||(bz={}));function iWe(e,t){return new sWe(e,t).decode()}var Or=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function TP(){Or.console&&typeof Or.console.log=="function"&&Or.console.log.apply(Or.console,arguments)}var ls={log:TP,warn:function(e){Or.console&&(typeof Or.console.warn=="function"?Or.console.warn.apply(Or.console,arguments):TP.call(null,arguments))},error:function(e){Or.console&&(typeof Or.console.error=="function"?Or.console.error.apply(Or.console,arguments):TP(e))}};function OP(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Om(n.response,t,r)},n.onerror=function(){ls.error("could not download file")},n.send()}function jz(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function P2(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Om=Or.saveAs||((typeof window>"u"?"undefined":Xn(window))!=="object"||window!==Or?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Or.URL||Or.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?jz(a.href)?OP(e,t,r):P2(a,a.target="_blank"):P2(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){P2(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(jz(e))OP(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){P2(n)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:Xn(i)!=="object"&&(ls.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return OP(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Or.HTMLElement)||Or.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":Xn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=Or.URL||Or.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});function Hoe(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var oj=Or.atob.bind(Or),_z=Or.btoa.bind(Or);function IP(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=ro(r,n,a,i,t[0],7,-680876936),i=ro(i,r,n,a,t[1],12,-389564586),a=ro(a,i,r,n,t[2],17,606105819),n=ro(n,a,i,r,t[3],22,-1044525330),r=ro(r,n,a,i,t[4],7,-176418897),i=ro(i,r,n,a,t[5],12,1200080426),a=ro(a,i,r,n,t[6],17,-1473231341),n=ro(n,a,i,r,t[7],22,-45705983),r=ro(r,n,a,i,t[8],7,1770035416),i=ro(i,r,n,a,t[9],12,-1958414417),a=ro(a,i,r,n,t[10],17,-42063),n=ro(n,a,i,r,t[11],22,-1990404162),r=ro(r,n,a,i,t[12],7,1804603682),i=ro(i,r,n,a,t[13],12,-40341101),a=ro(a,i,r,n,t[14],17,-1502002290),r=no(r,n=ro(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=no(i,r,n,a,t[6],9,-1069501632),a=no(a,i,r,n,t[11],14,643717713),n=no(n,a,i,r,t[0],20,-373897302),r=no(r,n,a,i,t[5],5,-701558691),i=no(i,r,n,a,t[10],9,38016083),a=no(a,i,r,n,t[15],14,-660478335),n=no(n,a,i,r,t[4],20,-405537848),r=no(r,n,a,i,t[9],5,568446438),i=no(i,r,n,a,t[14],9,-1019803690),a=no(a,i,r,n,t[3],14,-187363961),n=no(n,a,i,r,t[8],20,1163531501),r=no(r,n,a,i,t[13],5,-1444681467),i=no(i,r,n,a,t[2],9,-51403784),a=no(a,i,r,n,t[7],14,1735328473),r=so(r,n=no(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=so(i,r,n,a,t[8],11,-2022574463),a=so(a,i,r,n,t[11],16,1839030562),n=so(n,a,i,r,t[14],23,-35309556),r=so(r,n,a,i,t[1],4,-1530992060),i=so(i,r,n,a,t[4],11,1272893353),a=so(a,i,r,n,t[7],16,-155497632),n=so(n,a,i,r,t[10],23,-1094730640),r=so(r,n,a,i,t[13],4,681279174),i=so(i,r,n,a,t[0],11,-358537222),a=so(a,i,r,n,t[3],16,-722521979),n=so(n,a,i,r,t[6],23,76029189),r=so(r,n,a,i,t[9],4,-640364487),i=so(i,r,n,a,t[12],11,-421815835),a=so(a,i,r,n,t[15],16,530742520),r=ao(r,n=so(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=ao(i,r,n,a,t[7],10,1126891415),a=ao(a,i,r,n,t[14],15,-1416354905),n=ao(n,a,i,r,t[5],21,-57434055),r=ao(r,n,a,i,t[12],6,1700485571),i=ao(i,r,n,a,t[3],10,-1894986606),a=ao(a,i,r,n,t[10],15,-1051523),n=ao(n,a,i,r,t[1],21,-2054922799),r=ao(r,n,a,i,t[8],6,1873313359),i=ao(i,r,n,a,t[15],10,-30611744),a=ao(a,i,r,n,t[6],15,-1560198380),n=ao(n,a,i,r,t[13],21,1309151649),r=ao(r,n,a,i,t[4],6,-145523070),i=ao(i,r,n,a,t[11],10,-1120210379),a=ao(a,i,r,n,t[2],15,718787259),n=ao(n,a,i,r,t[9],21,-343485551),e[0]=oh(r,e[0]),e[1]=oh(n,e[1]),e[2]=oh(a,e[2]),e[3]=oh(i,e[3])}function nS(e,t,r,n,a,i){return t=oh(oh(t,e),oh(n,i)),oh(t<<a|t>>>32-a,r)}function ro(e,t,r,n,a,i,o){return nS(t&r|~t&n,e,t,a,i,o)}function no(e,t,r,n,a,i,o){return nS(t&n|r&~n,e,t,a,i,o)}function so(e,t,r,n,a,i,o){return nS(t^r^n,e,t,a,i,o)}function ao(e,t,r,n,a,i,o){return nS(r^(t|~n),e,t,a,i,o)}function $oe(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)IP(n,oWe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(IP(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,IP(n,a),n}function oWe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var Nz="0123456789abcdef".split("");function lWe(e){for(var t="",r=0;r<4;r++)t+=Nz[e>>8*r+4&15]+Nz[e>>8*r&15];return t}function cWe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function hF(e){return $oe(e).map(cWe).join("")}var uWe=(function(e){for(var t=0;t<e.length;t++)e[t]=lWe(e[t]);return e.join("")})($oe("hello"))!="5d41402abc4b2a76b9719d911017c592";function oh(e,t){if(uWe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}function mF(e,t){var r,n,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var A=t.length,h=0,m=0,y="";for(c=0;c<A;c++)m=(m+(d=l[h=(h+1)%256]))%256,l[h]=l[m],l[m]=d,o=l[(l[h]+l[m])%256],y+=String.fromCharCode(t.charCodeAt(c)^o);return y}var Cz={print:4,modify:8,copy:16,"annot-forms":32};function rv(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(Cz.perm!==void 0)throw new Error("Invalid permission: "+l);a+=Cz[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=hF(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=mF(this.encryptionKey,this.padding)}function nv(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function Sz(e){if(Xn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(l){Or.console&&ls.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function dN(e){if(!(this instanceof dN))return new dN(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Voe(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Um(e,t,r,n,a){if(!(this instanceof Um))return new Um(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Voe.call(this,n,a)}function pv(e,t,r,n,a){if(!(this instanceof pv))return new pv(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Voe.call(this,n,a)}function rr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",d=null;Xn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var A=e.putOnlyUsedFonts||!1,h={},m={internal:{},__private__:{}};m.__private__.PubSub=Sz;var y="1.3",g=m.__private__.getPdfVersion=function(){return y};m.__private__.setPdfVersion=function(R){y=R};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return v};var x=m.__private__.getPageFormat=function(R){return v[R]};a=a||"a4";var b="compat",j="advanced",_=b;function N(){this.saveGraphicsState(),le(new Dt(tr,0,0,-tr,0,qo()*tr).toString()+" cm"),this.setFontSize(this.getFontSize()/tr),u="n",_=j}function B(){this.restoreGraphicsState(),u="S",_=b}var T=m.__private__.combineFontStyleAndFontWeight=function(R,Z){if(R=="bold"&&Z=="normal"||R=="bold"&&Z==400||R=="normal"&&Z=="italic"||R=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(R=Z==400||Z==="normal"?R==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||R!=="normal"?(Z==700?"bold":Z)+""+R:"bold"),R};m.advancedAPI=function(R){var Z=_===b;return Z&&N.call(this),typeof R!="function"||(R(this),Z&&B.call(this)),this},m.compatAPI=function(R){var Z=_===j;return Z&&B.call(this),typeof R!="function"||(R(this),Z&&N.call(this)),this},m.isAdvancedAPI=function(){return _===j};var O,P=function(R){if(_!==j)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=m.roundToPrecision=m.__private__.roundToPrecision=function(R,Z){var pe=t||Z;if(isNaN(R)||isNaN(pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(pe).replace(/0+$/,"")};O=m.hpf=m.__private__.hpf=typeof c=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return M(R,c)}:c==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return M(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return M(R,16)};var I=m.f2=m.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return M(R,2)},D=m.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return M(R,3)},$=m.scale=m.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return _===b?R*tr:_===j?R:void 0},F=function(R){return $((function(Z){return _===b?qo()-Z:_===j?Z:void 0})(R))};m.__private__.setPrecision=m.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(t=parseInt(R,10))};var V,X="00000000000000000000000000000000",K=m.__private__.getFileId=function(){return X},W=m.__private__.setFileId=function(R){return X=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Aa=new rv(d.userPermissions,d.userPassword,d.ownerPassword,X)),X};m.setFileId=function(R){return W(R),this},m.getFileId=function(){return K()};var z=m.__private__.convertDateToPDFDate=function(R){var Z=R.getTimezoneOffset(),pe=Z<0?"+":"-",_e=Math.floor(Math.abs(Z/60)),Te=Math.abs(Z%60),Ye=[pe,ee(_e),"'",ee(Te),"'"].join("");return["D:",R.getFullYear(),ee(R.getMonth()+1),ee(R.getDate()),ee(R.getHours()),ee(R.getMinutes()),ee(R.getSeconds()),Ye].join("")},te=m.__private__.convertPDFDateToDate=function(R){var Z=parseInt(R.substr(2,4),10),pe=parseInt(R.substr(6,2),10)-1,_e=parseInt(R.substr(8,2),10),Te=parseInt(R.substr(10,2),10),Ye=parseInt(R.substr(12,2),10),ut=parseInt(R.substr(14,2),10);return new Date(Z,pe,_e,Te,Ye,ut,0)},G=m.__private__.setCreationDate=function(R){var Z;if(R===void 0&&(R=new Date),R instanceof Date)Z=z(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=R}return V=Z},U=m.__private__.getCreationDate=function(R){var Z=V;return R==="jsDate"&&(Z=te(V)),Z};m.setCreationDate=function(R){return G(R),this},m.getCreationDate=function(R){return U(R)};var Y,ee=m.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},ae=m.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},Ae=0,ce=[],we=[],ge=0,je=[],Oe=[],Ne=!1,et=we;m.__private__.setCustomOutputDestination=function(R){Ne=!0,et=R};var nt=function(R){Ne||(et=R)};m.__private__.resetCustomOutputDestination=function(){Ne=!1,et=we};var le=m.__private__.out=function(R){return R=R.toString(),ge+=R.length+1,et.push(R),et},lt=m.__private__.write=function(R){return le(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},Pt=m.__private__.getArrayBuffer=function(R){for(var Z=R.length,pe=new ArrayBuffer(Z),_e=new Uint8Array(pe);Z--;)_e[Z]=R.charCodeAt(Z);return pe},Pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Pe};var Me=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(R){return Me=_===j?R/tr:R,this};var fe,ve=m.__private__.getFontSize=m.getFontSize=function(){return _===b?Me:Me*tr},Ee=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(R){return Ee=R,this},m.__private__.getR2L=m.getR2L=function(){return Ee};var xe,qe=m.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))fe=R;else if(isNaN(R)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');fe=R}else fe=parseInt(R,10)};m.__private__.getZoomMode=function(){return fe};var Ke,tt=m.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');xe=R};m.__private__.getPageMode=function(){return xe};var jt=m.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');Ke=R};m.__private__.getLayoutMode=function(){return Ke},m.__private__.setDisplayMode=m.setDisplayMode=function(R,Z,pe){return qe(R),jt(Z),tt(pe),this};var Ct={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(R){if(Object.keys(Ct).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ct[R]},m.__private__.getDocumentProperties=function(){return Ct},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(R){for(var Z in Ct)Ct.hasOwnProperty(Z)&&R[Z]&&(Ct[Z]=R[Z]);return this},m.__private__.setDocumentProperty=function(R,Z){if(Object.keys(Ct).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ct[R]=Z};var _t,tr,St,Zn,Hr,dr={},Fr={},tn=[],Wt={},vn={},sr={},xr={},Nn=null,Cr=0,qt=[],yn=new Sz(m),cr=e.hotfixes||[],Er={},ln={},us=[],Dt=function R(Z,pe,_e,Te,Ye,ut){if(!(this instanceof R))return new R(Z,pe,_e,Te,Ye,ut);isNaN(Z)&&(Z=1),isNaN(pe)&&(pe=0),isNaN(_e)&&(_e=0),isNaN(Te)&&(Te=1),isNaN(Ye)&&(Ye=0),isNaN(ut)&&(ut=0),this._matrix=[Z,pe,_e,Te,Ye,ut]};Object.defineProperty(Dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Dt.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(R)},Dt.prototype.multiply=function(R){var Z=R.sx*this.sx+R.shy*this.shx,pe=R.sx*this.shy+R.shy*this.sy,_e=R.shx*this.sx+R.sy*this.shx,Te=R.shx*this.shy+R.sy*this.sy,Ye=R.tx*this.sx+R.ty*this.shx+this.tx,ut=R.tx*this.shy+R.ty*this.sy+this.ty;return new Dt(Z,pe,_e,Te,Ye,ut)},Dt.prototype.decompose=function(){var R=this.sx,Z=this.shy,pe=this.shx,_e=this.sy,Te=this.tx,Ye=this.ty,ut=Math.sqrt(R*R+Z*Z),Mt=(R/=ut)*pe+(Z/=ut)*_e;pe-=R*Mt,_e-=Z*Mt;var Gt=Math.sqrt(pe*pe+_e*_e);return Mt/=Gt,R*(_e/=Gt)<Z*(pe/=Gt)&&(R=-R,Z=-Z,Mt=-Mt,ut=-ut),{scale:new Dt(ut,0,0,Gt,0,0),translate:new Dt(1,0,0,1,Te,Ye),rotate:new Dt(R,Z,-Z,R,0,0),skew:new Dt(1,0,Mt,1,0,0)}},Dt.prototype.toString=function(R){return this.join(" ")},Dt.prototype.inversed=function(){var R=this.sx,Z=this.shy,pe=this.shx,_e=this.sy,Te=this.tx,Ye=this.ty,ut=1/(R*_e-Z*pe),Mt=_e*ut,Gt=-Z*ut,kr=-pe*ut,Rr=R*ut;return new Dt(Mt,Gt,kr,Rr,-Mt*Te-kr*Ye,-Gt*Te-Rr*Ye)},Dt.prototype.applyToPoint=function(R){var Z=R.x*this.sx+R.y*this.shx+this.tx,pe=R.x*this.shy+R.y*this.sy+this.ty;return new Ho(Z,pe)},Dt.prototype.applyToRectangle=function(R){var Z=this.applyToPoint(R),pe=this.applyToPoint(new Ho(R.x+R.w,R.y+R.h));return new qd(Z.x,Z.y,pe.x-Z.x,pe.y-Z.y)},Dt.prototype.clone=function(){var R=this.sx,Z=this.shy,pe=this.shx,_e=this.sy,Te=this.tx,Ye=this.ty;return new Dt(R,Z,pe,_e,Te,Ye)},m.Matrix=Dt;var Cs=m.matrixMult=function(R,Z){return Z.multiply(R)},da=new Dt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=da;var Ln=function(R,Z){if(!vn[R]){var pe=(Z instanceof Um?"Sh":"P")+(Object.keys(Wt).length+1).toString(10);Z.id=pe,vn[R]=pe,Wt[pe]=Z,yn.publish("addPattern",Z)}};m.ShadingPattern=Um,m.TilingPattern=pv,m.addShadingPattern=function(R,Z){return P("addShadingPattern()"),Ln(R,Z),this},m.beginTilingPattern=function(R){P("beginTilingPattern()"),$o(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},m.endTilingPattern=function(R,Z){P("endTilingPattern()"),Z.stream=Oe[Y].join(`
`),Ln(R,Z),yn.publish("endTilingPattern",Z),us.pop().restore()};var Us,es=m.__private__.newObject=function(){var R=Ds();return Gs(R,!0),R},Ds=m.__private__.newObjectDeferred=function(){return Ae++,ce[Ae]=function(){return ge},Ae},Gs=function(R,Z){return Z=typeof Z=="boolean"&&Z,ce[R]=ge,Z&&le(R+" 0 obj"),R},Ic=m.__private__.newAdditionalObject=function(){var R={objId:Ds(),content:""};return je.push(R),R},Fu=Ds(),vl=Ds(),Xl=m.__private__.decodeColorString=function(R){var Z=R.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length!==5||Z[4]!=="k"&&Z[4]!=="K"||(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var pe=parseFloat(Z[0]);Z=[pe,pe,pe,"r"]}for(var _e="#",Te=0;Te<3;Te++)_e+=("0"+Math.floor(255*parseFloat(Z[Te])).toString(16)).slice(-2);return _e},$a=m.__private__.encodeColorString=function(R){var Z;typeof R=="string"&&(R={ch1:R});var pe=R.ch1,_e=R.ch2,Te=R.ch3,Ye=R.ch4,ut=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof pe=="string"&&pe.charAt(0)!=="#"){var Mt=new Hoe(pe);if(Mt.ok)pe=Mt.toHex();else if(!/^\d*\.?\d*$/.test(pe))throw new Error('Invalid color "'+pe+'" passed to jsPDF.encodeColorString.')}if(typeof pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(pe)&&(pe="#"+pe[1]+pe[1]+pe[2]+pe[2]+pe[3]+pe[3]),typeof pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(pe)){var Gt=parseInt(pe.substr(1),16);pe=Gt>>16&255,_e=Gt>>8&255,Te=255&Gt}if(_e===void 0||Ye===void 0&&pe===_e&&_e===Te)Z=typeof pe=="string"?pe+" "+ut[0]:R.precision===2?I(pe/255)+" "+ut[0]:D(pe/255)+" "+ut[0];else if(Ye===void 0||Xn(Ye)==="object"){if(Ye&&!isNaN(Ye.a)&&Ye.a===0)return["1.","1.","1.",ut[1]].join(" ");Z=typeof pe=="string"?[pe,_e,Te,ut[1]].join(" "):R.precision===2?[I(pe/255),I(_e/255),I(Te/255),ut[1]].join(" "):[D(pe/255),D(_e/255),D(Te/255),ut[1]].join(" ")}else Z=typeof pe=="string"?[pe,_e,Te,Ye,ut[2]].join(" "):R.precision===2?[I(pe),I(_e),I(Te),I(Ye),ut[2]].join(" "):[D(pe),D(_e),D(Te),D(Ye),ut[2]].join(" ");return Z},Do=m.__private__.getFilters=function(){return o},fo=m.__private__.putStream=function(R){var Z=(R=R||{}).data||"",pe=R.filters||Do(),_e=R.alreadyAppliedFilters||[],Te=R.addLength1||!1,Ye=Z.length,ut=R.objectId,Mt=function(fa){return fa};if(d!==null&&ut===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Mt=Aa.encryptor(ut,0));var Gt={};pe===!0&&(pe=["FlateEncode"]);var kr=R.additionalKeyValues||[],Rr=(Gt=rr.API.processDataByFilters!==void 0?rr.API.processDataByFilters(Z,pe):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(_e)?_e.join(" "):_e.toString());if(Gt.data.length!==0&&(kr.push({key:"Length",value:Gt.data.length}),Te===!0&&kr.push({key:"Length1",value:Ye})),Rr.length!=0)if(Rr.split("/").length-1==1)kr.push({key:"Filter",value:Rr});else{kr.push({key:"Filter",value:"["+Rr+"]"});for(var xn=0;xn<kr.length;xn+=1)if(kr[xn].key==="DecodeParms"){for(var ws=[],Js=0;Js<Gt.reverseChain.split("/").length-1;Js+=1)ws.push("null");ws.push(kr[xn].value),kr[xn].value="["+ws.join(" ")+"]"}}le("<<");for(var ts=0;ts<kr.length;ts++)le("/"+kr[ts].key+" "+kr[ts].value);le(">>"),Gt.data.length!==0&&(le("stream"),le(Mt(Gt.data)),le("endstream"))},Id=m.__private__.putPage=function(R){var Z=R.number,pe=R.data,_e=R.objId,Te=R.contentsObjId;Gs(_e,!0),le("<</Type /Page"),le("/Parent "+R.rootDictionaryObjId+" 0 R"),le("/Resources "+R.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(O(R.mediaBox.bottomLeftX))+" "+parseFloat(O(R.mediaBox.bottomLeftY))+" "+O(R.mediaBox.topRightX)+" "+O(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&le("/CropBox ["+O(R.cropBox.bottomLeftX)+" "+O(R.cropBox.bottomLeftY)+" "+O(R.cropBox.topRightX)+" "+O(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&le("/BleedBox ["+O(R.bleedBox.bottomLeftX)+" "+O(R.bleedBox.bottomLeftY)+" "+O(R.bleedBox.topRightX)+" "+O(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&le("/TrimBox ["+O(R.trimBox.bottomLeftX)+" "+O(R.trimBox.bottomLeftY)+" "+O(R.trimBox.topRightX)+" "+O(R.trimBox.topRightY)+"]"),R.artBox!==null&&le("/ArtBox ["+O(R.artBox.bottomLeftX)+" "+O(R.artBox.bottomLeftY)+" "+O(R.artBox.topRightX)+" "+O(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&le("/UserUnit "+R.userUnit),yn.publish("putPage",{objId:_e,pageContext:qt[Z],pageNumber:Z,page:pe}),le("/Contents "+Te+" 0 R"),le(">>"),le("endobj");var Ye=pe.join(`
`);return _===j&&(Ye+=`
Q`),Gs(Te,!0),fo({data:Ye,filters:Do(),objectId:Te}),le("endobj"),_e},yl=m.__private__.putPages=function(){var R,Z,pe=[];for(R=1;R<=Cr;R++)qt[R].objId=Ds(),qt[R].contentsObjId=Ds();for(R=1;R<=Cr;R++)pe.push(Id({number:R,data:Oe[R],objId:qt[R].objId,contentsObjId:qt[R].contentsObjId,mediaBox:qt[R].mediaBox,cropBox:qt[R].cropBox,bleedBox:qt[R].bleedBox,trimBox:qt[R].trimBox,artBox:qt[R].artBox,userUnit:qt[R].userUnit,rootDictionaryObjId:Fu,resourceDictionaryObjId:vl}));Gs(Fu,!0),le("<</Type /Pages");var _e="/Kids [";for(Z=0;Z<Cr;Z++)_e+=pe[Z]+" 0 R ";le(_e+"]"),le("/Count "+Cr),le(">>"),le("endobj"),yn.publish("postPutPages")},Ru=function(R){yn.publish("putFont",{font:R,out:le,newObject:es,putStream:fo}),R.isAlreadyPutted!==!0&&(R.objectNumber=es(),le("<<"),le("/Type /Font"),le("/BaseFont /"+nv(R.postScriptName)),le("/Subtype /Type1"),typeof R.encoding=="string"&&le("/Encoding /"+R.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},Fd=function(R){R.objectNumber=es();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[O(R.x),O(R.y),O(R.x+R.width),O(R.y+R.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var pe=R.pages[1].join(`
`);fo({data:pe,additionalKeyValues:Z,objectId:R.objectNumber}),le("endobj")},Rd=function(R,Z){Z||(Z=21);var pe=es(),_e=(function(ut,Mt){var Gt,kr=[],Rr=1/(Mt-1);for(Gt=0;Gt<1;Gt+=Rr)kr.push(Gt);if(kr.push(1),ut[0].offset!=0){var xn={offset:0,color:ut[0].color};ut.unshift(xn)}if(ut[ut.length-1].offset!=1){var ws={offset:1,color:ut[ut.length-1].color};ut.push(ws)}for(var Js="",ts=0,fa=0;fa<kr.length;fa++){for(Gt=kr[fa];Gt>ut[ts+1].offset;)ts++;var Ms=ut[ts].offset,Va=(Gt-Ms)/(ut[ts+1].offset-Ms),Lc=ut[ts].color,bl=ut[ts+1].color;Js+=ae(Math.round((1-Va)*Lc[0]+Va*bl[0]).toString(16))+ae(Math.round((1-Va)*Lc[1]+Va*bl[1]).toString(16))+ae(Math.round((1-Va)*Lc[2]+Va*bl[2]).toString(16))}return Js.trim()})(R.colors,Z),Te=[];Te.push({key:"FunctionType",value:"0"}),Te.push({key:"Domain",value:"[0.0 1.0]"}),Te.push({key:"Size",value:"["+Z+"]"}),Te.push({key:"BitsPerSample",value:"8"}),Te.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Te.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),fo({data:_e,additionalKeyValues:Te,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pe}),le("endobj"),R.objectNumber=es(),le("<< /ShadingType "+R.type),le("/ColorSpace /DeviceRGB");var Ye="/Coords ["+O(parseFloat(R.coords[0]))+" "+O(parseFloat(R.coords[1]))+" ";R.type===2?Ye+=O(parseFloat(R.coords[2]))+" "+O(parseFloat(R.coords[3])):Ye+=O(parseFloat(R.coords[2]))+" "+O(parseFloat(R.coords[3]))+" "+O(parseFloat(R.coords[4]))+" "+O(parseFloat(R.coords[5])),le(Ye+="]"),R.matrix&&le("/Matrix ["+R.matrix.toString()+"]"),le("/Function "+pe+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},ef=function(R,Z){var pe=Ds(),_e=es();Z.push({resourcesOid:pe,objectOid:_e}),R.objectNumber=_e;var Te=[];Te.push({key:"Type",value:"/Pattern"}),Te.push({key:"PatternType",value:"1"}),Te.push({key:"PaintType",value:"1"}),Te.push({key:"TilingType",value:"1"}),Te.push({key:"BBox",value:"["+R.boundingBox.map(O).join(" ")+"]"}),Te.push({key:"XStep",value:O(R.xStep)}),Te.push({key:"YStep",value:O(R.yStep)}),Te.push({key:"Resources",value:pe+" 0 R"}),R.matrix&&Te.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),fo({data:R.stream,additionalKeyValues:Te,objectId:R.objectNumber}),le("endobj")},Jy=function(R){for(var Z in R.objectNumber=es(),le("<<"),R)switch(Z){case"opacity":le("/ca "+I(R[Z]));break;case"stroke-opacity":le("/CA "+I(R[Z]))}le(">>"),le("endobj")},is=function(R){Gs(R.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Z in le("/Font <<"),dr)dr.hasOwnProperty(Z)&&(A===!1||A===!0&&h.hasOwnProperty(Z))&&le("/"+Z+" "+dr[Z].objectNumber+" 0 R");le(">>")})(),(function(){if(Object.keys(Wt).length>0){for(var Z in le("/Shading <<"),Wt)Wt.hasOwnProperty(Z)&&Wt[Z]instanceof Um&&Wt[Z].objectNumber>=0&&le("/"+Z+" "+Wt[Z].objectNumber+" 0 R");yn.publish("putShadingPatternDict"),le(">>")}})(),(function(Z){if(Object.keys(Wt).length>0){for(var pe in le("/Pattern <<"),Wt)Wt.hasOwnProperty(pe)&&Wt[pe]instanceof m.TilingPattern&&Wt[pe].objectNumber>=0&&Wt[pe].objectNumber<Z&&le("/"+pe+" "+Wt[pe].objectNumber+" 0 R");yn.publish("putTilingPatternDict"),le(">>")}})(R.objectOid),(function(){if(Object.keys(sr).length>0){var Z;for(Z in le("/ExtGState <<"),sr)sr.hasOwnProperty(Z)&&sr[Z].objectNumber>=0&&le("/"+Z+" "+sr[Z].objectNumber+" 0 R");yn.publish("putGStateDict"),le(">>")}})(),(function(){for(var Z in le("/XObject <<"),Er)Er.hasOwnProperty(Z)&&Er[Z].objectNumber>=0&&le("/"+Z+" "+Er[Z].objectNumber+" 0 R");yn.publish("putXobjectDict"),le(">>")})(),le(">>"),le("endobj")},zp=function(R){Fr[R.fontName]=Fr[R.fontName]||{},Fr[R.fontName][R.fontStyle]=R.id},tf=function(R,Z,pe,_e,Te){var Ye={id:"F"+(Object.keys(dr).length+1).toString(10),postScriptName:R,fontName:Z,fontStyle:pe,encoding:_e,isStandardFont:Te||!1,metadata:{}};return yn.publish("addFont",{font:Ye,instance:this}),dr[Ye.id]=Ye,zp(Ye),Ye.id},ho=m.__private__.pdfEscape=m.pdfEscape=function(R,Z){return(function(pe,_e){var Te,Ye,ut,Mt,Gt,kr,Rr,xn,ws;if(ut=(_e=_e||{}).sourceEncoding||"Unicode",Gt=_e.outputEncoding,(_e.autoencode||Gt)&&dr[_t].metadata&&dr[_t].metadata[ut]&&dr[_t].metadata[ut].encoding&&(Mt=dr[_t].metadata[ut].encoding,!Gt&&dr[_t].encoding&&(Gt=dr[_t].encoding),!Gt&&Mt.codePages&&(Gt=Mt.codePages[0]),typeof Gt=="string"&&(Gt=Mt[Gt]),Gt)){for(Rr=!1,kr=[],Te=0,Ye=pe.length;Te<Ye;Te++)(xn=Gt[pe.charCodeAt(Te)])?kr.push(String.fromCharCode(xn)):kr.push(pe[Te]),kr[Te].charCodeAt(0)>>8&&(Rr=!0);pe=kr.join("")}for(Te=pe.length;Rr===void 0&&Te!==0;)pe.charCodeAt(Te-1)>>8&&(Rr=!0),Te--;if(!Rr)return pe;for(kr=_e.noBOM?[]:[254,255],Te=0,Ye=pe.length;Te<Ye;Te++){if((ws=(xn=pe.charCodeAt(Te))>>8)>>8)throw new Error("Character at position "+Te+" of string '"+pe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");kr.push(ws),kr.push(xn-(ws<<8))}return String.fromCharCode.apply(void 0,kr)})(R,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Lu=m.__private__.beginPage=function(R){Oe[++Cr]=[],qt[Cr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},Ld(Cr),nt(Oe[Y])},Wp=function(R,Z){var pe,_e,Te;switch(r=Z||r,typeof R=="string"&&(pe=x(R.toLowerCase()),Array.isArray(pe)&&(_e=pe[0],Te=pe[1])),Array.isArray(R)&&(_e=R[0]*tr,Te=R[1]*tr),isNaN(_e)&&(_e=a[0],Te=a[1]),(_e>14400||Te>14400)&&(ls.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),_e=Math.min(14400,_e),Te=Math.min(14400,Te)),a=[_e,Te],r.substr(0,1)){case"l":Te>_e&&(a=[Te,_e]);break;case"p":_e>Te&&(a=[Te,_e])}Lu(a),gr(Qo),le($d),Xh!==0&&le(Xh+" J"),Jh!==0&&le(Jh+" j"),yn.publish("addPage",{pageNumber:Cr})},rf=function(R){R>0&&R<=Cr&&(Oe.splice(R,1),qt.splice(R,1),Cr--,Y>Cr&&(Y=Cr),this.setPage(Y))},Ld=function(R){R>0&&R<=Cr&&(Y=R)},mo=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Oe.length-1},Gp=function(R,Z,pe){var _e,Te=void 0;return pe=pe||{},R=R!==void 0?R:dr[_t].fontName,Z=Z!==void 0?Z:dr[_t].fontStyle,_e=R.toLowerCase(),Fr[_e]!==void 0&&Fr[_e][Z]!==void 0?Te=Fr[_e][Z]:Fr[R]!==void 0&&Fr[R][Z]!==void 0?Te=Fr[R][Z]:pe.disableWarning===!1&&ls.warn("Unable to look up font label for font '"+R+"', '"+Z+"'. Refer to getFontList() for available fonts."),Te||pe.noFallback||(Te=Fr.times[Z])==null&&(Te=Fr.times.normal),Te},Ys=m.__private__.putInfo=function(){var R=es(),Z=function(_e){return _e};for(var pe in d!==null&&(Z=Aa.encryptor(R,0)),le("<<"),le("/Producer ("+ho(Z("jsPDF "+rr.version))+")"),Ct)Ct.hasOwnProperty(pe)&&Ct[pe]&&le("/"+pe.substr(0,1).toUpperCase()+pe.substr(1)+" ("+ho(Z(Ct[pe]))+")");le("/CreationDate ("+ho(Z(V))+")"),le(">>"),le("endobj")},nf=m.__private__.putCatalog=function(R){var Z=(R=R||{}).rootDictionaryObjId||Fu;switch(es(),le("<<"),le("/Type /Catalog"),le("/Pages "+Z+" 0 R"),fe||(fe="fullwidth"),fe){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pe=""+fe;pe.substr(pe.length-1)==="%"&&(fe=parseInt(fe)/100),typeof fe=="number"&&le("/OpenAction [3 0 R /XYZ null null "+I(fe)+"]")}switch(Ke||(Ke="continuous"),Ke){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}xe&&le("/PageMode /"+xe),yn.publish("putCatalog"),le(">>"),le("endobj")},Zy=m.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(Ae+1)),le("/Root "+Ae+" 0 R"),le("/Info "+(Ae-1)+" 0 R"),d!==null&&le("/Encrypt "+Aa.oid+" 0 R"),le("/ID [ <"+X+"> <"+X+"> ]"),le(">>")},Xs=m.__private__.putHeader=function(){le("%PDF-"+y),le("%")},Ud=m.__private__.putXRef=function(){var R="0000000000";le("xref"),le("0 "+(Ae+1)),le("0000000000 65535 f ");for(var Z=1;Z<=Ae;Z++)typeof ce[Z]=="function"?le((R+ce[Z]()).slice(-10)+" 00000 n "):ce[Z]!==void 0?le((R+ce[Z]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},po=m.__private__.buildDocument=function(){var R;Ae=0,ge=0,we=[],ce=[],je=[],Fu=Ds(),vl=Ds(),nt(we),yn.publish("buildDocument"),Xs(),yl(),(function(){yn.publish("putAdditionalObjects");for(var pe=0;pe<je.length;pe++){var _e=je[pe];Gs(_e.objId,!0),le(_e.content),le("endobj")}yn.publish("postPutAdditionalObjects")})(),R=[],(function(){for(var pe in dr)dr.hasOwnProperty(pe)&&(A===!1||A===!0&&h.hasOwnProperty(pe))&&Ru(dr[pe])})(),(function(){var pe;for(pe in sr)sr.hasOwnProperty(pe)&&Jy(sr[pe])})(),(function(){for(var pe in Er)Er.hasOwnProperty(pe)&&Fd(Er[pe])})(),(function(pe){var _e;for(_e in Wt)Wt.hasOwnProperty(_e)&&(Wt[_e]instanceof Um?Rd(Wt[_e]):Wt[_e]instanceof pv&&ef(Wt[_e],pe))})(R),yn.publish("putResources"),R.forEach(is),is({resourcesOid:vl,objectOid:Number.MAX_SAFE_INTEGER}),yn.publish("postPutResources"),d!==null&&(Aa.oid=es(),le("<<"),le("/Filter /Standard"),le("/V "+Aa.v),le("/R "+Aa.r),le("/U <"+Aa.toHexString(Aa.U)+">"),le("/O <"+Aa.toHexString(Aa.O)+">"),le("/P "+Aa.P),le(">>"),le("endobj")),Ys(),nf();var Z=ge;return Ud(),Zy(),le("startxref"),le(""+Z),le("%%EOF"),nt(Oe[Y]),we.join(`
`)},Jl=m.__private__.getBlob=function(R){return new Blob([Pt(R)],{type:"application/pdf"})},Dd=m.output=m.__private__.output=(Us=function(R,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",R){case void 0:return po();case"save":m.save(Z.filename);break;case"arraybuffer":return Pt(po());case"blob":return Jl(po());case"bloburi":case"bloburl":if(Or.URL!==void 0&&typeof Or.URL.createObjectURL=="function")return Or.URL&&Or.URL.createObjectURL(Jl(po()))||void 0;ls.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pe="",_e=po();try{pe=_z(_e)}catch{pe=_z(unescape(encodeURIComponent(_e)))}return"data:application/pdf;filename="+Z.filename+";base64,"+pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Or)==="[object Window]"){var Te="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&(Te=Z.pdfObjectUrl,Ye="");var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Te+'"'+Ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",Mt=Or.open();return Mt!==null&&Mt.document.write(ut),Mt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Or)==="[object Window]"){var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',kr=Or.open();if(kr!==null){kr.document.write(Gt);var Rr=this;kr.document.documentElement.querySelector("#pdfViewer").onload=function(){kr.document.title=Z.filename,kr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Rr.output("bloburl"))}}return kr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Or)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var xn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',ws=Or.open();if(ws!==null&&(ws.document.write(xn),ws.document.title=Z.filename),ws||typeof safari>"u")return ws;break;case"datauri":case"dataurl":return Or.document.location.href=this.output("datauristring",Z);default:return null}},Us.foo=function(){try{return Us.apply(this,arguments)}catch(pe){var R=pe.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var Z="Error in function "+R.split(`
`)[0].split("<")[0]+": "+pe.message;if(!Or.console)throw new Error(Z);Or.console.error(Z,pe),Or.alert&&alert(Z)}},Us.foo.bar=Us,Us.foo),Mo=function(R){return Array.isArray(cr)===!0&&cr.indexOf(R)>-1};switch(n){case"pt":tr=1;break;case"mm":tr=72/25.4;break;case"cm":tr=72/2.54;break;case"in":tr=72;break;case"px":tr=Mo("px_scaling")==1?.75:96/72;break;case"pc":case"em":tr=12;break;case"ex":tr=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);tr=n}var Aa=null;G(),W();var xl=m.__private__.getPageInfo=m.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:qt[R].objId,pageNumber:R,pageContext:qt[R]}},zh=m.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in qt)if(qt[Z].objId===R)break;return xl(Z)},Wh=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:qt[Y].objId,pageNumber:Y,pageContext:qt[Y]}};m.addPage=function(){return Wp.apply(this,arguments),this},m.setPage=function(){return Ld.apply(this,arguments),nt.call(this,Oe[Y]),this},m.insertPage=function(R){return this.addPage(),this.movePage(Y,R),this},m.movePage=function(R,Z){var pe,_e;if(R>Z){pe=Oe[R],_e=qt[R];for(var Te=R;Te>Z;Te--)Oe[Te]=Oe[Te-1],qt[Te]=qt[Te-1];Oe[Z]=pe,qt[Z]=_e,this.setPage(Z)}else if(R<Z){pe=Oe[R],_e=qt[R];for(var Ye=R;Ye<Z;Ye++)Oe[Ye]=Oe[Ye+1],qt[Ye]=qt[Ye+1];Oe[Z]=pe,qt[Z]=_e,this.setPage(Z)}return this},m.deletePage=function(){return rf.apply(this,arguments),this},m.__private__.text=m.text=function(R,Z,pe,_e,Te){var Ye,ut,Mt,Gt,kr,Rr,xn,ws,Js,ts=(_e=_e||{}).scope||this;if(typeof R=="number"&&typeof Z=="number"&&(typeof pe=="string"||Array.isArray(pe))){var fa=pe;pe=Z,Z=R,R=fa}if(arguments[3]instanceof Dt==0?(Mt=arguments[4],Gt=arguments[5],Xn(xn=arguments[3])==="object"&&xn!==null||(typeof Mt=="string"&&(Gt=Mt,Mt=null),typeof xn=="string"&&(Gt=xn,xn=null),typeof xn=="number"&&(Mt=xn,xn=null),_e={flags:xn,angle:Mt,align:Gt})):(P("The transform parameter of text() with a Matrix value"),Js=Te),isNaN(Z)||isNaN(pe)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return ts;var Ms,Va="",Lc=typeof _e.lineHeightFactor=="number"?_e.lineHeightFactor:Ki,bl=ts.internal.scaleFactor;function Uc(Cn){return Cn=Cn.split("	").join(Array(_e.TabLen||9).join(" ")),ho(Cn,xn)}function Wd(Cn){for(var Un,Bs=Cn.concat(),Zs=[],Nl=Bs.length;Nl--;)typeof(Un=Bs.shift())=="string"?Zs.push(Un):Array.isArray(Cn)&&(Un.length===1||Un[1]===void 0&&Un[2]===void 0)?Zs.push(Un[0]):Zs.push([Un[0],Un[1],Un[2]]);return Zs}function Af(Cn,Un){var Bs;if(typeof Cn=="string")Bs=Un(Cn)[0];else if(Array.isArray(Cn)){for(var Zs,Nl,rm=Cn.concat(),gf=[],$c=rm.length;$c--;)typeof(Zs=rm.shift())=="string"?gf.push(Un(Zs)[0]):Array.isArray(Zs)&&typeof Zs[0]=="string"&&(Nl=Un(Zs[0],Zs[1],Zs[2]),gf.push([Nl[0],Nl[1],Nl[2]]));Bs=gf}return Bs}var Mu=!1,Gd=!0;if(typeof R=="string")Mu=!0;else if(Array.isArray(R)){var Qu=R.concat();ut=[];for(var Hu,qa=Qu.length;qa--;)(typeof(Hu=Qu.shift())!="string"||Array.isArray(Hu)&&typeof Hu[0]!="string")&&(Gd=!1);Mu=Gd}if(Mu===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var Yd=Me/ts.internal.scaleFactor,Xd=Yd*(Lc-1);switch(_e.baseline){case"bottom":pe-=Xd;break;case"top":pe+=Yd-Xd;break;case"hanging":pe+=Yd-2*Xd;break;case"middle":pe+=Yd/2-Xd}if((Rr=_e.maxWidth||0)>0&&(typeof R=="string"?R=ts.splitTextToSize(R,Rr):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(Cn,Un){return Cn.concat(ts.splitTextToSize(Un,Rr))},[]))),Ye={text:R,x:Z,y:pe,options:_e,mutex:{pdfEscape:ho,activeFontKey:_t,fonts:dr,activeFontSize:Me}},yn.publish("preProcessText",Ye),R=Ye.text,Mt=(_e=Ye.options).angle,Js instanceof Dt==0&&Mt&&typeof Mt=="number"){Mt*=Math.PI/180,_e.rotationDirection===0&&(Mt=-Mt),_===j&&(Mt=-Mt);var em=Math.cos(Mt),tm=Math.sin(Mt);Js=new Dt(em,tm,-tm,em,0,0)}else Mt&&Mt instanceof Dt&&(Js=Mt);_!==j||Js||(Js=da),(kr=_e.charSpace||zi)!==void 0&&(Va+=O($(kr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ws=_e.horizontalScale)!==void 0&&(Va+=O(100*ws)+` Tz
`),_e.lang;var Ni=-1,jl=_e.renderingMode!==void 0?_e.renderingMode:_e.stroke,nc=ts.internal.getCurrentPageInfo().pageContext;switch(jl){case 0:case!1:case"fill":Ni=0;break;case 1:case!0:case"stroke":Ni=1;break;case 2:case"fillThenStroke":Ni=2;break;case 3:case"invisible":Ni=3;break;case 4:case"fillAndAddForClipping":Ni=4;break;case 5:case"strokeAndAddPathForClipping":Ni=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ni=6;break;case 7:case"addToPathForClipping":Ni=7}var eg=nc.usedRenderingMode!==void 0?nc.usedRenderingMode:-1;Ni!==-1?Va+=Ni+` Tr
`:eg!==-1&&(Va+=`0 Tr
`),Ni!==-1&&(nc.usedRenderingMode=Ni),Gt=_e.align||"left";var vo,$u=Me*Lc,ff=ts.internal.pageSize.getWidth(),hf=dr[_t];kr=_e.charSpace||zi,Rr=_e.maxWidth||0,xn=Object.assign({autoencode:!0,noBOM:!0},_e.flags);var Dc=[],Ko=function(Cn){return ts.getStringUnitWidth(Cn,{font:hf,charSpace:kr,fontSize:Me,doKerning:!1})*Me/bl};if(Object.prototype.toString.call(R)==="[object Array]"){var yo;ut=Wd(R),Gt!=="left"&&(vo=ut.map(Ko));var xo,Vu=0;if(Gt==="right"){Z-=vo[0],R=[],qa=ut.length;for(var sc=0;sc<qa;sc++)sc===0?(xo=go(Z),yo=Fc(pe)):(xo=$(Vu-vo[sc]),yo=-$u),R.push([ut[sc],xo,yo]),Vu=vo[sc]}else if(Gt==="center"){Z-=vo[0]/2,R=[],qa=ut.length;for(var Mc=0;Mc<qa;Mc++)Mc===0?(xo=go(Z),yo=Fc(pe)):(xo=$((Vu-vo[Mc])/2),yo=-$u),R.push([ut[Mc],xo,yo]),Vu=vo[Mc]}else if(Gt==="left"){R=[],qa=ut.length;for(var Qc=0;Qc<qa;Qc++)R.push(ut[Qc])}else if(Gt==="justify"&&hf.encoding==="Identity-H"){R=[],qa=ut.length,Rr=Rr!==0?Rr:ff;for(var ac=0,Qs=0;Qs<qa;Qs++)if(yo=Qs===0?Fc(pe):-$u,xo=Qs===0?go(Z):ac,Qs<qa-1){var Jd=$((Rr-vo[Qs])/(ut[Qs].split(" ").length-1)),ic=ut[Qs].split(" ");R.push([ic[0]+" ",xo,yo]),ac=0;for(var _l=1;_l<ic.length;_l++){var Zd=(Ko(ic[_l-1]+" "+ic[_l])-Ko(ic[_l]))*bl+Jd;_l==ic.length-1?R.push([ic[_l],Zd,0]):R.push([ic[_l]+" ",Zd,0]),ac-=Zd}}else R.push([ut[Qs],xo,yo]);R.push(["",ac,0])}else{if(Gt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],qa=ut.length,Rr=Rr!==0?Rr:ff,Qs=0;Qs<qa;Qs++){yo=Qs===0?Fc(pe):-$u,xo=Qs===0?go(Z):0;var eA=ut[Qs].split(" ").length-1,mf=eA>0?(Rr-vo[Qs])/eA:0;Qs<qa-1?Dc.push(O($(mf))):Dc.push(0),R.push([ut[Qs],xo,yo])}}}(typeof _e.R2L=="boolean"?_e.R2L:Ee)===!0&&(R=Af(R,function(Cn,Un,Bs){return[Cn.split("").reverse().join(""),Un,Bs]})),Ye={text:R,x:Z,y:pe,options:_e,mutex:{pdfEscape:ho,activeFontKey:_t,fonts:dr,activeFontSize:Me}},yn.publish("postProcessText",Ye),R=Ye.text,Ms=Ye.mutex.isHex||!1;var pf=dr[_t].encoding;pf!=="WinAnsiEncoding"&&pf!=="StandardEncoding"||(R=Af(R,function(Cn,Un,Bs){return[Uc(Cn),Un,Bs]})),ut=Wd(R),R=[];for(var Hc,qu,Ku,tA=Array.isArray(ut[0])?1:0,zu="",rA=function(Cn,Un,Bs){var Zs="";return Bs instanceof Dt?(Bs=typeof _e.angle=="number"?Cs(Bs,new Dt(1,0,0,1,Cn,Un)):Cs(new Dt(1,0,0,1,Cn,Un),Bs),_===j&&(Bs=Cs(new Dt(1,0,0,-1,0,0),Bs)),Zs=Bs.join(" ")+` Tm
`):Zs=O(Cn)+" "+O(Un)+` Td
`,Zs},Ss=0;Ss<ut.length;Ss++){switch(zu="",tA){case 1:Ku=(Ms?"<":"(")+ut[Ss][0]+(Ms?">":")"),Hc=parseFloat(ut[Ss][1]),qu=parseFloat(ut[Ss][2]);break;case 0:Ku=(Ms?"<":"(")+ut[Ss]+(Ms?">":")"),Hc=go(Z),qu=Fc(pe)}Dc!==void 0&&Dc[Ss]!==void 0&&(zu=Dc[Ss]+` Tw
`),Ss===0?R.push(zu+rA(Hc,qu,Js)+Ku):tA===0?R.push(zu+Ku):tA===1&&R.push(zu+rA(Hc,qu,Js)+Ku)}R=tA===0?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var Wi=`BT
/`;return Wi+=_t+" "+Me+` Tf
`,Wi+=O(Me*Lc)+` TL
`,Wi+=wl+`
`,Wi+=Va,Wi+=R,le(Wi+="ET"),h[_t]=!0,ts};var Md=m.__private__.clip=m.clip=function(R){return le(R==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Md("evenodd")},m.__private__.discardPath=m.discardPath=function(){return le("n"),this};var Zl=m.__private__.isValidStyle=function(R){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(Z=!0),Z};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(R){return Zl(R)&&(u=R),this};var sf=m.__private__.getStyle=m.getStyle=function(R){var Z=u;switch(R){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=R}return Z},wn=m.close=function(){return le("h"),this};m.stroke=function(){return le("S"),this},m.fill=function(R){return Qd("f",R),this},m.fillEvenOdd=function(R){return Qd("f*",R),this},m.fillStroke=function(R){return Qd("B",R),this},m.fillStrokeEvenOdd=function(R){return Qd("B*",R),this};var Qd=function(R,Z){Xn(Z)==="object"?Yp(Z,R):le(R)},Uu=function(R){R===null||_===j&&R===void 0||(R=sf(R),le(R))};function Gh(R,Z,pe,_e,Te){var Ye=new pv(Z||this.boundingBox,pe||this.xStep,_e||this.yStep,this.gState,Te||this.matrix);Ye.stream=this.stream;var ut=R+"$$"+this.cloneIndex+++"$$";return Ln(ut,Ye),Ye}var Yp=function(R,Z){var pe=vn[R.key],_e=Wt[pe];if(_e instanceof Um)le("q"),le(Xp(Z)),_e.gState&&m.setGState(_e.gState),le(R.matrix.toString()+" cm"),le("/"+pe+" sh"),le("Q");else if(_e instanceof pv){var Te=new Dt(1,0,0,-1,0,qo());R.matrix&&(Te=Te.multiply(R.matrix||da),pe=Gh.call(_e,R.key,R.boundingBox,R.xStep,R.yStep,Te).id),le("q"),le("/Pattern cs"),le("/"+pe+" scn"),_e.gState&&m.setGState(_e.gState),le(Z),le("Q")}},Xp=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},af=m.moveTo=function(R,Z){return le(O($(R))+" "+O(F(Z))+" m"),this},of=m.lineTo=function(R,Z){return le(O($(R))+" "+O(F(Z))+" l"),this},qi=m.curveTo=function(R,Z,pe,_e,Te,Ye){return le([O($(R)),O(F(Z)),O($(pe)),O(F(_e)),O($(Te)),O(F(Ye)),"c"].join(" ")),this};m.__private__.line=m.line=function(R,Z,pe,_e,Te){if(isNaN(R)||isNaN(Z)||isNaN(pe)||isNaN(_e)||!Zl(Te))throw new Error("Invalid arguments passed to jsPDF.line");return _===b?this.lines([[pe-R,_e-Z]],R,Z,[1,1],Te||"S"):this.lines([[pe-R,_e-Z]],R,Z,[1,1]).stroke()},m.__private__.lines=m.lines=function(R,Z,pe,_e,Te,Ye){var ut,Mt,Gt,kr,Rr,xn,ws,Js,ts,fa,Ms,Va;if(typeof R=="number"&&(Va=pe,pe=Z,Z=R,R=Va),_e=_e||[1,1],Ye=Ye||!1,isNaN(Z)||isNaN(pe)||!Array.isArray(R)||!Array.isArray(_e)||!Zl(Te)||typeof Ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(af(Z,pe),ut=_e[0],Mt=_e[1],kr=R.length,fa=Z,Ms=pe,Gt=0;Gt<kr;Gt++)(Rr=R[Gt]).length===2?(fa=Rr[0]*ut+fa,Ms=Rr[1]*Mt+Ms,of(fa,Ms)):(xn=Rr[0]*ut+fa,ws=Rr[1]*Mt+Ms,Js=Rr[2]*ut+fa,ts=Rr[3]*Mt+Ms,fa=Rr[4]*ut+fa,Ms=Rr[5]*Mt+Ms,qi(xn,ws,Js,ts,fa,Ms));return Ye&&wn(),Uu(Te),this},m.path=function(R){for(var Z=0;Z<R.length;Z++){var pe=R[Z],_e=pe.c;switch(pe.op){case"m":af(_e[0],_e[1]);break;case"l":of(_e[0],_e[1]);break;case"c":qi.apply(this,_e);break;case"h":wn()}}return this},m.__private__.rect=m.rect=function(R,Z,pe,_e,Te){if(isNaN(R)||isNaN(Z)||isNaN(pe)||isNaN(_e)||!Zl(Te))throw new Error("Invalid arguments passed to jsPDF.rect");return _===b&&(_e=-_e),le([O($(R)),O(F(Z)),O($(pe)),O($(_e)),"re"].join(" ")),Uu(Te),this},m.__private__.triangle=m.triangle=function(R,Z,pe,_e,Te,Ye,ut){if(isNaN(R)||isNaN(Z)||isNaN(pe)||isNaN(_e)||isNaN(Te)||isNaN(Ye)||!Zl(ut))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pe-R,_e-Z],[Te-pe,Ye-_e],[R-Te,Z-Ye]],R,Z,[1,1],ut,!0),this},m.__private__.roundedRect=m.roundedRect=function(R,Z,pe,_e,Te,Ye,ut){if(isNaN(R)||isNaN(Z)||isNaN(pe)||isNaN(_e)||isNaN(Te)||isNaN(Ye)||!Zl(ut))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Mt=4/3*(Math.SQRT2-1);return Te=Math.min(Te,.5*pe),Ye=Math.min(Ye,.5*_e),this.lines([[pe-2*Te,0],[Te*Mt,0,Te,Ye-Ye*Mt,Te,Ye],[0,_e-2*Ye],[0,Ye*Mt,-Te*Mt,Ye,-Te,Ye],[2*Te-pe,0],[-Te*Mt,0,-Te,-Ye*Mt,-Te,-Ye],[0,2*Ye-_e],[0,-Ye*Mt,Te*Mt,-Ye,Te,-Ye]],R+Te,Z,[1,1],ut,!0),this},m.__private__.ellipse=m.ellipse=function(R,Z,pe,_e,Te){if(isNaN(R)||isNaN(Z)||isNaN(pe)||isNaN(_e)||!Zl(Te))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ye=4/3*(Math.SQRT2-1)*pe,ut=4/3*(Math.SQRT2-1)*_e;return af(R+pe,Z),qi(R+pe,Z-ut,R+Ye,Z-_e,R,Z-_e),qi(R-Ye,Z-_e,R-pe,Z-ut,R-pe,Z),qi(R-pe,Z+ut,R-Ye,Z+_e,R,Z+_e),qi(R+Ye,Z+_e,R+pe,Z+ut,R+pe,Z),Uu(Te),this},m.__private__.circle=m.circle=function(R,Z,pe,_e){if(isNaN(R)||isNaN(Z)||isNaN(pe)||!Zl(_e))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,Z,pe,pe,_e)},m.setFont=function(R,Z,pe){return pe&&(Z=T(Z,pe)),_t=Gp(R,Z,{disableWarning:!1}),this};var ec=m.__private__.getFont=m.getFont=function(){return dr[Gp.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var R,Z,pe={};for(R in Fr)if(Fr.hasOwnProperty(R))for(Z in pe[R]=[],Fr[R])Fr[R].hasOwnProperty(Z)&&pe[R].push(Z);return pe},m.addFont=function(R,Z,pe,_e,Te){var Ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ye.indexOf(arguments[3])!==-1?Te=arguments[3]:arguments[3]&&Ye.indexOf(arguments[3])==-1&&(pe=T(pe,_e)),tf.call(this,R,Z,pe,Te=Te||"Identity-H")};var Ki,Qo=e.lineWidth||.200025,Hd=m.__private__.getLineWidth=m.getLineWidth=function(){return Qo},gr=m.__private__.setLineWidth=m.setLineWidth=function(R){return Qo=R,le(O($(R))+" w"),this};m.__private__.setLineDash=rr.API.setLineDash=rr.API.setLineDashPattern=function(R,Z){if(R=R||[],Z=Z||0,isNaN(Z)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(pe){return O($(pe))}).join(" "),Z=O($(Z)),le("["+R+"] "+Z+" d"),this};var tc=m.__private__.getLineHeight=m.getLineHeight=function(){return Me*Ki};m.__private__.getLineHeight=m.getLineHeight=function(){return Me*Ki};var ex=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(Ki=R),this},Jp=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Ki};ex(e.lineHeight);var go=m.__private__.getHorizontalCoordinate=function(R){return $(R)},Fc=m.__private__.getVerticalCoordinate=function(R){return _===j?R:qt[Y].mediaBox.topRightY-qt[Y].mediaBox.bottomLeftY-$(R)},Zp=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(R){return O(go(R))},lf=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(R){return O(Fc(R))},$d=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Xl($d)},m.__private__.setStrokeColor=m.setDrawColor=function(R,Z,pe,_e){return $d=$a({ch1:R,ch2:Z,ch3:pe,ch4:_e,pdfColorType:"draw",precision:2}),le($d),this};var Yh=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Xl(Yh)},m.__private__.setFillColor=m.setFillColor=function(R,Z,pe,_e){return Yh=$a({ch1:R,ch2:Z,ch3:pe,ch4:_e,pdfColorType:"fill",precision:2}),le(Yh),this};var wl=e.textColor||"0 g",Vd=m.__private__.getTextColor=m.getTextColor=function(){return Xl(wl)};m.__private__.setTextColor=m.setTextColor=function(R,Z,pe,_e){return wl=$a({ch1:R,ch2:Z,ch3:pe,ch4:_e,pdfColorType:"text",precision:3}),this};var zi=e.charSpace,cf=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(zi||0)};m.__private__.setCharSpace=m.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zi=R,this};var Xh=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(R){var Z=m.CapJoinStyles[R];if(Z===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xh=Z,le(Z+" J"),this};var Jh=0;m.__private__.setLineJoin=m.setLineJoin=function(R){var Z=m.CapJoinStyles[R];if(Z===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jh=Z,le(Z+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(O($(R))+" M"),this},m.GState=dN,m.setGState=function(R){(R=typeof R=="string"?sr[xr[R]]:uf(null,R)).equals(Nn)||(le("/"+R.id+" gs"),Nn=R)};var uf=function(R,Z){if(!R||!xr[R]){var pe=!1;for(var _e in sr)if(sr.hasOwnProperty(_e)&&sr[_e].equals(Z)){pe=!0;break}if(pe)Z=sr[_e];else{var Te="GS"+(Object.keys(sr).length+1).toString(10);sr[Te]=Z,Z.id=Te}return R&&(xr[R]=Z.id),yn.publish("addGState",Z),Z}};m.addGState=function(R,Z){return uf(R,Z),this},m.saveGraphicsState=function(){return le("q"),tn.push({key:_t,size:Me,color:wl}),this},m.restoreGraphicsState=function(){le("Q");var R=tn.pop();return _t=R.key,Me=R.size,wl=R.color,Nn=null,this},m.setCurrentTransformationMatrix=function(R){return le(R.toString()+" cm"),this},m.comment=function(R){return le("#"+R),this};var Ho=function(R,Z){var pe=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pe},set:function(Ye){isNaN(Ye)||(pe=parseFloat(Ye))}});var _e=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return _e},set:function(Ye){isNaN(Ye)||(_e=parseFloat(Ye))}});var Te="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Te},set:function(Ye){Te=Ye.toString()}}),this},qd=function(R,Z,pe,_e){Ho.call(this,R,Z),this.type="rect";var Te=pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Te},set:function(ut){isNaN(ut)||(Te=parseFloat(ut))}});var Ye=_e||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ye},set:function(ut){isNaN(ut)||(Ye=parseFloat(ut))}}),this},Kd=function(){this.page=Cr,this.currentPage=Y,this.pages=Oe.slice(0),this.pagesContext=qt.slice(0),this.x=St,this.y=Zn,this.matrix=Hr,this.width=Du(Y),this.height=zd(Y),this.outputDestination=et,this.id="",this.objectNumber=-1};Kd.prototype.restore=function(){Cr=this.page,Y=this.currentPage,qt=this.pagesContext,Oe=this.pages,St=this.x,Zn=this.y,Hr=this.matrix,Zh(Y,this.width),Vo(Y,this.height),et=this.outputDestination};var $o=function(R,Z,pe,_e,Te){us.push(new Kd),Cr=Y=0,Oe=[],St=R,Zn=Z,Hr=Te,Lu([pe,_e])};for(var Rc in m.beginFormObject=function(R,Z,pe,_e,Te){return $o(R,Z,pe,_e,Te),this},m.endFormObject=function(R){return(function(Z){if(ln[Z])us.pop().restore();else{var pe=new Kd,_e="Xo"+(Object.keys(Er).length+1).toString(10);pe.id=_e,ln[Z]=_e,Er[_e]=pe,yn.publish("addFormObject",pe),us.pop().restore()}})(R),this},m.doFormObject=function(R,Z){var pe=Er[ln[R]];return le("q"),le(Z.toString()+" cm"),le("/"+pe.id+" Do"),le("Q"),this},m.getFormObject=function(R){var Z=Er[ln[R]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},m.save=function(R,Z){return R=R||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(Om(Jl(po()),R),typeof Om.unload=="function"&&Or.setTimeout&&setTimeout(Om.unload,911),this):new Promise(function(pe,_e){try{var Te=Om(Jl(po()),R);typeof Om.unload=="function"&&Or.setTimeout&&setTimeout(Om.unload,911),pe(Te)}catch(Ye){_e(Ye.message)}})},rr.API)rr.API.hasOwnProperty(Rc)&&(Rc==="events"&&rr.API.events.length?(function(R,Z){var pe,_e,Te;for(Te=Z.length-1;Te!==-1;Te--)pe=Z[Te][0],_e=Z[Te][1],R.subscribe.apply(R,[pe].concat(typeof _e=="function"?[_e]:_e))})(yn,rr.API.events):m[Rc]=rr.API[Rc]);function Du(R){return qt[R].mediaBox.topRightX-qt[R].mediaBox.bottomLeftX}function Zh(R,Z){qt[R].mediaBox.topRightX=Z+qt[R].mediaBox.bottomLeftX}function zd(R){return qt[R].mediaBox.topRightY-qt[R].mediaBox.bottomLeftY}function Vo(R,Z){qt[R].mediaBox.topRightY=Z+qt[R].mediaBox.bottomLeftY}var rc=m.getPageWidth=function(R){return Du(R=R||Y)/tr},ii=m.setPageWidth=function(R,Z){Zh(R,Z*tr)},qo=m.getPageHeight=function(R){return zd(R=R||Y)/tr},df=m.setPageHeight=function(R,Z){Vo(R,Z*tr)};return m.internal={pdfEscape:ho,getStyle:sf,getFont:ec,getFontSize:ve,getCharSpace:cf,getTextColor:Vd,getLineHeight:tc,getLineHeightFactor:Jp,getLineWidth:Hd,write:lt,getHorizontalCoordinate:go,getVerticalCoordinate:Fc,getCoordinateString:Zp,getVerticalCoordinateString:lf,collections:{},newObject:es,newAdditionalObject:Ic,newObjectDeferred:Ds,newObjectDeferredBegin:Gs,getFilters:Do,putStream:fo,events:yn,scaleFactor:tr,pageSize:{getWidth:function(){return rc(Y)},setWidth:function(R){ii(Y,R)},getHeight:function(){return qo(Y)},setHeight:function(R){df(Y,R)}},encryptionOptions:d,encryption:Aa,getEncryptor:function(R){return d!==null?Aa.encryptor(R,0):function(Z){return Z}},output:Dd,getNumberOfPages:mo,get pages(){return Oe},out:le,f2:I,f3:D,getPageInfo:xl,getPageInfoByObjId:zh,getCurrentPageInfo:Wh,getPDFVersion:g,Point:Ho,Rectangle:qd,Matrix:Dt,hasHotfix:Mo},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return rc(Y)},set:function(R){ii(Y,R)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return qo(Y)},set:function(R){df(Y,R)},enumerable:!0,configurable:!0}),(function(R){for(var Z=0,pe=Pe.length;Z<pe;Z++){var _e=tf.call(this,R[Z][0],R[Z][1],R[Z][2],Pe[Z][3],!0);A===!1&&(h[_e]=!0);var Te=R[Z][0].split("-");zp({id:_e,fontName:Te[0],fontStyle:Te[1]||""})}yn.publish("addFonts",{fonts:dr,dictionary:Fr})}).call(m,Pe),_t="F1",Wp(a,r),yn.publish("initialized"),m}rv.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},rv.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},rv.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},rv.prototype.processOwnerPassword=function(e,t){return mF(hF(t).substr(0,5),e)},rv.prototype.encryptor=function(e,t){var r=hF(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return mF(r,n)}},dN.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Xn(e)!==Xn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},rr.API={events:[]},rr.version="4.2.0";var sa=rr.API,DL=1,Kp=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qg=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ep=function(e){return e.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var r=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(r.length===1?"0"+r:r)})},Vr=function(e){return e.toFixed(2)},Hf=function(e){return e.toFixed(5)};sa.__acroform__={};var gl=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Bz=function(e){return e*DL},sd=function(e){var t=new Koe,r=Vt.internal.getHeight(e)||0,n=Vt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Vr(n)),Number(Vr(r))],t},dWe=sa.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},AWe=sa.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},fWe=sa.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},xa=sa.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return fWe(e,t-1)},wa=sa.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return dWe(e,t-1)},ba=sa.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return AWe(e,t-1)},hWe=sa.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(Vr(c.lowerLeft_X)),Number(Vr(c.lowerLeft_Y)),Number(Vr(c.upperRight_X)),Number(Vr(c.upperRight_Y))]},mWe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=pF(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Vr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=sd(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},pF=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(I){return I.split(`
`)}):a.map(function(I){return[I]});var i=r,o=Vt.internal.getHeight(e)||0;o=o<0?-o:o;var l=Vt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(I,D,$){if(I+1<a.length){var F=D+" "+a[I+1][0];return T2(F,e,$).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,A=T2("3",e,i).height,h=e.multiline?o-i:(o-A)/2,m=h+=2,y=0,g=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+T2(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var x="",b=0,j=0;j<a.length;j++)if(a.hasOwnProperty(j)){var _=!1;if(a[j].length!==1&&v!==a[j].length-1){if((A+2)*(b+2)+2>o)continue e;x+=a[j][v],_=!0,g=j,j--}else{x=(x+=a[j][v]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var N=parseInt(j),B=c(N,x,i),T=j>=a.length-1;if(B&&!T){x+=" ",v=0;continue}if(B||T){if(T)g=N;else if(e.multiline&&(A+2)*(b+2)+2>o)continue e}else{if(!e.multiline||(A+2)*(b+2)+2>o)continue e;g=N}}for(var O="",P=y;P<=g;P++){var M=a[P];if(e.multiline){if(P===g){O+=M[v]+" ",v=(v+1)%M.length;continue}if(P===y){O+=M[M.length-1]+" ";continue}}O+=M[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,d=T2(O,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}t+=Vr(u)+" "+Vr(m)+` Td
`,t+="("+Kp(O)+`) Tj
`,t+=-Vr(u)+` 0 Td
`,m=-(i+2),d=0,y=_?g:g+1,b++,x=""}break}return n.text=t,n.fontSize=i,n},T2=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},pWe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gWe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},vWe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ou.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(pWe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");DL=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new zoe,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&gWe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=hWe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Vt.createDefaultAppearanceStream(l),Xn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=mWe(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var A="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var m=l.appearanceStreamContent[h];if(A+="/"+h+" ",A+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var y=m[o];typeof y=="function"&&(y=y.call(a,l)),A+="/"+o+" "+y+" ",a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y)}}else typeof(y=m)=="function"&&(y=y.call(a,l)),A+="/"+o+" "+y,a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y);A+=">>"}c.push({key:"AP",value:`<<
`+A+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&(function(g,v){for(var x in g)if(g.hasOwnProperty(x)){var b=x,j=g[x];v.internal.newObjectDeferredBegin(j.objId,!0),Xn(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete g[b]}})(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},qoe=sa.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Xn(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)==="/"?a+="/"+Ep(e[i].substr(1)):(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Kp(n(e[i].toString()))+")")}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},FP=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Kp(n(e))+")"},Ad=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ad.prototype.toString=function(){return this.objId+" 0 R"},Ad.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ad.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:qoe(a,this.objId,this.scope)}):a instanceof Ad?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var Koe=function(){Ad.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};gl(Koe,Ad);var zoe=function(){Ad.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Kp(r(e))+")"}},set:function(r){e=r}})};gl(zoe,Ad);var Ou=function e(){Ad.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!xa(t,3)},set:function(x){x?this.F=wa(t,3):this.F=ba(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof AN)return;i="FieldObject"+e.FieldNum++}var x=function(b){return b};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Kp(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/DL:u},set:function(x){u=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof AN||this instanceof rp))return FP(A,this.objId,this.scope)},set:function(x){x=x.toString(),A=x}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof pi==0?FP(h,this.objId,this.scope):h},set:function(x){x=x.toString(),h=this instanceof pi==0?x.substr(0,1)==="("?qg(x.substr(1,x.length-2)):qg(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof pi==1?qg(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof pi==1?"/"+Ep(x):x}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof pi==0?FP(m,this.objId,this.scope):m},set:function(x){x=x.toString(),m=this instanceof pi==0?x.substr(0,1)==="("?qg(x.substr(1,x.length-2)):qg(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof pi==1?qg(m.substr(1,m.length-1)):m},set:function(x){x=x.toString(),m=this instanceof pi==1?"/"+Ep(x):x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(x){x=!!x,g=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(x){y=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,1)},set:function(x){x?this.Ff=wa(this.Ff,1):this.Ff=ba(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,2)},set:function(x){x?this.Ff=wa(this.Ff,2):this.Ff=ba(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,3)},set:function(x){x?this.Ff=wa(this.Ff,3):this.Ff=ba(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');v=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(v){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};gl(Ou,Ad);var Ev=function(){Ou.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return qoe(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u})(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,18)},set:function(r){r?this.Ff=wa(this.Ff,18):this.Ff=ba(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=wa(this.Ff,19):this.Ff=ba(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,20)},set:function(r){r?(this.Ff=wa(this.Ff,20),t.sort()):this.Ff=ba(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,22)},set:function(r){r?this.Ff=wa(this.Ff,22):this.Ff=ba(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,23)},set:function(r){r?this.Ff=wa(this.Ff,23):this.Ff=ba(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,27)},set:function(r){r?this.Ff=wa(this.Ff,27):this.Ff=ba(this.Ff,27)}}),this.hasAppearanceStream=!1};gl(Ev,Ou);var kv=function(){Ev.call(this),this.fontName="helvetica",this.combo=!1};gl(kv,Ev);var Pv=function(){kv.call(this),this.combo=!0};gl(Pv,kv);var lj=function(){Pv.call(this),this.edit=!0};gl(lj,Pv);var pi=function(){Ou.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,15)},set:function(r){r?this.Ff=wa(this.Ff,15):this.Ff=ba(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,16)},set:function(r){r?this.Ff=wa(this.Ff,16):this.Ff=ba(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,17)},set:function(r){r?this.Ff=wa(this.Ff,17):this.Ff=ba(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,26)},set:function(r){r?this.Ff=wa(this.Ff,26):this.Ff=ba(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Kp(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Xn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){var n=r==null?"":r.toString();n.substr(0,1)==="/"&&(n=n.substr(1)),e="/"+Ep(n)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+Ep(r)}})};gl(pi,Ou);var cj=function(){pi.call(this),this.pushButton=!0};gl(cj,pi);var Tv=function(){pi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};gl(Tv,pi);var AN=function(){var e,t;Ou.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Kp(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Xn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){var i=a==null?"":a.toString();i.substr(0,1)==="/"&&(i=i.substr(1)),r="/"+Ep(i)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){var i=a==null?"":a.toString();i.substr(0,1)==="/"&&(i=i.substr(1)),r="/"+Ep(i)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Vt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};gl(AN,Ou),Tv.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Tv.prototype.createOption=function(e){var t=new AN;return t.Parent=this,t.optionName=e,this.Kids.push(t),yWe.call(this.scope,t),t};var uj=function(){pi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Vt.CheckBox.createAppearanceStream()};gl(uj,pi);var rp=function(){Ou.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,13)},set:function(t){t?this.Ff=wa(this.Ff,13):this.Ff=ba(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,21)},set:function(t){t?this.Ff=wa(this.Ff,21):this.Ff=ba(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,23)},set:function(t){t?this.Ff=wa(this.Ff,23):this.Ff=ba(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,24)},set:function(t){t?this.Ff=wa(this.Ff,24):this.Ff=ba(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,25)},set:function(t){t?this.Ff=wa(this.Ff,25):this.Ff=ba(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,26)},set:function(t){t?this.Ff=wa(this.Ff,26):this.Ff=ba(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};gl(rp,Ou);var dj=function(){rp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!xa(this.Ff,14)},set:function(e){e?this.Ff=wa(this.Ff,14):this.Ff=ba(this.Ff,14)}}),this.password=!0};gl(dj,rp);var Vt={CheckBox:{createAppearanceStream:function(){return{N:{On:Vt.CheckBox.YesNormal},D:{On:Vt.CheckBox.YesPushDown,Off:Vt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=sd(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=pF(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Vr(Vt.internal.getWidth(e))+" "+Vr(Vt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Vr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=sd(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Vt.internal.getHeight(e),o=Vt.internal.getWidth(e),l=pF(e,e.caption);return a.push("1 g"),a.push("0 0 "+Vr(o)+" "+Vr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Vr(o-1)+" "+Vr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Vr(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=sd(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Vr(Vt.internal.getWidth(e))+" "+Vr(Vt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Vt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Vt.RadioButton.Circle.YesNormal,t.D[e]=Vt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=sd(e);t.scope=e.scope;var r=[],n=Vt.internal.getWidth(e)<=Vt.internal.getHeight(e)?Vt.internal.getWidth(e)/4:Vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Vt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Hf(Vt.internal.getWidth(e)/2)+" "+Hf(Vt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=sd(e);t.scope=e.scope;var r=[],n=Vt.internal.getWidth(e)<=Vt.internal.getHeight(e)?Vt.internal.getWidth(e)/4:Vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Vt.internal.Bezier_C).toFixed(5)),o=Number((n*Vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Hf(Vt.internal.getWidth(e)/2)+" "+Hf(Vt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Hf(Vt.internal.getWidth(e)/2)+" "+Hf(Vt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=sd(e);t.scope=e.scope;var r=[],n=Vt.internal.getWidth(e)<=Vt.internal.getHeight(e)?Vt.internal.getWidth(e)/4:Vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Hf(Vt.internal.getWidth(e)/2)+" "+Hf(Vt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Vt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Vt.RadioButton.Cross.YesNormal,t.D[e]=Vt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=sd(e);t.scope=e.scope;var r=[],n=Vt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Vr(Vt.internal.getWidth(e)-2)+" "+Vr(Vt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Vr(n.x1.x)+" "+Vr(n.x1.y)+" m"),r.push(Vr(n.x2.x)+" "+Vr(n.x2.y)+" l"),r.push(Vr(n.x4.x)+" "+Vr(n.x4.y)+" m"),r.push(Vr(n.x3.x)+" "+Vr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=sd(e);t.scope=e.scope;var r=Vt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Vr(Vt.internal.getWidth(e))+" "+Vr(Vt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Vr(Vt.internal.getWidth(e)-2)+" "+Vr(Vt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Vr(r.x1.x)+" "+Vr(r.x1.y)+" m"),n.push(Vr(r.x2.x)+" "+Vr(r.x2.y)+" l"),n.push(Vr(r.x4.x)+" "+Vr(r.x4.y)+" m"),n.push(Vr(r.x3.x)+" "+Vr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=sd(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Vr(Vt.internal.getWidth(e))+" "+Vr(Vt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Vt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Vt.internal.getWidth(e),r=Vt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Vt.internal.getWidth=function(e){var t=0;return Xn(e)==="object"&&(t=Bz(e.Rect[2])),t},Vt.internal.getHeight=function(e){var t=0;return Xn(e)==="object"&&(t=Bz(e.Rect[3])),t};var yWe=sa.addField=function(e){if(vWe(this,e),!(e instanceof Ou))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};sa.AcroFormChoiceField=Ev,sa.AcroFormListBox=kv,sa.AcroFormComboBox=Pv,sa.AcroFormEditBox=lj,sa.AcroFormButton=pi,sa.AcroFormPushButton=cj,sa.AcroFormRadioButton=Tv,sa.AcroFormCheckBox=uj,sa.AcroFormTextField=rp,sa.AcroFormPasswordField=dj,sa.AcroFormAppearance=Vt,sa.AcroForm={ChoiceField:Ev,ListBox:kv,ComboBox:Pv,EditBox:lj,Button:pi,PushButton:cj,RadioButton:Tv,CheckBox:uj,TextField:rp,PasswordField:dj,Appearance:Vt},rr.AcroForm={ChoiceField:Ev,ListBox:kv,ComboBox:Pv,EditBox:lj,Button:pi,PushButton:cj,RadioButton:Tv,CheckBox:uj,TextField:rp,PasswordField:dj,Appearance:Vt};rr.AcroForm;function Woe(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(I,D){var $,F,V,X,K,W=r;if((D=D||r)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(B(I))for(K in n)for(V=n[K],$=0;$<V.length;$+=1){for(X=!0,F=0;F<V[$].length;F+=1)if(V[$][F]!==void 0&&V[$][F]!==I[F]){X=!1;break}if(X===!0){W=K;break}}else for(K in n)for(V=n[K],$=0;$<V.length;$+=1){for(X=!0,F=0;F<V[$].length;F+=1)if(V[$][F]!==void 0&&V[$][F]!==I.charCodeAt(F)){X=!1;break}if(X===!0){W=K;break}}return W===r&&D!==r&&(W=D),W},i=function I(D){for(var $=this.internal.write,F=this.internal.putStream,V=(0,this.internal.getFilters)();V.indexOf("FlateEncode")!==-1;)V.splice(V.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:D.width}),X.push({key:"Height",value:D.height}),D.colorSpace===x.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===x.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)&&D.transparency.length>0){for(var K="",W=0,z=D.transparency.length;W<z;W++)K+=D.transparency[W]+" "+D.transparency[W]+" ";X.push({key:"Mask",value:"["+K+"]"})}D.sMask!==void 0&&X.push({key:"SMask",value:D.objectId+1+" 0 R"});var te=D.filter!==void 0?["/"+D.filter]:void 0;if(F({data:D.data,additionalKeyValues:X,alreadyAppliedFilters:te,objectId:D.objectId}),$("endobj"),"sMask"in D&&D.sMask!==void 0){var G,U=(G=D.sMaskBitsPerComponent)!==null&&G!==void 0?G:D.bitsPerComponent,Y={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:U,data:D.sMask};"filter"in D&&(Y.decodeParameters="/Predictor ".concat(D.predictor," /Colors 1 /BitsPerComponent ").concat(U," /Columns ").concat(D.width),Y.filter=D.filter),I.call(this,Y)}if(D.colorSpace===x.INDEXED){var ee=this.internal.newObject();F({data:O(new Uint8Array(D.palette)),objectId:ee}),$("endobj")}},o=function(){var I=this.internal.collections[t+"images"];for(var D in I)i.call(this,I[D])},l=function(){var I,D=this.internal.collections[t+"images"],$=this.internal.write;for(var F in D)$("/I"+(I=D[F]).index,I.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var I=this.internal.collections[t+"images"];return c.call(this),I},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},A=function(I){return typeof e["process"+I.toUpperCase()]=="function"},h=function(I){return Xn(I)==="object"&&I.nodeType===1},m=function(I,D){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var $=""+I.getAttribute("src");if($.indexOf("data:image/")===0)return oj(unescape($).split("base64,").pop());var F=e.loadFile($,!0);if(F!==void 0)return F}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var V;switch(D){case"PNG":V="image/png";break;case"WEBP":V="image/webp";break;default:V="image/jpeg"}return oj(I.toDataURL(V,1).split("base64,").pop())}},y=function(I){var D=this.internal.collections[t+"images"];if(D){for(var $ in D)if(I===D[$].alias)return D[$]}},g=function(I,D,$){return I||D||(I=-96,D=-96),I<0&&(I=-1*$.width*72/I/this.internal.scaleFactor),D<0&&(D=-1*$.height*72/D/this.internal.scaleFactor),I===0&&(I=D*$.width/$.height),D===0&&(D=I*$.height/$.width),[I,D]},v=function(I,D,$,F,V,X){var K=g.call(this,$,F,V),W=this.internal.getCoordinateString,z=this.internal.getVerticalCoordinateString,te=u.call(this);if($=K[0],F=K[1],te[V.index]=V,X){X*=Math.PI/180;var G=Math.cos(X),U=Math.sin(X),Y=function(ae){return ae.toFixed(4)},ee=[Y(G),Y(U),Y(-1*U),Y(G),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,W(I),z(D+F),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([W($),"0","0",W(F),"0","0","cm"].join(" "))):this.internal.write([W($),"0","0",W(F),W(I),z(D+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+V.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=e.__addimage__.sHashCode=function(I){var D,$,F=0;if(typeof I=="string")for($=I.length,D=0;D<$;D++)F=(F<<5)-F+I.charCodeAt(D),F|=0;else if(B(I))for($=I.byteLength/2,D=0;D<$;D++)F=(F<<5)-F+I[D],F|=0;return F},_=e.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var D=!0;return I.length===0&&(D=!1),I.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(D=!1),D},N=e.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var D=I.indexOf(",");return D<0?null:I.substring(0,D).trim().endsWith("base64")?I.substring(D+1):null};e.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var B=e.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},T=e.__addimage__.binaryStringToUint8Array=function(I){for(var D=I.length,$=new Uint8Array(D),F=0;F<D;F++)$[F]=I.charCodeAt(F);return $},O=e.__addimage__.arrayBufferToBinaryString=function(I){for(var D="",$=B(I)?I:new Uint8Array(I),F=0;F<$.length;F+=8192)D+=String.fromCharCode.apply(null,$.subarray(F,F+8192));return D};e.addImage=function(){var I,D,$,F,V,X,K,W,z;if(typeof arguments[1]=="number"?(D=r,$=arguments[1],F=arguments[2],V=arguments[3],X=arguments[4],K=arguments[5],W=arguments[6],z=arguments[7]):(D=arguments[1],$=arguments[2],F=arguments[3],V=arguments[4],X=arguments[5],K=arguments[6],W=arguments[7],z=arguments[8]),Xn(I=arguments[0])==="object"&&!h(I)&&"imageData"in I){var te=I;I=te.imageData,D=te.format||D||r,$=te.x||$||0,F=te.y||F||0,V=te.w||te.width||V,X=te.h||te.height||X,K=te.alias||K,W=te.compression||W,z=te.rotation||te.angle||z}var G=this.internal.getFilters();if(W===void 0&&G.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN($)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var U=P.call(this,I,D,K,W);return v.call(this,$,F,V,X,U,z),this};var P=function(I,D,$,F){var V,X,K;if(typeof I=="string"&&a(I)===r){I=unescape(I);var W=M(I,!1);(W!==""||(W=e.loadFile(I,!0))!==void 0)&&(I=W)}if(h(I)&&(I=m(I,D)),D=a(I,D),!A(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((K=$)==null||K.length===0)&&($=(function(z){return typeof z=="string"||B(z)?j(z):B(z.data)?j(z.data):null})(I)),(V=y.call(this,$))||(I instanceof Uint8Array||D==="RGBA"||(X=I,I=T(I)),V=this["process"+D.toUpperCase()](I,d.call(this),$,(function(z){return z&&typeof z=="string"&&(z=z.toUpperCase()),z in e.image_compression?z:b.NONE})(F),X)),!V)throw new Error("An unknown error occurred whilst processing the image.");return V},M=e.__addimage__.convertBase64ToBinaryString=function(I,D){D=typeof D!="boolean"||D;var $,F="";if(typeof I=="string"){var V;$=(V=N(I))!==null&&V!==void 0?V:I;try{F=oj($)}catch(X){if(D)throw _($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};e.getImageProperties=function(I){var D,$,F="";if(h(I)&&(I=m(I)),typeof I=="string"&&a(I)===r&&((F=M(I,!1))===""&&(F=e.loadFile(I)||""),I=F),$=a(I),!A($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(I instanceof Uint8Array||(I=T(I)),!(D=this["process"+$.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=$,D}})(rr.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};rr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,A=0;A<u.length&&!d;A++)switch((n=u[A]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var m=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(g.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+m(x(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+m(x(b))+") >>",g.content=i;var j=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+j,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(g.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(y(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var B=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+B+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,a,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,l,o,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(rr.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length==4},A=e.__arabicParser__.resolveLigatures=function(g){var v=0,x=r,b="",j=0;for(v=0;v<g.length;v+=1)x[g.charCodeAt(v)]!==void 0?(j++,typeof(x=x[g.charCodeAt(v)])=="number"&&(b+=String.fromCharCode(x),x=r,j=0),v===g.length-1&&(x=r,b+=g.charAt(v-(j-1)),v-=j-1,j=0)):(x=r,b+=g.charAt(v-j),v-=j,j=0);return b};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(g,v,x){return o(g)?i(g)===!1?-1:!u(g)||!o(v)&&!o(x)||!o(x)&&l(v)||l(g)&&!o(v)||l(g)&&c(v)||l(g)&&l(v)?0:d(g)&&o(v)&&!l(v)&&o(x)&&u(x)?3:l(g)||!o(x)?1:2:-1},m=function(g){var v=0,x=0,b=0,j="",_="",N="",B=(g=g||"").split("\\s+"),T=[];for(v=0;v<B.length;v+=1){for(T.push(""),x=0;x<B[v].length;x+=1)j=B[v][x],_=B[v][x-1],N=B[v][x+1],o(j)?(b=h(j,_,N),T[v]+=b!==-1?String.fromCharCode(t[j.charCodeAt(0)][b]):j):T[v]+=j;T[v]=A(T[v])}return T.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var g,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(v)){var b=0;for(x=[],b=0;b<v.length;b+=1)Array.isArray(v[b])?x.push([m(v[b][0]),v[b][1],v[b][2]]):x.push([m(v[b])]);g=x}else g=m(v);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",y])})(rr.API),rr.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(rr.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(g){A=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(g){y=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),A=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,m=0,y=0,g=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=u.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(j,_){return j.concat(v.splitTextToSize(_,x))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)m<(g=this.getStringUnitWidth(c[b],{font:A})*d)&&(m=g);return m!==0&&(y=c.length),{w:m/=h,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,A=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=A.top,m&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,A,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var m,y,g,v,x=[],b=[],j=[],_={},N={},B=[],T=[],O=(h=h||{}).autoSize||!1,P=h.printHeaders!==!1,M=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,I=h.margins||Object.assign({width:this.getPageWidth()},t),D=typeof h.padding=="number"?h.padding:3,$=h.headerBackgroundColor||"#c8c8c8",F=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=F,this.setFontSize(M),A==null)b=x=Object.keys(d[0]),j=x.map(function(){return"left"});else if(Array.isArray(A)&&Xn(A[0])==="object")for(x=A.map(function(te){return te.name}),b=A.map(function(te){return te.prompt||te.name||""}),j=A.map(function(te){return te.align||"left"}),m=0;m<A.length;m+=1)N[A[m].name]=.7499990551181103*A[m].width;else Array.isArray(A)&&typeof A[0]=="string"&&(b=x=A,j=x.map(function(){return"left"}));if(O||Array.isArray(A)&&typeof A[0]=="string")for(m=0;m<x.length;m+=1){for(_[v=x[m]]=d.map(function(te){return te[v]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(b[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=_[v],this.setFont(void 0,"normal"),g=0;g<y.length;g+=1)B.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[v]=Math.max.apply(null,B)+D+D,B=[]}if(P){var V={};for(m=0;m<x.length;m+=1)V[x[m]]={},V[x[m]].text=b[m],V[x[m]].align=j[m];var X=l.call(this,V,N);T=x.map(function(te){return new i(c,u,N[te],X,V[te].text,void 0,V[te].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var K=A.reduce(function(te,G){return te[G.name]=G.align,te},{});for(m=0;m<d.length;m+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:m,data:d[m]},this);var W=l.call(this,d[m],N);for(g=0;g<x.length;g+=1){var z=d[m][x[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:m,col:g,data:z},this),o.call(this,new i(c,u,N[x[g]],W,z,m+2,K[x[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(m){var y=c[m];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*A/h+d+d},this).reduce(function(m,y){return Math.max(m,y)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(y)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}})(rr.API);var Goe={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Yoe=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],gF=Woe(Yoe),Xoe=[100,200,300,400,500,600,700,800,900],xWe=Woe(Xoe);function RP(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return Goe[i=i||"normal"]?i:"normal"})(e.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),a=(function(i){return typeof gF[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function Ez(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var wWe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},kz={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Pz(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Tz(e){return e.trimLeft()}function bWe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function jWe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Kg,O2,Oz,Iz,Fz,LP=["times"];function Rz(e,t,r,n,a){var i=4,o=Uz;switch(a){case rr.API.image_compression.FAST:i=1,o=Lz;break;case rr.API.image_compression.MEDIUM:i=6,o=Dz;break;case rr.API.image_compression.SLOW:i=9,o=Mz}e=(function(c,u,d,A){for(var h,m=c.length/u,y=new Uint8Array(c.length+m),g=[_We,Lz,Uz,Dz,Mz],v=0;v<m;v+=1){var x=v*u,b=c.subarray(x,x+u);if(A)y.set(A(b,d,h),x+v);else{for(var j=g.length,_=[],N=0;N<j;N+=1)_[N]=g[N](b,d,h);var B=CWe(_.concat());y.set(_[B],x+v)}h=b}return y})(e,t,Math.ceil(r*n/8),o);var l=uF(e,{level:i});return rr.API.__addimage__.arrayBufferToBinaryString(l)}function _We(e){var t=Array.apply([],e);return t.unshift(0),t}function Lz(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;n[a+1]=e[a]-i+256&255}return n}function Uz(e,t,r){var n=e.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var o=r&&r[i]||0;a[i+1]=e[i]-o+256&255}return a}function Dz(e,t,r){var n=e.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var o=e[i-t]||0,l=r&&r[i]||0;a[i+1]=e[i]+256-(o+l>>>1)&255}return a}function Mz(e,t,r){var n=e.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var o=NWe(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-o+256&255}return a}function NWe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=a&&n<=i?e:a<=i?t:r}function CWe(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function UP(e,t,r){var n=t*r,a=Math.floor(n/8),i=16-(n-8*a+r),o=(1<<r)-1;return Joe(e,a)>>i&o}function Qz(e,t,r,n){var a=r*n,i=Math.floor(a/8),o=16-(a-8*i+n),l=(1<<n)-1,c=(t&l)<<o;(function(u,d,A){if(d+1<u.byteLength)u.setUint16(d,A,!1);else{var h=A>>8&255;u.setUint8(d,h)}})(e,i,Joe(e,i)&~(l<<o)&65535|c)}function Joe(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function SWe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<1+(7&a);e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var u=!0,d=[],A=0,h=null,m=0,y=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];A=e[t++]|e[t++]<<8,h=e[t++],1&g||(h=null),m=g>>2&7,t++;break;case 254:for(;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,_=e[t++],N=_>>6&1,B=1<<1+(7&_),T=l,O=c,P=!1;_>>7&&(P=!0,T=t,O=B,t+=3*B);var M=t;for(t++;;){var I;if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}d.push({x:v,y:x,width:b,height:j,has_local_palette:P,palette_offset:T,palette_size:O,data_offset:M,data_length:t-M,transparent_index:h,interlaced:!!N,delay:A,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(D){if(D<0||D>=d.length)throw new Error("Frame index out of range.");return d[D]},this.decodeAndBlitFrameBGRA=function(D,$){var F=this.frameInfo(D),V=F.width*F.height;if(V>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var X=new Uint8Array(V);Hz(e,F.data_offset,X,V);var K=F.palette_offset,W=F.transparent_index;W===null&&(W=256);var z=F.width,te=r-z,G=z,U=4*(F.y*r+F.x),Y=4*((F.y+F.height)*r+F.x),ee=U,ae=4*te;F.interlaced===!0&&(ae+=4*r*7);for(var Ae=8,ce=0,we=X.length;ce<we;++ce){var ge=X[ce];if(G===0&&(G=z,(ee+=ae)>=Y&&(ae=4*te+4*r*(Ae-1),ee=U+(z+te)*(Ae<<1),Ae>>=1)),ge===W)ee+=4;else{var je=e[K+3*ge],Oe=e[K+3*ge+1],Ne=e[K+3*ge+2];$[ee++]=Ne,$[ee++]=Oe,$[ee++]=je,$[ee++]=255}--G}},this.decodeAndBlitFrameRGBA=function(D,$){var F=this.frameInfo(D),V=F.width*F.height;if(V>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var X=new Uint8Array(V);Hz(e,F.data_offset,X,V);var K=F.palette_offset,W=F.transparent_index;W===null&&(W=256);var z=F.width,te=r-z,G=z,U=4*(F.y*r+F.x),Y=4*((F.y+F.height)*r+F.x),ee=U,ae=4*te;F.interlaced===!0&&(ae+=4*r*7);for(var Ae=8,ce=0,we=X.length;ce<we;++ce){var ge=X[ce];if(G===0&&(G=z,(ee+=ae)>=Y&&(ae=4*te+4*r*(Ae-1),ee=U+(z+te)*(Ae<<1),Ae>>=1)),ge===W)ee+=4;else{var je=e[K+3*ge],Oe=e[K+3*ge+1],Ne=e[K+3*ge+2];$[ee++]=je,$[ee++]=Oe,$[ee++]=Ne,$[ee++]=255}--G}}}function Hz(e,t,r,n){for(var a=e[t++],i=1<<a,o=i+1,l=o+1,c=a+1,u=(1<<c)-1,d=0,A=0,h=0,m=e[t++],y=new Int32Array(4096),g=null;;){for(;d<16&&m!==0;)A|=e[t++]<<d,d+=8,m===1?m=e[t++]:--m;if(d<c)break;var v=A&u;if(A>>=c,d-=c,v!==i){if(v===o)break;for(var x=v<l?v:g,b=0,j=x;j>i;)j=y[j]>>8,++b;var _=j;if(h+b+(x!==v?1:0)>n)return void ls.log("Warning, gif stream longer than expected.");r[h++]=_;var N=h+=b;for(x!==v&&(r[h++]=_),j=x;b--;)j=y[j],r[--N]=255&j,j>>=8;g!==null&&l<4096&&(y[l++]=g<<8|_,l>=u+1&&c<12&&(++c,u=u<<1|1)),g=v}else l=o+1,u=(1<<(c=a+1))-1,g=null}return h!==n&&ls.log("Warning, gif stream shorter than expected."),r}function DP(e){var t,r,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),A=new Array(65535),h=new Array(65535),m=new Array(64),y=new Array(64),g=[],v=0,x=7,b=new Array(64),j=new Array(64),_=new Array(64),N=new Array(256),B=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(U,Y){for(var ee=0,ae=0,Ae=new Array,ce=1;ce<=16;ce++){for(var we=1;we<=U[ce];we++)Ae[Y[ae]]=[],Ae[Y[ae]][0]=ee,Ae[Y[ae]][1]=ce,ae++,ee++;ee*=2}return Ae}function K(U){for(var Y=U[0],ee=U[1]-1;ee>=0;)Y&1<<ee&&(v|=1<<x),ee--,--x<0&&(v==255?(W(255),W(0)):W(v),x=7,v=0)}function W(U){g.push(U)}function z(U){W(U>>8&255),W(255&U)}function te(U,Y,ee,ae,Ae){for(var ce,we=Ae[0],ge=Ae[240],je=(function(Me,fe){var ve,Ee,xe,qe,Ke,tt,jt,Ct,_t,tr,St=0;for(_t=0;_t<8;++_t){ve=Me[St],Ee=Me[St+1],xe=Me[St+2],qe=Me[St+3],Ke=Me[St+4],tt=Me[St+5],jt=Me[St+6];var Zn=ve+(Ct=Me[St+7]),Hr=ve-Ct,dr=Ee+jt,Fr=Ee-jt,tn=xe+tt,Wt=xe-tt,vn=qe+Ke,sr=qe-Ke,xr=Zn+vn,Nn=Zn-vn,Cr=dr+tn,qt=dr-tn;Me[St]=xr+Cr,Me[St+4]=xr-Cr;var yn=.707106781*(qt+Nn);Me[St+2]=Nn+yn,Me[St+6]=Nn-yn;var cr=.382683433*((xr=sr+Wt)-(qt=Fr+Hr)),Er=.5411961*xr+cr,ln=1.306562965*qt+cr,us=.707106781*(Cr=Wt+Fr),Dt=Hr+us,Cs=Hr-us;Me[St+5]=Cs+Er,Me[St+3]=Cs-Er,Me[St+1]=Dt+ln,Me[St+7]=Dt-ln,St+=8}for(St=0,_t=0;_t<8;++_t){ve=Me[St],Ee=Me[St+8],xe=Me[St+16],qe=Me[St+24],Ke=Me[St+32],tt=Me[St+40],jt=Me[St+48];var da=ve+(Ct=Me[St+56]),Ln=ve-Ct,Us=Ee+jt,es=Ee-jt,Ds=xe+tt,Gs=xe-tt,Ic=qe+Ke,Fu=qe-Ke,vl=da+Ic,Xl=da-Ic,$a=Us+Ds,Do=Us-Ds;Me[St]=vl+$a,Me[St+32]=vl-$a;var fo=.707106781*(Do+Xl);Me[St+16]=Xl+fo,Me[St+48]=Xl-fo;var Id=.382683433*((vl=Fu+Gs)-(Do=es+Ln)),yl=.5411961*vl+Id,Ru=1.306562965*Do+Id,Fd=.707106781*($a=Gs+es),Rd=Ln+Fd,ef=Ln-Fd;Me[St+40]=ef+yl,Me[St+24]=ef-yl,Me[St+8]=Rd+Ru,Me[St+56]=Rd-Ru,St++}for(_t=0;_t<64;++_t)tr=Me[_t]*fe[_t],m[_t]=tr>0?tr+.5|0:tr-.5|0;return m})(U,Y),Oe=0;Oe<64;++Oe)y[T[Oe]]=je[Oe];var Ne=y[0]-ee;ee=y[0],Ne==0?K(ae[0]):(K(ae[h[ce=32767+Ne]]),K(A[ce]));for(var et=63;et>0&&y[et]==0;)et--;if(et==0)return K(we),ee;for(var nt,le=1;le<=et;){for(var lt=le;y[le]==0&&le<=et;)++le;var Pt=le-lt;if(Pt>=16){nt=Pt>>4;for(var Pe=1;Pe<=nt;++Pe)K(ge);Pt&=15}ce=32767+y[le],K(Ae[(Pt<<4)+h[ce]]),K(A[ce]),le++}return et!=63&&K(we),ee}function G(U){U=Math.min(Math.max(U,1),100),i!=U&&((function(Y){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var Ae=o((ee[ae]*Y+50)/100);Ae=Math.min(Math.max(Ae,1),255),l[T[ae]]=Ae}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var ge=o((ce[we]*Y+50)/100);ge=Math.min(Math.max(ge,1),255),c[T[we]]=ge}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Oe=0,Ne=0;Ne<8;Ne++)for(var et=0;et<8;et++)u[Oe]=1/(l[T[Oe]]*je[Ne]*je[et]*8),d[Oe]=1/(c[T[Oe]]*je[Ne]*je[et]*8),Oe++})(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),i=U)}this.encode=function(U,Y){Y&&G(Y),g=new Array,v=0,x=7,z(65496),z(65504),z(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),z(1),z(1),W(0),W(0),(function(){z(65499),z(132),W(0);for(var Ee=0;Ee<64;Ee++)W(l[Ee]);W(1);for(var xe=0;xe<64;xe++)W(c[xe])})(),(function(Ee,xe){z(65472),z(17),W(8),z(xe),z(Ee),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)})(U.width,U.height),(function(){z(65476),z(418),W(0);for(var Ee=0;Ee<16;Ee++)W(O[Ee+1]);for(var xe=0;xe<=11;xe++)W(P[xe]);W(16);for(var qe=0;qe<16;qe++)W(M[qe+1]);for(var Ke=0;Ke<=161;Ke++)W(I[Ke]);W(1);for(var tt=0;tt<16;tt++)W(D[tt+1]);for(var jt=0;jt<=11;jt++)W($[jt]);W(17);for(var Ct=0;Ct<16;Ct++)W(F[Ct+1]);for(var _t=0;_t<=161;_t++)W(V[_t])})(),z(65498),z(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var ee=0,ae=0,Ae=0;v=0,x=7,this.encode.displayName="_encode_";for(var ce,we,ge,je,Oe,Ne,et,nt,le,lt=U.data,Pt=U.width,Pe=U.height,Me=4*Pt,fe=0;fe<Pe;){for(ce=0;ce<Me;){for(Oe=Me*fe+ce,et=-1,nt=0,le=0;le<64;le++)Ne=Oe+(nt=le>>3)*Me+(et=4*(7&le)),fe+nt>=Pe&&(Ne-=Me*(fe+1+nt-Pe)),ce+et>=Me&&(Ne-=ce+et-Me+4),we=lt[Ne++],ge=lt[Ne++],je=lt[Ne++],b[le]=(B[we]+B[ge+256|0]+B[je+512|0]>>16)-128,j[le]=(B[we+768|0]+B[ge+1024|0]+B[je+1280|0]>>16)-128,_[le]=(B[we+1280|0]+B[ge+1536|0]+B[je+1792|0]>>16)-128;ee=te(b,u,ee,t,n),ae=te(j,d,ae,r,a),Ae=te(_,d,Ae,r,a),ce+=32}fe+=8}if(x>=0){var ve=[];ve[1]=x+1,ve[0]=(1<<x+1)-1,K(ve)}return z(65497),new Uint8Array(g)},e=e||50,(function(){for(var U=String.fromCharCode,Y=0;Y<256;Y++)N[Y]=U(Y)})(),t=X(O,P),r=X(D,$),n=X(M,I),a=X(F,V),(function(){for(var U=1,Y=2,ee=1;ee<=15;ee++){for(var ae=U;ae<Y;ae++)h[32767+ae]=ee,A[32767+ae]=[],A[32767+ae][1]=ee,A[32767+ae][0]=ae;for(var Ae=-(Y-1);Ae<=-U;Ae++)h[32767+Ae]=ee,A[32767+Ae]=[],A[32767+Ae][1]=ee,A[32767+Ae][0]=Y-1+Ae;U<<=1,Y<<=1}})(),(function(){for(var U=0;U<256;U++)B[U]=19595*U,B[U+256|0]=38470*U,B[U+512|0]=7471*U+32768,B[U+768|0]=-11059*U,B[U+1024|0]=-21709*U,B[U+1280|0]=32768*U+8421375,B[U+1536|0]=-27439*U,B[U+1792|0]=-5329*U})(),G(e)}function ru(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function $z(e){function t(P){if(!P)throw Error("assert :P")}function r(P,M,I){for(var D=0;4>D;D++)if(P[M+D]!=I.charCodeAt(D))return!0;return!1}function n(P,M,I,D,$){for(var F=0;F<$;F++)P[M+F]=I[D+F]}function a(P,M,I,D){for(var $=0;$<D;$++)P[M+$]=I}function i(P){return new Int32Array(P)}function o(P,M){for(var I=[],D=0;D<P;D++)I.push(new M);return I}function l(P,M){var I=[];return(function D($,F,V){for(var X=V[F],K=0;K<X&&($.push(V.length>F+1?[]:new M),!(V.length<F+1));K++)D($[K],F+1,V)})(I,0,P),I}var c=function(){var P=this;function M(S,k){for(var Q=1<<k-1>>>0;S&Q;)Q>>>=1;return Q?(S&Q-1)+Q:S}function I(S,k,Q,q,J){t(!(q%Q));do S[k+(q-=Q)]=J;while(0<q)}function D(S,k,Q,q,J){if(t(2328>=J),512>=J)var ne=i(512);else if((ne=i(J))==null)return 0;return(function(ie,oe,ue,he,Ce,Re){var me,Be,Ie=oe,Ge=1<<ue,Qe=i(16),ze=i(16);for(t(Ce!=0),t(he!=null),t(ie!=null),t(0<ue),Be=0;Be<Ce;++Be){if(15<he[Be])return 0;++Qe[he[Be]]}if(Qe[0]==Ce)return 0;for(ze[1]=0,me=1;15>me;++me){if(Qe[me]>1<<me)return 0;ze[me+1]=ze[me]+Qe[me]}for(Be=0;Be<Ce;++Be)me=he[Be],0<he[Be]&&(Re[ze[me]++]=Be);if(ze[15]==1)return(he=new $).g=0,he.value=Re[0],I(ie,Ie,1,Ge,he),Ge;var We,rt=-1,at=Ge-1,Yt=0,Ft=1,Dr=1,Qt=1<<ue;for(Be=0,me=1,Ce=2;me<=ue;++me,Ce<<=1){if(Ft+=Dr<<=1,0>(Dr-=Qe[me]))return 0;for(;0<Qe[me];--Qe[me])(he=new $).g=me,he.value=Re[Be++],I(ie,Ie+Yt,Ce,Qt,he),Yt=M(Yt,me)}for(me=ue+1,Ce=2;15>=me;++me,Ce<<=1){if(Ft+=Dr<<=1,0>(Dr-=Qe[me]))return 0;for(;0<Qe[me];--Qe[me]){if(he=new $,(Yt&at)!=rt){for(Ie+=Qt,We=1<<(rt=me)-ue;15>rt&&!(0>=(We-=Qe[rt]));)++rt,We<<=1;Ge+=Qt=1<<(We=rt-ue),ie[oe+(rt=Yt&at)].g=We+ue,ie[oe+rt].value=Ie-oe-rt}he.g=me-ue,he.value=Re[Be++],I(ie,Ie+(Yt>>ue),Ce,Qt,he),Yt=M(Yt,me)}}return Ft!=2*ze[15]-1?0:Ge})(S,k,Q,q,J,ne)}function $(){this.value=this.g=0}function F(){this.value=this.g=0}function V(){this.G=o(5,$),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ko,F)}function X(S,k,Q,q){t(S!=null),t(k!=null),t(2147483648>q),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=k,S.pa=Q,S.Jd=k,S.Yc=Q+q,S.Zc=4<=q?Q+q-4+1:Q,we(S)}function K(S,k){for(var Q=0;0<k--;)Q|=je(S,128)<<k;return Q}function W(S,k){var Q=K(S,k);return ge(S)?-Q:Q}function z(S,k,Q,q){var J,ne=0;for(t(S!=null),t(k!=null),t(4294967288>q),S.Sb=q,S.Ra=0,S.u=0,S.h=0,4<q&&(q=4),J=0;J<q;++J)ne+=k[Q+J]<<8*J;S.Ra=ne,S.bb=q,S.oa=k,S.pa=Q}function te(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<Vu-8>>>0,++S.bb,S.u-=8;ae(S)&&(S.h=1,S.u=0)}function G(S,k){if(t(0<=k),!S.h&&k<=xo){var Q=ee(S)&yo[k];return S.u+=k,te(S),Q}return S.h=1,S.u=0}function U(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(S){return S.Ra>>>(S.u&Vu-1)>>>0}function ae(S){return t(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>Vu}function Ae(S,k){S.u=k,S.h=ae(S)}function ce(S){S.u>=sc&&(t(S.u>=sc),te(S))}function we(S){t(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(t(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function ge(S){return K(S,1)}function je(S,k){var Q=S.Ca;0>S.b&&we(S);var q=S.b,J=Q*k>>>8,ne=(S.I>>>q>J)+0;for(ne?(Q-=J,S.I-=J+1<<q>>>0):Q=J+1,q=Q,J=0;256<=q;)J+=8,q>>=8;return q=7^J+Mc[q],S.b-=q,S.Ca=(Q<<q)-1,ne}function Oe(S,k,Q){S[k+0]=Q>>24&255,S[k+1]=Q>>16&255,S[k+2]=Q>>8&255,S[k+3]=255&Q}function Ne(S,k){return S[k+0]|S[k+1]<<8}function et(S,k){return Ne(S,k)|S[k+2]<<16}function nt(S,k){return Ne(S,k)|Ne(S,k+2)<<16}function le(S,k){var Q=1<<k;return t(S!=null),t(0<k),S.X=i(Q),S.X==null?0:(S.Mb=32-k,S.Xa=k,1)}function lt(S,k){t(S!=null),t(k!=null),t(S.Xa==k.Xa),n(k.X,0,S.X,0,1<<k.Xa)}function Pt(){this.X=[],this.Xa=this.Mb=0}function Pe(S,k,Q,q){t(Q!=null),t(q!=null);var J=Q[0],ne=q[0];return J==0&&(J=(S*ne+k/2)/k),ne==0&&(ne=(k*J+S/2)/S),0>=J||0>=ne?0:(Q[0]=J,q[0]=ne,1)}function Me(S,k){return S+(1<<k)-1>>>k}function fe(S,k){return((4278255360&S)+(4278255360&k)>>>0&4278255360)+((16711935&S)+(16711935&k)>>>0&16711935)>>>0}function ve(S,k){P[k]=function(Q,q,J,ne,ie,oe,ue){var he;for(he=0;he<ie;++he){var Ce=P[S](oe[ue+he-1],J,ne+he);oe[ue+he]=fe(Q[q+he],Ce)}}}function Ee(){this.ud=this.hd=this.jd=0}function xe(S,k){return((4278124286&(S^k))>>>1)+(S&k)>>>0}function qe(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function Ke(S,k){return qe(S+(S-k+.5>>1))}function tt(S,k,Q){return Math.abs(k-Q)-Math.abs(S-Q)}function jt(S,k,Q,q,J,ne,ie){for(q=ne[ie-1],Q=0;Q<J;++Q)ne[ie+Q]=q=fe(S[k+Q],q)}function Ct(S,k,Q,q,J){var ne;for(ne=0;ne<Q;++ne){var ie=S[k+ne],oe=ie>>8&255,ue=16711935&(ue=(ue=16711935&ie)+((oe<<16)+oe));q[J+ne]=(4278255360&ie)+ue>>>0}}function _t(S,k){k.jd=255&S,k.hd=S>>8&255,k.ud=S>>16&255}function tr(S,k,Q,q,J,ne){var ie;for(ie=0;ie<q;++ie){var oe=k[Q+ie],ue=oe>>>8,he=oe,Ce=255&(Ce=(Ce=oe>>>16)+((S.jd<<24>>24)*(ue<<24>>24)>>>5));he=255&(he=(he+=(S.hd<<24>>24)*(ue<<24>>24)>>>5)+((S.ud<<24>>24)*(Ce<<24>>24)>>>5)),J[ne+ie]=(4278255360&oe)+(Ce<<16)+he}}function St(S,k,Q,q,J){P[k]=function(ne,ie,oe,ue,he,Ce,Re,me,Be){for(ue=Re;ue<me;++ue)for(Re=0;Re<Be;++Re)he[Ce++]=J(oe[q(ne[ie++])])},P[S]=function(ne,ie,oe,ue,he,Ce,Re){var me=8>>ne.b,Be=ne.Ea,Ie=ne.K[0],Ge=ne.w;if(8>me)for(ne=(1<<ne.b)-1,Ge=(1<<me)-1;ie<oe;++ie){var Qe,ze=0;for(Qe=0;Qe<Be;++Qe)Qe&ne||(ze=q(ue[he++])),Ce[Re++]=J(Ie[ze&Ge]),ze>>=me}else P["VP8LMapColor"+Q](ue,he,Ie,Ge,Ce,Re,ie,oe,Be)}}function Zn(S,k,Q,q,J){for(Q=k+Q;k<Q;){var ne=S[k++];q[J++]=ne>>16&255,q[J++]=ne>>8&255,q[J++]=255&ne}}function Hr(S,k,Q,q,J){for(Q=k+Q;k<Q;){var ne=S[k++];q[J++]=ne>>16&255,q[J++]=ne>>8&255,q[J++]=255&ne,q[J++]=ne>>24&255}}function dr(S,k,Q,q,J){for(Q=k+Q;k<Q;){var ne=(ie=S[k++])>>16&240|ie>>12&15,ie=240&ie|ie>>28&15;q[J++]=ne,q[J++]=ie}}function Fr(S,k,Q,q,J){for(Q=k+Q;k<Q;){var ne=(ie=S[k++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;q[J++]=ne,q[J++]=ie}}function tn(S,k,Q,q,J){for(Q=k+Q;k<Q;){var ne=S[k++];q[J++]=255&ne,q[J++]=ne>>8&255,q[J++]=ne>>16&255}}function Wt(S,k,Q,q,J,ne){if(ne==0)for(Q=k+Q;k<Q;)Oe(q,((ne=S[k++])[0]>>24|ne[1]>>8&65280|ne[2]<<8&16711680|ne[3]<<24)>>>0),J+=32;else n(q,J,S,k,Q)}function vn(S,k){P[k][0]=P[S+"0"],P[k][1]=P[S+"1"],P[k][2]=P[S+"2"],P[k][3]=P[S+"3"],P[k][4]=P[S+"4"],P[k][5]=P[S+"5"],P[k][6]=P[S+"6"],P[k][7]=P[S+"7"],P[k][8]=P[S+"8"],P[k][9]=P[S+"9"],P[k][10]=P[S+"10"],P[k][11]=P[S+"11"],P[k][12]=P[S+"12"],P[k][13]=P[S+"13"],P[k][14]=P[S+"0"],P[k][15]=P[S+"0"]}function sr(S){return S==xf||S==aA||S==om||S==lm}function xr(){this.eb=[],this.size=this.A=this.fb=0}function Nn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Cr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xr,this.f.kb=new Nn,this.sd=null}function qt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function yn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function cr(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function Er(S,k){var Q=S.T,q=k.ba.f.RGBA,J=q.eb,ne=q.fb+S.ka*q.A,ie=Yi[k.ba.S],oe=S.y,ue=S.O,he=S.f,Ce=S.N,Re=S.ea,me=S.W,Be=k.cc,Ie=k.dc,Ge=k.Mc,Qe=k.Nc,ze=S.ka,We=S.ka+S.T,rt=S.U,at=rt+1>>1;for(ze==0?ie(oe,ue,null,null,he,Ce,Re,me,he,Ce,Re,me,J,ne,null,null,rt):(ie(k.ec,k.fc,oe,ue,Be,Ie,Ge,Qe,he,Ce,Re,me,J,ne-q.A,J,ne,rt),++Q);ze+2<We;ze+=2)Be=he,Ie=Ce,Ge=Re,Qe=me,Ce+=S.Rc,me+=S.Rc,ne+=2*q.A,ie(oe,(ue+=2*S.fa)-S.fa,oe,ue,Be,Ie,Ge,Qe,he,Ce,Re,me,J,ne-q.A,J,ne,rt);return ue+=S.fa,S.j+We<S.o?(n(k.ec,k.fc,oe,ue,rt),n(k.cc,k.dc,he,Ce,at),n(k.Mc,k.Nc,Re,me,at),Q--):1&We||ie(oe,ue,null,null,he,Ce,Re,me,he,Ce,Re,me,J,ne+q.A,null,null,rt),Q}function ln(S,k,Q){var q=S.F,J=[S.J];if(q!=null){var ne=S.U,ie=k.ba.S,oe=ie==im||ie==om;k=k.ba.f.RGBA;var ue=[0],he=S.ka;ue[0]=S.T,S.Kb&&(he==0?--ue[0]:(--he,J[0]-=S.width),S.j+S.ka+S.T==S.o&&(ue[0]=S.o-S.j-he));var Ce=k.eb;he=k.fb+he*k.A,S=sm(q,J[0],S.width,ne,ue,Ce,he+(oe?0:3),k.A),t(Q==ue),S&&sr(ie)&&sA(Ce,he,oe,ne,ue,k.A)}return 0}function us(S){var k=S.ma,Q=k.ba.S,q=11>Q,J=Q==Wu||Q==am||Q==im||Q==qn||Q==12||sr(Q);if(k.memory=null,k.Ib=null,k.Jb=null,k.Nd=null,!ff(k.Oa,S,J?11:12))return 0;if(J&&sr(Q)&&Wd(),S.da)alert("todo:use_scaling");else{if(q){if(k.Ib=cr,S.Kb){if(Q=S.U+1>>1,k.memory=i(S.U+2*Q),k.memory==null)return 0;k.ec=k.memory,k.fc=0,k.cc=k.ec,k.dc=k.fc+S.U,k.Mc=k.cc,k.Nc=k.dc+Q,k.Ib=Er,Wd()}}else alert("todo:EmitYUV");J&&(k.Jb=ln,q&&bl())}if(q&&!Ka){for(S=0;256>S;++S)Xi[S]=89858*(S-128)+Cl>>Vc,Ji[S]=-22014*(S-128)+Cl,_f[S]=-45773*(S-128),cA[S]=113618*(S-128)+Cl>>Vc;for(S=Fn;S<Dn;++S)k=76283*(S-16)+Cl>>Vc,og[S-Fn]=Ys(k,255),$b[S-Fn]=Ys(k+8>>4,15);Ka=1}return 1}function Dt(S){var k=S.ma,Q=S.U,q=S.T;return t(!(1&S.ka)),0>=Q||0>=q?0:(Q=k.Ib(S,k),k.Jb!=null&&k.Jb(S,k,Q),k.Dc+=Q,1)}function Cs(S){S.ma.memory=null}function da(S,k,Q,q){return G(S,8)!=47?0:(k[0]=G(S,14)+1,Q[0]=G(S,14)+1,q[0]=G(S,1),G(S,3)!=0?0:!S.h)}function Ln(S,k){if(4>S)return S+1;var Q=S-2>>1;return(2+(1&S)<<Q)+G(k,Q)+1}function Us(S,k){return 120<k?k-120:1<=(Q=((Q=aS[k-1])>>4)*S+(8-(15&Q)))?Q:1;var Q}function es(S,k,Q){var q=ee(Q),J=S[k+=255&q].g-8;return 0<J&&(Ae(Q,Q.u+8),q=ee(Q),k+=S[k].value,k+=q&(1<<J)-1),Ae(Q,Q.u+S[k].g),S[k].value}function Ds(S,k,Q){return Q.g+=S.g,Q.value+=S.value<<k>>>0,t(8>=Q.g),S.g}function Gs(S,k,Q){var q=S.xc;return t((k=q==0?0:S.vc[S.md*(Q>>q)+(k>>q)])<S.Wb),S.Ya[k]}function Ic(S,k,Q,q){var J=S.ab,ne=S.c*k,ie=S.C;k=ie+k;var oe=Q,ue=q;for(q=S.Ta,Q=S.Ua;0<J--;){var he=S.gc[J],Ce=ie,Re=k,me=oe,Be=ue,Ie=(ue=q,oe=Q,he.Ea);switch(t(Ce<Re),t(Re<=he.nc),he.hc){case 2:Qs(me,Be,(Re-Ce)*Ie,ue,oe);break;case 0:var Ge=Ce,Qe=Re,ze=ue,We=oe,rt=(Qt=he).Ea;Ge==0&&(Qc(me,Be,null,null,1,ze,We),jt(me,Be+1,0,0,rt-1,ze,We+1),Be+=rt,We+=rt,++Ge);for(var at=1<<Qt.b,Yt=at-1,Ft=Me(rt,Qt.b),Dr=Qt.K,Qt=Qt.w+(Ge>>Qt.b)*Ft;Ge<Qe;){var rn=Dr,Es=Qt,$r=1;for(ac(me,Be,ze,We-rt,1,ze,We);$r<rt;){var Rt=($r&~Yt)+at;Rt>rt&&(Rt=rt),(0,eA[rn[Es++]>>8&15])(me,Be+ +$r,ze,We+$r-rt,Rt-$r,ze,We+$r),$r=Rt}Be+=rt,We+=rt,++Ge&Yt||(Qt+=Ft)}Re!=he.nc&&n(ue,oe-Ie,ue,oe+(Re-Ce-1)*Ie,Ie);break;case 1:for(Ie=me,Qe=Be,rt=(me=he.Ea)-(We=me&~(ze=(Be=1<<he.b)-1)),Ge=Me(me,he.b),at=he.K,he=he.w+(Ce>>he.b)*Ge;Ce<Re;){for(Yt=at,Ft=he,Dr=new Ee,Qt=Qe+We,rn=Qe+me;Qe<Qt;)_t(Yt[Ft++],Dr),mf(Dr,Ie,Qe,Be,ue,oe),Qe+=Be,oe+=Be;Qe<rn&&(_t(Yt[Ft++],Dr),mf(Dr,Ie,Qe,rt,ue,oe),Qe+=rt,oe+=rt),++Ce&ze||(he+=Ge)}break;case 3:if(me==ue&&Be==oe&&0<he.b){for(Qe=ue,me=Ie=oe+(Re-Ce)*Ie-(We=(Re-Ce)*Me(he.Ea,he.b)),Be=ue,ze=oe,Ge=[],We=(rt=We)-1;0<=We;--We)Ge[We]=Be[ze+We];for(We=rt-1;0<=We;--We)Qe[me+We]=Ge[We];Jd(he,Ce,Re,ue,Ie,ue,oe)}else Jd(he,Ce,Re,me,Be,ue,oe)}oe=q,ue=Q}ue!=Q&&n(q,Q,oe,ue,ne)}function Fu(S,k){var Q=S.V,q=S.Ba+S.c*S.C,J=k-S.C;if(t(k<=S.l.o),t(16>=J),0<J){var ne=S.l,ie=S.Ta,oe=S.Ua,ue=ne.width;if(Ic(S,J,Q,q),J=oe=[oe],t((Q=S.C)<(q=k)),t(ne.v<ne.va),q>ne.o&&(q=ne.o),Q<ne.j){var he=ne.j-Q;Q=ne.j,J[0]+=he*ue}if(Q>=q?Q=0:(J[0]+=4*ne.v,ne.ka=Q-ne.j,ne.U=ne.va-ne.v,ne.T=q-Q,Q=1),Q){if(oe=oe[0],11>(Q=S.ca).S){var Ce=Q.f.RGBA,Re=(q=Q.S,J=ne.U,ne=ne.T,he=Ce.eb,Ce.A),me=ne;for(Ce=Ce.fb+S.Ma*Ce.A;0<me--;){var Be=ie,Ie=oe,Ge=J,Qe=he,ze=Ce;switch(q){case ng:pf(Be,Ie,Ge,Qe,ze);break;case Wu:Hc(Be,Ie,Ge,Qe,ze);break;case xf:Hc(Be,Ie,Ge,Qe,ze),sA(Qe,ze,0,Ge,1,0);break;case Ub:tA(Be,Ie,Ge,Qe,ze);break;case am:Wt(Be,Ie,Ge,Qe,ze,1);break;case aA:Wt(Be,Ie,Ge,Qe,ze,1),sA(Qe,ze,0,Ge,1,0);break;case im:Wt(Be,Ie,Ge,Qe,ze,0);break;case om:Wt(Be,Ie,Ge,Qe,ze,0),sA(Qe,ze,1,Ge,1,0);break;case qn:qu(Be,Ie,Ge,Qe,ze);break;case lm:qu(Be,Ie,Ge,Qe,ze),rx(Qe,ze,Ge,1,0);break;case sg:Ku(Be,Ie,Ge,Qe,ze);break;default:t(0)}oe+=ue,Ce+=Re}S.Ma+=ne}else alert("todo:EmitRescaledRowsYUVA");t(S.Ma<=Q.height)}}S.C=k,t(S.C<=S.i)}function vl(S){var k;if(0<S.ua)return 0;for(k=0;k<S.Wb;++k){var Q=S.Ya[k].G,q=S.Ya[k].H;if(0<Q[1][q[1]+0].g||0<Q[2][q[2]+0].g||0<Q[3][q[3]+0].g)return 0}return 1}function Xl(S,k,Q,q,J,ne){if(S.Z!=0){var ie=S.qd,oe=S.rd;for(t(oi[S.Z]!=null);k<Q;++k)oi[S.Z](ie,oe,q,J,q,J,ne),ie=q,oe=J,J+=ne;S.qd=ie,S.rd=oe}}function $a(S,k){var Q=S.l.ma,q=Q.Z==0||Q.Z==1?S.l.j:S.C;if(q=S.C<q?q:S.C,t(k<=S.l.o),k>q){var J=S.l.width,ne=Q.ca,ie=Q.tb+J*q,oe=S.V,ue=S.Ba+S.c*q,he=S.gc;t(S.ab==1),t(he[0].hc==3),_l(he[0],q,k,oe,ue,ne,ie),Xl(Q,q,k,ne,ie,J)}S.C=S.Ma=k}function Do(S,k,Q,q,J,ne,ie){var oe=S.$/q,ue=S.$%q,he=S.m,Ce=S.s,Re=Q+S.$,me=Re;J=Q+q*J;var Be=Q+q*ne,Ie=280+Ce.ua,Ge=S.Pb?oe:16777216,Qe=0<Ce.ua?Ce.Wa:null,ze=Ce.wc,We=Re<Be?Gs(Ce,ue,oe):null;t(S.C<ne),t(Be<=J);var rt=!1;e:for(;;){for(;rt||Re<Be;){var at=0;if(oe>=Ge){var Yt=Re-Q;t((Ge=S).Pb),Ge.wd=Ge.m,Ge.xd=Yt,0<Ge.s.ua&&lt(Ge.s.Wa,Ge.s.vb),Ge=oe+ig}if(ue&ze||(We=Gs(Ce,ue,oe)),t(We!=null),We.Qb&&(k[Re]=We.qb,rt=!0),!rt)if(ce(he),We.jc){at=he,Yt=k;var Ft=Re,Dr=We.pd[ee(at)&Ko-1];t(We.jc),256>Dr.g?(Ae(at,at.u+Dr.g),Yt[Ft]=Dr.value,at=0):(Ae(at,at.u+Dr.g-256),t(256<=Dr.value),at=Dr.value),at==0&&(rt=!0)}else at=es(We.G[0],We.H[0],he);if(he.h)break;if(rt||256>at){if(!rt)if(We.nd)k[Re]=(We.qb|at<<8)>>>0;else{if(ce(he),rt=es(We.G[1],We.H[1],he),ce(he),Yt=es(We.G[2],We.H[2],he),Ft=es(We.G[3],We.H[3],he),he.h)break;k[Re]=(Ft<<24|rt<<16|at<<8|Yt)>>>0}if(rt=!1,++Re,++ue>=q&&(ue=0,++oe,ie!=null&&oe<=ne&&!(oe%16)&&ie(S,oe),Qe!=null))for(;me<Re;)at=k[me++],Qe.X[(506832829*at&4294967295)>>>Qe.Mb]=at}else if(280>at){if(at=Ln(at-256,he),Yt=es(We.G[4],We.H[4],he),ce(he),Yt=Us(q,Yt=Ln(Yt,he)),he.h)break;if(Re-Q<Yt||J-Re<at)break e;for(Ft=0;Ft<at;++Ft)k[Re+Ft]=k[Re+Ft-Yt];for(Re+=at,ue+=at;ue>=q;)ue-=q,++oe,ie!=null&&oe<=ne&&!(oe%16)&&ie(S,oe);if(t(Re<=J),ue&ze&&(We=Gs(Ce,ue,oe)),Qe!=null)for(;me<Re;)at=k[me++],Qe.X[(506832829*at&4294967295)>>>Qe.Mb]=at}else{if(!(at<Ie))break e;for(rt=at-280,t(Qe!=null);me<Re;)at=k[me++],Qe.X[(506832829*at&4294967295)>>>Qe.Mb]=at;at=Re,t(!(rt>>>(Yt=Qe).Xa)),k[at]=Yt.X[rt],rt=!0}rt||t(he.h==ae(he))}if(S.Pb&&he.h&&Re<J)t(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&lt(S.s.vb,S.s.Wa);else{if(he.h)break e;ie?.(S,oe>ne?ne:oe),S.a=0,S.$=Re-Q}return 1}return S.a=3,0}function fo(S){t(S!=null),S.vc=null,S.yc=null,S.Ya=null;var k=S.Wa;k!=null&&(k.X=null),S.vb=null,t(S!=null)}function Id(){var S=new kr;return S==null?null:(S.a=0,S.xb=bf,vn("Predictor","VP8LPredictors"),vn("Predictor","VP8LPredictors_C"),vn("PredictorAdd","VP8LPredictorsAdd"),vn("PredictorAdd","VP8LPredictorsAdd_C"),Qs=Ct,mf=tr,pf=Zn,Hc=Hr,qu=dr,Ku=Fr,tA=tn,P.VP8LMapColor32b=ic,P.VP8LMapColor8b=Zd,S)}function yl(S,k,Q,q,J){var ne=1,ie=[S],oe=[k],ue=q.m,he=q.s,Ce=null,Re=0;e:for(;;){if(Q)for(;ne&&G(ue,1);){var me=ie,Be=oe,Ie=q,Ge=1,Qe=Ie.m,ze=Ie.gc[Ie.ab],We=G(Qe,2);if(Ie.Oc&1<<We)ne=0;else{switch(Ie.Oc|=1<<We,ze.hc=We,ze.Ea=me[0],ze.nc=Be[0],ze.K=[null],++Ie.ab,t(4>=Ie.ab),We){case 0:case 1:ze.b=G(Qe,3)+2,Ge=yl(Me(ze.Ea,ze.b),Me(ze.nc,ze.b),0,Ie,ze.K),ze.K=ze.K[0];break;case 3:var rt,at=G(Qe,8)+1,Yt=16<at?0:4<at?1:2<at?2:3;if(me[0]=Me(ze.Ea,Yt),ze.b=Yt,rt=Ge=yl(at,1,0,Ie,ze.K)){var Ft,Dr=at,Qt=ze,rn=1<<(8>>Qt.b),Es=i(rn);if(Es==null)rt=0;else{var $r=Qt.K[0],Rt=Qt.w;for(Es[0]=Qt.K[0][0],Ft=1;Ft<1*Dr;++Ft)Es[Ft]=fe($r[Rt+Ft],Es[Ft-1]);for(;Ft<4*rn;++Ft)Es[Ft]=0;Qt.K[0]=null,Qt.K[0]=Es,rt=1}}Ge=rt;break;case 2:break;default:t(0)}ne=Ge}}if(ie=ie[0],oe=oe[0],ne&&G(ue,1)&&!(ne=1<=(Re=G(ue,4))&&11>=Re)){q.a=3;break e}var bt;if(bt=ne)t:{var Hs,Sr,en,rs=q,Ea=ie,ea=oe,bs=Re,ha=Q,ka=rs.m,ds=rs.s,cn=[null],Sn=1,As=0,Bn=Mb[bs];r:for(;;){if(ha&&G(ka,1)){var ks=G(ka,3)+2,Ps=Me(Ea,ks),Kn=Me(ea,ks),li=Ps*Kn;if(!yl(Ps,Kn,0,rs,cn))break r;for(cn=cn[0],ds.xc=ks,Hs=0;Hs<li;++Hs){var Mn=cn[Hs]>>8&65535;cn[Hs]=Mn,Mn>=Sn&&(Sn=Mn+1)}}if(ka.h)break r;for(Sr=0;5>Sr;++Sr){var zn=iA[Sr];!Sr&&0<bs&&(zn+=1<<bs),As<zn&&(As=zn)}var ta=o(Sn*Bn,$),za=Sn,Zi=o(za,V);if(Zi==null)var $s=null;else t(65536>=za),$s=Zi;var Vs=i(As);if($s==null||Vs==null||ta==null){rs.a=1;break r}var ci=ta;for(Hs=en=0;Hs<Sn;++Hs){var Wn=$s[Hs],ui=Wn.G,Go=Wn.H,Sl=0,Pa=1,qs=0;for(Sr=0;5>Sr;++Sr){zn=iA[Sr],ui[Sr]=ci,Go[Sr]=en,!Sr&&0<bs&&(zn+=1<<bs);s:{var Xu,Kc=zn,Nf=rs,cc=Vs,qb=ci,hx=en,os=0,Bl=Nf.m,mx=G(Bl,1);if(a(cc,0,0,Kc),mx){var px=G(Bl,1)+1,lg=G(Bl,1),cg=G(Bl,lg==0?1:8);cc[cg]=1,px==2&&(cc[cg=G(Bl,8)]=1);var uc=1}else{var fs=i(19),ra=G(Bl,4)+4;if(19<ra){Nf.a=3;var Ks=0;break s}for(Xu=0;Xu<ra;++Xu)fs[sS[Xu]]=G(Bl,3);var Cf=void 0,zc=void 0,Sf=Nf,uS=fs,ma=Kc,ug=cc,fm=0,dc=Sf.m,El=8,wo=o(128,$);n:for(;D(wo,0,7,uS,19);){if(G(dc,1)){var hm=2+2*G(dc,3);if((Cf=2+G(dc,hm))>ma)break n}else Cf=ma;for(zc=0;zc<ma&&Cf--;){ce(dc);var dg=wo[0+(127&ee(dc))];Ae(dc,dc.u+dg.g);var Ju=dg.value;if(16>Ju)ug[zc++]=Ju,Ju!=0&&(El=Ju);else{var Kb=Ju==16,gx=Ju-16,zb=ag[gx],vx=G(dc,cm[gx])+zb;if(zc+vx>ma)break n;for(var Wb=Kb?El:0;0<vx--;)ug[zc++]=Wb}}fm=1;break n}fm||(Sf.a=3),uc=fm}(uc=uc&&!Bl.h)&&(os=D(qb,hx,8,cc,Kc)),uc&&os!=0?Ks=os:(Nf.a=3,Ks=0)}if(Ks==0)break r;if(Pa&&Db[Sr]==1&&(Pa=ci[en].g==0),Sl+=ci[en].g,en+=Ks,3>=Sr){var Bf,Ag=Vs[0];for(Bf=1;Bf<zn;++Bf)Vs[Bf]>Ag&&(Ag=Vs[Bf]);qs+=Ag}}if(Wn.nd=Pa,Wn.Qb=0,Pa&&(Wn.qb=(ui[3][Go[3]+0].value<<24|ui[1][Go[1]+0].value<<16|ui[2][Go[2]+0].value)>>>0,Sl==0&&256>ui[0][Go[0]+0].value&&(Wn.Qb=1,Wn.qb+=ui[0][Go[0]+0].value<<8)),Wn.jc=!Wn.Qb&&6>qs,Wn.jc){var mm,bo=Wn;for(mm=0;mm<Ko;++mm){var Wc=mm,kl=bo.pd[Wc],dA=bo.G[0][bo.H[0]+Wc];256<=dA.value?(kl.g=dA.g+256,kl.value=dA.value):(kl.g=0,kl.value=0,Wc>>=Ds(dA,8,kl),Wc>>=Ds(bo.G[1][bo.H[1]+Wc],16,kl),Wc>>=Ds(bo.G[2][bo.H[2]+Wc],0,kl),Ds(bo.G[3][bo.H[3]+Wc],24,kl))}}}ds.vc=cn,ds.Wb=Sn,ds.Ya=$s,ds.yc=ta,bt=1;break t}bt=0}if(!(ne=bt)){q.a=3;break e}if(0<Re){if(he.ua=1<<Re,!le(he.Wa,Re)){q.a=1,ne=0;break e}}else he.ua=0;var fg=q,hg=ie,Gb=oe,mg=fg.s,pg=mg.xc;if(fg.c=hg,fg.i=Gb,mg.md=Me(hg,pg),mg.wc=pg==0?-1:(1<<pg)-1,Q){q.xb=lc;break e}if((Ce=i(ie*oe))==null){q.a=1,ne=0;break e}ne=(ne=Do(q,Ce,0,ie,oe,oe,null))&&!ue.h;break e}return ne?(J!=null?J[0]=Ce:(t(Ce==null),t(Q)),q.$=0,Q||fo(he)):fo(he),ne}function Ru(S,k){var Q=S.c*S.i,q=Q+k+16*k;return t(S.c<=k),S.V=i(q),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+Q+k,1)}function Fd(S,k){var Q=S.C,q=k-Q,J=S.V,ne=S.Ba+S.c*Q;for(t(k<=S.l.o);0<q;){var ie=16<q?16:q,oe=S.l.ma,ue=S.l.width,he=ue*ie,Ce=oe.ca,Re=oe.tb+ue*Q,me=S.Ta,Be=S.Ua;Ic(S,ie,J,ne),nx(me,Be,Ce,Re,he),Xl(oe,Q,Q+ie,Ce,Re,ue),q-=ie,J+=ie*S.c,Q+=ie}t(Q==k),S.C=S.Ma=k}function Rd(){this.ub=this.yd=this.td=this.Rb=0}function ef(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Jy(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function is(){this.Yb=(function(){var S=[];return(function k(Q,q,J){for(var ne=J[q],ie=0;ie<ne&&(Q.push(J.length>q+1?[]:0),!(J.length<q+1));ie++)k(Q[ie],q+1,J)})(S,0,[3,11]),S})()}function zp(){this.jb=i(3),this.Wc=l([4,8],is),this.Xc=l([4,17],is)}function tf(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function ho(){this.ld=this.La=this.dd=this.tc=0}function Lu(){this.Na=this.la=0}function Wp(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function rf(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ld(){this.uc=this.M=this.Nb=0,this.wa=Array(new ho),this.Y=0,this.ya=Array(new rf),this.aa=0,this.l=new nf}function mo(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Gp(){this.cb=this.a=0,this.sc="",this.m=new U,this.Od=new Rd,this.Kc=new ef,this.ed=new tf,this.Qa=new Jy,this.Ic=this.$c=this.Aa=0,this.D=new Ld,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,U),this.ia=0,this.pb=o(4,Wp),this.Pa=new zp,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new mo),this.Hd=0,this.rb=Array(new Lu),this.sb=0,this.wa=Array(new ho),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new rf),this.L=this.aa=0,this.gd=l([4,2],ho),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ys(S,k){return 0>S?0:S>k?k:S}function nf(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Zy(){var S=new Gp;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,oA||(oA=Jl)),S}function Xs(S,k,Q){return S.a==0&&(S.a=k,S.sc=Q,S.cb=0),0}function Ud(S,k,Q){return 3<=Q&&S[k+0]==157&&S[k+1]==1&&S[k+2]==42}function po(S,k){if(S==null)return 0;if(S.a=0,S.sc="OK",k==null)return Xs(S,2,"null VP8Io passed to VP8GetHeaders()");var Q=k.data,q=k.w,J=k.ha;if(4>J)return Xs(S,7,"Truncated header.");var ne=Q[q+0]|Q[q+1]<<8|Q[q+2]<<16,ie=S.Od;if(ie.Rb=!(1&ne),ie.td=ne>>1&7,ie.yd=ne>>4&1,ie.ub=ne>>5,3<ie.td)return Xs(S,3,"Incorrect keyframe parameters.");if(!ie.yd)return Xs(S,4,"Frame not displayable.");q+=3,J-=3;var oe=S.Kc;if(ie.Rb){if(7>J)return Xs(S,7,"cannot parse picture header");if(!Ud(Q,q,J))return Xs(S,3,"Bad code word");oe.c=16383&(Q[q+4]<<8|Q[q+3]),oe.Td=Q[q+4]>>6,oe.i=16383&(Q[q+6]<<8|Q[q+5]),oe.Ud=Q[q+6]>>6,q+=7,J-=7,S.za=oe.c+15>>4,S.Ub=oe.i+15>>4,k.width=oe.c,k.height=oe.i,k.Da=0,k.j=0,k.v=0,k.va=k.width,k.o=k.height,k.da=0,k.ib=k.width,k.hb=k.height,k.U=k.width,k.T=k.height,a((ne=S.Pa).jb,0,255,ne.jb.length),t((ne=S.Qa)!=null),ne.Cb=0,ne.Bb=0,ne.Fb=1,a(ne.Zb,0,0,ne.Zb.length),a(ne.Lb,0,0,ne.Lb)}if(ie.ub>J)return Xs(S,7,"bad partition length");X(ne=S.m,Q,q,ie.ub),q+=ie.ub,J-=ie.ub,ie.Rb&&(oe.Ld=ge(ne),oe.Kd=ge(ne)),oe=S.Qa;var ue,he=S.Pa;if(t(ne!=null),t(oe!=null),oe.Cb=ge(ne),oe.Cb){if(oe.Bb=ge(ne),ge(ne)){for(oe.Fb=ge(ne),ue=0;4>ue;++ue)oe.Zb[ue]=ge(ne)?W(ne,7):0;for(ue=0;4>ue;++ue)oe.Lb[ue]=ge(ne)?W(ne,6):0}if(oe.Bb)for(ue=0;3>ue;++ue)he.jb[ue]=ge(ne)?K(ne,8):255}else oe.Bb=0;if(ne.Ka)return Xs(S,3,"cannot parse segment header");if((oe=S.ed).zd=ge(ne),oe.Tb=K(ne,6),oe.wb=K(ne,3),oe.Pc=ge(ne),oe.Pc&&ge(ne)){for(he=0;4>he;++he)ge(ne)&&(oe.vd[he]=W(ne,6));for(he=0;4>he;++he)ge(ne)&&(oe.od[he]=W(ne,6))}if(S.L=oe.Tb==0?0:oe.zd?1:2,ne.Ka)return Xs(S,3,"cannot parse filter header");var Ce=J;if(J=ue=q,q=ue+Ce,oe=Ce,S.Xb=(1<<K(S.m,2))-1,Ce<3*(he=S.Xb))Q=7;else{for(ue+=3*he,oe-=3*he,Ce=0;Ce<he;++Ce){var Re=Q[J+0]|Q[J+1]<<8|Q[J+2]<<16;Re>oe&&(Re=oe),X(S.Jc[+Ce],Q,ue,Re),ue+=Re,oe-=Re,J+=3}X(S.Jc[+he],Q,ue,oe),Q=ue<q?0:5}if(Q!=0)return Xs(S,Q,"cannot parse partitions");for(Q=K(ue=S.m,7),J=ge(ue)?W(ue,4):0,q=ge(ue)?W(ue,4):0,oe=ge(ue)?W(ue,4):0,he=ge(ue)?W(ue,4):0,ue=ge(ue)?W(ue,4):0,Ce=S.Qa,Re=0;4>Re;++Re){if(Ce.Cb){var me=Ce.Zb[Re];Ce.Fb||(me+=Q)}else{if(0<Re){S.pb[Re]=S.pb[0];continue}me=Q}var Be=S.pb[Re];Be.Sc[0]=wf[Ys(me+J,127)],Be.Sc[1]=um[Ys(me+0,127)],Be.Eb[0]=2*wf[Ys(me+q,127)],Be.Eb[1]=101581*um[Ys(me+oe,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=wf[Ys(me+he,117)],Be.Qc[1]=um[Ys(me+ue,127)],Be.lc=me+ue}if(!ie.Rb)return Xs(S,4,"Not a key frame.");for(ge(ne),ie=S.Pa,Q=0;4>Q;++Q){for(J=0;8>J;++J)for(q=0;3>q;++q)for(oe=0;11>oe;++oe)he=je(ne,oS[Q][J][q][oe])?K(ne,8):Hb[Q][J][q][oe],ie.Wc[Q][J].Yb[q][oe]=he;for(J=0;17>J;++J)ie.Xc[Q][J]=ie.Wc[Q][dx[J]]}return S.kc=ge(ne),S.kc&&(S.Bd=K(ne,8)),S.cb=1}function Jl(S,k,Q,q,J,ne,ie){var oe=k[J].Yb[Q];for(Q=0;16>J;++J){if(!je(S,oe[Q+0]))return J;for(;!je(S,oe[Q+1]);)if(oe=k[++J].Yb[0],Q=0,J==16)return 16;var ue=k[J+1].Yb;if(je(S,oe[Q+2])){var he=S,Ce=0;if(je(he,(me=oe)[(Re=Q)+3]))if(je(he,me[Re+6])){for(oe=0,Re=2*(Ce=je(he,me[Re+8]))+(me=je(he,me[Re+9+Ce])),Ce=0,me=cx[Re];me[oe];++oe)Ce+=Ce+je(he,me[oe]);Ce+=3+(8<<Re)}else je(he,me[Re+7])?(Ce=7+2*je(he,165),Ce+=je(he,145)):Ce=5+je(he,159);else Ce=je(he,me[Re+4])?3+je(he,me[Re+5]):2;oe=ue[2]}else Ce=1,oe=ue[1];ue=ie+ux[J],0>(he=S).b&&we(he);var Re,me=he.b,Be=(Re=he.Ca>>1)-(he.I>>me)>>31;--he.b,he.Ca+=Be,he.Ca|=1,he.I-=(Re+1&Be)<<me,ne[ue]=((Ce^Be)-Be)*q[(0<J)+0]}return 16}function Dd(S){var k=S.rb[S.sb-1];k.la=0,k.Na=0,a(S.zc,0,0,S.zc.length),S.ja=0}function Mo(S,k,Q,q,J){J=S[k+Q+32*q]+(J>>3),S[k+Q+32*q]=-256&J?0>J?0:255:J}function Aa(S,k,Q,q,J,ne){Mo(S,k,0,Q,q+J),Mo(S,k,1,Q,q+ne),Mo(S,k,2,Q,q-ne),Mo(S,k,3,Q,q-J)}function xl(S){return(20091*S>>16)+S}function zh(S,k,Q,q){var J,ne=0,ie=i(16);for(J=0;4>J;++J){var oe=S[k+0]+S[k+8],ue=S[k+0]-S[k+8],he=(35468*S[k+4]>>16)-xl(S[k+12]),Ce=xl(S[k+4])+(35468*S[k+12]>>16);ie[ne+0]=oe+Ce,ie[ne+1]=ue+he,ie[ne+2]=ue-he,ie[ne+3]=oe-Ce,ne+=4,k++}for(J=ne=0;4>J;++J)oe=(S=ie[ne+0]+4)+ie[ne+8],ue=S-ie[ne+8],he=(35468*ie[ne+4]>>16)-xl(ie[ne+12]),Mo(Q,q,0,0,oe+(Ce=xl(ie[ne+4])+(35468*ie[ne+12]>>16))),Mo(Q,q,1,0,ue+he),Mo(Q,q,2,0,ue-he),Mo(Q,q,3,0,oe-Ce),ne++,q+=32}function Wh(S,k,Q,q){var J=S[k+0]+4,ne=35468*S[k+4]>>16,ie=xl(S[k+4]),oe=35468*S[k+1]>>16;Aa(Q,q,0,J+ie,S=xl(S[k+1]),oe),Aa(Q,q,1,J+ne,S,oe),Aa(Q,q,2,J-ne,S,oe),Aa(Q,q,3,J-ie,S,oe)}function Md(S,k,Q,q,J){zh(S,k,Q,q),J&&zh(S,k+16,Q,q+4)}function Zl(S,k,Q,q){rA(S,k+0,Q,q,1),rA(S,k+32,Q,q+128,1)}function sf(S,k,Q,q){var J;for(S=S[k+0]+4,J=0;4>J;++J)for(k=0;4>k;++k)Mo(Q,q,k,J,S)}function wn(S,k,Q,q){S[k+0]&&Cn(S,k+0,Q,q),S[k+16]&&Cn(S,k+16,Q,q+4),S[k+32]&&Cn(S,k+32,Q,q+128),S[k+48]&&Cn(S,k+48,Q,q+128+4)}function Qd(S,k,Q,q){var J,ne=i(16);for(J=0;4>J;++J){var ie=S[k+0+J]+S[k+12+J],oe=S[k+4+J]+S[k+8+J],ue=S[k+4+J]-S[k+8+J],he=S[k+0+J]-S[k+12+J];ne[0+J]=ie+oe,ne[8+J]=ie-oe,ne[4+J]=he+ue,ne[12+J]=he-ue}for(J=0;4>J;++J)ie=(S=ne[0+4*J]+3)+ne[3+4*J],oe=ne[1+4*J]+ne[2+4*J],ue=ne[1+4*J]-ne[2+4*J],he=S-ne[3+4*J],Q[q+0]=ie+oe>>3,Q[q+16]=he+ue>>3,Q[q+32]=ie-oe>>3,Q[q+48]=he-ue>>3,q+=64}function Uu(S,k,Q){var q,J=k-32,ne=Ci,ie=255-S[J-1];for(q=0;q<Q;++q){var oe,ue=ne,he=ie+S[k-1];for(oe=0;oe<Q;++oe)S[k+oe]=ue[he+S[J+oe]];k+=32}}function Gh(S,k){Uu(S,k,4)}function Yp(S,k){Uu(S,k,8)}function Xp(S,k){Uu(S,k,16)}function af(S,k){var Q;for(Q=0;16>Q;++Q)n(S,k+32*Q,S,k-32,16)}function of(S,k){var Q;for(Q=16;0<Q;--Q)a(S,k,S[k-1],16),k+=32}function qi(S,k,Q){var q;for(q=0;16>q;++q)a(k,Q+32*q,S,16)}function ec(S,k){var Q,q=16;for(Q=0;16>Q;++Q)q+=S[k-1+32*Q]+S[k+Q-32];qi(q>>5,S,k)}function Ki(S,k){var Q,q=8;for(Q=0;16>Q;++Q)q+=S[k-1+32*Q];qi(q>>4,S,k)}function Qo(S,k){var Q,q=8;for(Q=0;16>Q;++Q)q+=S[k+Q-32];qi(q>>4,S,k)}function Hd(S,k){qi(128,S,k)}function gr(S,k,Q){return S+2*k+Q+2>>2}function tc(S,k){var Q,q=k-32;for(q=new Uint8Array([gr(S[q-1],S[q+0],S[q+1]),gr(S[q+0],S[q+1],S[q+2]),gr(S[q+1],S[q+2],S[q+3]),gr(S[q+2],S[q+3],S[q+4])]),Q=0;4>Q;++Q)n(S,k+32*Q,q,0,q.length)}function ex(S,k){var Q=S[k-1],q=S[k-1+32],J=S[k-1+64],ne=S[k-1+96];Oe(S,k+0,16843009*gr(S[k-1-32],Q,q)),Oe(S,k+32,16843009*gr(Q,q,J)),Oe(S,k+64,16843009*gr(q,J,ne)),Oe(S,k+96,16843009*gr(J,ne,ne))}function Jp(S,k){var Q,q=4;for(Q=0;4>Q;++Q)q+=S[k+Q-32]+S[k-1+32*Q];for(q>>=3,Q=0;4>Q;++Q)a(S,k+32*Q,q,4)}function go(S,k){var Q=S[k-1+0],q=S[k-1+32],J=S[k-1+64],ne=S[k-1-32],ie=S[k+0-32],oe=S[k+1-32],ue=S[k+2-32],he=S[k+3-32];S[k+0+96]=gr(q,J,S[k-1+96]),S[k+1+96]=S[k+0+64]=gr(Q,q,J),S[k+2+96]=S[k+1+64]=S[k+0+32]=gr(ne,Q,q),S[k+3+96]=S[k+2+64]=S[k+1+32]=S[k+0+0]=gr(ie,ne,Q),S[k+3+64]=S[k+2+32]=S[k+1+0]=gr(oe,ie,ne),S[k+3+32]=S[k+2+0]=gr(ue,oe,ie),S[k+3+0]=gr(he,ue,oe)}function Fc(S,k){var Q=S[k+1-32],q=S[k+2-32],J=S[k+3-32],ne=S[k+4-32],ie=S[k+5-32],oe=S[k+6-32],ue=S[k+7-32];S[k+0+0]=gr(S[k+0-32],Q,q),S[k+1+0]=S[k+0+32]=gr(Q,q,J),S[k+2+0]=S[k+1+32]=S[k+0+64]=gr(q,J,ne),S[k+3+0]=S[k+2+32]=S[k+1+64]=S[k+0+96]=gr(J,ne,ie),S[k+3+32]=S[k+2+64]=S[k+1+96]=gr(ne,ie,oe),S[k+3+64]=S[k+2+96]=gr(ie,oe,ue),S[k+3+96]=gr(oe,ue,ue)}function Zp(S,k){var Q=S[k-1+0],q=S[k-1+32],J=S[k-1+64],ne=S[k-1-32],ie=S[k+0-32],oe=S[k+1-32],ue=S[k+2-32],he=S[k+3-32];S[k+0+0]=S[k+1+64]=ne+ie+1>>1,S[k+1+0]=S[k+2+64]=ie+oe+1>>1,S[k+2+0]=S[k+3+64]=oe+ue+1>>1,S[k+3+0]=ue+he+1>>1,S[k+0+96]=gr(J,q,Q),S[k+0+64]=gr(q,Q,ne),S[k+0+32]=S[k+1+96]=gr(Q,ne,ie),S[k+1+32]=S[k+2+96]=gr(ne,ie,oe),S[k+2+32]=S[k+3+96]=gr(ie,oe,ue),S[k+3+32]=gr(oe,ue,he)}function lf(S,k){var Q=S[k+0-32],q=S[k+1-32],J=S[k+2-32],ne=S[k+3-32],ie=S[k+4-32],oe=S[k+5-32],ue=S[k+6-32],he=S[k+7-32];S[k+0+0]=Q+q+1>>1,S[k+1+0]=S[k+0+64]=q+J+1>>1,S[k+2+0]=S[k+1+64]=J+ne+1>>1,S[k+3+0]=S[k+2+64]=ne+ie+1>>1,S[k+0+32]=gr(Q,q,J),S[k+1+32]=S[k+0+96]=gr(q,J,ne),S[k+2+32]=S[k+1+96]=gr(J,ne,ie),S[k+3+32]=S[k+2+96]=gr(ne,ie,oe),S[k+3+64]=gr(ie,oe,ue),S[k+3+96]=gr(oe,ue,he)}function $d(S,k){var Q=S[k-1+0],q=S[k-1+32],J=S[k-1+64],ne=S[k-1+96];S[k+0+0]=Q+q+1>>1,S[k+2+0]=S[k+0+32]=q+J+1>>1,S[k+2+32]=S[k+0+64]=J+ne+1>>1,S[k+1+0]=gr(Q,q,J),S[k+3+0]=S[k+1+32]=gr(q,J,ne),S[k+3+32]=S[k+1+64]=gr(J,ne,ne),S[k+3+64]=S[k+2+64]=S[k+0+96]=S[k+1+96]=S[k+2+96]=S[k+3+96]=ne}function Yh(S,k){var Q=S[k-1+0],q=S[k-1+32],J=S[k-1+64],ne=S[k-1+96],ie=S[k-1-32],oe=S[k+0-32],ue=S[k+1-32],he=S[k+2-32];S[k+0+0]=S[k+2+32]=Q+ie+1>>1,S[k+0+32]=S[k+2+64]=q+Q+1>>1,S[k+0+64]=S[k+2+96]=J+q+1>>1,S[k+0+96]=ne+J+1>>1,S[k+3+0]=gr(oe,ue,he),S[k+2+0]=gr(ie,oe,ue),S[k+1+0]=S[k+3+32]=gr(Q,ie,oe),S[k+1+32]=S[k+3+64]=gr(q,Q,ie),S[k+1+64]=S[k+3+96]=gr(J,q,Q),S[k+1+96]=gr(ne,J,q)}function wl(S,k){var Q;for(Q=0;8>Q;++Q)n(S,k+32*Q,S,k-32,8)}function Vd(S,k){var Q;for(Q=0;8>Q;++Q)a(S,k,S[k-1],8),k+=32}function zi(S,k,Q){var q;for(q=0;8>q;++q)a(k,Q+32*q,S,8)}function cf(S,k){var Q,q=8;for(Q=0;8>Q;++Q)q+=S[k+Q-32]+S[k-1+32*Q];zi(q>>4,S,k)}function Xh(S,k){var Q,q=4;for(Q=0;8>Q;++Q)q+=S[k+Q-32];zi(q>>3,S,k)}function Jh(S,k){var Q,q=4;for(Q=0;8>Q;++Q)q+=S[k-1+32*Q];zi(q>>3,S,k)}function uf(S,k){zi(128,S,k)}function Ho(S,k,Q){var q=S[k-Q],J=S[k+0],ne=3*(J-q)+oc[1020+S[k-2*Q]-S[k+Q]],ie=yf[112+(ne+4>>3)];S[k-Q]=Ci[255+q+yf[112+(ne+3>>3)]],S[k+0]=Ci[255+J-ie]}function qd(S,k,Q,q){var J=S[k+0],ne=S[k+Q];return zo[255+S[k-2*Q]-S[k-Q]]>q||zo[255+ne-J]>q}function Kd(S,k,Q,q){return 4*zo[255+S[k-Q]-S[k+0]]+zo[255+S[k-2*Q]-S[k+Q]]<=q}function $o(S,k,Q,q,J){var ne=S[k-3*Q],ie=S[k-2*Q],oe=S[k-Q],ue=S[k+0],he=S[k+Q],Ce=S[k+2*Q],Re=S[k+3*Q];return 4*zo[255+oe-ue]+zo[255+ie-he]>q?0:zo[255+S[k-4*Q]-ne]<=J&&zo[255+ne-ie]<=J&&zo[255+ie-oe]<=J&&zo[255+Re-Ce]<=J&&zo[255+Ce-he]<=J&&zo[255+he-ue]<=J}function Rc(S,k,Q,q){var J=2*q+1;for(q=0;16>q;++q)Kd(S,k+q,Q,J)&&Ho(S,k+q,Q)}function Du(S,k,Q,q){var J=2*q+1;for(q=0;16>q;++q)Kd(S,k+q*Q,1,J)&&Ho(S,k+q*Q,1)}function Zh(S,k,Q,q){var J;for(J=3;0<J;--J)Rc(S,k+=4*Q,Q,q)}function zd(S,k,Q,q){var J;for(J=3;0<J;--J)Du(S,k+=4,Q,q)}function Vo(S,k,Q,q,J,ne,ie,oe){for(ne=2*ne+1;0<J--;){if($o(S,k,Q,ne,ie))if(qd(S,k,Q,oe))Ho(S,k,Q);else{var ue=S,he=k,Ce=Q,Re=ue[he-2*Ce],me=ue[he-Ce],Be=ue[he+0],Ie=ue[he+Ce],Ge=ue[he+2*Ce],Qe=27*(We=oc[1020+3*(Be-me)+oc[1020+Re-Ie]])+63>>7,ze=18*We+63>>7,We=9*We+63>>7;ue[he-3*Ce]=Ci[255+ue[he-3*Ce]+We],ue[he-2*Ce]=Ci[255+Re+ze],ue[he-Ce]=Ci[255+me+Qe],ue[he+0]=Ci[255+Be-Qe],ue[he+Ce]=Ci[255+Ie-ze],ue[he+2*Ce]=Ci[255+Ge-We]}k+=q}}function rc(S,k,Q,q,J,ne,ie,oe){for(ne=2*ne+1;0<J--;){if($o(S,k,Q,ne,ie))if(qd(S,k,Q,oe))Ho(S,k,Q);else{var ue=S,he=k,Ce=Q,Re=ue[he-Ce],me=ue[he+0],Be=ue[he+Ce],Ie=yf[112+(4+(Ge=3*(me-Re))>>3)],Ge=yf[112+(Ge+3>>3)],Qe=Ie+1>>1;ue[he-2*Ce]=Ci[255+ue[he-2*Ce]+Qe],ue[he-Ce]=Ci[255+Re+Ge],ue[he+0]=Ci[255+me-Ie],ue[he+Ce]=Ci[255+Be-Qe]}k+=q}}function ii(S,k,Q,q,J,ne){Vo(S,k,Q,1,16,q,J,ne)}function qo(S,k,Q,q,J,ne){Vo(S,k,1,Q,16,q,J,ne)}function df(S,k,Q,q,J,ne){var ie;for(ie=3;0<ie;--ie)rc(S,k+=4*Q,Q,1,16,q,J,ne)}function R(S,k,Q,q,J,ne){var ie;for(ie=3;0<ie;--ie)rc(S,k+=4,1,Q,16,q,J,ne)}function Z(S,k,Q,q,J,ne,ie,oe){Vo(S,k,J,1,8,ne,ie,oe),Vo(Q,q,J,1,8,ne,ie,oe)}function pe(S,k,Q,q,J,ne,ie,oe){Vo(S,k,1,J,8,ne,ie,oe),Vo(Q,q,1,J,8,ne,ie,oe)}function _e(S,k,Q,q,J,ne,ie,oe){rc(S,k+4*J,J,1,8,ne,ie,oe),rc(Q,q+4*J,J,1,8,ne,ie,oe)}function Te(S,k,Q,q,J,ne,ie,oe){rc(S,k+4,1,J,8,ne,ie,oe),rc(Q,q+4,1,J,8,ne,ie,oe)}function Ye(){this.ba=new Cr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new yn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ut(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Mt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Gt(){this.ua=0,this.Wa=new Pt,this.vb=new Pt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new $}function kr(){this.xb=this.a=0,this.l=new nf,this.ca=new Cr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Gt,this.ab=0,this.gc=o(4,Mt),this.Oc=0}function Rr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new nf,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xn(S,k,Q,q,J,ne,ie){for(S=S==null?0:S[k+0],k=0;k<ie;++k)J[ne+k]=S+Q[q+k]&255,S=J[ne+k]}function ws(S,k,Q,q,J,ne,ie){var oe;if(S==null)xn(null,null,Q,q,J,ne,ie);else for(oe=0;oe<ie;++oe)J[ne+oe]=S[k+oe]+Q[q+oe]&255}function Js(S,k,Q,q,J,ne,ie){if(S==null)xn(null,null,Q,q,J,ne,ie);else{var oe,ue=S[k+0],he=ue,Ce=ue;for(oe=0;oe<ie;++oe)he=Ce+(ue=S[k+oe])-he,Ce=Q[q+oe]+(-256&he?0>he?0:255:he)&255,he=ue,J[ne+oe]=Ce}}function ts(S,k,Q,q){var J=k.width,ne=k.o;if(t(S!=null&&k!=null),0>Q||0>=q||Q+q>ne)return null;if(!S.Cc){if(S.ga==null){var ie;if(S.ga=new Rr,(ie=S.ga==null)||(ie=k.width*k.o,t(S.Gb.length==0),S.Gb=i(ie),S.Uc=0,S.Gb==null?ie=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,ie=1),ie=!ie),!ie){ie=S.ga;var oe=S.Fa,ue=S.P,he=S.qc,Ce=S.mb,Re=S.nb,me=ue+1,Be=he-1,Ie=ie.l;if(t(oe!=null&&Ce!=null&&k!=null),oi[0]=null,oi[1]=xn,oi[2]=ws,oi[3]=Js,ie.ca=Ce,ie.tb=Re,ie.c=k.width,ie.i=k.height,t(0<ie.c&&0<ie.i),1>=he)k=0;else if(ie.$a=3&oe[ue+0],ie.Z=oe[ue+0]>>2&3,ie.Lc=oe[ue+0]>>4&3,ue=oe[ue+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||ue)k=0;else if(Ie.put=Dt,Ie.ac=us,Ie.bc=Cs,Ie.ma=ie,Ie.width=k.width,Ie.height=k.height,Ie.Da=k.Da,Ie.v=k.v,Ie.va=k.va,Ie.j=k.j,Ie.o=k.o,ie.$a)e:{t(ie.$a==1),k=Id();t:for(;;){if(k==null){k=0;break e}if(t(ie!=null),ie.mc=k,k.c=ie.c,k.i=ie.i,k.l=ie.l,k.l.ma=ie,k.l.width=ie.c,k.l.height=ie.i,k.a=0,z(k.m,oe,me,Be),!yl(ie.c,ie.i,1,k,null)||(k.ab==1&&k.gc[0].hc==3&&vl(k.s)?(ie.ic=1,oe=k.c*k.i,k.Ta=null,k.Ua=0,k.V=i(oe),k.Ba=0,k.V==null?(k.a=1,k=0):k=1):(ie.ic=0,k=Ru(k,ie.c)),!k))break t;k=1;break e}ie.mc=null,k=0}else k=Be>=ie.c*ie.i;ie=!k}if(ie)return null;S.ga.Lc!=1?S.Ga=0:q=ne-Q}t(S.ga!=null),t(Q+q<=ne);e:{if(k=(oe=S.ga).c,ne=oe.l.o,oe.$a==0){if(me=S.rc,Be=S.Vc,Ie=S.Fa,ue=S.P+1+Q*k,he=S.mb,Ce=S.nb+Q*k,t(ue<=S.P+S.qc),oe.Z!=0)for(t(oi[oe.Z]!=null),ie=0;ie<q;++ie)oi[oe.Z](me,Be,Ie,ue,he,Ce,k),me=he,Be=Ce,Ce+=k,ue+=k;else for(ie=0;ie<q;++ie)n(he,Ce,Ie,ue,k),me=he,Be=Ce,Ce+=k,ue+=k;S.rc=me,S.Vc=Be}else{if(t(oe.mc!=null),k=Q+q,t((ie=oe.mc)!=null),t(k<=ie.i),ie.C>=k)k=1;else if(oe.ic||bl(),oe.ic){oe=ie.V,me=ie.Ba,Be=ie.c;var Ge=ie.i,Qe=(Ie=1,ue=ie.$/Be,he=ie.$%Be,Ce=ie.m,Re=ie.s,ie.$),ze=Be*Ge,We=Be*k,rt=Re.wc,at=Qe<We?Gs(Re,he,ue):null;t(Qe<=ze),t(k<=Ge),t(vl(Re));t:for(;;){for(;!Ce.h&&Qe<We;){if(he&rt||(at=Gs(Re,he,ue)),t(at!=null),ce(Ce),256>(Ge=es(at.G[0],at.H[0],Ce)))oe[me+Qe]=Ge,++Qe,++he>=Be&&(he=0,++ue<=k&&!(ue%16)&&$a(ie,ue));else{if(!(280>Ge)){Ie=0;break t}Ge=Ln(Ge-256,Ce);var Yt,Ft=es(at.G[4],at.H[4],Ce);if(ce(Ce),!(Qe>=(Ft=Us(Be,Ft=Ln(Ft,Ce)))&&ze-Qe>=Ge)){Ie=0;break t}for(Yt=0;Yt<Ge;++Yt)oe[me+Qe+Yt]=oe[me+Qe+Yt-Ft];for(Qe+=Ge,he+=Ge;he>=Be;)he-=Be,++ue<=k&&!(ue%16)&&$a(ie,ue);Qe<We&&he&rt&&(at=Gs(Re,he,ue))}t(Ce.h==ae(Ce))}$a(ie,ue>k?k:ue);break t}!Ie||Ce.h&&Qe<ze?(Ie=0,ie.a=Ce.h?5:3):ie.$=Qe,k=Ie}else k=Do(ie,ie.V,ie.Ba,ie.c,ie.i,k,Fd);if(!k){q=0;break e}}Q+q>=ne&&(S.Cc=1),q=1}if(!q)return null;if(S.Cc&&((q=S.ga)!=null&&(q.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+Q*J}function fa(S,k,Q,q,J,ne){for(;0<J--;){var ie,oe=S,ue=k+(Q?1:0),he=S,Ce=k+(Q?0:3);for(ie=0;ie<q;++ie){var Re=he[Ce+4*ie];Re!=255&&(Re*=32897,oe[ue+4*ie+0]=oe[ue+4*ie+0]*Re>>23,oe[ue+4*ie+1]=oe[ue+4*ie+1]*Re>>23,oe[ue+4*ie+2]=oe[ue+4*ie+2]*Re>>23)}k+=ne}}function Ms(S,k,Q,q,J){for(;0<q--;){var ne;for(ne=0;ne<Q;++ne){var ie=S[k+2*ne+0],oe=15&(he=S[k+2*ne+1]),ue=4369*oe,he=(240&he|he>>4)*ue>>16;S[k+2*ne+0]=(240&ie|ie>>4)*ue>>16&240|(15&ie|ie<<4)*ue>>16>>4&15,S[k+2*ne+1]=240&he|oe}k+=J}}function Va(S,k,Q,q,J,ne,ie,oe){var ue,he,Ce=255;for(he=0;he<J;++he){for(ue=0;ue<q;++ue){var Re=S[k+ue];ne[ie+4*ue]=Re,Ce&=Re}k+=Q,ie+=oe}return Ce!=255}function Lc(S,k,Q,q,J){var ne;for(ne=0;ne<J;++ne)Q[q+ne]=S[k+ne]>>8}function bl(){sA=fa,rx=Ms,sm=Va,nx=Lc}function Uc(S,k,Q){P[S]=function(q,J,ne,ie,oe,ue,he,Ce,Re,me,Be,Ie,Ge,Qe,ze,We,rt){var at,Yt=rt-1>>1,Ft=oe[ue+0]|he[Ce+0]<<16,Dr=Re[me+0]|Be[Ie+0]<<16;t(q!=null);var Qt=3*Ft+Dr+131074>>2;for(k(q[J+0],255&Qt,Qt>>16,Ge,Qe),ne!=null&&(Qt=3*Dr+Ft+131074>>2,k(ne[ie+0],255&Qt,Qt>>16,ze,We)),at=1;at<=Yt;++at){var rn=oe[ue+at]|he[Ce+at]<<16,Es=Re[me+at]|Be[Ie+at]<<16,$r=Ft+rn+Dr+Es+524296,Rt=$r+2*(rn+Dr)>>3;Qt=Rt+Ft>>1,Ft=($r=$r+2*(Ft+Es)>>3)+rn>>1,k(q[J+2*at-1],255&Qt,Qt>>16,Ge,Qe+(2*at-1)*Q),k(q[J+2*at-0],255&Ft,Ft>>16,Ge,Qe+(2*at-0)*Q),ne!=null&&(Qt=$r+Dr>>1,Ft=Rt+Es>>1,k(ne[ie+2*at-1],255&Qt,Qt>>16,ze,We+(2*at-1)*Q),k(ne[ie+2*at+0],255&Ft,Ft>>16,ze,We+(2*at+0)*Q)),Ft=rn,Dr=Es}1&rt||(Qt=3*Ft+Dr+131074>>2,k(q[J+rt-1],255&Qt,Qt>>16,Ge,Qe+(rt-1)*Q),ne!=null&&(Qt=3*Dr+Ft+131074>>2,k(ne[ie+rt-1],255&Qt,Qt>>16,ze,We+(rt-1)*Q)))}}function Wd(){Yi[ng]=lS,Yi[Wu]=Gu,Yi[Ub]=cS,Yi[am]=jf,Yi[im]=lA,Yi[qn]=dm,Yi[sg]=Ax,Yi[xf]=Gu,Yi[aA]=jf,Yi[om]=lA,Yi[lm]=dm}function Af(S){return S&-16384?0>S?0:255:S>>Yu}function Mu(S,k){return Af((19077*S>>8)+(26149*k>>8)-14234)}function Gd(S,k,Q){return Af((19077*S>>8)-(6419*k>>8)-(13320*Q>>8)+8708)}function Qu(S,k){return Af((19077*S>>8)+(33050*k>>8)-17685)}function Hu(S,k,Q,q,J){q[J+0]=Mu(S,Q),q[J+1]=Gd(S,k,Q),q[J+2]=Qu(S,k)}function qa(S,k,Q,q,J){q[J+0]=Qu(S,k),q[J+1]=Gd(S,k,Q),q[J+2]=Mu(S,Q)}function Yd(S,k,Q,q,J){var ne=Gd(S,k,Q);k=ne<<3&224|Qu(S,k)>>3,q[J+0]=248&Mu(S,Q)|ne>>5,q[J+1]=k}function Xd(S,k,Q,q,J){var ne=240&Qu(S,k)|15;q[J+0]=240&Mu(S,Q)|Gd(S,k,Q)>>4,q[J+1]=ne}function em(S,k,Q,q,J){q[J+0]=255,Hu(S,k,Q,q,J+1)}function tm(S,k,Q,q,J){qa(S,k,Q,q,J),q[J+3]=255}function Ni(S,k,Q,q,J){Hu(S,k,Q,q,J),q[J+3]=255}function jl(S,k,Q){P[S]=function(q,J,ne,ie,oe,ue,he,Ce,Re){for(var me=Ce+(-2&Re)*Q;Ce!=me;)k(q[J+0],ne[ie+0],oe[ue+0],he,Ce),k(q[J+1],ne[ie+0],oe[ue+0],he,Ce+Q),J+=2,++ie,++ue,Ce+=2*Q;1&Re&&k(q[J+0],ne[ie+0],oe[ue+0],he,Ce)}}function nc(S,k,Q){return Q==0?S==0?k==0?6:5:k==0?4:0:Q}function eg(S,k,Q,q,J){switch(S>>>30){case 3:rA(k,Q,q,J,0);break;case 2:Ss(k,Q,q,J);break;case 1:Cn(k,Q,q,J)}}function vo(S,k){var Q,q,J=k.M,ne=k.Nb,ie=S.oc,oe=S.pc+40,ue=S.oc,he=S.pc+584,Ce=S.oc,Re=S.pc+600;for(Q=0;16>Q;++Q)ie[oe+32*Q-1]=129;for(Q=0;8>Q;++Q)ue[he+32*Q-1]=129,Ce[Re+32*Q-1]=129;for(0<J?ie[oe-1-32]=ue[he-1-32]=Ce[Re-1-32]=129:(a(ie,oe-32-1,127,21),a(ue,he-32-1,127,9),a(Ce,Re-32-1,127,9)),q=0;q<S.za;++q){var me=k.ya[k.aa+q];if(0<q){for(Q=-1;16>Q;++Q)n(ie,oe+32*Q-4,ie,oe+32*Q+12,4);for(Q=-1;8>Q;++Q)n(ue,he+32*Q-4,ue,he+32*Q+4,4),n(Ce,Re+32*Q-4,Ce,Re+32*Q+4,4)}var Be=S.Gd,Ie=S.Hd+q,Ge=me.ad,Qe=me.Hc;if(0<J&&(n(ie,oe-32,Be[Ie].y,0,16),n(ue,he-32,Be[Ie].f,0,8),n(Ce,Re-32,Be[Ie].ea,0,8)),me.Za){var ze=ie,We=oe-32+16;for(0<J&&(q>=S.za-1?a(ze,We,Be[Ie].y[15],4):n(ze,We,Be[Ie+1].y,0,4)),Q=0;4>Q;Q++)ze[We+128+Q]=ze[We+256+Q]=ze[We+384+Q]=ze[We+0+Q];for(Q=0;16>Q;++Q,Qe<<=2)ze=ie,We=oe+fx[Q],Wo[me.Ob[Q]](ze,We),eg(Qe,Ge,16*+Q,ze,We)}else if(ze=nc(q,J,me.Ob[0]),Si[ze](ie,oe),Qe!=0)for(Q=0;16>Q;++Q,Qe<<=2)eg(Qe,Ge,16*+Q,ie,oe+fx[Q]);for(Q=me.Gc,ze=nc(q,J,me.Dd),Gi[ze](ue,he),Gi[ze](Ce,Re),Qe=Ge,ze=ue,We=he,255&(me=0|Q)&&(170&me?Wi(Qe,256,ze,We):Un(Qe,256,ze,We)),me=Ce,Qe=Re,255&(Q>>=8)&&(170&Q?Wi(Ge,320,me,Qe):Un(Ge,320,me,Qe)),J<S.Ub-1&&(n(Be[Ie].y,0,ie,oe+480,16),n(Be[Ie].f,0,ue,he+224,8),n(Be[Ie].ea,0,Ce,Re+224,8)),Q=8*ne*S.B,Be=S.sa,Ie=S.ta+16*q+16*ne*S.R,Ge=S.qa,me=S.ra+8*q+Q,Qe=S.Ha,ze=S.Ia+8*q+Q,Q=0;16>Q;++Q)n(Be,Ie+Q*S.R,ie,oe+32*Q,16);for(Q=0;8>Q;++Q)n(Ge,me+Q*S.B,ue,he+32*Q,8),n(Qe,ze+Q*S.B,Ce,Re+32*Q,8)}}function $u(S,k,Q,q,J,ne,ie,oe,ue){var he=[0],Ce=[0],Re=0,me=ue!=null?ue.kd:0,Be=ue??new ut;if(S==null||12>Q)return 7;Be.data=S,Be.w=k,Be.ha=Q,k=[k],Q=[Q],Be.gb=[Be.gb];e:{var Ie=k,Ge=Q,Qe=Be.gb;if(t(S!=null),t(Ge!=null),t(Qe!=null),Qe[0]=0,12<=Ge[0]&&!r(S,Ie[0],"RIFF")){if(r(S,Ie[0]+8,"WEBP")){Qe=3;break e}var ze=nt(S,Ie[0]+4);if(12>ze||4294967286<ze){Qe=3;break e}if(me&&ze>Ge[0]-8){Qe=7;break e}Qe[0]=ze,Ie[0]+=12,Ge[0]-=12}Qe=0}if(Qe!=0)return Qe;for(ze=0<Be.gb[0],Q=Q[0];;){e:{var We=S;Ge=k,Qe=Q;var rt=he,at=Ce,Yt=Ie=[0];if((Qt=Re=[Re])[0]=0,8>Qe[0])Qe=7;else{if(!r(We,Ge[0],"VP8X")){if(nt(We,Ge[0]+4)!=10){Qe=3;break e}if(18>Qe[0]){Qe=7;break e}var Ft=nt(We,Ge[0]+8),Dr=1+et(We,Ge[0]+12);if(2147483648<=Dr*(We=1+et(We,Ge[0]+15))){Qe=3;break e}Yt!=null&&(Yt[0]=Ft),rt!=null&&(rt[0]=Dr),at!=null&&(at[0]=We),Ge[0]+=18,Qe[0]-=18,Qt[0]=1}Qe=0}}if(Re=Re[0],Ie=Ie[0],Qe!=0)return Qe;if(Ge=!!(2&Ie),!ze&&Re)return 3;if(ne!=null&&(ne[0]=!!(16&Ie)),ie!=null&&(ie[0]=Ge),oe!=null&&(oe[0]=0),ie=he[0],Ie=Ce[0],Re&&Ge&&ue==null){Qe=0;break}if(4>Q){Qe=7;break}if(ze&&Re||!ze&&!Re&&!r(S,k[0],"ALPH")){Q=[Q],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{Ft=S,Qe=k,ze=Q;var Qt=Be.gb;rt=Be.na,at=Be.P,Yt=Be.Sa,Dr=22,t(Ft!=null),t(ze!=null),We=Qe[0];var rn=ze[0];for(t(rt!=null),t(Yt!=null),rt[0]=null,at[0]=null,Yt[0]=0;;){if(Qe[0]=We,ze[0]=rn,8>rn){Qe=7;break e}var Es=nt(Ft,We+4);if(4294967286<Es){Qe=3;break e}var $r=8+Es+1&-2;if(Dr+=$r,0<Qt&&Dr>Qt){Qe=3;break e}if(!r(Ft,We,"VP8 ")||!r(Ft,We,"VP8L")){Qe=0;break e}if(rn[0]<$r){Qe=7;break e}r(Ft,We,"ALPH")||(rt[0]=Ft,at[0]=We+8,Yt[0]=Es),We+=$r,rn-=$r}}if(Q=Q[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],Qe!=0)break}Q=[Q],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(Qt=S,Qe=k,ze=Q,rt=Be.gb[0],at=Be.Ja,Yt=Be.xa,Ft=Qe[0],We=!r(Qt,Ft,"VP8 "),Dr=!r(Qt,Ft,"VP8L"),t(Qt!=null),t(ze!=null),t(at!=null),t(Yt!=null),8>ze[0])Qe=7;else{if(We||Dr){if(Qt=nt(Qt,Ft+4),12<=rt&&Qt>rt-12){Qe=3;break e}if(me&&Qt>ze[0]-8){Qe=7;break e}at[0]=Qt,Qe[0]+=8,ze[0]-=8,Yt[0]=Dr}else Yt[0]=5<=ze[0]&&Qt[Ft+0]==47&&!(Qt[Ft+4]>>5),at[0]=ze[0];Qe=0}if(Q=Q[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],k=k[0],Qe!=0)break;if(4294967286<Be.Ja)return 3;if(oe==null||Ge||(oe[0]=Be.xa?2:1),ie=[ie],Ie=[Ie],Be.xa){if(5>Q){Qe=7;break}oe=ie,me=Ie,Ge=ne,S==null||5>Q?S=0:5<=Q&&S[k+0]==47&&!(S[k+4]>>5)?(ze=[0],Qt=[0],rt=[0],z(at=new Y,S,k,Q),da(at,ze,Qt,rt)?(oe!=null&&(oe[0]=ze[0]),me!=null&&(me[0]=Qt[0]),Ge!=null&&(Ge[0]=rt[0]),S=1):S=0):S=0}else{if(10>Q){Qe=7;break}oe=Ie,S==null||10>Q||!Ud(S,k+3,Q-3)?S=0:(me=S[k+0]|S[k+1]<<8|S[k+2]<<16,Ge=16383&(S[k+7]<<8|S[k+6]),S=16383&(S[k+9]<<8|S[k+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=Be.Ja||!Ge||!S?S=0:(ie&&(ie[0]=Ge),oe&&(oe[0]=S),S=1))}if(!S||(ie=ie[0],Ie=Ie[0],Re&&(he[0]!=ie||Ce[0]!=Ie)))return 3;ue!=null&&(ue[0]=Be,ue.offset=k-ue.w,t(4294967286>k-ue.w),t(ue.offset==ue.ha-Q));break}return Qe==0||Qe==7&&Re&&ue==null?(ne!=null&&(ne[0]|=Be.na!=null&&0<Be.na.length),q!=null&&(q[0]=ie),J!=null&&(J[0]=Ie),0):Qe}function ff(S,k,Q){var q=k.width,J=k.height,ne=0,ie=0,oe=q,ue=J;if(k.Da=S!=null&&0<S.Da,k.Da&&(oe=S.cd,ue=S.bd,ne=S.v,ie=S.j,11>Q||(ne&=-2,ie&=-2),0>ne||0>ie||0>=oe||0>=ue||ne+oe>q||ie+ue>J))return 0;if(k.v=ne,k.j=ie,k.va=ne+oe,k.o=ie+ue,k.U=oe,k.T=ue,k.da=S!=null&&0<S.da,k.da){if(!Pe(oe,ue,Q=[S.ib],ne=[S.hb]))return 0;k.ib=Q[0],k.hb=ne[0]}return k.ob=S!=null&&S.ob,k.Kb=S==null||!S.Sd,k.da&&(k.ob=k.ib<3*q/4&&k.hb<3*J/4,k.Kb=0),1}function hf(S){if(S==null)return 2;if(11>S.S){var k=S.f.RGBA;k.fb+=(S.height-1)*k.A,k.A=-k.A}else k=S.f.kb,S=S.height,k.O+=(S-1)*k.fa,k.fa=-k.fa,k.N+=(S-1>>1)*k.Ab,k.Ab=-k.Ab,k.W+=(S-1>>1)*k.Db,k.Db=-k.Db,k.F!=null&&(k.J+=(S-1)*k.lb,k.lb=-k.lb);return 0}function Dc(S,k,Q,q){if(q==null||0>=S||0>=k)return 2;if(Q!=null){if(Q.Da){var J=Q.cd,ne=Q.bd,ie=-2&Q.v,oe=-2&Q.j;if(0>ie||0>oe||0>=J||0>=ne||ie+J>S||oe+ne>k)return 2;S=J,k=ne}if(Q.da){if(!Pe(S,k,J=[Q.ib],ne=[Q.hb]))return 2;S=J[0],k=ne[0]}}q.width=S,q.height=k;e:{var ue=q.width,he=q.height;if(S=q.S,0>=ue||0>=he||!(S>=ng&&13>S))S=2;else{if(0>=q.Rd&&q.sd==null){ie=ne=J=k=0;var Ce=(oe=ue*Am[S])*he;if(11>S||(ne=(he+1)/2*(k=(ue+1)/2),S==12&&(ie=(J=ue)*he)),(he=i(Ce+2*ne+ie))==null){S=1;break e}q.sd=he,11>S?((ue=q.f.RGBA).eb=he,ue.fb=0,ue.A=oe,ue.size=Ce):((ue=q.f.kb).y=he,ue.O=0,ue.fa=oe,ue.Fd=Ce,ue.f=he,ue.N=0+Ce,ue.Ab=k,ue.Cd=ne,ue.ea=he,ue.W=0+Ce+ne,ue.Db=k,ue.Ed=ne,S==12&&(ue.F=he,ue.J=0+Ce+2*ne),ue.Tc=ie,ue.lb=J)}if(k=1,J=q.S,ne=q.width,ie=q.height,J>=ng&&13>J)if(11>J)S=q.f.RGBA,k&=(oe=Math.abs(S.A))*(ie-1)+ne<=S.size,k&=oe>=ne*Am[J],k&=S.eb!=null;else{S=q.f.kb,oe=(ne+1)/2,Ce=(ie+1)/2,ue=Math.abs(S.fa),he=Math.abs(S.Ab);var Re=Math.abs(S.Db),me=Math.abs(S.lb),Be=me*(ie-1)+ne;k&=ue*(ie-1)+ne<=S.Fd,k&=he*(Ce-1)+oe<=S.Cd,k=(k&=Re*(Ce-1)+oe<=S.Ed)&ue>=ne&he>=oe&Re>=oe,k&=S.y!=null,k&=S.f!=null,k&=S.ea!=null,J==12&&(k&=me>=ne,k&=Be<=S.Tc,k&=S.F!=null)}else k=0;S=k?0:2}}return S!=0||Q!=null&&Q.fd&&(S=hf(q)),S}var Ko=64,yo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xo=24,Vu=32,sc=8,Mc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ve("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(S){return S},P.Predictor2=function(S,k,Q){return k[Q+0]},P.Predictor3=function(S,k,Q){return k[Q+1]},P.Predictor4=function(S,k,Q){return k[Q-1]},P.Predictor5=function(S,k,Q){return xe(xe(S,k[Q+1]),k[Q+0])},P.Predictor6=function(S,k,Q){return xe(S,k[Q-1])},P.Predictor7=function(S,k,Q){return xe(S,k[Q+0])},P.Predictor8=function(S,k,Q){return xe(k[Q-1],k[Q+0])},P.Predictor9=function(S,k,Q){return xe(k[Q+0],k[Q+1])},P.Predictor10=function(S,k,Q){return xe(xe(S,k[Q-1]),xe(k[Q+0],k[Q+1]))},P.Predictor11=function(S,k,Q){var q=k[Q+0];return 0>=tt(q>>24&255,S>>24&255,(k=k[Q-1])>>24&255)+tt(q>>16&255,S>>16&255,k>>16&255)+tt(q>>8&255,S>>8&255,k>>8&255)+tt(255&q,255&S,255&k)?q:S},P.Predictor12=function(S,k,Q){var q=k[Q+0];return(qe((S>>24&255)+(q>>24&255)-((k=k[Q-1])>>24&255))<<24|qe((S>>16&255)+(q>>16&255)-(k>>16&255))<<16|qe((S>>8&255)+(q>>8&255)-(k>>8&255))<<8|qe((255&S)+(255&q)-(255&k)))>>>0},P.Predictor13=function(S,k,Q){var q=k[Q-1];return(Ke((S=xe(S,k[Q+0]))>>24&255,q>>24&255)<<24|Ke(S>>16&255,q>>16&255)<<16|Ke(S>>8&255,q>>8&255)<<8|Ke(255&S,255&q))>>>0};var Qc=P.PredictorAdd0;P.PredictorAdd1=jt,ve("Predictor2","PredictorAdd2"),ve("Predictor3","PredictorAdd3"),ve("Predictor4","PredictorAdd4"),ve("Predictor5","PredictorAdd5"),ve("Predictor6","PredictorAdd6"),ve("Predictor7","PredictorAdd7"),ve("Predictor8","PredictorAdd8"),ve("Predictor9","PredictorAdd9"),ve("Predictor10","PredictorAdd10"),ve("Predictor11","PredictorAdd11"),ve("Predictor12","PredictorAdd12"),ve("Predictor13","PredictorAdd13");var ac=P.PredictorAdd2;St("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),St("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var Qs,Jd=P.ColorIndexInverseTransform,ic=P.MapARGB,_l=P.VP8LColorIndexInverseTransformAlpha,Zd=P.MapAlpha,eA=P.VP8LPredictorsAdd=[];eA.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var mf,pf,Hc,qu,Ku,tA,zu,rA,Ss,Wi,Cn,Un,Bs,Zs,Nl,rm,gf,$c,tg,vf,rg,tx,nm,nA,sA,rx,sm,nx,sx=i(511),ax=i(2041),ix=i(225),ox=i(767),lx=0,oc=ax,yf=ix,Ci=ox,zo=sx,ng=0,Wu=1,Ub=2,am=3,im=4,qn=5,sg=6,xf=7,aA=8,om=9,lm=10,cm=[2,3,7],ag=[3,3,11],iA=[280,256,256,256,40],Db=[0,1,1,1,0],sS=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],aS=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Mb=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ig=8,wf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],um=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],oA=null,cx=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ux=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Qb=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Hb=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],iS=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],oS=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],dx=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Si=[],Wo=[],Gi=[],lc=1,bf=2,oi=[],Yi=[];Uc("UpsampleRgbLinePair",Hu,3),Uc("UpsampleBgrLinePair",qa,3),Uc("UpsampleRgbaLinePair",Ni,4),Uc("UpsampleBgraLinePair",tm,4),Uc("UpsampleArgbLinePair",em,4),Uc("UpsampleRgba4444LinePair",Xd,2),Uc("UpsampleRgb565LinePair",Yd,2);var lS=P.UpsampleRgbLinePair,cS=P.UpsampleBgrLinePair,Gu=P.UpsampleRgbaLinePair,jf=P.UpsampleBgraLinePair,lA=P.UpsampleArgbLinePair,dm=P.UpsampleRgba4444LinePair,Ax=P.UpsampleRgb565LinePair,Vc=16,Cl=1<<Vc-1,Fn=-227,Dn=482,Yu=6,Ka=0,Xi=i(256),cA=i(256),_f=i(256),Ji=i(256),og=i(Dn-Fn),$b=i(Dn-Fn);jl("YuvToRgbRow",Hu,3),jl("YuvToBgrRow",qa,3),jl("YuvToRgbaRow",Ni,4),jl("YuvToBgraRow",tm,4),jl("YuvToArgbRow",em,4),jl("YuvToRgba4444Row",Xd,2),jl("YuvToRgb565Row",Yd,2);var fx=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],uA=[0,2,8],Vb=[8,7,6,4,4,2,2,2,1,1,1,1],qc=1;this.WebPDecodeRGBA=function(S,k,Q,q,J){var ne=Wu,ie=new Ye,oe=new Cr;ie.ba=oe,oe.S=ne,oe.width=[oe.width],oe.height=[oe.height];var ue=oe.width,he=oe.height,Ce=new qt;if(Ce==null||S==null)var Re=2;else t(Ce!=null),Re=$u(S,k,Q,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(Re!=0?ue=0:(ue!=null&&(ue[0]=Ce.width[0]),he!=null&&(he[0]=Ce.height[0]),ue=1),ue){oe.width=oe.width[0],oe.height=oe.height[0],q!=null&&(q[0]=oe.width),J!=null&&(J[0]=oe.height);e:{if(q=new nf,(J=new ut).data=S,J.w=k,J.ha=Q,J.kd=1,k=[0],t(J!=null),((S=$u(J.data,J.w,J.ha,null,null,null,k,null,J))==0||S==7)&&k[0]&&(S=4),(k=S)==0){if(t(ie!=null),q.data=J.data,q.w=J.w+J.offset,q.ha=J.ha-J.offset,q.put=Dt,q.ac=us,q.bc=Cs,q.ma=ie,J.xa){if((S=Id())==null){ie=1;break e}if((function(me,Be){var Ie=[0],Ge=[0],Qe=[0];t:for(;;){if(me==null)return 0;if(Be==null)return me.a=2,0;if(me.l=Be,me.a=0,z(me.m,Be.data,Be.w,Be.ha),!da(me.m,Ie,Ge,Qe)){me.a=3;break t}if(me.xb=bf,Be.width=Ie[0],Be.height=Ge[0],!yl(Ie[0],Ge[0],1,me,null))break t;return 1}return t(me.a!=0),0})(S,q)){if(q=(k=Dc(q.width,q.height,ie.Oa,ie.ba))==0){t:{q=S;r:for(;;){if(q==null){q=0;break t}if(t(q.s.yc!=null),t(q.s.Ya!=null),t(0<q.s.Wb),t((Q=q.l)!=null),t((J=Q.ma)!=null),q.xb!=0){if(q.ca=J.ba,q.tb=J.tb,t(q.ca!=null),!ff(J.Oa,Q,am)){q.a=2;break r}if(!Ru(q,Q.width)||Q.da)break r;if((Q.da||sr(q.ca.S))&&bl(),11>q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),q.ca.f.kb.F!=null&&bl()),q.Pb&&0<q.s.ua&&q.s.vb.X==null&&!le(q.s.vb,q.s.Wa.Xa)){q.a=1;break r}q.xb=0}if(!Do(q,q.V,q.Ba,q.c,q.i,Q.o,Fu))break r;J.Dc=q.Ma,q=1;break t}t(q.a!=0),q=0}q=!q}q&&(k=S.a)}else k=S.a}else{if((S=new Zy)==null){ie=1;break e}if(S.Fa=J.na,S.P=J.P,S.qc=J.Sa,po(S,q)){if((k=Dc(q.width,q.height,ie.Oa,ie.ba))==0){if(S.Aa=0,Q=ie.Oa,t((J=S)!=null),Q!=null){if(0<(ue=0>(ue=Q.Md)?0:100<ue?255:255*ue/100)){for(he=Ce=0;4>he;++he)12>(Re=J.pb[he]).lc&&(Re.ia=ue*Vb[0>Re.lc?0:Re.lc]>>3),Ce|=Re.ia;Ce&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=Q.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}(function(me,Be){if(me==null)return 0;if(Be==null)return Xs(me,2,"NULL VP8Io parameter in VP8Decode().");if(!me.cb&&!po(me,Be))return 0;if(t(me.cb),Be.ac==null||Be.ac(Be)){Be.ob&&(me.L=0);var Ie=uA[me.L];if(me.L==2?(me.yb=0,me.zb=0):(me.yb=Be.v-Ie>>4,me.zb=Be.j-Ie>>4,0>me.yb&&(me.yb=0),0>me.zb&&(me.zb=0)),me.Va=Be.o+15+Ie>>4,me.Hb=Be.va+15+Ie>>4,me.Hb>me.za&&(me.Hb=me.za),me.Va>me.Ub&&(me.Va=me.Ub),0<me.L){var Ge=me.ed;for(Ie=0;4>Ie;++Ie){var Qe;if(me.Qa.Cb){var ze=me.Qa.Lb[Ie];me.Qa.Fb||(ze+=Ge.Tb)}else ze=Ge.Tb;for(Qe=0;1>=Qe;++Qe){var We=me.gd[Ie][Qe],rt=ze;if(Ge.Pc&&(rt+=Ge.vd[0],Qe&&(rt+=Ge.od[0])),0<(rt=0>rt?0:63<rt?63:rt)){var at=rt;0<Ge.wb&&(at=4<Ge.wb?at>>2:at>>1)>9-Ge.wb&&(at=9-Ge.wb),1>at&&(at=1),We.dd=at,We.tc=2*rt+at,We.ld=40<=rt?2:15<=rt?1:0}else We.tc=0;We.La=Qe}}}Ie=0}else Xs(me,6,"Frame setup failed"),Ie=me.a;if(Ie=Ie==0){if(Ie){me.$c=0,0<me.Aa||(me.Ic=qc);t:{Ie=me.Ic,Ge=4*(at=me.za);var Yt=32*at,Ft=at+1,Dr=0<me.L?at*(0<me.Aa?2:1):0,Qt=(me.Aa==2?2:1)*at;if((We=Ge+832+(Qe=3*(16*Ie+uA[me.L])/2*Yt)+(ze=me.Fa!=null&&0<me.Fa.length?me.Kc.c*me.Kc.i:0))!=We)Ie=0;else{if(We>me.Vb){if(me.Vb=0,me.Ec=i(We),me.Fc=0,me.Ec==null){Ie=Xs(me,1,"no memory during frame initialization.");break t}me.Vb=We}We=me.Ec,rt=me.Fc,me.Ac=We,me.Bc=rt,rt+=Ge,me.Gd=o(Yt,mo),me.Hd=0,me.rb=o(Ft+1,Lu),me.sb=1,me.wa=Dr?o(Dr,ho):null,me.Y=0,me.D.Nb=0,me.D.wa=me.wa,me.D.Y=me.Y,0<me.Aa&&(me.D.Y+=at),t(!0),me.oc=We,me.pc=rt,rt+=832,me.ya=o(Qt,rf),me.aa=0,me.D.ya=me.ya,me.D.aa=me.aa,me.Aa==2&&(me.D.aa+=at),me.R=16*at,me.B=8*at,at=(Yt=uA[me.L])*me.R,Yt=Yt/2*me.B,me.sa=We,me.ta=rt+at,me.qa=me.sa,me.ra=me.ta+16*Ie*me.R+Yt,me.Ha=me.qa,me.Ia=me.ra+8*Ie*me.B+Yt,me.$c=0,rt+=Qe,me.mb=ze?We:null,me.nb=ze?rt:null,t(rt+ze<=me.Fc+me.Vb),Dd(me),a(me.Ac,me.Bc,0,Ge),Ie=1}}if(Ie){if(Be.ka=0,Be.y=me.sa,Be.O=me.ta,Be.f=me.qa,Be.N=me.ra,Be.ea=me.Ha,Be.Vd=me.Ia,Be.fa=me.R,Be.Rc=me.B,Be.F=null,Be.J=0,!lx){for(Ie=-255;255>=Ie;++Ie)sx[255+Ie]=0>Ie?-Ie:Ie;for(Ie=-1020;1020>=Ie;++Ie)ax[1020+Ie]=-128>Ie?-128:127<Ie?127:Ie;for(Ie=-112;112>=Ie;++Ie)ix[112+Ie]=-16>Ie?-16:15<Ie?15:Ie;for(Ie=-255;510>=Ie;++Ie)ox[255+Ie]=0>Ie?0:255<Ie?255:Ie;lx=1}zu=Qd,rA=Md,Wi=Zl,Cn=sf,Un=wn,Ss=Wh,Bs=ii,Zs=qo,Nl=Z,rm=pe,gf=df,$c=R,tg=_e,vf=Te,rg=Rc,tx=Du,nm=Zh,nA=zd,Wo[0]=Jp,Wo[1]=Gh,Wo[2]=tc,Wo[3]=ex,Wo[4]=go,Wo[5]=Zp,Wo[6]=Fc,Wo[7]=lf,Wo[8]=Yh,Wo[9]=$d,Si[0]=ec,Si[1]=Xp,Si[2]=af,Si[3]=of,Si[4]=Ki,Si[5]=Qo,Si[6]=Hd,Gi[0]=cf,Gi[1]=Yp,Gi[2]=wl,Gi[3]=Vd,Gi[4]=Jh,Gi[5]=Xh,Gi[6]=uf,Ie=1}else Ie=0}Ie&&(Ie=(function(rn,Es){for(rn.M=0;rn.M<rn.Va;++rn.M){var $r,Rt=rn.Jc[rn.M&rn.Xb],bt=rn.m,Hs=rn;for($r=0;$r<Hs.za;++$r){var Sr=bt,en=Hs,rs=en.Ac,Ea=en.Bc+4*$r,ea=en.zc,bs=en.ya[en.aa+$r];if(en.Qa.Bb?bs.$b=je(Sr,en.Pa.jb[0])?2+je(Sr,en.Pa.jb[2]):je(Sr,en.Pa.jb[1]):bs.$b=0,en.kc&&(bs.Ad=je(Sr,en.Bd)),bs.Za=!je(Sr,145)+0,bs.Za){var ha=bs.Ob,ka=0;for(en=0;4>en;++en){var ds,cn=ea[0+en];for(ds=0;4>ds;++ds){cn=iS[rs[Ea+ds]][cn];for(var Sn=Qb[je(Sr,cn[0])];0<Sn;)Sn=Qb[2*Sn+je(Sr,cn[Sn])];cn=-Sn,rs[Ea+ds]=cn}n(ha,ka,rs,Ea,4),ka+=4,ea[0+en]=cn}}else cn=je(Sr,156)?je(Sr,128)?1:3:je(Sr,163)?2:0,bs.Ob[0]=cn,a(rs,Ea,cn,4),a(ea,0,cn,4);bs.Dd=je(Sr,142)?je(Sr,114)?je(Sr,183)?1:3:2:0}if(Hs.m.Ka)return Xs(rn,7,"Premature end-of-partition0 encountered.");for(;rn.ja<rn.za;++rn.ja){if(Hs=Rt,Sr=(bt=rn).rb[bt.sb-1],rs=bt.rb[bt.sb+bt.ja],$r=bt.ya[bt.aa+bt.ja],Ea=bt.kc?$r.Ad:0)Sr.la=rs.la=0,$r.Za||(Sr.Na=rs.Na=0),$r.Hc=0,$r.Gc=0,$r.ia=0;else{var As,Bn;if(Sr=rs,rs=Hs,Ea=bt.Pa.Xc,ea=bt.ya[bt.aa+bt.ja],bs=bt.pb[ea.$b],en=ea.ad,ha=0,ka=bt.rb[bt.sb-1],cn=ds=0,a(en,ha,0,384),ea.Za)var ks=0,Ps=Ea[3];else{Sn=i(16);var Kn=Sr.Na+ka.Na;if(Kn=oA(rs,Ea[1],Kn,bs.Eb,0,Sn,0),Sr.Na=ka.Na=(0<Kn)+0,1<Kn)zu(Sn,0,en,ha);else{var li=Sn[0]+3>>3;for(Sn=0;256>Sn;Sn+=16)en[ha+Sn]=li}ks=1,Ps=Ea[0]}var Mn=15&Sr.la,zn=15&ka.la;for(Sn=0;4>Sn;++Sn){var ta=1&zn;for(li=Bn=0;4>li;++li)Mn=Mn>>1|(ta=(Kn=oA(rs,Ps,Kn=ta+(1&Mn),bs.Sc,ks,en,ha))>ks)<<7,Bn=Bn<<2|(3<Kn?3:1<Kn?2:en[ha+0]!=0),ha+=16;Mn>>=4,zn=zn>>1|ta<<7,ds=(ds<<8|Bn)>>>0}for(Ps=Mn,ks=zn>>4,As=0;4>As;As+=2){for(Bn=0,Mn=Sr.la>>4+As,zn=ka.la>>4+As,Sn=0;2>Sn;++Sn){for(ta=1&zn,li=0;2>li;++li)Kn=ta+(1&Mn),Mn=Mn>>1|(ta=0<(Kn=oA(rs,Ea[2],Kn,bs.Qc,0,en,ha)))<<3,Bn=Bn<<2|(3<Kn?3:1<Kn?2:en[ha+0]!=0),ha+=16;Mn>>=2,zn=zn>>1|ta<<5}cn|=Bn<<4*As,Ps|=Mn<<4<<As,ks|=(240&zn)<<As}Sr.la=Ps,ka.la=ks,ea.Hc=ds,ea.Gc=cn,ea.ia=43690&cn?0:bs.ia,Ea=!(ds|cn)}if(0<bt.L&&(bt.wa[bt.Y+bt.ja]=bt.gd[$r.$b][$r.Za],bt.wa[bt.Y+bt.ja].La|=!Ea),Hs.Ka)return Xs(rn,7,"Premature end-of-file encountered.")}if(Dd(rn),bt=Es,Hs=1,$r=(Rt=rn).D,Sr=0<Rt.L&&Rt.M>=Rt.zb&&Rt.M<=Rt.Va,Rt.Aa==0)t:{if($r.M=Rt.M,$r.uc=Sr,vo(Rt,$r),Hs=1,$r=(Bn=Rt.D).Nb,Sr=(cn=uA[Rt.L])*Rt.R,rs=cn/2*Rt.B,Sn=16*$r*Rt.R,li=8*$r*Rt.B,Ea=Rt.sa,ea=Rt.ta-Sr+Sn,bs=Rt.qa,en=Rt.ra-rs+li,ha=Rt.Ha,ka=Rt.Ia-rs+li,zn=(Mn=Bn.M)==0,ds=Mn>=Rt.Va-1,Rt.Aa==2&&vo(Rt,Bn),Bn.uc)for(ta=(Kn=Rt).D.M,t(Kn.D.uc),Bn=Kn.yb;Bn<Kn.Hb;++Bn){ks=Bn,Ps=ta;var za=(Zi=(qs=Kn).D).Nb;As=qs.R;var Zi=Zi.wa[Zi.Y+ks],$s=qs.sa,Vs=qs.ta+16*za*As+16*ks,ci=Zi.dd,Wn=Zi.tc;if(Wn!=0)if(t(3<=Wn),qs.L==1)0<ks&&tx($s,Vs,As,Wn+4),Zi.La&&nA($s,Vs,As,Wn),0<Ps&&rg($s,Vs,As,Wn+4),Zi.La&&nm($s,Vs,As,Wn);else{var ui=qs.B,Go=qs.qa,Sl=qs.ra+8*za*ui+8*ks,Pa=qs.Ha,qs=qs.Ia+8*za*ui+8*ks;za=Zi.ld,0<ks&&(Zs($s,Vs,As,Wn+4,ci,za),rm(Go,Sl,Pa,qs,ui,Wn+4,ci,za)),Zi.La&&($c($s,Vs,As,Wn,ci,za),vf(Go,Sl,Pa,qs,ui,Wn,ci,za)),0<Ps&&(Bs($s,Vs,As,Wn+4,ci,za),Nl(Go,Sl,Pa,qs,ui,Wn+4,ci,za)),Zi.La&&(gf($s,Vs,As,Wn,ci,za),tg(Go,Sl,Pa,qs,ui,Wn,ci,za))}}if(Rt.ia&&alert("todo:DitherRow"),bt.put!=null){if(Bn=16*Mn,Mn=16*(Mn+1),zn?(bt.y=Rt.sa,bt.O=Rt.ta+Sn,bt.f=Rt.qa,bt.N=Rt.ra+li,bt.ea=Rt.Ha,bt.W=Rt.Ia+li):(Bn-=cn,bt.y=Ea,bt.O=ea,bt.f=bs,bt.N=en,bt.ea=ha,bt.W=ka),ds||(Mn-=cn),Mn>bt.o&&(Mn=bt.o),bt.F=null,bt.J=null,Rt.Fa!=null&&0<Rt.Fa.length&&Bn<Mn&&(bt.J=ts(Rt,bt,Bn,Mn-Bn),bt.F=Rt.mb,bt.F==null&&bt.F.length==0)){Hs=Xs(Rt,3,"Could not decode alpha data.");break t}Bn<bt.j&&(cn=bt.j-Bn,Bn=bt.j,t(!(1&cn)),bt.O+=Rt.R*cn,bt.N+=Rt.B*(cn>>1),bt.W+=Rt.B*(cn>>1),bt.F!=null&&(bt.J+=bt.width*cn)),Bn<Mn&&(bt.O+=bt.v,bt.N+=bt.v>>1,bt.W+=bt.v>>1,bt.F!=null&&(bt.J+=bt.v),bt.ka=Bn-bt.j,bt.U=bt.va-bt.v,bt.T=Mn-Bn,Hs=bt.put(bt))}$r+1!=Rt.Ic||ds||(n(Rt.sa,Rt.ta-Sr,Ea,ea+16*Rt.R,Sr),n(Rt.qa,Rt.ra-rs,bs,en+8*Rt.B,rs),n(Rt.Ha,Rt.Ia-rs,ha,ka+8*Rt.B,rs))}if(!Hs)return Xs(rn,6,"Output aborted.")}return 1})(me,Be)),Be.bc!=null&&Be.bc(Be),Ie&=1}return Ie?(me.cb=0,Ie):0})(S,q)||(k=S.a)}}else k=S.a}k==0&&ie.Oa!=null&&ie.Oa.fd&&(k=hf(ie.ba))}ie=k}ne=ie!=0?null:11>ne?oe.f.RGBA.eb:oe.f.kb.y}else ne=null;return ne};var Am=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(P,M){for(var I="",D=0;D<4;D++)I+=String.fromCharCode(P[M++]);return I}function d(P,M){return P[M+0]|P[M+1]<<8}function A(P,M){return(P[M+0]|P[M+1]<<8|P[M+2]<<16)>>>0}function h(P,M){return(P[M+0]|P[M+1]<<8|P[M+2]<<16|P[M+3]<<24)>>>0}new c;var m=[0],y=[0],g=[],v=new c,x=e,b=(function(P,M){var I={},D=0,$=!1,F=0,V=0;if(I.frames=[],!(function(U,Y){for(var ee=0;ee<4;ee++)if(U[Y+ee]!="RIFF".charCodeAt(ee))return!0;return!1})(P,M)){for(h(P,M+=4),M+=8;M<P.length;){var X=u(P,M),K=h(P,M+=4);M+=4;var W=K+(1&K);switch(X){case"VP8 ":case"VP8L":I.frames[D]===void 0&&(I.frames[D]={}),(G=I.frames[D]).src_off=$?V:M-8,G.src_size=F+K+8,D++,$&&($=!1,F=0,V=0);break;case"VP8X":(G=I.header={}).feature_flags=P[M];var z=M+4;G.canvas_width=1+A(P,z),z+=3,G.canvas_height=1+A(P,z),z+=3;break;case"ALPH":$=!0,F=W+8,V=M-8;break;case"ANIM":(G=I.header).bgcolor=h(P,M),z=M+4,G.loop_count=d(P,z),z+=2;break;case"ANMF":var te,G;(G=I.frames[D]={}).offset_x=2*A(P,M),M+=3,G.offset_y=2*A(P,M),M+=3,G.width=1+A(P,M),M+=3,G.height=1+A(P,M),M+=3,G.duration=A(P,M),M+=3,te=P[M++],G.dispose=1&te,G.blend=te>>1&1}X!="ANMF"&&(M+=W)}return I}})(x,0);b.response=x,b.rgbaoutput=!0,b.dataurl=!1;var j=b.header?b.header:null,_=b.frames?b.frames:null;if(j){j.loop_counter=j.loop_count,m=[j.canvas_height],y=[j.canvas_width];for(var N=0;N<_.length&&_[N].blend!=0;N++);}var B=_[0],T=v.WebPDecodeRGBA(x,B.src_off,B.src_size,y,m);B.rgba=T,B.imgwidth=y[0],B.imgheight=m[0];for(var O=0;O<y[0]*m[0]*4;O++)g[O]=T[O];return this.width=y,this.height=m,this.data=g,this}function BWe(){var e,t=this.internal.__metadata__.metadata,r=unescape(encodeURIComponent(t));e=this.internal.__metadata__.rawXml?r:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+e.length+" >>"),this.internal.write("stream"),this.internal.write(e),this.internal.write("endstream"),this.internal.write("endobj")}function EWe(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(e){var t,r,n,a,i,o,l,c,u,d=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new c,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new o,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new o,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new A(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var A=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=U;Object.defineProperty(this,"pdf",{get:function(){return Y}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(le){ee=!!le}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(le){ae=!!le}});var Ae=0;Object.defineProperty(this,"posX",{get:function(){return Ae},set:function(le){isNaN(le)||(Ae=le)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(le){isNaN(le)||(ce=le)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(le){var lt;typeof le=="number"?lt=[le,le,le,le]:((lt=new Array(4))[0]=le[0],lt[1]=le.length>=2?le[1]:lt[0],lt[2]=le.length>=3?le[2]:lt[0],lt[3]=le.length>=4?le[3]:lt[1]),u.margin=lt}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(le){we=le}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(le){ge=le}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(le){je=le}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(le){le instanceof d&&(u=le)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(le){u.path=le}});var Oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Oe},set:function(le){Oe=le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(le){var lt;lt=h(le),this.ctx.fillStyle=lt.style,this.ctx.isFillTransparent=lt.a===0,this.ctx.fillOpacity=lt.a,this.pdf.setFillColor(lt.r,lt.g,lt.b,{a:lt.a}),this.pdf.setTextColor(lt.r,lt.g,lt.b,{a:lt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(le){var lt=h(le);this.ctx.strokeStyle=lt.style,this.ctx.isStrokeTransparent=lt.a===0,this.ctx.strokeOpacity=lt.a,lt.a===0?this.pdf.setDrawColor(255,255,255):(lt.a,this.pdf.setDrawColor(lt.r,lt.g,lt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(le){["butt","round","square"].indexOf(le)!==-1&&(this.ctx.lineCap=le,this.pdf.setLineCap(le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(le){isNaN(le)||(this.ctx.lineWidth=le,this.pdf.setLineWidth(le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(le){["bevel","round","miter"].indexOf(le)!==-1&&(this.ctx.lineJoin=le,this.pdf.setLineJoin(le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(le){isNaN(le)||(this.ctx.miterLimit=le,this.pdf.setMiterLimit(le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(le){this.ctx.textBaseline=le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(le){["right","end","center","left","start"].indexOf(le)!==-1&&(this.ctx.textAlign=le)}});var Ne=null,et=null,nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return nt},set:function(le){Ne=null,et=null,nt=le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(le){var lt;if(this.ctx.font=le,(lt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(le))!==null){var Pt=lt[1];lt[2];var Pe=lt[3],Me=lt[4];lt[5];var fe=lt[6],ve=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Me)[2];Me=Math.floor(ve==="px"?parseFloat(Me)*this.pdf.internal.scaleFactor:ve==="em"?parseFloat(Me)*this.pdf.getFontSize():parseFloat(Me)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Me);var Ee=(function(St){var Zn,Hr,dr=[],Fr=St.trim();if(Fr==="")return LP;if(Fr in kz)return[kz[Fr]];for(;Fr!=="";){switch(Hr=null,Zn=(Fr=Tz(Fr)).charAt(0)){case'"':case"'":Hr=bWe(Fr.substring(1),Zn);break;default:Hr=jWe(Fr)}if(Hr===null||(dr.push(Hr[0]),(Fr=Tz(Hr[1]))!==""&&Fr.charAt(0)!==","))return LP;Fr=Fr.replace(/^,/,"")}return dr})(fe);if(this.fontFaces){var xe=(function(St,Zn){var Hr=St.getFontList(),dr=JSON.stringify(Hr);if(Ne===null||et!==dr){var Fr=(function(tn){var Wt=[];return Object.keys(tn).forEach(function(vn){tn[vn].forEach(function(sr){var xr=null;switch(sr){case"bold":xr={family:vn,weight:"bold"};break;case"italic":xr={family:vn,style:"italic"};break;case"bolditalic":xr={family:vn,weight:"bold",style:"italic"};break;case"":case"normal":xr={family:vn}}xr!==null&&(xr.ref={name:vn,style:sr},Wt.push(xr))})}),Wt})(Hr);Ne=(function(tn){for(var Wt={},vn=0;vn<tn.length;++vn){var sr=RP(tn[vn]),xr=sr.family,Nn=sr.stretch,Cr=sr.style,qt=sr.weight;Wt[xr]=Wt[xr]||{},Wt[xr][Nn]=Wt[xr][Nn]||{},Wt[xr][Nn][Cr]=Wt[xr][Nn][Cr]||{},Wt[xr][Nn][Cr][qt]=sr}return Wt})(Fr.concat(Zn)),et=dr}return Ne})(this.pdf,this.fontFaces),qe=Ee.map(function(St){return{family:St,stretch:"normal",weight:Pe,style:Pt}}),Ke=(function(St,Zn,Hr){for(var dr=(Hr=Hr||{}).defaultFontFamily||"times",Fr=Object.assign({},wWe,Hr.genericFontFamilies||{}),tn=null,Wt=null,vn=0;vn<Zn.length;++vn)if(Fr[(tn=RP(Zn[vn])).family]&&(tn.family=Fr[tn.family]),St.hasOwnProperty(tn.family)){Wt=St[tn.family];break}if(!(Wt=Wt||St[dr]))throw new Error("Could not find a font-family for the rule '"+Pz(tn)+"' and default family '"+dr+"'.");if(Wt=(function(sr,xr){if(xr[sr])return xr[sr];var Nn=gF[sr],Cr=Nn<=gF.normal?-1:1,qt=Ez(xr,Yoe,Nn,Cr);if(!qt)throw new Error("Could not find a matching font-stretch value for "+sr);return qt})(tn.stretch,Wt),Wt=(function(sr,xr){if(xr[sr])return xr[sr];for(var Nn=Goe[sr],Cr=0;Cr<Nn.length;++Cr)if(xr[Nn[Cr]])return xr[Nn[Cr]];throw new Error("Could not find a matching font-style for "+sr)})(tn.style,Wt),!(Wt=(function(sr,xr){if(xr[sr])return xr[sr];if(sr===400&&xr[500])return xr[500];if(sr===500&&xr[400])return xr[400];var Nn=xWe[sr],Cr=Ez(xr,Xoe,Nn,sr<400?-1:1);if(!Cr)throw new Error("Could not find a matching font-weight for value "+sr);return Cr})(tn.weight,Wt)))throw new Error("Failed to resolve a font for the rule '"+Pz(tn)+"'.");return Wt})(xe,qe);this.pdf.setFont(Ke.ref.name,Ke.ref.style)}else{var tt="";(Pe==="bold"||parseInt(Pe,10)>=700||Pt==="bold")&&(tt="bold"),Pt==="italic"&&(tt+="italic"),tt.length===0&&(tt="normal");for(var jt="",Ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},_t=0;_t<Ee.length;_t++){if(this.pdf.internal.getFont(Ee[_t],tt,{noFallback:!0,disableWarning:!0})!==void 0){jt=Ee[_t];break}if(tt==="bolditalic"&&this.pdf.internal.getFont(Ee[_t],"bold",{noFallback:!0,disableWarning:!0})!==void 0)jt=Ee[_t],tt="bold";else if(this.pdf.internal.getFont(Ee[_t],"normal",{noFallback:!0,disableWarning:!0})!==void 0){jt=Ee[_t],tt="normal";break}}if(jt===""){for(var tr=0;tr<Ee.length;tr++)if(Ct[Ee[tr]]){jt=Ct[Ee[tr]];break}}jt=jt===""?"Times":jt,this.pdf.setFont(jt,tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(le){this.ctx.globalCompositeOperation=le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(le){this.ctx.globalAlpha=le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(le){this.ctx.lineDashOffset=le,G.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(le){this.ctx.lineDash=le,G.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(le){this.ctx.ignoreClearRect=!!le}})};A.prototype.setLineDash=function(U){this.lineDash=U},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){_.call(this,"fill",!1)},A.prototype.stroke=function(){_.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(U,Y){if(isNaN(U)||isNaN(Y))throw ls.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new o(U,Y));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(U,Y)},A.prototype.closePath=function(){var U=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&Xn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){U=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(U.x,U.y)},A.prototype.lineTo=function(U,Y){if(isNaN(U)||isNaN(Y))throw ls.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new o(U,Y));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},A.prototype.quadraticCurveTo=function(U,Y,ee,ae){if(isNaN(ee)||isNaN(ae)||isNaN(U)||isNaN(Y))throw ls.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Ae=this.ctx.transform.applyToPoint(new o(ee,ae)),ce=this.ctx.transform.applyToPoint(new o(U,Y));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new o(Ae.x,Ae.y)},A.prototype.bezierCurveTo=function(U,Y,ee,ae,Ae,ce){if(isNaN(Ae)||isNaN(ce)||isNaN(U)||isNaN(Y)||isNaN(ee)||isNaN(ae))throw ls.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new o(Ae,ce)),ge=this.ctx.transform.applyToPoint(new o(U,Y)),je=this.ctx.transform.applyToPoint(new o(ee,ae));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:je.x,y2:je.y,x:we.x,y:we.y}),this.ctx.lastPoint=new o(we.x,we.y)},A.prototype.arc=function(U,Y,ee,ae,Ae,ce){if(isNaN(U)||isNaN(Y)||isNaN(ee)||isNaN(ae)||isNaN(Ae))throw ls.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new o(U,Y));U=we.x,Y=we.y;var ge=this.ctx.transform.applyToPoint(new o(0,ee)),je=this.ctx.transform.applyToPoint(new o(0,0));ee=Math.sqrt(Math.pow(ge.x-je.x,2)+Math.pow(ge.y-je.y,2))}Math.abs(Ae-ae)>=2*Math.PI&&(ae=0,Ae=2*Math.PI),this.path.push({type:"arc",x:U,y:Y,radius:ee,startAngle:ae,endAngle:Ae,counterclockwise:ce})},A.prototype.arcTo=function(U,Y,ee,ae,Ae){throw new Error("arcTo not implemented.")},A.prototype.rect=function(U,Y,ee,ae){if(isNaN(U)||isNaN(Y)||isNaN(ee)||isNaN(ae))throw ls.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,Y),this.lineTo(U+ee,Y),this.lineTo(U+ee,Y+ae),this.lineTo(U,Y+ae),this.lineTo(U,Y),this.lineTo(U+ee,Y),this.lineTo(U,Y)},A.prototype.fillRect=function(U,Y,ee,ae){if(isNaN(U)||isNaN(Y)||isNaN(ee)||isNaN(ae))throw ls.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var Ae={};this.lineCap!=="butt"&&(Ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,Y,ee,ae),this.fill(),Ae.hasOwnProperty("lineCap")&&(this.lineCap=Ae.lineCap),Ae.hasOwnProperty("lineJoin")&&(this.lineJoin=Ae.lineJoin)}},A.prototype.strokeRect=function(U,Y,ee,ae){if(isNaN(U)||isNaN(Y)||isNaN(ee)||isNaN(ae))throw ls.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(U,Y,ee,ae),this.stroke())},A.prototype.clearRect=function(U,Y,ee,ae){if(isNaN(U)||isNaN(Y)||isNaN(ee)||isNaN(ae))throw ls.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,Y,ee,ae))},A.prototype.save=function(U){U=typeof U!="boolean"||U;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},A.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(U){var Y,ee,ae,Ae;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))Y=0,ee=0,ae=0,Ae=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(ce!==null)Y=parseInt(ce[1]),ee=parseInt(ce[2]),ae=parseInt(ce[3]),Ae=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)Y=parseInt(ce[1]),ee=parseInt(ce[2]),ae=parseInt(ce[3]),Ae=parseFloat(ce[4]);else{if(Ae=1,typeof U=="string"&&U.charAt(0)!=="#"){var we=new Hoe(U);U=we.ok?we.toHex():"#000000"}U.length===4?(Y=U.substring(1,2),Y+=Y,ee=U.substring(2,3),ee+=ee,ae=U.substring(3,4),ae+=ae):(Y=U.substring(1,3),ee=U.substring(3,5),ae=U.substring(5,7)),Y=parseInt(Y,16),ee=parseInt(ee,16),ae=parseInt(ae,16)}}return{r:Y,g:ee,b:ae,a:Ae,style:U}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(U,Y,ee,ae){if(isNaN(Y)||isNaN(ee)||typeof U!="string")throw ls.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!m.call(this)){var Ae=W(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;D.call(this,{text:U,x:Y,y:ee,scale:ce,angle:Ae,align:this.textAlign,maxWidth:ae})}},A.prototype.strokeText=function(U,Y,ee,ae){if(isNaN(Y)||isNaN(ee)||typeof U!="string")throw ls.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){ae=isNaN(ae)?void 0:ae;var Ae=W(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;D.call(this,{text:U,x:Y,y:ee,scale:ce,renderingMode:"stroke",angle:Ae,align:this.textAlign,maxWidth:ae})}},A.prototype.measureText=function(U){if(typeof U!="string")throw ls.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,ee=this.pdf.internal.scaleFactor,ae=Y.internal.getFontSize(),Ae=Y.getStringUnitWidth(U)*ae/Y.internal.scaleFactor;return new function(ce){var we=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return we}}),this}({width:Ae*=Math.round(96*ee/72*1e4)/1e4})},A.prototype.scale=function(U,Y){if(isNaN(U)||isNaN(Y))throw ls.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new c(U,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},A.prototype.rotate=function(U){if(isNaN(U))throw ls.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new c(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},A.prototype.translate=function(U,Y){if(isNaN(U)||isNaN(Y))throw ls.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new c(1,0,0,1,U,Y);this.ctx.transform=this.ctx.transform.multiply(ee)},A.prototype.transform=function(U,Y,ee,ae,Ae,ce){if(isNaN(U)||isNaN(Y)||isNaN(ee)||isNaN(ae)||isNaN(Ae)||isNaN(ce))throw ls.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new c(U,Y,ee,ae,Ae,ce);this.ctx.transform=this.ctx.transform.multiply(we)},A.prototype.setTransform=function(U,Y,ee,ae,Ae,ce){U=isNaN(U)?1:U,Y=isNaN(Y)?0:Y,ee=isNaN(ee)?0:ee,ae=isNaN(ae)?1:ae,Ae=isNaN(Ae)?0:Ae,ce=isNaN(ce)?0:ce,this.ctx.transform=new c(U,Y,ee,ae,Ae,ce)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(U,Y,ee,ae,Ae,ce,we,ge,je){var Oe=this.pdf.getImageProperties(U),Ne=1,et=1,nt=1,le=1;ae!==void 0&&ge!==void 0&&(nt=ge/ae,le=je/Ae,Ne=Oe.width/ae*ge/ae,et=Oe.height/Ae*je/Ae),ce===void 0&&(ce=Y,we=ee,Y=0,ee=0),ae!==void 0&&ge===void 0&&(ge=ae,je=Ae),ae===void 0&&ge===void 0&&(ge=Oe.width,je=Oe.height);var lt=this.ctx.transform.decompose(),Pt=W(lt.rotate.shx),Pe=new c,Me=(Pe=(Pe=(Pe=Pe.multiply(lt.translate)).multiply(lt.skew)).multiply(lt.scale)).applyToRectangle(new l(ce-Y*nt,we-ee*le,ae*Ne,Ae*et));if(this.autoPaging){for(var fe,ve=v.call(this,Me),Ee=[],xe=0;xe<ve.length;xe+=1)Ee.indexOf(ve[xe])===-1&&Ee.push(ve[xe]);j(Ee);for(var qe=Ee[0],Ke=Ee[Ee.length-1],tt=qe;tt<Ke+1;tt++){this.pdf.setPage(tt);var jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ct=tt===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=tt===1?0:_t+(tt-2)*tr;if(this.ctx.clip_path.length!==0){var Zn=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(fe,this.posX+this.margin[3],-St+Ct+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Zn}var Hr=JSON.parse(JSON.stringify(Me));Hr=b([Hr],this.posX+this.margin[3],-St+Ct+this.ctx.prevPageLastElemOffset)[0];var dr=(tt>qe||tt<Ke)&&g.call(this);dr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,tr,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",Hr.x,Hr.y,Hr.w,Hr.h,null,null,Pt),dr&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(U,"JPEG",Me.x,Me.y,Me.w,Me.h,null,null,Pt)};var v=function(U,Y,ee){var ae=[];Y=Y||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ae=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":ae.push(Math.floor((U.y+Ae)/ee)+1);break;case"arc":ae.push(Math.floor((U.y+Ae-U.radius)/ee)+1),ae.push(Math.floor((U.y+Ae+U.radius)/ee)+1);break;case"qct":var ce=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);ae.push(Math.floor((ce.y+Ae)/ee)+1),ae.push(Math.floor((ce.y+ce.h+Ae)/ee)+1);break;case"bct":var we=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);ae.push(Math.floor((we.y+Ae)/ee)+1),ae.push(Math.floor((we.y+we.h+Ae)/ee)+1);break;case"rect":ae.push(Math.floor((U.y+Ae)/ee)+1),ae.push(Math.floor((U.y+U.h+Ae)/ee)+1)}for(var ge=0;ge<ae.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<ae[ge];)x.call(this);return ae},x=function(){var U=this.fillStyle,Y=this.strokeStyle,ee=this.font,ae=this.lineCap,Ae=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=Y,this.font=ee,this.lineCap=ae,this.lineWidth=Ae,this.lineJoin=ce},b=function(U,Y,ee){for(var ae=0;ae<U.length;ae++)switch(U[ae].type){case"bct":U[ae].x2+=Y,U[ae].y2+=ee;case"qct":U[ae].x1+=Y,U[ae].y1+=ee;default:U[ae].x+=Y,U[ae].y+=ee}return U},j=function(U){return U.sort(function(Y,ee){return Y-ee})},_=function(U,Y){var ee=this.fillStyle,ae=this.strokeStyle,Ae=this.lineCap,ce=this.lineWidth,we=Math.abs(ce*this.ctx.transform.scaleX),ge=this.lineJoin;if(this.autoPaging){for(var je,Oe,Ne=JSON.parse(JSON.stringify(this.path)),et=JSON.parse(JSON.stringify(this.path)),nt=[],le=0;le<et.length;le++)if(et[le].x!==void 0)for(var lt=v.call(this,et[le]),Pt=0;Pt<lt.length;Pt+=1)nt.indexOf(lt[Pt])===-1&&nt.push(lt[Pt]);for(var Pe=0;Pe<nt.length;Pe++)for(;this.pdf.internal.getNumberOfPages()<nt[Pe];)x.call(this);j(nt);for(var Me=nt[0],fe=nt[nt.length-1],ve=Me;ve<fe+1;ve++){this.pdf.setPage(ve),this.fillStyle=ee,this.strokeStyle=ae,this.lineCap=Ae,this.lineWidth=we,this.lineJoin=ge;var Ee=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xe=ve===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=ve===1?0:qe+(ve-2)*Ke;if(this.ctx.clip_path.length!==0){var jt=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(je,this.posX+this.margin[3],-tt+xe+this.ctx.prevPageLastElemOffset),N.call(this,U,!0),this.path=jt}if(Oe=JSON.parse(JSON.stringify(Ne)),this.path=b(Oe,this.posX+this.margin[3],-tt+xe+this.ctx.prevPageLastElemOffset),Y===!1||ve===0){var Ct=(ve>Me||ve<fe)&&g.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ee,Ke,null).clip().discardPath()),N.call(this,U,Y),Ct&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}this.path=Ne}else this.lineWidth=we,N.call(this,U,Y),this.lineWidth=ce},N=function(U,Y){if((U!=="stroke"||Y||!y.call(this))&&(U==="stroke"||Y||!m.call(this))){for(var ee,ae,Ae=[],ce=this.path,we=0;we<ce.length;we++){var ge=ce[we];switch(ge.type){case"begin":Ae.push({begin:!0});break;case"close":Ae.push({close:!0});break;case"mt":Ae.push({start:ge,deltas:[],abs:[]});break;case"lt":var je=Ae.length;if(ce[we-1]&&!isNaN(ce[we-1].x)&&(ee=[ge.x-ce[we-1].x,ge.y-ce[we-1].y],je>0)){for(;je>=0;je--)if(Ae[je-1].close!==!0&&Ae[je-1].begin!==!0){Ae[je-1].deltas.push(ee),Ae[je-1].abs.push(ge);break}}break;case"bct":ee=[ge.x1-ce[we-1].x,ge.y1-ce[we-1].y,ge.x2-ce[we-1].x,ge.y2-ce[we-1].y,ge.x-ce[we-1].x,ge.y-ce[we-1].y],Ae[Ae.length-1].deltas.push(ee);break;case"qct":var Oe=ce[we-1].x+2/3*(ge.x1-ce[we-1].x),Ne=ce[we-1].y+2/3*(ge.y1-ce[we-1].y),et=ge.x+2/3*(ge.x1-ge.x),nt=ge.y+2/3*(ge.y1-ge.y),le=ge.x,lt=ge.y;ee=[Oe-ce[we-1].x,Ne-ce[we-1].y,et-ce[we-1].x,nt-ce[we-1].y,le-ce[we-1].x,lt-ce[we-1].y],Ae[Ae.length-1].deltas.push(ee);break;case"arc":Ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ae[Ae.length-1].abs)&&Ae[Ae.length-1].abs.push(ge)}}ae=Y?null:U==="stroke"?"stroke":"fill";for(var Pt=!1,Pe=0;Pe<Ae.length;Pe++)if(Ae[Pe].arc)for(var Me=Ae[Pe].abs,fe=0;fe<Me.length;fe++){var ve=Me[fe];ve.type==="arc"?O.call(this,ve.x,ve.y,ve.radius,ve.startAngle,ve.endAngle,ve.counterclockwise,void 0,Y,!Pt):$.call(this,ve.x,ve.y),Pt=!0}else if(Ae[Pe].close===!0)this.pdf.internal.out("h"),Pt=!1;else if(Ae[Pe].begin!==!0){var Ee=Ae[Pe].start.x,xe=Ae[Pe].start.y;F.call(this,Ae[Pe].deltas,Ee,xe),Pt=!0}ae&&P.call(this,ae),Y&&M.call(this)}},B=function(U){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-ee;case"top":return U+Y-ee;case"hanging":return U+Y-2*ee;case"middle":return U+Y/2-ee;default:return U}},T=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(Y,ee){this.colorStops.push([Y,ee])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(U,Y,ee,ae,Ae,ce,we,ge,je){for(var Oe=X.call(this,ee,ae,Ae,ce),Ne=0;Ne<Oe.length;Ne++){var et=Oe[Ne];Ne===0&&(je?I.call(this,et.x1+U,et.y1+Y):$.call(this,et.x1+U,et.y1+Y)),V.call(this,U,Y,et.x2,et.y2,et.x3,et.y3,et.x4,et.y4)}ge?M.call(this):P.call(this,we)},P=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(U,Y){this.pdf.internal.out(r(U)+" "+n(Y)+" m")},D=function(U){var Y;switch(U.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var ee,ae,Ae,ce=this.pdf.getTextDimensions(U.text),we=B.call(this,U.y),ge=T.call(this,we)-ce.h,je=this.ctx.transform.applyToPoint(new o(U.x,we));if(this.autoPaging){var Oe=this.ctx.transform.decompose(),Ne=new c;Ne=(Ne=(Ne=Ne.multiply(Oe.translate)).multiply(Oe.skew)).multiply(Oe.scale);for(var et=this.ctx.transform.applyToRectangle(new l(U.x,we,ce.w,ce.h)),nt=Ne.applyToRectangle(new l(U.x,ge,ce.w,ce.h)),le=v.call(this,nt),lt=[],Pt=0;Pt<le.length;Pt+=1)lt.indexOf(le[Pt])===-1&&lt.push(le[Pt]);j(lt);for(var Pe=lt[0],Me=lt[lt.length-1],fe=Pe;fe<Me+1;fe++){this.pdf.setPage(fe);var ve=fe===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xe=this.pdf.internal.pageSize.height-this.margin[2],qe=xe-this.margin[0],Ke=this.pdf.internal.pageSize.width-this.margin[1],tt=Ke-this.margin[3],jt=fe===1?0:Ee+(fe-2)*qe;if(this.ctx.clip_path.length!==0){var Ct=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ee,this.posX+this.margin[3],-1*jt+ve),N.call(this,"fill",!0),this.path=Ct}var _t=b([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-jt+ve+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*U.scale),Ae=this.lineWidth,this.lineWidth=Ae*U.scale);var tr=this.autoPaging!=="text";if(tr||_t.y+_t.h<=xe){if(tr||_t.y>=ve&&_t.x<=Ke){var St=tr?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||Ke-_t.x)[0],Zn=b([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-jt+ve+this.ctx.prevPageLastElemOffset)[0],Hr=tr&&(fe>Pe||fe<Me)&&g.call(this);Hr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,qe,null).clip().discardPath()),this.pdf.text(St,Zn.x,Zn.y,{angle:U.angle,align:Y,renderingMode:U.renderingMode}),Hr&&this.pdf.restoreGraphicsState()}}else _t.y<xe&&(this.ctx.prevPageLastElemOffset+=xe-_t.y);U.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=Ae)}}else U.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*U.scale),Ae=this.lineWidth,this.lineWidth=Ae*U.scale),this.pdf.text(U.text,je.x+this.posX,je.y+this.posY,{angle:U.angle,align:Y,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=Ae)},$=function(U,Y,ee,ae){ee=ee||0,ae=ae||0,this.pdf.internal.out(r(U+ee)+" "+n(Y+ae)+" l")},F=function(U,Y,ee){return this.pdf.lines(U,Y,ee,null,null)},V=function(U,Y,ee,ae,Ae,ce,we,ge){this.pdf.internal.out([t(a(ee+U)),t(i(ae+Y)),t(a(Ae+U)),t(i(ce+Y)),t(a(we+U)),t(i(ge+Y)),"c"].join(" "))},X=function(U,Y,ee,ae){for(var Ae=2*Math.PI,ce=Math.PI/2;Y>ee;)Y-=Ae;var we=Math.abs(ee-Y);we<Ae&&ae&&(we=Ae-we);for(var ge=[],je=ae?-1:1,Oe=Y;we>1e-5;){var Ne=Oe+je*Math.min(we,ce);ge.push(K.call(this,U,Oe,Ne)),we-=Math.abs(Ne-Oe),Oe=Ne}return ge},K=function(U,Y,ee){var ae=(ee-Y)/2,Ae=U*Math.cos(ae),ce=U*Math.sin(ae),we=Ae,ge=-ce,je=we*we+ge*ge,Oe=je+we*Ae+ge*ce,Ne=4/3*(Math.sqrt(2*je*Oe)-Oe)/(we*ce-ge*Ae),et=we-Ne*ge,nt=ge+Ne*we,le=et,lt=-nt,Pt=ae+Y,Pe=Math.cos(Pt),Me=Math.sin(Pt);return{x1:U*Math.cos(Y),y1:U*Math.sin(Y),x2:et*Pe-nt*Me,y2:et*Me+nt*Pe,x3:le*Pe-lt*Me,y3:le*Me+lt*Pe,x4:U*Math.cos(ee),y4:U*Math.sin(ee)}},W=function(U){return 180*U/Math.PI},z=function(U,Y,ee,ae,Ae,ce){var we=U+.5*(ee-U),ge=Y+.5*(ae-Y),je=Ae+.5*(ee-Ae),Oe=ce+.5*(ae-ce),Ne=Math.min(U,Ae,we,je),et=Math.max(U,Ae,we,je),nt=Math.min(Y,ce,ge,Oe),le=Math.max(Y,ce,ge,Oe);return new l(Ne,nt,et-Ne,le-nt)},te=function(U,Y,ee,ae,Ae,ce,we,ge){var je,Oe,Ne,et,nt,le,lt,Pt,Pe,Me,fe,ve,Ee,xe,qe=ee-U,Ke=ae-Y,tt=Ae-ee,jt=ce-ae,Ct=we-Ae,_t=ge-ce;for(Oe=0;Oe<41;Oe++)Pe=(lt=(Ne=U+(je=Oe/40)*qe)+je*((nt=ee+je*tt)-Ne))+je*(nt+je*(Ae+je*Ct-nt)-lt),Me=(Pt=(et=Y+je*Ke)+je*((le=ae+je*jt)-et))+je*(le+je*(ce+je*_t-le)-Pt),Oe==0?(fe=Pe,ve=Me,Ee=Pe,xe=Me):(fe=Math.min(fe,Pe),ve=Math.min(ve,Me),Ee=Math.max(Ee,Pe),xe=Math.max(xe,Me));return new l(Math.round(fe),Math.round(ve),Math.round(Ee-fe),Math.round(xe-ve))},G=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,Y,ee=(U=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:Y}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(rr.API),(function(e){var t=function(o){var l,c,u,d,A,h,m,y,g,v;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(A=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(h=(A=((A=((A=((A=(A-(v=A%85))/85)-(g=A%85))/85)-(y=A%85))/85)-(m=A%85))/85)%85,c.push(h+33,m+33,y+33,g+33,v+33)):c.push(122);return(function(x,b){for(var j=b;j>0;j--)x.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,d,A,h=String,m="length",y=255,g="charCodeAt",v="slice",x="replace";for(o[v](-2),o=o[v](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),u=[],d=0,A=(o+=l="uuuuu"[v](o[m]%5||5))[m];A>d;d+=5)c=52200625*(o[g](d)-33)+614125*(o[g](d+1)-33)+7225*(o[g](d+2)-33)+85*(o[g](d+3)-33)+(o[g](d+4)-33),u.push(y&c>>24,y&c>>16,y&c>>8,y&c);return(function(b,j){for(var _=j;_>0;_--)b.pop()})(u,l[m]),h.fromCharCode.apply(h,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=uF(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(rr.API),(function(e){e.loadFile=function(t,r,n){return(function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,u,d){var A=new XMLHttpRequest,h=0,m=function(y){var g=y.length,v=[],x=String.fromCharCode;for(h=0;h<g;h+=1)v.push(x(255&y.charCodeAt(h)));return v.join("")};if(A.open("GET",c,!u),A.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(A.onload=function(){A.status===200?d(m(this.responseText)):d(void 0)}),A.send(null),u&&A.status===200)return m(A.responseText)})(a,i,o)}catch{}return l})(t,r,n)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile})(rr.API),(function(e){function t(){return(Or.html2canvas?Promise.resolve(Or.html2canvas):vP(()=>Promise.resolve().then(()=>Jqe),void 0)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Or.DOMPurify?Promise.resolve(Or.DOMPurify):vP(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Xn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},i=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),A=c.firstChild;A;A=A.nextSibling)u!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||d.appendChild(l(A,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(u){return this.set({src:a("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var y=d[m],g=y.src.find(function(v){return v.format==="truetype"});g&&u.addFont(g.url,y.ref.name,y.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,u.context2d.save(!0),c(this.prop.container,h)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||rr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,A){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(h){return u.updateProgress(null,d),h}).then(d,A).then(function(h){return u.updateProgress(1),h})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),h=u.call(A,l,c);return o.convert(h,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,rr.getPageSize=function(l,c,u){if(Xn(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var A,h=(""+u).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+c}var y,g=0,v=0;if(m.hasOwnProperty(h))g=m[h][1]/A,v=m[h][0]/A;else try{g=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",v>g&&(y=v,v=g,g=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",g>v&&(y=v,v=g,g=y)}return{width:v,height:g,unit:c,k:A,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(RP):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}})(rr.API),rr.API.addJS=function(e){var t,r,n=(function(a){for(var i="",o=0;o<a.length;o++){var l=a[o];if(l==="("||l===")"){for(var c=0,u=o-1;u>=0&&a[u]==="\\";u--)c++;i+=c%2==0?"\\"+l:l}else i+=l}return i})(e);return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&r!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var A=r.internal.newObject();d.push(A);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(rr.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(A){for(var h,m=256*A.charCodeAt(4)+A.charCodeAt(5),y=A.length,g={width:0,height:0,numcomponents:1},v=4;v<y;v+=2){if(v+=m,t.indexOf(A.charCodeAt(v+1))!==-1){h=256*A.charCodeAt(v+5)+A.charCodeAt(v+6),g={width:256*A.charCodeAt(v+7)+A.charCodeAt(v+8),height:h,numcomponents:A.charCodeAt(v+9)};break}m=256*A.charCodeAt(v+2)+A.charCodeAt(v+3)}return g})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}})(rr.API),rr.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=iWe(e,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,u=i.palette,d=i.depth;a=u&&c===1?(function(O){for(var P=O.width,M=O.height,I=O.data,D=O.palette,$=O.depth,F=!1,V=[],X=[],K=void 0,W=!1,z=0,te=0;te<D.length;te++){var G=UK(D[te],4),U=G[0],Y=G[1],ee=G[2],ae=G[3];V.push(U,Y,ee),ae!=null&&(ae===0?(z++,X.length<1&&X.push(te)):ae<255&&(W=!0))}if(W||z>1){F=!0,X=void 0;var Ae=P*M;K=new Uint8Array(Ae);for(var ce=new DataView(I.buffer),we=0;we<Ae;we++){var ge=UP(ce,we,$),je=UK(D[ge],4)[3];K[we]=je}}else z===0&&(X=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:F?8:void 0,colorBytes:I,alphaBytes:K,needSMask:F,palette:V,mask:X}})(i):c===2||c===4?(function(O){for(var P=O.data,M=O.width,I=O.height,D=O.channels,$=O.depth,F=D===2?"DeviceGray":"DeviceRGB",V=D-1,X=M*I,K=V,W=X*K,z=1*X,te=Math.ceil(W*$/8),G=Math.ceil(z*$/8),U=new Uint8Array(te),Y=new Uint8Array(G),ee=new DataView(P.buffer),ae=new DataView(U.buffer),Ae=new DataView(Y.buffer),ce=!1,we=0;we<X;we++){for(var ge=we*D,je=0;je<K;je++)Qz(ae,UP(ee,ge+je,$),we*K+je,$);var Oe=UP(ee,ge+K,$);Oe<(1<<$)-1&&(ce=!0),Qz(Ae,Oe,1*we,$)}return{colorSpace:F,colorsPerPixel:V,sMaskBitsPerComponent:ce?$:void 0,colorBytes:U,alphaBytes:Y,needSMask:ce}})(i):(function(O){var P=O.data,M=O.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:M,colorsPerPixel:M==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?(function(I){for(var D=I.length,$=new Uint8Array(2*D),F=new DataView($.buffer,$.byteOffset,$.byteLength),V=0;V<D;V++)F.setUint16(2*V,I[V],!1);return $})(P):P,needSMask:!1}})(i);var A,h,m,y=a,g=y.colorSpace,v=y.colorsPerPixel,x=y.sMaskBitsPerComponent,b=y.colorBytes,j=y.alphaBytes,_=y.needSMask,N=y.palette,B=y.mask,T=null;return n!==rr.API.image_compression.NONE&&typeof uF=="function"?(T=(function(O){var P;switch(O){case rr.API.image_compression.FAST:P=11;break;case rr.API.image_compression.MEDIUM:P=13;break;case rr.API.image_compression.SLOW:P=14;break;default:P=12}return P})(n),A=this.decode.FLATE_DECODE,h="/Predictor ".concat(T," /Colors ").concat(v," /BitsPerComponent ").concat(d," /Columns ").concat(o),e=Rz(b,Math.ceil(o*v*d/8),v,d,n),_&&(m=Rz(j,Math.ceil(o*x/8),1,x,n))):(A=void 0,h=void 0,e=b,_&&(m=j)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:r,data:e,index:t,filter:A,decodeParameters:h,transparency:B,palette:N,sMask:m,predictor:T,width:o,height:l,bitsPerComponent:d,sMaskBitsPerComponent:x,colorSpace:g}}},(function(e){e.processGIF89A=function(t,r,n,a){var i=new SWe(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new DP(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A})(rr.API),ru.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ru.prototype.parseBGR=function(){this.pos=this.offset;var e="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[e]()}catch(r){ls.log("bit decode error:"+r)}},ru.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},ru.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},ru.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},ru.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},ru.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},ru.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},ru.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},ru.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,a){var i=new ru(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new DP(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}})(rr.API),$z.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,a){var i=new $z(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new DP(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}})(rr.API),rr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],A=n[u+1],h=n[u+2],m=n[u+3];i[l++]=d,i[l++]=A,i[l++]=h,o[c++]=m}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},rr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Kg=rr.API,O2=Kg.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,A=t.doKerning!==!1,h=0,m=e.length,y=0,g=l[0]||c,v=[];for(r=0;r<m;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(h=A&&Xn(u[n])==="object"&&!isNaN(parseInt(u[n][y],10))?u[n][y]/d:0,v.push((l[n]||g)/c+h)),y=n;return v},Oz=Kg.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Kg.processArabic&&(e=Kg.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:O2.apply(this,arguments).reduce(function(i,o){return i+o},0)},Iz=function(e,t,r,n){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>n&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},Fz=function(e,t,r){r||(r={});var n,a,i,o,l,c,u,d=[],A=[d],h=r.textIndent||0,m=0,y=0,g=e.split(" "),v=O2.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),b=[];g.map(function(_){(_=_.split(/\s*\n/)).length>1?b=b.concat(_.map(function(N,B){return(B&&N.length?`
`:"")+N})):b.push(_[0])}),g=b,c=Oz.apply(this,[x,r])}for(i=0,o=g.length;i<o;i++){var j=0;if(n=g[i],c&&n[0]==`
`&&(n=n.substr(1),j=1),h+m+(y=(a=O2.apply(this,[n,r])).reduce(function(_,N){return _+N},0))>t||j){if(y>t){for(l=Iz.apply(this,[n,a,t-(h+m),t]),d.push(l.shift()),d=[l.pop()];l.length;)A.push([l.shift()]);y=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(_,N){return _+N},0)}else d=[n];A.push(d),h=y+c,m=v}else d.push(n),h+=m+y,m=v}return u=c?function(_,N){return(N?x:"")+_.join(" ")}:function(_){return _.join(" ")},A.map(u)},Kg.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var A=this.internal.getFont(d.fontName,d.fontStyle),h="Unicode";return A.metadata[h]?{widths:A.metadata[h].widths||{0:1},kerning:A.metadata[h].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(Fz.apply(this,[n[l],o,i]));return u},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=t[i],a[t[i]]=r[i];var o=function(h){return"0x"+parseInt(h,10).toString(16)},l=e.__fontmetrics__.compress=function(h){var m,y,g,v,x=["{"];for(var b in h){if(m=h[b],isNaN(parseInt(b,10))?y="'"+b+"'":(b=parseInt(b,10),y=(y=o(b).slice(2)).slice(0,-1)+a[y.slice(-1)]),typeof m=="number")m<0?(g=o(m).slice(3),v="-"):(g=o(m).slice(2),v=""),g=v+g.slice(0,-1)+a[g.slice(-1)];else{if(Xn(m)!=="object")throw new Error("Don't know what to do with value type "+Xn(m)+".");g=l(m)}x.push(y+g)}return x.push("}"),x.join("")},c=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,y,g,v,x={},b=1,j=x,_=[],N="",B="",T=h.length-1,O=1;O<T;O+=1)(v=h[O])=="'"?m?(g=m.join(""),m=void 0):m=[]:m?m.push(v):v=="{"?(_.push([j,g]),j={},g=void 0):v=="}"?((y=_.pop())[0][y[1]]=j,g=void 0,j=y[0]):v=="-"?b=-1:g===void 0?n.hasOwnProperty(v)?(N+=n[v],g=parseInt(N,16)*b,b=1,N=""):N+=v:n.hasOwnProperty(v)?(B+=n[v],j[g]=parseInt(B,16)*b,b=1,g=void 0,B=""):B+=v;return x},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},A={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var m=h.font,y=A.Unicode[m.postScriptName];y&&(m.metadata.Unicode={},m.metadata.Unicode.widths=y.widths,m.metadata.Unicode.kerning=y.kerning);var g=d.Unicode[m.postScriptName];g&&(m.metadata.Unicode.encoding=g,m.encoding=g.codePages[0])}])})(rr.API),(function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(oj(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])})(rr),rr.API.addSvgAsImage=function(e,t,r,n,a,i,o,l){if(isNaN(t)||isNaN(r))throw ls.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw ls.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(Or.canvg?Promise.resolve(Or.canvg):vP(()=>import("./index.es-CnoVa5h4.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(d)}).then(function(){A.addImage(c.toDataURL("image/jpeg",1),t,r,n,a,o,l)})},rr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},rr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,A=0;function h(y,g){var v,x=!1;for(v=0;v<y.length;v+=1)y[v]===g&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=l.length;for(A=0;A<m;A+=1)r[l[A]].value=r[l[A]].defaultValue,r[l[A]].explicitSet=!1}if(Xn(e)==="object"){for(a in e)if(i=e[a],h(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,g=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?g.push("/"+y+" /"+r[y].value):g.push("/"+y+" "+r[y].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},rr.API.addMetadata=function(e,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",EWe),this.internal.events.subscribe("postPutResources",BWe)),this},(function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],A=0,h=i.length;A<h;++A){if(l=o.metadata.characterToGlyph(i.charCodeAt(A)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(A),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var o,l,c,u,d,A,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],A=0,h=(l=Object.keys(i).sort(function(m,y){return m-y})).length;A<h;A++)o=l[A],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var A=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",y=0;y<h.length;y++)m+=String.fromCharCode(h[y]);var g=u();d({data:m,addLength1:!0,objectId:g}),c("endobj");var v=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var x=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+nv(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var b=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+nv(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+e.API.PDFObject.convert(A)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+nv(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var A=l.metadata.rawData,h="",m=0;m<A.length;m++)h+=String.fromCharCode(A[m]);var y=u();d({data:h,addLength1:!0,objectId:y}),c("endobj");var g=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var v=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+nv(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+nv(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,u=i.y,d=i.options||{},A=i.mutex||{},h=A.pdfEscape,m=A.activeFontKey,y=A.fonts,g=m,v="",x=0,b="",j=y[g].encoding;if(y[g].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:A};for(b=l,g=m,Array.isArray(l)&&(b=l[0]),x=0;x<b.length;x+=1)y[g].metadata.hasOwnProperty("cmap")&&(o=y[g].metadata.cmap.unicode.codeMap[b[x].charCodeAt(0)]),o||b[x].charCodeAt(0)<256&&y[g].metadata.hasOwnProperty("Unicode")?v+=b[x]:v+="";var _="";return parseInt(g.slice(1))<14||j==="WinAnsiEncoding"?_=h(v,g).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(_=r(v,y[g])),A.isHex=!0,{text:_,x:c,y:u,options:d,mutex:A}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])})(rr),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(rr.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,o,l,c,u,d,A=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,j=0;this.__bidiEngine__={};var _=function(I){var D=I.charCodeAt(),$=D>>8,F=g[$];return F!==void 0?A[256*F+(255&D)]:$===252||$===253?"AL":x.test($)?"L":$===8?"R":"N"},N=function(I){for(var D,$=0;$<I.length;$++){if((D=_(I.charAt($)))==="L")return!1;if(D==="R")return!0}return!1},B=function(I,D,$,F){var V,X,K,W,z=D[F];switch(z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"N":case"AN":break;case"EN":b&&(z="AN");break;case"AL":b=!0,z="R";break;case"WS":case"BN":z="N";break;case"CS":F<1||F+1>=D.length||(V=$[F-1])!=="EN"&&V!=="AN"||(X=D[F+1])!=="EN"&&X!=="AN"?z="N":b&&(X="AN"),z=X===V?X:"N";break;case"ES":z=(V=F>0?$[F-1]:"B")==="EN"&&F+1<D.length&&D[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&$[F-1]==="EN"){z="EN";break}if(b){z="N";break}for(K=F+1,W=D.length;K<W&&D[K]==="ET";)K++;z=K<W&&D[K]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(W=D.length,K=F+1;K<W&&D[K]==="NSM";)K++;if(K<W){var te=I[F],G=te>=1425&&te<=2303||te===64286;if(V=D[K],G&&(V==="R"||V==="AL")){z="R";break}}}z=F<1||(V=D[F-1])==="B"?"N":$[F-1];break;case"B":b=!1,a=!0,z=j;break;case"S":i=!0,z="N"}return z},T=function(I,D,$){var F=I.split("");return $&&O(F,$,{hiLevel:j}),F.reverse(),D&&D.reverse(),F.join("")},O=function(I,D,$){var F,V,X,K,W,z=-1,te=I.length,G=0,U=[],Y=j?m:h,ee=[];for(b=!1,a=!1,i=!1,V=0;V<te;V++)ee[V]=_(I[V]);for(X=0;X<te;X++){if(W=G,U[X]=B(I,ee,U,X),F=240&(G=Y[W][y[U[X]]]),G&=15,D[X]=K=Y[G][5],F>0)if(F===16){for(V=z;V<X;V++)D[V]=1;z=-1}else z=-1;if(Y[G][6])z===-1&&(z=X);else if(z>-1){for(V=z;V<X;V++)D[V]=K;z=-1}ee[X]==="B"&&(D[X]=0),$.hiLevel|=K}i&&(function(ae,Ae,ce){for(var we=0;we<ce;we++)if(ae[we]==="S"){Ae[we]=j;for(var ge=we-1;ge>=0&&ae[ge]==="WS";ge--)Ae[ge]=j}})(ee,D,te)},P=function(I,D,$,F,V){if(!(V.hiLevel<I)){if(I===1&&j===1&&!a)return D.reverse(),void($&&$.reverse());for(var X,K,W,z,te=D.length,G=0;G<te;){if(F[G]>=I){for(W=G+1;W<te&&F[W]>=I;)W++;for(z=G,K=W-1;z<K;z++,K--)X=D[z],D[z]=D[K],D[K]=X,$&&(X=$[z],$[z]=$[K],$[K]=X);G=W}G++}}},M=function(I,D,$){var F=I.split(""),V={hiLevel:j};return $||($=[]),O(F,$,V),(function(X,K,W){if(W.hiLevel!==0&&d)for(var z,te=0;te<X.length;te++)K[te]===1&&(z=v.indexOf(X[te]))>=0&&(X[te]=v[z+1])})(F,$,V),P(2,F,D,$,V),P(1,F,D,$,V),F.join("")};return this.__bidiEngine__.doBidiReorder=function(I,D,$){if((function(V,X){if(X)for(var K=0;K<V.length;K++)X[K]=K;l===void 0&&(l=N(V)),u===void 0&&(u=N(V))})(I,D),o||!c||u)if(o&&c&&l^u)j=l?1:0,I=T(I,D,$);else if(!o&&c&&u)j=l?1:0,I=M(I,D,$),I=T(I,D);else if(!o||l||c||u){if(o&&!c&&l^u)I=T(I,D),l?(j=0,I=M(I,D,$)):(j=1,I=M(I,D,$),I=T(I,D));else if(o&&l&&!c&&u)j=1,I=M(I,D,$),I=T(I,D);else if(!o&&!c&&l^u){var F=d;l?(j=1,I=M(I,D,$),j=0,d=!1,I=M(I,D,$),d=F):(j=0,I=M(I,D,$),I=T(I,D),j=1,d=!1,I=M(I,D,$),d=F,I=T(I,D))}}else j=0,I=M(I,D,$);else j=l?1:0,I=M(I,D,$);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,c=I.isOutputVisual,l=I.isInputRtl,u=I.isOutputRtl,d=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(rr),rr.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Ph(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new VWe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new kWe(this.contents),this.head=new TWe(this),this.name=new LWe(this),this.cmap=new Zoe(this),this.toUnicode={},this.hhea=new OWe(this),this.maxp=new UWe(this),this.hmtx=new DWe(this),this.post=new FWe(this),this.os2=new IWe(this),this.loca=new $We(this),this.glyf=new MWe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var Iu,Ph=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e})(),kWe=(function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,o,l,c,u,d,A,h,m,y,g;for(g in m=Object.keys(r).length,c=Math.log(2),A=16*Math.floor(Math.log(m)/c),o=Math.floor(A/c),d=16*m-A,(a=new Ph).writeInt(this.scalarType),a.writeShort(m),a.writeShort(A),a.writeShort(o),a.writeShort(d),i=16*m,u=a.pos+i,l=null,y=[],r)for(h=r[g],a.writeString(g),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),y=y.concat(h),g==="head"&&(l=u),u+=h.length;u%4;)y.push(0),u++;return a.write(y),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,o;for(r=ele.call(r);r.length%4;)r.push(0);for(i=new Ph(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},t})(),PWe={}.hasOwnProperty,Od=function(e,t){for(var r in t)PWe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Iu=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var TWe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Od(e,Iu),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Ph).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),Vz=(function(){function e(t,r){var n,a,i,o,l,c,u,d,A,h,m,y,g,v,x,b,j;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),A=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),h=m/2,t.pos+=6,i=(function(){var _,N;for(N=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)N.push(t.readUInt16());return N})(),t.pos+=2,g=(function(){var _,N;for(N=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)N.push(t.readUInt16());return N})(),u=(function(){var _,N;for(N=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)N.push(t.readUInt16());return N})(),d=(function(){var _,N;for(N=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)N.push(t.readUInt16());return N})(),a=(this.length-t.pos+this.offset)/2,l=(function(){var _,N;for(N=[],c=_=0;0<=a?_<a:_>a;c=0<=a?++_:--_)N.push(t.readUInt16());return N})(),c=x=0,j=i.length;x<j;c=++x)for(v=i[c],n=b=y=g[c];y<=v?b<=v:b>=v;n=y<=v?++b:--b)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-y)-(h-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=A}return e.encode=function(t,r){var n,a,i,o,l,c,u,d,A,h,m,y,g,v,x,b,j,_,N,B,T,O,P,M,I,D,$,F,V,X,K,W,z,te,G,U,Y,ee,ae,Ae,ce,we,ge,je,Oe,Ne;switch(F=new Ph,o=Object.keys(t).sort(function(et,nt){return et-nt}),r){case"macroman":for(g=0,v=(function(){var et=[];for(y=0;y<256;++y)et.push(0);return et})(),b={0:0},i={},V=0,z=o.length;V<z;V++)b[ge=t[a=o[V]]]==null&&(b[ge]=++g),i[a]={old:t[a],new:b[t[a]]},v[a]=b[t[a]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(v),{charMap:i,subtable:F.data,maxGlyphID:g+1};case"unicode":for(D=[],A=[],j=0,b={},n={},x=u=null,X=0,te=o.length;X<te;X++)b[N=t[a=o[X]]]==null&&(b[N]=++j),n[a]={old:N,new:b[N]},l=b[N]-a,x!=null&&l===u||(x&&A.push(x),D.push(a),u=l),x=a;for(x&&A.push(x),A.push(65535),D.push(65535),M=2*(P=D.length),O=2*Math.pow(Math.log(P)/Math.LN2,2),h=Math.log(O/2)/Math.LN2,T=2*P-O,c=[],B=[],m=[],y=K=0,G=D.length;K<G;y=++K){if(I=D[y],d=A[y],I===65535){c.push(0),B.push(0);break}if(I-($=n[I].new)>=32768)for(c.push(0),B.push(2*(m.length+P-y)),a=W=I;I<=d?W<=d:W>=d;a=I<=d?++W:--W)m.push(n[a].new);else c.push($-I),B.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*P+2*m.length),F.writeUInt16(0),F.writeUInt16(M),F.writeUInt16(O),F.writeUInt16(h),F.writeUInt16(T),ce=0,U=A.length;ce<U;ce++)a=A[ce],F.writeUInt16(a);for(F.writeUInt16(0),we=0,Y=D.length;we<Y;we++)a=D[we],F.writeUInt16(a);for(je=0,ee=c.length;je<ee;je++)l=c[je],F.writeUInt16(l);for(Oe=0,ae=B.length;Oe<ae;Oe++)_=B[Oe],F.writeUInt16(_);for(Ne=0,Ae=m.length;Ne<Ae;Ne++)g=m[Ne],F.writeUInt16(g);return{charMap:n,subtable:F.data,maxGlyphID:j+1}}},e})(),Zoe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Od(e,Iu),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new Vz(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=Vz.encode(t,r),(a=new Ph).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e})(),OWe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Od(e,Iu),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),IWe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Od(e,Iu),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),FWe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Od(e,Iu),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e})(),RWe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},LWe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Od(e,Iu),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,i,o,l,c,u,d,A,h;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},i=d=0,A=n.length;d<A;i=++d)a=n[i],t.pos=a.offset,u=t.readString(a.length),o=new RWe(u,a),c[h=a.nameID]==null&&(c[h]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e})(),UWe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Od(e,Iu),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),DWe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Od(e,Iu),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,i,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)d.push(t.readInt16());return d})(),this.widths=(function(){var u,d,A,h;for(h=[],u=0,d=(A=this.metrics).length;u<d;u++)i=A[u],h.push(i.advance);return h}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),ele=[].slice,MWe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Od(e,Iu),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,i,o,l,c,u,d,A;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new Ph(r.read(a))).readShort(),u=l.readShort(),A=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=o===-1?new HWe(l,u,A,c,d):new QWe(l,o,u,A,c,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)a=t[r[l]],i.push(o.length),a&&(o=o.concat(a.encode(n)));return i.push(o.length),{table:o,offsets:i}},e})(),QWe=(function(){function e(t,r,n,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),HWe=(function(){function e(t,r,n,a,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Ph(ele.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),$We=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Od(e,Iu),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<n.length;++o)if(n[o]=a,i<r.length&&r[i]==o){++i,n[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},e})(),VWe=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,o,l,c,u,d,A,h,m,y,g,v,x;for(a in n=Zoe.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},x=n.charMap)m[(c=x[a]).old]=c.new;for(y in h=n.maxGlyphID,o)y in m||(m[y]=h++);return d=(function(b){var j,_;for(j in _={},b)_[b[j]]=j;return _})(m),A=Object.keys(d).sort(function(b,j){return b-j}),g=(function(){var b,j,_;for(_=[],b=0,j=A.length;b<j;b++)l=A[b],_.push(d[l]);return _})(),i=this.font.glyf.encode(o,g,m),u=this.font.loca.encode(i.offsets,g),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e})();rr.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+(function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t})();function tle({apartmentName:e,invoiceNumber:t,invoiceDate:r,dueDate:n,landlord:a,tenant:i,billItems:o,onBackToEdit:l,onDone:c,isLoading:u=!1,showCloseButton:d=!1,footerMessage:A="Thank you for your payment. Please pay before the due date to avoid late fees. For queries, contact: +91 98765 43210",hideExportButtons:h=!1}){const[m,y]=C.useState(!1),g=o.reduce((_,N)=>_+N.amount,0),v=g,x=()=>{const _=document.createElement("div");_.style.position="absolute",_.style.left="-9999px",_.style.top="0",_.style.backgroundColor="#ffffff",_.style.padding="20px",_.style.maxWidth="800px",_.style.margin="0 auto",_.style.fontFamily="system-ui, -apple-system, sans-serif";const N=document.getElementById("rent-invoice-content")?.cloneNode(!0);if(!N)return;const B=N.querySelector(".sticky");B&&B.remove(),N.style.background="#ffffff",N.style.border="3px solid #e5e7eb",N.style.borderRadius="16px",N.style.padding="40px",N.style.boxShadow="0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",N.style.maxWidth="800px",N.style.margin="0 auto",N.style.width="100%",_.appendChild(N),document.body.appendChild(_);const T=window.open("","_blank");if(!T){document.body.removeChild(_);return}T.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Rent Invoice - ${t}</title>
          <style>
            * {
              box-sizing: border-box;
              margin: 0;
              padding: 0;
            }
            
            body {
              font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
              background: #ffffff;
              color: #1f2937;
              line-height: 1.6;
              padding: 20px;
              max-width: 800px;
              margin: 0 auto;
            }
            
            /* Main invoice container styling - PRESERVED FOR PRINT */
            #rent-invoice-content {
              background: #ffffff !important;
              border: 3px solid #e5e7eb !important;
              border-radius: 16px !important;
              padding: 40px !important;
              box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
              max-width: 100% !important;
              margin: 0 auto !important;
              width: 100% !important;
            }
            
            .glass-card {
              background: #ffffff;
              border: 1px solid #e5e7eb;
              border-radius: 12px;
              padding: 32px;
              box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            }
            
            .text-2xl {
              font-size: 24px;
              font-weight: 700;
              text-align: center;
            }
            
            .text-lg {
              font-size: 18px;
              font-weight: 600;
            }
            
            .text-sm {
              font-size: 14px;
            }
            
            .text-xs {
              font-size: 12px;
            }
            
            .font-bold {
              font-weight: 700;
            }
            
            .font-semibold {
              font-weight: 600;
            }
            
            .text-primary {
              color: #8b5cf6;
            }
            
            .text-muted-foreground {
              color: #6b7280;
            }
            
            .text-foreground {
              color: #1f2937;
            }
            
            .text-success {
              color: #10b981;
            }
            
            .bg-muted\\/30 {
              background-color: #f3f4f6;
            }
            
            .border-border\\/50 {
              border-color: #e5e7eb;
            }
            
            .rounded {
              border-radius: 6px;
            }
            
            .p-2 {
              padding: 8px;
            }
            
            .p-4 {
              padding: 16px;
            }
            
            .p-6 {
              padding: 24px;
            }
            
            .mb-2 {
              margin-bottom: 8px;
            }
            
            .mb-3 {
              margin-bottom: 12px;
            }
            
            .mb-4 {
              margin-bottom: 16px;
            }
            
            .mb-6 {
              margin-bottom: 24px;
            }
            
            .mt-2 {
              margin-top: 8px;
            }
            
            .mt-3 {
              margin-top: 12px;
            }
            
            .mt-4 {
              margin-top: 16px;
            }
            
            .mt-6 {
              margin-top: 24px;
            }
            
            .space-y-1 > * + * {
              margin-top: 4px;
            }
            
            .space-y-2 > * + * {
              margin-top: 8px;
            }
            
            .space-y-3 > * + * {
              margin-top: 12px;
            }
            
            .space-y-4 > * + * {
              margin-top: 16px;
            }
            
            .flex {
              display: flex;
            }
            
            .justify-between {
              justify-content: space-between;
            }
            
            .items-center {
              align-items: center;
            }
            
            .items-start {
              align-items: flex-start;
            }
            
            .gap-2 {
              gap: 8px;
            }
            
            .gap-3 {
              gap: 12px;
            }
            
            .gap-4 {
              gap: 16px;
            }
            
            .grid {
              display: grid;
            }
            
            .grid-cols-2 {
              grid-template-columns: repeat(2, minmax(0, 1fr));
            }
            
            .grid-cols-3 {
              grid-template-columns: repeat(3, minmax(0, 1fr));
            }
            
            .grid-cols-4 {
              grid-template-columns: repeat(4, minmax(0, 1fr));
            }
            
            .border-b {
              border-bottom: 1px solid #e5e7eb;
            }
            
            .w-full {
              width: 100%;
            }
            
            .text-right {
              text-align: right;
            }
            
            .text-left {
              text-align: left;
            }
            
            .capitalize {
              text-transform: capitalize;
            }
            
            /* Invoice specific alignment fixes */
            .invoice-header {
              text-align: center;
              margin-bottom: 32px;
            }
            
            .invoice-info {
              display: flex;
              justify-content: space-between;
              align-items: flex-start;
              margin-bottom: 32px;
              gap: 32px;
            }
            
            .info-column {
              flex: 1;
              min-width: 0;
            }
            
            .info-section {
              margin-bottom: 0;
              padding: 20px;
              border: 2px solid #e5e7eb;
              border-radius: 12px;
              background-color: #ffffff;
              box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
              transition: all 0.2s ease-in-out;
            }
            
            .info-section:hover {
              box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
              transform: translateY(-2px);
            }
            
            .info-title {
              font-weight: 700;
              font-size: 18px;
              color: #1f2937;
              margin-bottom: 16px;
              padding-bottom: 12px;
              border-bottom: 2px solid #e5e7eb;
              text-align: center;
              letter-spacing: 0.5px;
            }
            
            .info-row {
              display: flex;
              margin-bottom: 12px;
              align-items: flex-start;
            }
            
            .info-row:last-child {
              margin-bottom: 0;
            }
            
            .info-label {
              font-weight: 600;
              color: #374151;
              min-width: 90px;
              margin-right: 16px;
              flex-shrink: 0;
              font-size: 14px;
            }
            
            .info-value {
              color: #6b7280;
              line-height: 1.6;
              flex: 1;
              word-wrap: break-word;
              font-size: 14px;
            }
            
            .bill-items-container {
              margin: 32px 0;
              clear: both;
            }
            
            .bill-item {
              display: flex;
              justify-content: space-between;
              align-items: flex-start;
              padding: 16px 0;
              border-bottom: 1px solid #e5e7eb;
              width: 100%;
            }
            
            .bill-item:last-child {
              border-bottom: none;
            }
            
            .bill-item-left {
              flex: 1;
              margin-right: 20px;
              min-width: 0;
            }
            
            .bill-item-right {
              text-align: right;
              min-width: 150px;
              flex-shrink: 0;
            }
            
            .bill-item-title {
              font-weight: 600;
              margin-bottom: 6px;
              font-size: 16px;
              line-height: 1.4;
            }
            
            .bill-item-details {
              font-size: 12px;
              color: #6b7280;
              line-height: 1.5;
              margin-top: 4px;
            }
            
            .bill-item-amount {
              font-weight: 700;
              font-size: 20px;
              color: #8b5cf6;
              line-height: 1.2;
            }
            
            .summary-section {
              margin-top: 32px;
              padding-top: 32px;
              border-top: 1px solid #e5e7eb;
              clear: both;
            }
            
            .summary-row {
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 12px;
            }
            
            .summary-row.total {
              font-weight: 700;
              font-size: 18px;
              color: #8b5cf6;
              padding-top: 12px;
              border-top: 1px solid #e5e7eb;
            }
            
            .calculation-box {
              background-color: #f3f4f6;
              padding: 8px;
              border-radius: 6px;
              font-size: 12px;
              margin-top: 4px;
              line-height: 1.4;
            }
            
            @media print {
              body {
                padding: 10px !important;
                font-size: 12px !important;
                background: white !important;
              }
              
              #rent-invoice-content {
                border: 2px solid #d1d5db !important;
                padding: 30px !important;
                box-shadow: none !important;
                margin: 0 auto !important;
                max-width: 100% !important;
                width: 100% !important;
              }
              
              .glass-card {
                padding: 20px !important;
                box-shadow: none !important;
                border: 1px solid #d1d5db !important;
                border-radius: 12px !important;
              }
              
              .info-section {
                border: 1px solid #d1d5db !important;
                box-shadow: none !important;
                padding: 15px !important;
                margin-bottom: 0 !important;
              }
              
              .info-section:hover {
                box-shadow: none !important;
                transform: none !important;
              }
              
              .text-2xl {
                font-size: 20px !important;
              }
              
              .text-lg {
                font-size: 16px !important;
              }
              
              .text-sm {
                font-size: 11px !important;
              }
              
              .text-xs {
                font-size: 10px !important;
              }
              
              .invoice-info {
                flex-direction: column !important;
                gap: 20px !important;
              }
              
              .info-section {
                padding: 12px !important;
                margin-bottom: 16px !important;
              }
              
              .info-title {
                font-size: 14px !important;
                margin-bottom: 8px !important;
                padding-bottom: 6px !important;
              }
              
              .info-label {
                min-width: 70px !important;
                font-size: 10px !important;
              }
              
              .info-value {
                font-size: 10px !important;
              }
              
              .bill-item {
                flex-direction: row !important;
                padding: 12px 0 !important;
              }
              
              .bill-item-left {
                margin-right: 15px !important;
                margin-bottom: 0 !important;
                flex: 1 !important;
                min-width: 0 !important;
              }
              
              .bill-item-right {
                text-align: right !important;
                min-width: 100px !important;
                flex-shrink: 0 !important;
              }
              
              .bill-item-title {
                font-size: 14px !important;
                margin-bottom: 4px !important;
              }
              
              .bill-item-details {
                font-size: 10px !important;
                margin-top: 2px !important;
              }
              
              .bill-item-amount {
                font-size: 16px !important;
              }
            }
          </style>
        </head>
        <body>
          ${_.innerHTML}
        </body>
      </html>
    `),T.document.close(),setTimeout(()=>{T.print(),T.close(),document.body.removeChild(_)},500)},b=async()=>{try{He.loading("Generating PDF...");const _=document.createElement("div");_.style.position="absolute",_.style.left="-9999px",_.style.top="0",_.style.backgroundColor="white",_.style.padding="20px",_.style.width="210mm";const N=document.getElementById("rent-invoice-content")?.cloneNode(!0);if(!N){He.dismiss(),He.error("Invoice content not found");return}const B=N.querySelector(".sticky");B&&B.remove(),_.appendChild(N),document.body.appendChild(_);const T=await coe(_,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:794,height:1123,windowWidth:794,windowHeight:1123});document.body.removeChild(_);const O=T.toDataURL("image/png"),P=new rr({orientation:"portrait",unit:"mm",format:"a4"});P.addImage(O,"PNG",0,0,210,297),P.save(`rent-invoice-${t}.pdf`),He.dismiss(),He.success("PDF downloaded successfully!")}catch(_){console.error("Error generating PDF:",_),He.dismiss(),He.error("Failed to generate PDF. Please try again.")}},j=_=>{switch(_){case"rent":return s.jsx(Xr,{className:"w-4 h-4"});case"electricity":return s.jsx(Wl,{className:"w-4 h-4"});case"water":return s.jsx(FW,{className:"w-4 h-4"});default:return s.jsx(ur,{className:"w-4 h-4"})}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[!m&&(l||c||d)&&s.jsx("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur-sm border-b border-border/50",children:s.jsx("div",{className:"max-w-4xl mx-auto p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ur,{className:"w-5 h-5 text-primary"}),s.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"Rent Invoice Preview"})]}),s.jsxs("div",{className:"flex gap-2",children:[!h&&s.jsxs(de,{variant:"outline",onClick:b,children:[s.jsx(Ro,{className:"w-4 h-4 mr-2"}),"PDF"]}),!h&&s.jsxs(de,{variant:"outline",onClick:x,children:[s.jsx(lD,{className:"w-4 h-4 mr-2"}),"Print"]}),d&&s.jsx(de,{variant:"outline",className:"bg-pink-500 hover:bg-pink-600 text-white border-pink-600",onClick:c||l,children:"Close"}),l&&!d&&s.jsxs(de,{variant:"outline",className:"bg-gray-700 text-white hover:bg-gray-600 border-gray-600",onClick:l,children:[s.jsx(jF,{className:"w-4 h-4 mr-2"}),"Back to Edit"]}),c&&!d&&s.jsx(de,{className:"bg-purple-600 hover:bg-purple-700 text-white",onClick:()=>{console.log("Done button clicked"),c()},disabled:u,children:u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Creating..."]}):"Create Invoice"})]})]})})}),s.jsxs("div",{className:"p-4",children:[!m&&!l&&!c&&s.jsxs("div",{className:"max-w-4xl mx-auto mb-4 flex gap-2 justify-end",children:[s.jsxs(de,{variant:"outline",onClick:b,children:[s.jsx(Ro,{className:"w-4 h-4 mr-2"}),"Download"]}),s.jsxs(de,{variant:"outline",onClick:x,children:[s.jsx(lD,{className:"w-4 h-4 mr-2"}),"Print"]})]}),s.jsx("div",{id:"rent-invoice-content",className:"max-w-4xl mx-auto",children:s.jsx(Le,{className:"shadow-lg border-0 bg-background",children:s.jsxs(De,{className:"p-8",children:[s.jsxs("div",{className:"flex justify-between items-start mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"RENT INVOICE"}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ur,{className:"w-4 h-4"}),s.jsxs("span",{children:["Invoice #: ",t]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(iD,{className:"w-4 h-4"}),s.jsxs("span",{children:["Date: ",Rn(r,"PPP")]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(iD,{className:"w-4 h-4"}),s.jsxs("span",{children:["Due Date: ",Rn(n,"PPP")]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:e}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Property Management"})]})]}),s.jsx(ol,{className:"my-6"}),s.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-foreground mb-3 flex items-center gap-2",children:[s.jsx(Xr,{className:"w-4 h-4"}),"Property Information"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Name:"}),s.jsx("span",{className:"font-medium",children:a.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),s.jsx("span",{className:"font-medium",children:a.phone})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Address:"}),s.jsx("span",{className:"font-medium",children:a.address})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-foreground mb-3 flex items-center gap-2",children:[s.jsx(Fs,{className:"w-4 h-4"}),"Tenant Information"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Name:"}),s.jsx("span",{className:"font-medium",children:i.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),s.jsx("span",{className:"font-medium",children:i.mobile})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Room No:"}),s.jsx("span",{className:"font-medium",children:i.roomNo})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Email:"}),s.jsx("span",{className:"font-medium",children:i.email})]})]})]})]}),s.jsx(ol,{className:"my-6"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-4",children:"Billing Details"}),s.jsx("div",{className:"space-y-3",children:o.map((_,N)=>s.jsxs("div",{className:"border border-border/50 rounded-lg p-4 bg-muted/30",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[j(_.type),s.jsx("span",{className:"font-medium text-foreground capitalize",children:_.type==="rent"?"Room Rent":_.type==="electricity"?"Electricity Charges":_.type==="water"?"Water Charges":"Other Charges"})]}),s.jsxs("span",{className:"font-bold text-lg text-primary",children:["",_.amount.toFixed(2)]})]}),(_.type==="electricity"||_.type==="water")&&s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1 mt-2",children:[_.rate&&s.jsxs("div",{children:["Rate: ",_.rate,"/unit"]}),_.units&&s.jsxs("div",{children:["Units: ",_.units]}),_.startReading&&_.endReading&&s.jsxs("div",{children:["Reading: ",_.startReading,"  ",_.endReading]}),_.type==="water"&&_.unitsDividerRoom&&s.jsxs("div",{children:["Units Divider Room: ",_.unitsDividerRoom]}),_.type==="water"&&_.startReading&&_.endReading&&_.unitsDividerRoom&&s.jsxs("div",{className:"font-medium text-foreground bg-muted/30 p-2 rounded",children:["(",_.endReading," - ",_.startReading,")  ",_.unitsDividerRoom," = ",_.units," units  ",_.rate,"/unit = ",_.amount]}),_.type==="electricity"&&_.units&&_.rate&&s.jsxs("div",{className:"font-medium text-foreground bg-muted/30 p-2 rounded",children:[_.units," units  ",_.rate,"/unit = ",_.amount]})]})]},N))})]}),s.jsx(ol,{className:"my-6"}),s.jsx("div",{className:"space-y-3 mb-6",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),s.jsxs("span",{className:"font-bold text-lg",children:["",g.toFixed(2)]})]})}),s.jsx("div",{className:"glass-card p-6 rounded-xl border border-border/50",children:s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("span",{className:"text-lg font-bold text-foreground",children:"Total Amount:"}),s.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",v.toFixed(2)]})]})}),s.jsx("div",{className:"mt-8 p-4 bg-muted/50 rounded-lg text-center border border-border/50",children:s.jsx("p",{className:"text-sm text-foreground whitespace-pre-line",children:A})})]})})})]})]})}const qWe=Hp({propertyId:Jr().min(1,"Property is required"),tenantId:Jr().min(1,"Tenant is required"),invoiceDate:jp({required_error:"Invoice date is required"}),dueDate:jp({required_error:"Due date is required"})});function KWe({open:e,onOpenChange:t}){const{data:r}=Vp(),{properties:n,isLoading:a}=qh(),{createInvoice:i}=$C(),[o,l]=C.useState(!1),[c,u]=C.useState([]),[d,A]=C.useState("Thank you for your payment. Please pay before the due date to avoid late fees. For queries, contact: +91 98765 43210"),[h,m]=C.useState(!1);console.log("Properties data:",n),console.log("Properties loading:",a);const y=()=>`INV-${new Date().getFullYear()}-${String(Date.now()).slice(-4)}`,g=Mp({resolver:Qp(qWe),defaultValues:{propertyId:"",tenantId:"",invoiceDate:new Date,dueDate:new Date(new Date().setDate(new Date().getDate()+7))}}),v=g.watch("propertyId"),x=g.watch("tenantId"),b=n?.find(P=>P.id===v),j=r?.find(P=>P.id===x);C.useEffect(()=>{v&&g.setValue("tenantId","")},[v,g]),C.useEffect(()=>{u(P=>P.map(M=>(M.type==="electricity"||M.type==="water")&&M.units!==void 0&&M.rate!==void 0?{...M,amount:M.units*M.rate}:M))},[c.map(P=>`${P.type}-${P.units}-${P.rate}`).join(",")]);const _=P=>{const M={id:Date.now().toString(),type:P,description:P==="rent"?"Room Rent":P==="electricity"?"Electricity Charges":P==="water"?"Water Charges":"Other Charges",amount:0,...P==="electricity"&&{rate:8},...P==="water"&&{rate:9,unitsDividerRoom:4}};u([...c,M])},N=(P,M,I)=>{u(c.map(D=>{if(D.id===P){const $={...D,[M]:I};if((D.type==="electricity"||D.type==="water")&&M==="endReading"&&$.startReading!==void 0){const F=$.endReading-$.startReading;D.type==="water"&&$.unitsDividerRoom&&$.unitsDividerRoom>0?$.units=F/$.unitsDividerRoom:$.units=F}return $}return D}))},B=P=>{u(c.filter(M=>M.id!==P))},T=()=>{if(console.log("Preview button clicked"),console.log("Bill items:",c),console.log("Selected tenant:",j),console.log("Selected property:",b),c.length===0){He.error("Please add at least one bill item");return}if(!j){He.error("Please select a tenant");return}if(!b){He.error("Please select a property");return}console.log("Setting showPreview to true"),l(!0)},O=async()=>{if(!j||!b){He.error("Please select property and tenant");return}m(!0);try{const P=c.reduce((D,$)=>D+(parseFloat($.amount.toString())||0),0),M=y(),I=await i.mutateAsync({invoice_number:M,amount:P,due_date:g.watch("dueDate").toISOString(),tenant_id:j.id,unit_id:j.units?.[0]?.id,status:"pending"});console.log("Invoice created successfully:",I),He.success(`Rent invoice ${M} created successfully!`),g.reset(),u([]),l(!1),t(!1)}catch(P){console.error("Error creating invoice:",P),He.error("Failed to create invoice")}finally{m(!1)}};if(C.useEffect(()=>{j&&b&&x&&!j.property_id.includes(v)&&g.setValue("tenantId","")},[b,j,g]),o&&j&&b){console.log("Showing preview - showPreview:",o),console.log("Selected tenant exists:",!!j),console.log("Selected property exists:",!!b);const P={apartmentName:b.name||"Property Name",invoiceNumber:y(),invoiceDate:g.watch("invoiceDate"),dueDate:g.watch("dueDate"),landlord:{name:b.name||"Landlord Name",phone:b.mobile||"+91 98765 43210",address:b.address||"Property Address"},tenant:{name:j.name,mobile:j.phone||"",roomNo:j.units?.[0]?.unit_number||"101"},billItems:c.map(M=>({...M,amount:parseFloat(M.amount.toString())||0}))};return s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",children:s.jsx("div",{className:"h-full overflow-auto",children:s.jsx(tle,{...P,billItems:c.map(M=>({...M,amount:parseFloat(M.amount.toString())||0})),footerMessage:d,hideExportButtons:!0,onBackToEdit:()=>{console.log("Back to Edit clicked"),l(!1)},onDone:O,isLoading:h})})})}return s.jsx(dn,{open:e&&!o,onOpenChange:t,children:s.jsxs(an,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto glass-card border-0",children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Generate Rent Invoice"}),s.jsx(_n,{children:"Create a professional rent invoice for your tenant"})]}),s.jsx($p,{...g,children:s.jsxs("form",{className:"space-y-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(vr,{control:g.control,name:"propertyId",render:({field:P})=>s.jsxs(hr,{children:[s.jsx(mr,{className:"text-foreground",children:"Property Name"}),s.jsxs(ar,{onValueChange:M=>{console.log("Property selected:",M),P.onChange(M)},defaultValue:P.value,children:[s.jsx(pr,{children:s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select property"})})}),s.jsx(or,{children:a?s.jsx(Fe,{value:"loading",disabled:!0,children:"Loading properties..."}):!n||n.length===0?s.jsx(Fe,{value:"none",disabled:!0,children:"No properties found"}):n.map(M=>s.jsx(Fe,{value:M.id,children:M.name},M.id))})]}),s.jsx(yr,{})]})})}),s.jsx("div",{className:"space-y-4",children:s.jsx(vr,{control:g.control,name:"tenantId",render:({field:P})=>s.jsxs(hr,{children:[s.jsx(mr,{className:"text-foreground",children:"Select Tenant"}),s.jsxs(ar,{onValueChange:P.onChange,defaultValue:P.value,children:[s.jsx(pr,{children:s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select tenant"})})}),s.jsx(or,{children:b?!r||r.length===0?s.jsx(Fe,{value:"none",disabled:!0,children:"No tenants available"}):r.filter(M=>M.property_id&&M.property_id.includes(b.id)).length===0?s.jsx(Fe,{value:"none",disabled:!0,children:"No tenants found for this property"}):r.filter(M=>M.property_id&&M.property_id.includes(b.id)).map(M=>s.jsxs(Fe,{value:M.id,children:[M.name," - ",M.units?.[0]?.unit_number||"N/A"]},M.id)):s.jsx(Fe,{value:"none",disabled:!0,children:"Select a property first"})})]}),s.jsx(yr,{})]})})}),j&&b&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"glass-card p-4 rounded-lg border border-border/50",children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Property Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Property Name:"}),s.jsx("span",{className:"font-medium",children:b.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Address:"}),s.jsx("span",{className:"font-medium",children:b.address})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),s.jsx("span",{className:"font-medium",children:b.mobile})]})]})]}),s.jsxs("div",{className:"glass-card p-4 rounded-lg border border-border/50",children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Tenant Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Name:"}),s.jsx("span",{className:"font-medium",children:j.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),s.jsx("span",{className:"font-medium",children:j.phone})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Room No:"}),s.jsx("span",{className:"font-medium",children:j.units?.[0]?.unit_number||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Email:"}),s.jsx("span",{className:"font-medium",children:j.email})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(vr,{control:g.control,name:"invoiceDate",render:({field:P})=>s.jsxs(hr,{className:"flex flex-col",children:[s.jsx(mr,{className:"text-foreground",children:"Invoice Date"}),s.jsxs(Np,{children:[s.jsx(Cp,{asChild:!0,children:s.jsx(pr,{children:s.jsxs(de,{variant:"outline",className:st("w-full pl-3 text-left font-normal",!P.value&&"text-muted-foreground"),children:[P.value?Rn(P.value,"PPP"):s.jsx("span",{children:"Pick a date"}),s.jsx(Jn,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(Eh,{className:"w-auto p-0",align:"start",children:s.jsx(Bh,{mode:"single",selected:P.value,onSelect:P.onChange,disabled:M=>M>new Date||M<new Date("1900-01-01"),initialFocus:!0})})]}),s.jsx(yr,{})]})}),s.jsx(vr,{control:g.control,name:"dueDate",render:({field:P})=>s.jsxs(hr,{className:"flex flex-col",children:[s.jsx(mr,{className:"text-foreground",children:"Due Date"}),s.jsxs(Np,{children:[s.jsx(Cp,{asChild:!0,children:s.jsx(pr,{children:s.jsxs(de,{variant:"outline",className:st("w-full pl-3 text-left font-normal",!P.value&&"text-muted-foreground"),children:[P.value?Rn(P.value,"PPP"):s.jsx("span",{children:"Pick a date"}),s.jsx(Jn,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(Eh,{className:"w-auto p-0",align:"start",children:s.jsx(Bh,{mode:"single",selected:P.value,onSelect:P.onChange,disabled:M=>M<new Date,initialFocus:!0})})]}),s.jsx(yr,{})]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-foreground",children:"Footer Message"}),s.jsx("textarea",{className:"w-full px-3 py-2 border border-border/50 rounded-md bg-background text-foreground resize-none",rows:3,value:d,onChange:P=>A(P.target.value),placeholder:"Enter footer message for the invoice..."}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This message will appear at the bottom of the invoice"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Bill Items"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(de,{type:"button",variant:"outline",size:"sm",onClick:()=>_("rent"),children:[s.jsx(mn,{className:"w-4 h-4 mr-1"}),"Room Rent"]}),s.jsxs(de,{type:"button",variant:"outline",size:"sm",onClick:()=>_("electricity"),children:[s.jsx(mn,{className:"w-4 h-4 mr-1"}),"Electricity"]}),s.jsxs(de,{type:"button",variant:"outline",size:"sm",onClick:()=>_("water"),children:[s.jsx(mn,{className:"w-4 h-4 mr-1"}),"Water"]}),s.jsxs(de,{type:"button",variant:"outline",size:"sm",onClick:()=>_("other"),children:[s.jsx(mn,{className:"w-4 h-4 mr-1"}),"Other"]})]})]}),c.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed border-border/50 rounded-lg bg-muted/20",children:[s.jsx(ur,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No bill items added yet"}),s.jsx("p",{className:"text-sm",children:"Click the buttons above to add bill items"})]}):c.map((P,M)=>s.jsxs("div",{className:"border border-border/50 rounded-lg p-4 space-y-3 bg-muted/30",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"text-sm font-medium capitalize text-foreground",children:P.type==="rent"?"Room Rent":P.type==="electricity"?"Electricity Charges":P.type==="water"?"Water Charges":"Other Charges"})}),s.jsx(de,{type:"button",variant:"ghost",size:"sm",onClick:()=>B(P.id),children:s.jsx(yi,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-foreground",children:"Amount ()"}),s.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-border/50 rounded-md bg-background text-foreground",value:P.amount,onChange:I=>N(P.id,"amount",parseFloat(I.target.value)||0),disabled:P.type==="electricity"||P.type==="water"}),(P.type==="electricity"||P.type==="water")&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Auto-calculated from units  rate"})]}),(P.type==="electricity"||P.type==="water")&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-foreground",children:"Rate (/unit)"}),s.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-border/50 rounded-md bg-background text-foreground",value:P.rate||"",onChange:I=>N(P.id,"rate",parseFloat(I.target.value)||0)})]})]}),(P.type==="electricity"||P.type==="water")&&s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-foreground",children:"Start Reading"}),s.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-border/50 rounded-md bg-background text-foreground",value:P.startReading||"",onChange:I=>N(P.id,"startReading",parseInt(I.target.value)||0)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-foreground",children:"End Reading"}),s.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-border/50 rounded-md bg-background text-foreground",value:P.endReading||"",onChange:I=>N(P.id,"endReading",parseInt(I.target.value)||0)})]}),P.type==="water"&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-foreground",children:"Units Divider Room"}),s.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-border/50 rounded-md bg-background text-foreground",value:P.unitsDividerRoom||"",onChange:I=>N(P.id,"unitsDividerRoom",parseInt(I.target.value)||0)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-foreground",children:"Total Units"}),s.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-border/50 rounded-md bg-background text-foreground",value:P.units||"",onChange:I=>N(P.id,"units",parseInt(I.target.value)||0)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:P.startReading&&P.endReading?P.type==="water"&&P.unitsDividerRoom?`Auto: ${(P.endReading-P.startReading)/P.unitsDividerRoom}`:`Auto: ${P.endReading-P.startReading}`:"Enter manually or provide readings"})]})]}),P.type==="water"&&s.jsx(ol,{className:"mt-4"})]},P.id)),s.jsx("div",{className:"bg-muted/50 p-3 rounded-lg border border-border/50",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold text-foreground",children:"Total Amount:"}),s.jsxs("span",{className:"text-lg font-bold text-primary",children:["",c.reduce((P,M)=>P+(parseFloat(M.amount.toString())||0),0).toFixed(2)]})]})})]}),s.jsxs(Qa,{children:[s.jsx(de,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(de,{type:"button",onClick:T,children:"Preview Invoice"})]})]})})]})})}const zWe=Hp({amount:II().min(.01,"Amount must be greater than 0"),payment_method:Jr().min(1,"Payment method is required"),payment_date:jp({required_error:"Payment date is required"}),invoice_id:Jr().optional(),tenant_id:Jr().optional(),description:Jr().optional(),payment_type:Jr().optional(),paid_by:Jr().min(1,"Paid by name is required"),received_by:Jr().min(1,"Received by name is required"),payment_time:Jr().min(1,"Payment time is required")}).refine(e=>!0,{message:"Payment amount cannot exceed invoice amount",path:["amount"]}),rle=({open:e,onOpenChange:t,initialData:r,onSubmit:n,isLoading:a,invoice:i,tenant:o,onSuccess:l})=>{const c=v=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(v),u=i?.amount||0,d=i?.paidAmount||0,A=Math.max(0,u-d),h=Mp({resolver:Qp(zWe),defaultValues:{amount:r?.amount||0,payment_method:r?.payment_method||"",invoice_id:i?.id||r?.invoice_id||"",tenant_id:o?.id||i?.tenant_id||r?.tenant_id||"",description:r?.description||"",payment_type:r?.payment_type||"Rent",payment_date:r?.payment_date?new Date(r.payment_date):new Date,paid_by:r?.paid_by||"",received_by:r?.received_by||"",payment_time:r?.payment_time||new Date().toTimeString().slice(0,5)}}),m=h.watch("amount");C.useEffect(()=>{m>A?h.setError("amount",{type:"manual",message:`Payment amount cannot exceed pending amount of ${c(A)}`}):h.clearErrors("amount")},[m,A,h]);const y=v=>{if(v.amount>A){h.setError("amount",{type:"manual",message:`Payment amount cannot exceed pending amount of ${c(A)}`});return}n?n({...v,payment_date:v.payment_date.toISOString().split("T")[0],paid_by:v.paid_by||"Unknown",received_by:v.received_by||"Unknown",payment_time:v.payment_time||new Date().toTimeString().slice(0,5)}):(console.log("Payment data:",{...v,payment_date:v.payment_date.toISOString().split("T")[0],paid_by:v.paid_by||"Unknown",received_by:v.received_by||"Unknown",payment_time:v.payment_time||new Date().toTimeString().slice(0,5)}),l?.()),h.reset(),t(!1)},g=["Credit Card","Debit Card","Bank Transfer","Cash","Check","Online Payment","Other"];return s.jsx(dn,{open:e,onOpenChange:t,children:s.jsxs(an,{className:"sm:max-w-[700px] max-h-[95vh] overflow-y-auto border-0 shadow-2xl bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700 px-8 py-6 rounded-t-xl shadow-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center shadow-md",children:s.jsx(ja,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Record Payment"}),s.jsxs("p",{className:"text-blue-100 text-sm font-medium",children:["Invoice ",i?.invoice_number]})]})]}),s.jsxs(de,{variant:"ghost",size:"sm",onClick:()=>t(!1),className:"text-white hover:bg-white/20 hover:text-white border-white/20 transition-all duration-200",children:[s.jsx("span",{className:"sr-only",children:"Close"}),s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]})}),s.jsxs("div",{className:"p-8 space-y-8",children:[i&&s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 border border-blue-200 rounded-2xl overflow-hidden shadow-lg",children:[s.jsx("div",{className:"bg-white/90 backdrop-blur-sm px-6 py-4 border-b border-blue-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(Qi,{className:"w-5 h-5 text-white"})}),s.jsx("h3",{className:"text-lg font-bold text-blue-900",children:"Payment Information"})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),s.jsx("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Tenant Details"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[s.jsx("span",{className:"w-5 h-5 bg-gray-100 rounded-full flex items-center justify-center text-xs",children:""}),"Property"]}),s.jsx("span",{className:"text-sm font-bold text-gray-900 text-right",children:o?.property_name||"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[s.jsx("span",{className:"w-5 h-5 bg-gray-100 rounded-full flex items-center justify-center text-xs",children:""}),"Room No"]}),s.jsx("span",{className:"text-sm font-bold text-gray-900 text-right",children:o?.room_number||"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[s.jsx("span",{className:"w-5 h-5 bg-gray-100 rounded-full flex items-center justify-center text-xs",children:""}),"Tenant Name"]}),s.jsx("span",{className:"text-sm font-bold text-gray-900 text-right",children:o?.name||"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[s.jsx("span",{className:"w-5 h-5 bg-gray-100 rounded-full flex items-center justify-center text-xs",children:""}),"Mobile"]}),s.jsx("span",{className:"text-sm font-bold text-gray-900 text-right",children:o?.phone||"N/A"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[s.jsx("span",{className:"w-5 h-5 bg-gray-100 rounded-full flex items-center justify-center text-xs",children:""}),"Email"]}),s.jsx("span",{className:"text-sm font-bold text-gray-900 text-right",children:o?.email||"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[s.jsx("span",{className:"w-5 h-5 bg-gray-100 rounded-full flex items-center justify-center text-xs",children:""}),"Join Date"]}),s.jsx("span",{className:"text-sm font-bold text-gray-900 text-right",children:o?.join_date?new Date(o.join_date).toLocaleDateString():"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[s.jsx("span",{className:"w-5 h-5 bg-gray-100 rounded-full flex items-center justify-center text-xs",children:""}),"Payment Type"]}),s.jsx("span",{className:"text-sm font-bold text-gray-900 text-right",children:i?.payment_type||"Rent"})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[s.jsx("span",{className:"w-5 h-5 bg-gray-100 rounded-full flex items-center justify-center text-xs",children:""}),"Bill Item"]}),s.jsx("span",{className:"text-sm font-bold text-gray-900 text-right",children:i?.bill_item_name||"Monthly Rent"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),s.jsx("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Invoice Details"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mb-2",children:s.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"#"})}),s.jsx("span",{className:"text-xs text-gray-600 font-medium mb-1",children:"Invoice Number"}),s.jsx("span",{className:"text-sm font-bold text-blue-700",children:i.invoice_number})]})}),s.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mb-2",children:s.jsx("span",{className:"text-green-600 font-bold text-sm",children:""})}),s.jsx("span",{className:"text-xs text-gray-600 font-medium mb-1",children:"Total Amount"}),s.jsx("span",{className:"text-sm font-bold text-blue-600",children:c(u)})]})}),s.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center mb-2",children:s.jsx("span",{className:"text-emerald-600 font-bold text-sm",children:""})}),s.jsx("span",{className:"text-xs text-gray-600 font-medium mb-1",children:"Paid Amount"}),s.jsx("span",{className:"text-sm font-bold text-green-600",children:c(d)})]})})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-4 border border-orange-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold",children:""})}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-bold text-orange-700",children:"Pending Amount"}),s.jsx("div",{className:"text-xs text-orange-600",children:"Due for payment"})]})]}),s.jsx(Ze,{variant:"secondary",className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white border-orange-600 shadow-md px-4 py-2 text-sm font-bold",children:c(A)})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[s.jsxs("span",{className:"flex items-center gap-2 text-gray-700",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),Math.round(d/u*100),"% Paid"]}),s.jsxs("span",{className:"flex items-center gap-2 text-gray-700",children:[s.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),Math.round(A/u*100),"% Pending"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden shadow-inner",children:s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-4 rounded-full transition-all duration-500 flex items-center justify-end pr-2 shadow-sm",style:{width:`${d/u*100}%`},children:d/u*100>10&&s.jsxs("span",{className:"text-xs text-white font-bold",children:[Math.round(d/u*100),"%"]})})})]})]})]}),s.jsx($p,{...h,children:s.jsxs("form",{onSubmit:h.handleSubmit(y),className:"space-y-4",children:[s.jsx(vr,{control:h.control,name:"amount",render:({field:v})=>s.jsxs(hr,{children:[s.jsx(mr,{className:"text-sm font-semibold text-gray-700",children:"Payment Amount"}),s.jsx(pr,{children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-2 top-1/2 transform -translate-y-1/2 z-10",children:s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white text-xs font-medium px-3 py-1.5 rounded-full shadow-md",children:["Max: ",c(A)]})}),s.jsxs("div",{className:"flex",children:[s.jsx(it,{type:"text",inputMode:"decimal",placeholder:"0.00",...v,onChange:x=>{const b=x.target.value.replace(/[^\d.]/g,""),j=parseFloat(b)||0;v.onChange(j)},className:`pl-32 pr-20 h-12 bg-white border-gray-300 rounded-l-xl hover:border-blue-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all duration-200 shadow-sm text-black placeholder:text-gray-400 ${m>A?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}`}),s.jsxs(cl,{children:[s.jsx(ul,{asChild:!0,children:s.jsx(de,{type:"button",variant:"outline",className:"rounded-r-none border-l-0 h-12 px-3 bg-white hover:bg-blue-50 border-gray-300 hover:border-blue-400 transition-all duration-200 group",children:s.jsx(Ov,{className:"w-4 h-4 text-gray-600 group-hover:text-blue-600 transition-colors duration-200"})})}),s.jsxs(Fo,{align:"end",className:"w-52 bg-white border-gray-200 rounded-xl shadow-lg",children:[s.jsx(qr,{onClick:()=>v.onChange(A),className:"hover:bg-blue-50 focus:bg-blue-100 cursor-pointer transition-colors duration-150 py-3",children:s.jsxs("div",{className:"flex flex-col py-1",children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Full Payment"}),s.jsx("span",{className:"text-sm text-blue-600 font-semibold",children:c(A)})]})}),s.jsx(qr,{onClick:()=>v.onChange(A*.75),className:"hover:bg-blue-50 focus:bg-blue-100 cursor-pointer transition-colors duration-150 py-3",children:s.jsxs("div",{className:"flex flex-col py-1",children:[s.jsx("span",{className:"font-medium text-gray-900",children:"75% Amount"}),s.jsx("span",{className:"text-sm text-blue-600 font-semibold",children:c(A*.75)})]})}),s.jsx(qr,{onClick:()=>v.onChange(A*.5),className:"hover:bg-blue-50 focus:bg-blue-100 cursor-pointer transition-colors duration-150 py-3",children:s.jsxs("div",{className:"flex flex-col py-1",children:[s.jsx("span",{className:"font-medium text-gray-900",children:"50% Amount"}),s.jsx("span",{className:"text-sm text-blue-600 font-semibold",children:c(A*.5)})]})}),s.jsx(qr,{onClick:()=>v.onChange(0),className:"hover:bg-red-50 focus:bg-red-100 cursor-pointer border-t border-gray-200 transition-colors duration-150 py-3",children:s.jsxs("div",{className:"flex flex-col py-1",children:[s.jsx("span",{className:"font-medium text-red-600",children:"Clear"}),s.jsx("span",{className:"text-sm text-red-500",children:"Set to 0"})]})})]})]})]})]})}),s.jsx(yr,{}),m>A&&s.jsx("div",{className:"mt-3 p-4 bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-xl",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"text-lg font-bold text-red-700",children:" Payment Limit Exceeded"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-sm font-medium text-red-600",children:[" Entered amount: ",s.jsx("span",{className:"font-bold text-red-700",children:c(m)})]}),s.jsxs("p",{className:"text-sm font-medium text-red-600",children:[" Maximum allowed: ",s.jsx("span",{className:"font-bold text-green-600",children:c(A)})]}),s.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[" ",s.jsx("span",{children:'Please reduce the amount or select "Full Payment" to pay the complete pending amount.'})]})]})]})]})})]})}),s.jsx(vr,{control:h.control,name:"payment_method",render:({field:v})=>s.jsxs(hr,{children:[s.jsx(mr,{className:"text-sm font-semibold text-gray-700",children:"Payment Method"}),s.jsxs(ar,{onValueChange:v.onChange,defaultValue:v.value,children:[s.jsx(pr,{children:s.jsx(ir,{className:"h-12 bg-white border-gray-300 rounded-xl hover:border-yellow-400 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-500/20 transition-all duration-200 shadow-sm group",children:s.jsx(lr,{placeholder:"Select payment method"})})}),s.jsx(or,{className:"bg-white border-gray-200 rounded-xl shadow-lg",children:g.map(x=>s.jsx(Fe,{value:x,className:"hover:bg-yellow-50 focus:bg-yellow-100 cursor-pointer transition-colors duration-150 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center group-hover:bg-yellow-200 transition-colors duration-200",children:[x==="Credit Card"&&s.jsx("span",{className:"text-yellow-600",children:""}),x==="Debit Card"&&s.jsx("span",{className:"text-yellow-600",children:""}),x==="Bank Transfer"&&s.jsx("span",{className:"text-yellow-600",children:""}),x==="Cash"&&s.jsx("span",{className:"text-yellow-600",children:""}),x==="Check"&&s.jsx("span",{className:"text-yellow-600",children:""}),x==="Online Payment"&&s.jsx("span",{className:"text-yellow-600",children:""}),x==="Other"&&s.jsx("span",{className:"text-yellow-600",children:""})]}),s.jsx("span",{className:"font-medium text-gray-900",children:x})]})},x))})]}),s.jsx(yr,{})]})}),s.jsx(vr,{control:h.control,name:"payment_date",render:({field:v})=>s.jsxs(hr,{className:"flex flex-col",children:[s.jsx(mr,{className:"text-sm font-semibold text-gray-700",children:"Payment Date"}),s.jsxs(Np,{children:[s.jsx(Cp,{asChild:!0,children:s.jsx(pr,{children:s.jsxs(de,{variant:"outline",className:st("w-full h-12 pl-4 text-left font-normal bg-white border-gray-300 rounded-xl hover:border-blue-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all duration-200 shadow-sm",!v.value&&"text-gray-500"),children:[v.value?s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-blue-600",children:""}),s.jsx("span",{className:"font-medium text-gray-900",children:Rn(v.value,"PPP")})]}):s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("span",{children:"Pick a date"})]}),s.jsx(Jn,{className:"ml-auto h-5 w-5 text-gray-400"})]})})}),s.jsx(Eh,{className:"w-auto p-0 bg-white border-gray-200 rounded-xl shadow-lg",align:"start",children:s.jsx(Bh,{mode:"single",selected:v.value,onSelect:v.onChange,disabled:x=>x>new Date||x<new Date("1900-01-01"),initialFocus:!0,className:"rounded-xl"})})]}),s.jsx(yr,{})]})}),s.jsx(vr,{control:h.control,name:"description",render:({field:v})=>s.jsxs(hr,{children:[s.jsx(mr,{className:"text-sm font-semibold text-gray-700",children:"Description"}),s.jsx(pr,{children:s.jsx(vu,{placeholder:"Enter payment description...",...v,className:"min-h-[120px] bg-white border-gray-300 rounded-xl hover:border-blue-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all duration-200 shadow-sm resize-none text-black placeholder:text-gray-400"})}),s.jsx(yr,{})]})}),s.jsx(vr,{control:h.control,name:"paid_by",render:({field:v})=>s.jsxs(hr,{children:[s.jsx(mr,{className:"text-sm font-semibold text-gray-700",children:"Paid By"}),s.jsx(pr,{children:s.jsx(it,{placeholder:"Enter payer name...",...v,className:"h-12 bg-white border-gray-300 rounded-xl hover:border-blue-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all duration-200 shadow-sm text-black placeholder:text-gray-400"})}),s.jsx(yr,{})]})}),s.jsx(vr,{control:h.control,name:"received_by",render:({field:v})=>s.jsxs(hr,{children:[s.jsx(mr,{className:"text-sm font-semibold text-gray-700",children:"Received By"}),s.jsx(pr,{children:s.jsx(it,{placeholder:"Enter receiver name...",...v,className:"h-12 bg-white border-gray-300 rounded-xl hover:border-blue-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all duration-200 shadow-sm text-black placeholder:text-gray-400"})}),s.jsx(yr,{})]})}),s.jsx(vr,{control:h.control,name:"payment_time",render:({field:v})=>s.jsxs(hr,{children:[s.jsx(mr,{className:"text-sm font-semibold text-gray-700",children:"Payment Time"}),s.jsx(pr,{children:s.jsx(it,{type:"time",...v,className:"h-12 bg-white border-gray-300 rounded-xl hover:border-blue-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all duration-200 shadow-sm text-black"})}),s.jsx(yr,{})]})}),s.jsxs(Qa,{children:[s.jsx(de,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(de,{type:"submit",disabled:a||m>A||m<=0,children:a?"Recording...":`Record Payment ${c(m)}`})]})]})})]})]})})},MP=()=>{const{formatAmount:e}=ji(),[t,r]=C.useState("all"),[n,a]=C.useState(!1),[i,o]=C.useState(!1),[l,c]=C.useState([]),[u,d]=C.useState(null),[A,h]=C.useState(!1),[m,y]=C.useState(!1),[g,v]=C.useState(null),[x,b]=C.useState(!1),[j,_]=C.useState({}),[N,B]=C.useState({}),{data:T,isLoading:O,updateInvoice:P,deleteInvoice:M,getInvoiceStats:I,getInvoiceById:D}=$C(),{data:$=[]}=Vp(),[F,V]=C.useState(""),X=Object.fromEntries($.map(Pe=>[Pe.id,Pe])),{data:K,isLoading:W,refetch:z}=Ir({queryKey:["invoice-stats"],queryFn:async()=>I?await I():null,refetchInterval:1e4}),te=T?.filter(Pe=>{const Me=Pe.tenant_id&&X[Pe.tenant_id]?.name||"",fe=Pe.invoice_number.toLowerCase().includes(F.toLowerCase())||Me.toLowerCase().includes(F.toLowerCase()),ve=t==="all"||Pe.status.toLowerCase()===t;return fe&&ve}),G=async()=>{o(!0);try{await z()}finally{o(!1)}},U=async Pe=>{try{const Me=await D(Pe);console.log("Viewing invoice:",Me),d(Me),h(!0)}catch(Me){console.error("Error fetching invoice:",Me),He.error("Failed to load invoice")}},Y=async Pe=>{console.log("Edit invoice:",Pe)},ee=async Pe=>{if(window.confirm("Are you sure you want to delete this invoice?"))try{await M.mutateAsync(Pe)}catch(Me){console.error("Error deleting invoice:",Me)}},ae=async(Pe,Me)=>{await P.mutateAsync({id:Pe,status:Me}),z()},Ae=(Pe,Me)=>{c(Me?fe=>[...fe,Pe]:fe=>fe.filter(ve=>ve!==Pe))},ce=Pe=>{c(Pe?te?.map(Me=>Me.id)||[]:[])},we=async Pe=>{if(l.length!==0){for(const Me of l)await P.mutateAsync({id:Me,status:Pe});c([]),z()}},ge=async()=>{if(l.length!==0&&window.confirm(`Are you sure you want to delete ${l.length} invoice(s)?`)){for(const Pe of l)await M.mutate(Pe);c([]),z()}},je=Pe=>{console.log("Add payment clicked for invoice:",Pe),console.log("Current paid amount:",le(Pe)),console.log("Current pending amount:",nt(Pe)),v(Pe),y(!0)},Oe=Pe=>{console.log("View payments clicked for invoice:",Pe),console.log("Invoice status:",Pe.status),console.log("Paid amount:",le(Pe)),console.log("Payment history:",lt(Pe)),v(Pe),b(!0)},Ne=()=>{g&&v({...g})},et=async Pe=>{try{console.log("Payment data:",Pe);const{data:Me,error:fe}=await be.from("payments").insert({amount:Pe.amount,payment_method:Pe.payment_method,payment_date:Pe.payment_date,payment_time:Pe.payment_time,paid_by:Pe.paid_by,received_by:Pe.received_by,description:Pe.description||"Payment for invoice",status:"completed",invoice_id:Pe.invoice_id,tenant_id:Pe.tenant_id,organization_id:g.organization_id}).select().single();if(fe)throw console.error("Error saving payment:",fe),fe;console.log("Payment saved to database:",Me);const ve=g.id,Ee=le(g),xe=Ee+Pe.amount,qe=g?.amount||0;B(Ct=>({...Ct,[ve]:xe}));const Ke={id:Me.id,amount:Me.amount,payment_method:Me.payment_method,payment_date:Me.payment_date,payment_time:Pe.payment_time,paid_by:Pe.paid_by,received_by:Pe.received_by,description:Pe.description||"Payment for invoice",status:Me.status};_(Ct=>({...Ct,[ve]:[...Ct[ve]||[],Ke]}));let tt="pending";xe>=qe?tt="paid":xe>0&&(tt="partial");const{error:jt}=await be.from("invoices").update({status:tt}).eq("id",ve);jt&&console.error("Error updating invoice status:",jt),console.log("Payment calculation:"),console.log("- Total Amount:",qe),console.log("- Current Paid:",Ee),console.log("- New Payment:",Pe.amount),console.log("- New Paid Amount:",xe),console.log("- New Status:",tt),await P.mutateAsync({id:ve,status:tt}),He.success("Payment recorded successfully"),z(),Ne(),y(!1),v(null)}catch(Me){console.error("Payment error:",Me),He.error("Failed to process payment")}},nt=Pe=>{const Me=Pe.amount||0,fe=le(Pe);return Math.max(0,Me-fe)},le=Pe=>{const Me=Pe?.id;return Me&&N[Me]!==void 0?N[Me]:Pe.status==="paid"?Pe.amount||0:Pe.status==="partial"?(Pe.amount||0)*.3:0},lt=Pe=>{const Me=Pe?.id;return Me&&j[Me]?j[Me]:[]},Pt=[{title:"Total Invoiced",value:e(K?.total||0),change:K?.monthlyChange!==void 0?`${K?.monthlyChange>=0?"+":""}${Math.round(Math.abs(K?.monthlyChange||0))}%`:"+0%",trend:K?.monthlyChange>=0?"up":K?.monthlyChange<0?"down":"up"},{title:"Paid",value:e(K?.paid||0),change:K?.paidPercentage!==void 0?`${Math.round(K?.paidPercentage)}%`:"0%",trend:"up"},{title:"Overdue",value:e(K?.overdue||0),change:K?.total>0?`${Math.round(K?.overdue/K?.total*100)}%`:"0%",trend:"down"}];return s.jsx(An,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Billing & Invoices"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your recurring revenue and tenant billing cycles."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(de,{variant:"outline",onClick:G,disabled:i,children:[i?s.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Rs,{className:"w-4 h-4 mr-2"}),i?"Refreshing...":"Refresh"]}),s.jsxs(de,{variant:"outline",children:[s.jsx(Ro,{className:"w-4 h-4 mr-2"}),"Export"]}),s.jsxs(de,{variant:"outline",onClick:()=>a(!0),children:[s.jsx(ur,{className:"w-4 h-4 mr-2"}),"Rent Invoice"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Pt.map((Pe,Me)=>s.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Me*.1},className:"glass-card p-5",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:Pe.title}),s.jsxs("div",{className:"flex items-end justify-between mt-2",children:[s.jsx("h3",{className:"text-2xl font-bold",children:W?s.jsx(jn,{className:"w-5 h-5 animate-spin"}):Pe.value}),s.jsxs("div",{className:`flex items-center text-xs font-medium px-2 py-1 rounded-full ${Pe.trend==="up"?"bg-success/10 text-success":"bg-destructive/10 text-destructive"}`,children:[Pe.trend==="up"?s.jsx(kW,{className:"w-3 h-3 mr-1"}):s.jsx(rue,{className:"w-3 h-3 mr-1"}),W?"...":Pe.change]})]})]},Pe.title))}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[s.jsx(kd,{value:t,onValueChange:r,className:"w-full md:w-auto",children:s.jsxs(Pu,{className:"bg-muted/50 p-1",children:[s.jsx(Zr,{value:"all",children:"All"}),s.jsx(Zr,{value:"paid",children:"Paid"}),s.jsx(Zr,{value:"pending",children:"Due"}),s.jsx(Zr,{value:"overdue",children:"Overdue"})]})}),s.jsxs("div",{className:"flex gap-2 items-center",children:[l.length>0&&s.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 px-3 py-1 rounded-lg",children:[s.jsxs("span",{className:"text-sm font-medium",children:[l.length," selected"]}),s.jsxs(cl,{children:[s.jsx(ul,{asChild:!0,children:s.jsx(de,{variant:"outline",size:"sm",children:"Bulk Actions"})}),s.jsxs(Fo,{children:[s.jsx(qr,{onClick:()=>we("paid"),children:"Mark as Paid"}),s.jsx(qr,{onClick:()=>we("overdue"),children:"Mark as Overdue"}),s.jsx(qr,{onClick:()=>ge(),className:"text-destructive",children:"Delete Selected"})]})]}),s.jsx(de,{variant:"ghost",size:"sm",onClick:()=>c([]),children:"Clear"})]}),s.jsxs("div",{className:"relative w-full md:w-64",children:[s.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(it,{placeholder:"Search invoices...",className:"pl-10",value:F,onChange:Pe=>V(Pe.target.value)})]})]})]}),s.jsx("div",{className:"glass-card overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border/50 bg-muted/30",children:[s.jsx("th",{className:"p-4 text-xs font-semibold uppercase tracking-wider text-muted-foreground w-12",children:s.jsx(jh,{checked:l.length===te?.length&&te?.length>0,onCheckedChange:ce})}),s.jsx("th",{className:"p-4 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Invoice"}),s.jsx("th",{className:"p-4 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Tenant"}),s.jsx("th",{className:"p-4 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Status"}),s.jsx("th",{className:"p-4 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Due Date"}),s.jsx("th",{className:"p-4 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Total Amount"}),s.jsx("th",{className:"p-4 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Paid Amount"}),s.jsx("th",{className:"p-4 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Pending Due"}),s.jsx("th",{className:"p-4 text-xs font-semibold uppercase tracking-wider text-muted-foreground text-right",children:"Actions"})]})}),s.jsx("tbody",{children:O?s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"p-8 text-center",children:s.jsx(jn,{className:"w-6 h-6 animate-spin mx-auto text-primary"})})}):te?.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"p-8 text-center text-muted-foreground",children:"No invoices found."})}):te?.map((Pe,Me)=>s.jsxs(vt.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Me*.05},className:"border-b border-border/30 hover:bg-muted/20 transition-colors",children:[s.jsx("td",{className:"p-4",children:s.jsx(jh,{checked:l.includes(Pe.id),onCheckedChange:fe=>Ae(Pe.id,fe)})}),s.jsx("td",{className:"p-4",children:s.jsx("div",{className:"space-y-1",children:s.jsx("div",{className:"font-medium",children:Pe.invoice_number})})}),s.jsx("td",{className:"p-4",children:Pe.tenant_id?X[Pe.tenant_id]?.name||"Unknown":"N/A"}),s.jsx("td",{className:"p-4",children:s.jsx(Ze,{variant:Pe.status==="paid"?"default":Pe.status==="partial"?"secondary":Pe.status==="overdue"?"destructive":"outline",className:`font-medium ${Pe.status==="paid"?"bg-gradient-to-r from-green-500 to-green-600 text-white border-green-600 shadow-md":Pe.status==="partial"?"bg-gradient-to-r from-orange-500 to-orange-600 text-white border-orange-600 shadow-sm":Pe.status==="overdue"?"bg-gradient-to-r from-red-500 to-red-600 text-white border-red-600 shadow-sm":"bg-gradient-to-r from-gray-500 to-gray-600 text-white border-gray-600"}`,children:Pe.status==="paid"?s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"PAID"]}):Pe.status==="partial"?s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"PARTIAL"]}):Pe.status==="overdue"?s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"OVERDUE"]}):s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm-1-11a1 1 0 11-2 0 1 1 0 012 0zm0 2a1 1 0 10-2 0v4a1 1 0 102 0V9z",clipRule:"evenodd"})}),"PENDING"]})})}),s.jsx("td",{className:"p-4",children:new Date(Pe.due_date).toLocaleDateString()}),s.jsx("td",{className:"p-4 font-medium",children:e(Pe.amount)}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:"font-medium text-green-600",children:e(le(Pe))})}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:`font-medium ${nt(Pe)>0?"text-orange-600":"text-green-600"}`,children:e(nt(Pe))})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(de,{variant:"ghost",size:"sm",onClick:()=>U(Pe.id),children:s.jsx(si,{className:"w-4 h-4"})}),nt(Pe)>0&&s.jsx(de,{variant:"ghost",size:"sm",onClick:()=>je(Pe),className:"text-green-600 hover:text-green-700",children:s.jsx(ja,{className:"w-4 h-4"})}),s.jsx(de,{variant:"ghost",size:"sm",onClick:()=>Oe(Pe),className:"text-blue-600 hover:text-blue-700",children:s.jsx(CA,{className:"w-4 h-4"})}),s.jsxs(cl,{children:[s.jsx(ul,{asChild:!0,children:s.jsx(de,{variant:"ghost",size:"sm",children:s.jsx(Th,{className:"w-4 h-4"})})}),s.jsxs(Fo,{align:"end",children:[s.jsxs(qr,{onClick:()=>Y(Pe),children:[s.jsx(hl,{className:"w-4 h-4 mr-2"}),"Edit"]}),nt(Pe)>0&&s.jsxs(qr,{onClick:()=>je(Pe),className:"text-green-600",children:[s.jsx(ja,{className:"w-4 h-4 mr-2"}),"Add Payment"]}),s.jsxs(qr,{onClick:()=>Oe(Pe),className:"text-blue-600",children:[s.jsx(CA,{className:"w-4 h-4 mr-2"}),"View Payments"]}),s.jsx(qr,{onClick:()=>ae(Pe.id,"paid"),className:"text-green-600",children:"Mark as Paid"}),s.jsxs(qr,{onClick:()=>ee(Pe.id),className:"text-red-600",children:[s.jsx(yi,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})})]},Pe.id))})]})})}),s.jsx(KWe,{open:n,onOpenChange:a}),A&&u&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",children:s.jsx("div",{className:"h-full overflow-auto",children:s.jsx(tle,{apartmentName:u.unit?.property?.name||"Property Name",invoiceNumber:u.invoice_number,invoiceDate:new Date(u.issue_date),dueDate:new Date(u.due_date),landlord:{name:u.unit?.property?.name||"Landlord Name",phone:u.unit?.property?.mobile||"+91 98765 43210",address:u.unit?.property?.address||"Property Address"},tenant:{name:u.tenant?.name||"Tenant Name",mobile:u.tenant?.phone||"",roomNo:u.unit?.unit_number||"101",email:u.tenant?.email||""},billItems:[{type:"rent",description:"Room Rent",amount:u.amount}],onDone:()=>h(!1),showCloseButton:!0})})}),m&&g&&s.jsx(rle,{open:m,onOpenChange:y,invoice:{...g,paidAmount:le(g)},tenant:g.tenant||$.find(Pe=>Pe.id===g.tenant_id),onSubmit:et,onSuccess:()=>{z()}}),x&&g&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden border border-gray-200",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center backdrop-blur-sm",children:s.jsx(CA,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Payment History"}),s.jsxs("p",{className:"text-blue-100 text-sm",children:["Invoice ",g.invoice_number||"Unknown"]})]})]}),s.jsxs(de,{variant:"ghost",size:"sm",onClick:()=>{console.log("Closing payments view"),b(!1)},className:"text-white hover:bg-white/20 hover:text-white border-white/20",children:[s.jsx("span",{className:"sr-only",children:"Close"}),s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]})}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 rounded-xl overflow-hidden",children:[s.jsx("div",{className:"bg-white/80 backdrop-blur-sm px-4 py-3 border-b border-blue-200",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:s.jsx(ja,{className:"w-4 h-4 text-white"})}),s.jsx("h3",{className:"font-semibold text-blue-900",children:"Invoice Summary"})]})}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1 font-medium",children:"Total Amount"}),s.jsx("p",{className:"text-xl font-bold text-blue-600",children:e(g.amount||0)})]}),s.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1 font-medium",children:"Paid Amount"}),s.jsx("p",{className:"text-xl font-bold text-green-600",children:e(le(g))})]}),s.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1 font-medium",children:"Due/Pending"}),s.jsx("p",{className:`text-xl font-bold ${nt(g)>0?"text-orange-600":"text-green-600"}`,children:e(nt(g))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-4 rounded-full transition-all duration-500 flex items-center justify-end pr-2",style:{width:`${le(g)/(g.amount||1)*100}%`},children:le(g)/(g.amount||1)*100>10&&s.jsxs("span",{className:"text-xs text-white font-medium",children:[Math.round(le(g)/(g.amount||1)*100),"%"]})})}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-600 font-medium",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),Math.round(le(g)/(g.amount||1)*100),"% Paid"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),Math.round(nt(g)/(g.amount||1)*100),"% Pending"]})]})]})]})]}),s.jsxs("div",{className:`bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200 rounded-xl p-4 ${g.status==="paid"?"ring-2 ring-green-500 ring-opacity-50 bg-gradient-to-r from-green-50 to-emerald-50":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ze,{variant:g.status==="paid"?"default":g.status==="partial"?"secondary":"destructive",className:`text-sm px-3 py-1 font-semibold ${g.status==="paid"?"bg-gradient-to-r from-green-500 to-green-600 text-white border-green-600 shadow-lg animate-pulse":g.status==="partial"?"bg-gradient-to-r from-orange-500 to-orange-600 text-white border-orange-600 shadow-md":"bg-gradient-to-r from-red-500 to-red-600 text-white border-red-600 shadow-md"}`,children:g.status==="paid"?s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"FULLY PAID"]}):g.status==="partial"?s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"PARTIALLY PAID"]}):s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"PENDING"]})}),s.jsx("span",{className:"text-sm text-gray-700 font-medium",children:g.status==="paid"?s.jsxs("span",{className:"flex items-center gap-2",children:["Fully Paid",s.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),s.jsx("span",{className:"text-xs font-semibold",children:"COMPLETED"})]})]}):g.status==="partial"?"Partially Paid":"Payment Pending"})]}),nt(g)>0&&s.jsxs(de,{onClick:()=>{console.log("Add payment clicked from view"),b(!1),je(g)},className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white shadow-lg",children:[s.jsx(ja,{className:"w-4 h-4 mr-2"}),"Add Payment"]})]}),g.status==="paid"&&s.jsx("div",{className:"mt-4 p-3 bg-gradient-to-r from-green-100 to-emerald-100 border border-green-300 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{className:"font-semibold",children:" Congratulations! Invoice fully paid and completed."})]})})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-4 py-3 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded-lg flex items-center justify-center",children:s.jsx(CA,{className:"w-4 h-4 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"Payment Records"})]})}),s.jsx("div",{className:"p-4",children:lt(g).length>0?s.jsxs("div",{className:"space-y-3",children:[lt(g).map((Pe,Me)=>s.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all duration-200 hover:border-blue-300",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ze,{variant:"outline",className:"bg-green-100 text-green-800 border-green-300 px-2 py-1",children:Pe.payment_method}),s.jsx("span",{className:"text-sm text-gray-600 font-medium",children:new Date(Pe.payment_date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}),s.jsx("span",{className:"text-xs text-gray-500",children:Pe.payment_time||"N/A"}),s.jsxs(Ze,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800 border-blue-300",children:["#",Me+1]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-3 h-3 bg-blue-100 rounded-full flex items-center justify-center text-xs",children:""}),s.jsx("span",{className:"font-medium",children:"Paid:"}),s.jsx("span",{children:Pe.paid_by||"N/A"})]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-3 h-3 bg-green-100 rounded-full flex items-center justify-center text-xs",children:""}),s.jsx("span",{className:"font-medium",children:"Received:"}),s.jsx("span",{children:Pe.received_by||"N/A"})]})]}),s.jsx("p",{className:"text-sm text-gray-700 font-medium",children:Pe.description})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xl font-bold text-green-600",children:e(Pe.amount)}),s.jsx(Ze,{variant:"outline",className:"text-xs border-green-500 text-green-700 bg-green-50",children:Pe.status})]})]})},Pe.id)),s.jsx("div",{className:"mt-4 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-bold text-blue-700",children:"Total Paid:"}),s.jsx("span",{className:"text-xl font-bold text-blue-800",children:e(lt(g).reduce((Pe,Me)=>Pe+Me.amount,0))})]})})]}):s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(CA,{className:"w-8 h-8 text-gray-400"})}),s.jsx("p",{className:"text-lg font-semibold mb-2",children:"No payments recorded yet"}),s.jsxs("p",{className:"text-sm mb-6 text-gray-600",children:["Pending due amount: ",s.jsx("span",{className:"font-bold text-orange-600",children:e(nt(g))})]}),nt(g)>0&&s.jsxs(de,{onClick:()=>{console.log("Record first payment clicked"),b(!1),je(g)},className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-lg",children:[s.jsx(ja,{className:"w-4 h-4 mr-2"}),"Record First Payment"]})]})})]})]})})]})})]})})},nle=()=>{const{orgId:e}=Vh(),t=In(),r=Ir({queryKey:["payments",e],queryFn:async()=>{if(!e)return[];const{data:c,error:u}=await be.from("payments").select("*").eq("organization_id",e).order("created_at",{ascending:!1});if(u)throw u;return c},enabled:!!e}),n=er({mutationFn:async c=>{if(!e)throw new Error("No organization");const u={amount:c.amount,organization_id:e,payment_date:c.payment_date||new Date().toISOString().split("T")[0],payment_method:c.payment_method||null,invoice_id:c.invoice_id||null,status:"completed"},{data:d,error:A}=await be.from("payments").insert(u).select().single();if(A)throw A;if(c.tenant_id&&d){const{data:h}=await be.from("tenants_profile").select("id").filter("tenant_record_id","eq",c.tenant_id).limit(1),m=h?.[0]?.id||c.tenant_id,{error:y}=await be.from("tenant_payment_records").insert({tenant_id:m,payment_id:d.id,payment_type:c.payment_type||"Rent",description:c.description||`Payment via ${c.payment_method||"Manual"}`});y&&console.error("Failed to create tenant payment record:",y)}if(c.invoice_id){const{data:h}=await be.from("invoices").select("amount").eq("id",c.invoice_id).maybeSingle();if(h){const{data:m}=await be.from("payments").select("amount").eq("invoice_id",c.invoice_id),g=(m||[]).reduce((v,x)=>v+Number(x.amount),0)>=Number(h.amount)?"paid":"pending";await be.from("invoices").update({status:g,payment_date:g==="paid"?c.payment_date||new Date().toISOString().split("T")[0]:null,payment_method:c.payment_method||null}).eq("id",c.invoice_id)}}return d},onSuccess:()=>{t.invalidateQueries({queryKey:["payments"]}),t.invalidateQueries({queryKey:["invoices"]}),t.invalidateQueries({queryKey:["tenant-payment-records"]}),t.invalidateQueries({queryKey:["tenant-profile"]}),t.invalidateQueries({queryKey:["payment-stats"]}),He.success("Payment recorded successfully")},onError:c=>He.error(c.message)}),a=er({mutationFn:async({id:c,...u})=>{const{data:d,error:A}=await be.from("payments").update(u).eq("id",c).select().single();if(A)throw A;return d},onSuccess:()=>{t.invalidateQueries({queryKey:["payments"]}),t.invalidateQueries({queryKey:["payment-stats"]}),He.success("Payment updated")},onError:c=>He.error(c.message)}),i=er({mutationFn:async c=>{const{error:u}=await be.from("payments").delete().eq("id",c);if(u)throw u},onSuccess:()=>{t.invalidateQueries({queryKey:["payments"]}),t.invalidateQueries({queryKey:["payment-stats"]}),He.success("Payment deleted")},onError:c=>He.error(c.message)});return{...r,createPayment:n,updatePayment:a,deletePayment:i,getPaymentById:async c=>{const{data:u,error:d}=await be.from("payments").select(`
        *,
        invoice:invoices(id, invoice_number, amount, status, tenant:tenants(id, name))
      `).eq("id",c).maybeSingle();if(d)throw d;return u},getPaymentStats:async()=>{if(!e)return null;const{data:c,error:u}=await be.from("payments").select("amount, payment_date, payment_method, status").eq("organization_id",e);if(u)throw u;const d=new Date().getMonth(),A=new Date().getFullYear(),{data:h}=await be.from("invoices").select("amount, status, due_date").eq("organization_id",e),m=c?.reduce((_,N)=>_+Number(N.amount),0)||0,y=c?.filter(_=>{const N=new Date(_.payment_date);return N.getMonth()===d&&N.getFullYear()===A}).reduce((_,N)=>_+Number(N.amount),0)||0,g=h?.reduce((_,N)=>_+Number(N.amount),0)||0,v=h?.filter(_=>_.status==="pending").reduce((_,N)=>_+Number(N.amount),0)||0,x=h?.filter(_=>_.status==="overdue").reduce((_,N)=>_+Number(N.amount),0)||0,b=h?.filter(_=>_.status==="paid").reduce((_,N)=>_+Number(N.amount),0)||0;return{total:m,thisMonth:y,count:c?.length||0,average:c&&c.length>0?m/c.length:0,methods:c?.reduce((_,N)=>{const B=N.payment_method||"Unknown";return _[B]=(_[B]||0)+Number(N.amount),_},{})||{},totalInvoiced:g,pendingAmount:v,overdueAmount:x,paidInvoiceAmount:b,dueAmount:v+x}}}},QP=()=>{const{formatAmount:e}=ji(),[t,r]=C.useState(!1),[n,a]=C.useState(!1),[i,o]=C.useState(null),[l,c]=C.useState(!1),[u,d]=C.useState(!1),{data:A,isLoading:h,createPayment:m,updatePayment:y,deletePayment:g,getPaymentStats:v,getPaymentById:x}=nle(),[b,j]=C.useState(""),{data:_,isLoading:N,refetch:B}=Ir({queryKey:["payment-stats"],queryFn:async()=>v?await v():null,refetchInterval:1e4}),T=A?.filter(V=>V.id.toLowerCase().includes(b.toLowerCase())||V.payment_method?.toLowerCase().includes(b.toLowerCase())),O=async V=>{window.confirm("Are you sure you want to delete this payment record?")&&await g.mutateAsync(V)},P=async V=>{await m.mutateAsync(V),B()},M=async V=>{i&&(await y.mutateAsync({id:i.id,...V}),B())},I=async V=>{const X=await x(V.id);o(X),c(!0)},D=async V=>{o(V),r(!0)},$=async V=>{const X=await x(V.id);o(X),d(!0)},F=async()=>{a(!0);try{await B()}finally{a(!1)}};return s.jsx(An,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Payments History"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Track processed payments and transaction records."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(de,{variant:"outline",onClick:F,disabled:n,children:[n?s.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Rs,{className:"w-4 h-4 mr-2"}),n?"Refreshing...":"Refresh"]}),s.jsxs(de,{className:"glow-primary",onClick:()=>{o(null),r(!0)},children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Record Payment"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-card p-5",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Received"}),s.jsxs("div",{className:"flex items-end justify-between mt-2",children:[s.jsx("h3",{className:"text-2xl font-bold text-green-500",children:N?s.jsx(jn,{className:"w-5 h-5 animate-spin"}):e(_?.total||0)}),s.jsxs("div",{className:"flex items-center text-xs font-medium px-2 py-1 rounded-full bg-green-500/10 text-green-500",children:[s.jsx(h0,{className:"w-3 h-3 mr-1"}),N?"...":`${_?.count||0} txns`]})]})]}),s.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-card p-5",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Due"}),s.jsxs("div",{className:"flex items-end justify-between mt-2",children:[s.jsx("h3",{className:"text-2xl font-bold text-yellow-500",children:N?s.jsx(jn,{className:"w-5 h-5 animate-spin"}):e(_?.pendingAmount||0)}),s.jsx("div",{className:"flex items-center text-xs font-medium px-2 py-1 rounded-full bg-yellow-500/10 text-yellow-500",children:N?"...":"pending"})]})]}),s.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass-card p-5",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Overdue"}),s.jsxs("div",{className:"flex items-end justify-between mt-2",children:[s.jsx("h3",{className:"text-2xl font-bold text-destructive",children:N?s.jsx(jn,{className:"w-5 h-5 animate-spin"}):e(_?.overdueAmount||0)}),s.jsx("div",{className:"flex items-center text-xs font-medium px-2 py-1 rounded-full bg-destructive/10 text-destructive",children:N?"...":"overdue"})]})]}),s.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"glass-card p-5",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Invoiced"}),s.jsxs("div",{className:"flex items-end justify-between mt-2",children:[s.jsx("h3",{className:"text-2xl font-bold",children:N?s.jsx(jn,{className:"w-5 h-5 animate-spin"}):e(_?.totalInvoiced||0)}),s.jsx("div",{className:"flex items-center text-xs font-medium px-2 py-1 rounded-full bg-muted/50 text-muted-foreground",children:N?"...":"all time"})]})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"relative w-full md:w-96",children:[s.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(it,{placeholder:"Search by ID or method...",className:"pl-10",value:b,onChange:V=>j(V.target.value)})]}),s.jsxs(de,{variant:"outline",children:[s.jsx(Tp,{className:"w-4 h-4 mr-2"}),"Filter History"]})]}),s.jsx("div",{className:"glass-card overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border/50 bg-muted/30",children:[s.jsx("th",{className:"p-4 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Transaction"}),s.jsx("th",{className:"p-4 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Date"}),s.jsx("th",{className:"p-4 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Method"}),s.jsx("th",{className:"p-4 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Amount"}),s.jsx("th",{className:"p-4 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Status"}),s.jsx("th",{className:"p-4 text-xs font-semibold uppercase tracking-wider text-muted-foreground text-right",children:"Actions"})]})}),s.jsx("tbody",{children:h?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center",children:s.jsx(jn,{className:"w-6 h-6 animate-spin mx-auto text-primary"})})}):T?.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-muted-foreground",children:"No payments recorded yet."})}):T?.map((V,X)=>s.jsxs(vt.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:X*.05},className:"border-b border-border/50 hover:bg-muted/20 transition-colors",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-success/10 flex items-center justify-center",children:s.jsx(bn,{className:"w-4 h-4 text-success"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-sm",children:["TXN-",V.id.slice(0,8).toUpperCase()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Invoice: ",V.invoice_id?.slice(0,8)||"N/A"]})]})]})}),s.jsx("td",{className:"p-4 text-sm",children:new Date(V.payment_date).toLocaleDateString()}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:"text-sm font-medium",children:V.payment_method||"Credit Card"})}),s.jsxs("td",{className:"p-4 text-sm font-bold text-success",children:["+",e(V.amount)]}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-1.5 text-success",children:[s.jsx(h0,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Completed"})]})}),s.jsx("td",{className:"p-4 text-right",children:s.jsxs(cl,{children:[s.jsx(ul,{asChild:!0,children:s.jsx(de,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(Th,{className:"w-4 h-4"})})}),s.jsxs(Fo,{align:"end",className:"w-40",children:[s.jsxs(qr,{onClick:()=>I(V),children:[s.jsx(si,{className:"w-4 h-4 mr-2"}),"View Details"]}),s.jsxs(qr,{onClick:()=>D(V),children:[s.jsx(hl,{className:"w-4 h-4 mr-2"}),"Edit"]}),s.jsxs(qr,{onClick:()=>$(V),children:["Receipt ",s.jsx(gv,{className:"w-3.5 h-3.5 ml-1"})]}),s.jsxs(qr,{className:"text-destructive",onClick:()=>O(V.id),children:[s.jsx(yi,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]},V.id))})]})})}),s.jsx(rle,{open:t,onOpenChange:r,onSubmit:i?M:P,isLoading:m.isPending||y.isPending,initialData:i}),l&&i&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-background p-6 rounded-xl max-w-md w-full mx-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Payment Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Transaction ID"}),s.jsxs("p",{className:"font-medium",children:["TXN-",i.id.slice(0,8).toUpperCase()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Amount"}),s.jsxs("p",{className:"font-medium text-success",children:["+",e(i.amount)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Payment Method"}),s.jsx("p",{className:"font-medium",children:i.payment_method||"Credit Card"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Payment Date"}),s.jsx("p",{className:"font-medium",children:new Date(i.payment_date).toLocaleDateString()})]}),i.invoice&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Linked Invoice"}),s.jsx("p",{className:"font-medium",children:i.invoice.invoice_number})]}),i.invoice?.tenant&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tenant"}),s.jsx("p",{className:"font-medium",children:i.invoice.tenant.name})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx(de,{variant:"outline",onClick:()=>c(!1),children:"Close"}),s.jsx(de,{onClick:()=>{c(!1),r(!0)},children:"Edit Payment"})]})]})}),u&&i&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-background p-8 rounded-xl max-w-md w-full mx-4",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-success/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(h0,{className:"w-8 h-8 text-success"})}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Payment Receipt"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Thank you for your payment"})]}),s.jsxs("div",{className:"border-t border-b border-border/50 py-4 mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Transaction ID"}),s.jsxs("span",{className:"font-mono text-sm",children:["TXN-",i.id.slice(0,8).toUpperCase()]})]}),s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Date"}),s.jsx("span",{className:"text-sm",children:new Date(i.payment_date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Payment Method"}),s.jsx("span",{className:"text-sm font-medium",children:i.payment_method||"Credit Card"})]}),i.invoice&&s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Invoice"}),s.jsx("span",{className:"text-sm",children:i.invoice.invoice_number})]})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("span",{className:"text-lg font-semibold",children:"Total Paid"}),s.jsx("span",{className:"text-2xl font-bold text-success",children:e(i.amount)})]}),i.invoice?.tenant&&s.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 mb-4",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Paid by"}),s.jsx("p",{className:"font-medium",children:i.invoice.tenant.name})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{variant:"outline",className:"flex-1",onClick:()=>d(!1),children:"Close"}),s.jsx(de,{className:"flex-1",onClick:()=>{window.print()},children:"Print Receipt"})]})]})})]})})},WWe=[{id:"open",label:"Open",icon:Qi,color:"text-primary",bg:"bg-primary/10"},{id:"in_progress",label:"In Progress",icon:ca,color:"text-warning",bg:"bg-warning/10"},{id:"completed",label:"Completed",icon:h0,color:"text-success",bg:"bg-success/10"}],GWe=({priority:e})=>{const t={high:"bg-destructive/10 text-destructive border-destructive/20",medium:"bg-warning/10 text-warning border-warning/20",low:"bg-success/10 text-success border-success/20"};return s.jsx(Ze,{variant:"outline",className:st("text-[10px] uppercase px-1.5 py-0",t[e.toLowerCase()]||""),children:e})},I2=()=>{const{data:e,isLoading:t,updateTicket:r}=yL(),[n,a]=C.useState(""),i=e?.filter(l=>l.title.toLowerCase().includes(n.toLowerCase())||l.description?.toLowerCase().includes(n.toLowerCase())),o=l=>i?.filter(c=>c.status.toLowerCase()===l.toLowerCase())||[];return s.jsx(An,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Maintenance Tickets"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Track and manage repair requests and work orders."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(de,{variant:"outline",children:[s.jsx(Tp,{className:"w-4 h-4 mr-2"}),"Filter"]}),s.jsxs(de,{className:"glow-primary",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"New Ticket"]})]})]}),s.jsxs("div",{className:"relative w-full md:w-96",children:[s.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(it,{placeholder:"Search tickets...",className:"pl-10",value:n,onChange:l=>a(l.target.value)})]}),t?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(jn,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 h-full min-h-[600px]",children:WWe.map(l=>s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("div",{className:"flex items-center justify-between pb-2 border-b border-border/50",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(l.icon,{className:st("w-4 h-4",l.color)}),s.jsx("h3",{className:"font-semibold text-sm uppercase tracking-wider",children:l.label}),s.jsx(Ze,{variant:"secondary",className:"ml-2 bg-muted/50",children:o(l.id).length})]})}),s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsx(mu,{mode:"popLayout",children:o(l.id).map((c,u)=>s.jsxs(vt.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},className:"glass-card p-4 space-y-3 cursor-grab active:cursor-grabbing hover:border-primary/30 transition-colors group",draggable:!0,onDragStart:d=>{d.dataTransfer?.setData("ticketId",c.id)},children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("h4",{className:"font-medium text-sm line-clamp-2",children:c.title}),s.jsx(de,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Th,{className:"w-4 h-4"})})]}),c.description&&s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:c.description}),s.jsxs("div",{className:"flex items-center justify-between pt-2",children:[s.jsx(GWe,{priority:c.priority}),s.jsx("div",{className:"flex -space-x-2",children:s.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-card bg-muted flex items-center justify-center",children:s.jsx("span",{className:"text-[10px] font-bold",children:"JD"})})})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-border/50 text-[10px] text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ca,{className:"w-3 h-3"}),new Date(c.created_at).toLocaleDateString()]}),s.jsxs("span",{children:["ID: ",c.id.slice(0,6).toUpperCase()]})]})]},c.id))}),s.jsx("div",{className:"h-24 rounded-xl border-2 border-dashed border-border/30 flex items-center justify-center text-muted-foreground/30 hover:border-primary/30 hover:text-primary/30 transition-colors",onDragOver:c=>c.preventDefault(),onDrop:c=>{c.preventDefault();const u=c.dataTransfer.getData("ticketId");r.mutate({id:u,status:l.id})},children:"Drop here to move"})]})]},l.id))})]})})},YWe=()=>{const{orgId:e}=Vh(),t=In(),r=Ir({queryKey:["expenses",e],queryFn:async()=>{if(!e)return[];const{data:a,error:i}=await be.from("expenses").select("*").eq("organization_id",e).order("created_at",{ascending:!1});if(i)throw i;return a},enabled:!!e}),n=er({mutationFn:async a=>{if(!e)throw new Error("No organization");const i={...a,property_id:a.property_id||null,organization_id:e},{data:o,error:l}=await be.from("expenses").insert(i).select().single();if(l)throw l;return o},onSuccess:()=>{t.invalidateQueries({queryKey:["expenses"]}),He.success("Expense recorded")},onError:a=>He.error(a.message)});return{...r,createExpense:n}},XWe=()=>{const{formatAmount:e}=ji(),{properties:t,isLoading:r}=qh(),{units:n,isLoading:a}=Wy("all"),{isLoading:i}=$C(),{data:o=[],isLoading:l}=nle(),{data:c=[],isLoading:u}=YWe(),{data:d=[],isLoading:A}=Vp(),h=r||a||i||l||u||A,m=C.useMemo(()=>{const N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B=new Date;return Array.from({length:6},(O,P)=>{const M=new Date(B.getFullYear(),B.getMonth()-5+P,1);return{month:N[M.getMonth()],year:M.getFullYear(),m:M.getMonth()}}).map(({month:O,year:P,m:M})=>{const I=o.filter($=>{const F=new Date($.payment_date);return F.getMonth()===M&&F.getFullYear()===P}),D=c.filter($=>{const F=new Date($.expense_date);return F.getMonth()===M&&F.getFullYear()===P});return{month:O,revenue:I.reduce(($,F)=>$+Number(F.amount),0),expenses:D.reduce(($,F)=>$+Number(F.amount),0)}})},[o,c]),y=C.useMemo(()=>{const N=n?.length||1,B=n?.filter(P=>P.availability==="occupied").length||0,T=n?.filter(P=>P.availability==="maintenance").length||0,O=N-B-T;return[{name:"Occupied",value:Math.round(B/N*100),color:"hsl(var(--primary))"},{name:"Vacant",value:Math.round(O/N*100),color:"hsl(var(--muted))"},{name:"Maintenance",value:Math.round(T/N*100),color:"hsl(var(--warning))"}]},[n]),g=y[0]?.value||0,v=C.useMemo(()=>(t||[]).slice(0,6).map(N=>{const B=n?.filter(O=>O.property_id===N.id)||[],T=B.filter(O=>O.availability==="occupied");return{name:N.name.length>15?N.name.slice(0,15)+"":N.name,revenue:T.reduce((O,P)=>O+(P.rent||0),0),occupancy:B.length>0?Math.round(T.length/B.length*100):0}}),[t,n]),x=o.reduce((N,B)=>N+Number(B.amount),0),b=n?.length||0,j=d.filter(N=>N.status==="active").length,_=[{label:"Net Revenue",value:e(x),change:`${o.length} payments`,icon:Hi},{label:"Avg Occupancy",value:`${g}%`,change:`${n?.filter(N=>N.availability==="occupied").length||0}/${b} units`,icon:Nr},{label:"Active Tenants",value:j.toString(),change:`${d.length} total`,icon:Al},{label:"Properties",value:(t?.length||0).toString(),change:`${b} units`,icon:sn}];return h?s.jsx(An,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(rl,{className:"h-8 w-48"}),s.jsx(rl,{className:"h-4 w-64 mt-2"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((N,B)=>s.jsx(rl,{className:"h-28 rounded-xl"},B))}),s.jsx(rl,{className:"h-[400px] rounded-xl"})]})}):s.jsx(An,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Portfolio Analytics"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Deep dive into your revenue, occupancy, and growth trends."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(de,{variant:"outline",children:[s.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Last 6 Months"]}),s.jsxs(de,{className:"glow-primary",children:[s.jsx(Ro,{className:"w-4 h-4 mr-2"}),"Download Report"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:_.map((N,B)=>s.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.1},className:"glass-card p-5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:N.label}),s.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(N.icon,{className:"w-4 h-4 text-primary"})})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("h3",{className:"text-2xl font-bold",children:N.value}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:N.change})]})]},N.label))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"font-semibold",children:"Revenue vs Expenses"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Revenue"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-muted-foreground/30"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Expenses"})]})]})]}),s.jsx("div",{className:"h-[300px]",children:s.jsx(Ua,{width:"100%",height:"100%",children:s.jsxs(M_,{data:m,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorRev",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),s.jsx(O_,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border)/0.3)"}),s.jsx(Fi,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"}}),s.jsx(Ri,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},tickFormatter:N=>`${e(N).slice(0,-3)}k`}),s.jsx(ss,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"12px"}}),s.jsx(Gl,{type:"monotone",dataKey:"revenue",stroke:"hsl(var(--primary))",strokeWidth:2,fillOpacity:1,fill:"url(#colorRev)"}),s.jsx(Gl,{type:"monotone",dataKey:"expenses",stroke:"hsl(var(--muted-foreground)/0.5)",strokeWidth:2,fill:"transparent"})]})})})]}),s.jsxs("div",{className:"glass-card p-6",children:[s.jsx("h3",{className:"font-semibold mb-6",children:"Occupancy Status"}),s.jsxs("div",{className:"h-[250px] relative",children:[s.jsx(Ua,{width:"100%",height:"100%",children:s.jsxs(fh,{children:[s.jsx(Ao,{data:y,innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:y.map((N,B)=>s.jsx(gu,{fill:N.color},`cell-${B}`))}),s.jsx(ss,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}})]})}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[s.jsxs("span",{className:"text-3xl font-bold",children:[g,"%"]}),s.jsx("span",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Occupied"})]})]}),s.jsx("div",{className:"space-y-3 mt-4",children:y.map(N=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:N.color}}),s.jsx("span",{className:"text-sm text-muted-foreground",children:N.name})]}),s.jsxs("span",{className:"text-sm font-semibold",children:[N.value,"%"]})]},N.name))})]})]}),s.jsxs("div",{className:"glass-card p-6",children:[s.jsx("h3",{className:"font-semibold mb-6",children:"Property Performance Comparison"}),v.length===0?s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No properties to display"}):s.jsx("div",{className:"h-[300px]",children:s.jsx(Ua,{width:"100%",height:"100%",children:s.jsxs(D_,{data:v,children:[s.jsx(O_,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border)/0.3)"}),s.jsx(Fi,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"}}),s.jsx(Ri,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},tickFormatter:N=>`${e(N).slice(0,-3)}k`}),s.jsx(ss,{cursor:{fill:"hsl(var(--muted)/0.1)"},contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"12px"}}),s.jsx(_d,{dataKey:"revenue",fill:"hsl(var(--primary))",radius:[6,6,0,0],barSize:40})]})})})]})]})})},JWe=()=>{const{currency:e,setCurrency:t,formatAmount:r,getCurrencySymbol:n}=ji(),[a,i]=C.useState(e),o=()=>{t(a),He.success(`Currency changed to ${a}`)},l=[{code:"INR",name:"Indian Rupee",symbol:"",icon:sp,description:"Default currency for Indian operations"},{code:"USD",name:"US Dollar",symbol:"$",icon:ja,description:"International standard currency"}];return s.jsxs(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[s.jsx(sp,{className:"w-5 h-5"}),"Currency Settings"]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Choose your preferred currency for all financial transactions and reports."})]}),s.jsx("div",{className:"grid gap-4",children:l.map(c=>{const u=c.icon,d=a===c.code;return s.jsx(Le,{className:`cursor-pointer transition-all duration-200 ${d?"ring-2 ring-primary bg-primary/5 border-primary/20":"hover:bg-muted/50"}`,onClick:()=>i(c.code),children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${d?"bg-primary/10":"bg-muted"}`,children:s.jsx(u,{className:`w-6 h-6 ${d?"text-primary":"text-muted-foreground"}`})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium",children:c.name}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",c.code,")"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.description}),s.jsx("div",{className:"mt-2",children:s.jsxs("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:["Example: ",r(1e4)]})})]})]}),s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${d?"border-primary bg-primary":"border-muted-foreground"}`,children:d&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})})]})})},c.code)})}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:"Current Active Currency"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["All amounts will be displayed in ",e," (",n(),")"]})]}),s.jsx("div",{className:"text-lg font-bold",children:n()})]}),a!==e&&s.jsx("div",{className:"flex justify-end pt-4",children:s.jsxs(de,{onClick:o,className:"gap-2",children:[s.jsx(Xw,{className:"w-4 h-4"}),"Save Currency Settings"]})})]})},F2=()=>{const{setupOrganization:e}=Vh(),{theme:t,setTheme:r}=e3(),{session:n,signOut:a,profile:i,user:o}=ua(),[l,c]=C.useState("profile"),[u,d]=C.useState(i?.full_name||""),[A,h]=C.useState(""),[m,y]=C.useState(""),[g,v]=C.useState(""),[x,b]=C.useState(!0),[j,_]=C.useState(!0),[N,B]=C.useState(!0),T=async()=>{if(!o?.id)return;const{error:M}=await be.from("profiles").update({full_name:u}).eq("id",o.id);M?He.error("Failed to update profile"):He.success("Profile updated successfully")},O=async()=>{if(m!==g){He.error("Passwords do not match");return}if(m.length<6){He.error("Password must be at least 6 characters");return}const{error:M}=await be.auth.updateUser({password:m});M?He.error(M.message):(He.success("Password changed successfully"),y(""),v(""))},P=async()=>{if(A)try{await e(A),He.success("Organization updated")}catch{He.error("Failed to update organization")}};return s.jsx(An,{children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Settings"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your account, organization, and system preferences."})]}),s.jsxs(kd,{value:l,onValueChange:c,className:"space-y-6",children:[s.jsxs(Pu,{className:"bg-muted/50 p-1",children:[s.jsxs(Zr,{value:"profile",className:"gap-2",children:[s.jsx(Fs,{className:"w-4 h-4"})," Profile"]}),s.jsxs(Zr,{value:"security",className:"gap-2",children:[s.jsx(U0,{className:"w-4 h-4"})," Security"]}),s.jsxs(Zr,{value:"organization",className:"gap-2",children:[s.jsx(_F,{className:"w-4 h-4"})," Organization"]}),s.jsxs(Zr,{value:"currency",className:"gap-2",children:[s.jsx(sp,{className:"w-4 h-4"})," Currency"]}),s.jsxs(Zr,{value:"notifications",className:"gap-2",children:[s.jsx(sl,{className:"w-4 h-4"})," Notifications"]})]}),s.jsx(hn,{value:"profile",children:s.jsxs(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4 pb-6 border-b border-border/50",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary/10 flex items-center justify-center",children:s.jsx(Fs,{className:"w-8 h-8 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg",children:i?.full_name||n?.user?.email?.split("@")[0]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n?.user?.email})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Full Name"}),s.jsx(it,{value:u,onChange:M=>d(M.target.value),placeholder:"Your name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Email Address"}),s.jsx(it,{value:n?.user?.email||"",disabled:!0})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsxs(de,{variant:"outline",onClick:()=>a(),children:[s.jsx(EF,{className:"w-4 h-4 mr-2"})," Sign Out"]}),s.jsxs(de,{className:"glow-primary",onClick:T,children:[s.jsx(Xw,{className:"w-4 h-4 mr-2"})," Save Changes"]})]})]})}),s.jsx(hn,{value:"security",children:s.jsxs(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card p-6 space-y-6",children:[s.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[s.jsx(U0,{className:"w-5 h-5"})," Change Password"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"New Password"}),s.jsx(it,{type:"password",value:m,onChange:M=>y(M.target.value),placeholder:"Enter new password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Confirm Password"}),s.jsx(it,{type:"password",value:g,onChange:M=>v(M.target.value),placeholder:"Confirm new password"})]})]}),s.jsxs(de,{onClick:O,variant:"outline",className:"gap-2",children:[s.jsx(Lo,{className:"w-4 h-4"})," Change Password"]})]})}),s.jsx(hn,{value:"organization",children:s.jsxs(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card p-6 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Organization Name"}),s.jsx(it,{placeholder:"PropFlow Inc.",value:A,onChange:M=>h(M.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Business Website"}),s.jsxs("div",{className:"relative",children:[s.jsx(BF,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(it,{placeholder:"https://propflow.ai",className:"pl-10"})]})]})]}),s.jsx("div",{className:"pt-4 border-t border-border/50 flex justify-end",children:s.jsx(de,{className:"glow-primary",onClick:P,children:"Update Organization"})})]})}),s.jsx(hn,{value:"currency",children:s.jsx("div",{className:"glass-card p-6",children:s.jsx(JWe,{})})}),s.jsx(hn,{value:"notifications",children:s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card p-6 space-y-4",children:[{title:"Email Notifications",desc:"Receive weekly revenue reports and maintenance alerts.",icon:Bu,checked:x,onChange:b},{title:"Push Notifications",desc:"Real-time alerts for urgent maintenance tickets.",icon:vN,checked:j,onChange:_},{title:"System Alerts",desc:"Important updates regarding your account and billing.",icon:sl,checked:N,onChange:B}].map(M=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl hover:bg-muted/30 transition-colors",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center shrink-0",children:s.jsx(M.icon,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:M.title}),s.jsx("p",{className:"text-xs text-muted-foreground",children:M.desc})]})]}),s.jsx(yu,{checked:M.checked,onCheckedChange:M.onChange})]},M.title))})})]}),s.jsx("div",{className:"glass-card p-6 space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:s.jsx(Iv,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:"Appearance"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Customize how PropFlow looks on your device."})]})]}),s.jsxs("div",{className:"flex bg-muted rounded-lg p-1",children:[s.jsxs(de,{variant:"ghost",size:"sm",className:`h-8 px-3 gap-2 ${t==="dark"?"bg-background shadow-sm":"opacity-50"}`,onClick:()=>r("dark"),children:[s.jsx(Iv,{className:"w-3 h-3"})," Dark"]}),s.jsxs(de,{variant:"ghost",size:"sm",className:`h-8 px-3 gap-2 ${t==="light"?"bg-background shadow-sm":"opacity-50"}`,onClick:()=>r("light"),children:[s.jsx(kF,{className:"w-3 h-3"})," Light"]})]})]})})]})})},ZWe=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(!1),[a,i]=C.useState(""),[o,l]=C.useState(""),[c,u]=C.useState(""),{orgId:d}=Vh(),A=In(),{data:h=[],isLoading:m}=Ir({queryKey:["users",d],queryFn:async()=>{if(!d)return[];const{data:N,error:B}=await be.from("profiles").select(`
          id,
          email,
          full_name,
          created_at
        `).eq("organization_id",d).order("created_at",{ascending:!1});if(B)throw B;return await Promise.all(N.map(async O=>{const{data:P}=await be.from("user_roles").select("role").eq("user_id",O.id);return{...O,roles:P?.map(M=>M.role)||[]}}))},enabled:!!d}),y=er({mutationFn:async({userId:N,newRole:B})=>{await be.from("user_roles").delete().eq("user_id",N);const{error:T}=await be.from("user_roles").insert({user_id:N,role:B});if(T)throw T},onSuccess:()=>{A.invalidateQueries({queryKey:["users"]}),He.success("User role updated")},onError:N=>He.error(N.message)}),g=er({mutationFn:async({email:N,fullName:B,role:T})=>{const{data:O,error:P}=await be.auth.admin.createUser({email:N,email_confirm:!0,user_metadata:{full_name:B}});if(P)throw P;if(O.user?.id){const{error:M}=await be.from("profiles").update({organization_id:d,full_name:B}).eq("id",O.user.id);if(M)throw M;const{error:I}=await be.from("user_roles").insert({user_id:O.user.id,role:T});if(I)throw I}},onSuccess:()=>{A.invalidateQueries({queryKey:["users"]}),He.success("User created successfully"),n(!1),i(""),l(""),u("")},onError:N=>He.error(N.message)}),v=er({mutationFn:async N=>{const{error:B}=await be.from("profiles").update({organization_id:null}).eq("id",N);if(B)throw B},onSuccess:()=>{A.invalidateQueries({queryKey:["users"]}),He.success("User removed from organization")},onError:N=>He.error(N.message)}),x=h.filter(N=>N.email.toLowerCase().includes(e.toLowerCase())||N.full_name?.toLowerCase().includes(e.toLowerCase())),b=(N,B)=>{y.mutate({userId:N,newRole:B})},j=N=>{v.mutate(N)},_=()=>{if(!a||!o||!c){He.error("Please fill in all fields");return}g.mutate({email:a,fullName:o,role:c})};return s.jsx(An,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"User Management"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage users and their roles in your organization"})]}),s.jsxs(dn,{open:r,onOpenChange:n,children:[s.jsx(_h,{asChild:!0,children:s.jsxs(de,{className:"gap-2",children:[s.jsx(wu,{className:"w-4 h-4"}),"Add User"]})}),s.jsxs(an,{children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Add New User"}),s.jsx(_n,{children:"Create a new user account and add them to your organization."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"email",children:"Email"}),s.jsx(it,{id:"email",type:"email",placeholder:"user@example.com",value:a,onChange:N=>i(N.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"name",children:"Full Name"}),s.jsx(it,{id:"name",placeholder:"John Doe",value:o,onChange:N=>l(N.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"role",children:"Role"}),s.jsxs(ar,{value:c,onValueChange:u,children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select a role"})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"admin",children:"Admin"}),s.jsx(Fe,{value:"manager",children:"Manager"}),s.jsx(Fe,{value:"tenant",children:"Tenant"}),s.jsx(Fe,{value:"staff",children:"Staff"}),s.jsx(Fe,{value:"guest",children:"Guest"})]})]})]})]}),s.jsxs(Qa,{children:[s.jsx(de,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),s.jsx(de,{onClick:_,disabled:g.isPending,children:g.isPending?"Creating...":"Create User"})]})]})]})]}),s.jsxs("div",{className:"relative max-w-sm",children:[s.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(it,{placeholder:"Search users...",value:e,onChange:N=>t(N.target.value),className:"pl-9 rounded-xl bg-muted/50 border-border/50"})]}),s.jsx("div",{className:"bg-card rounded-xl border border-border/50",children:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:m?s.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((N,B)=>s.jsx("div",{className:"p-4 border border-border/50 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-muted animate-pulse"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 w-32 bg-muted animate-pulse rounded"}),s.jsx("div",{className:"h-3 w-24 bg-muted animate-pulse rounded"})]})]}),s.jsx("div",{className:"h-8 w-20 bg-muted animate-pulse rounded"})]})},B))}):x.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Nr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No users found"})]}):x.map(N=>s.jsxs("div",{className:"p-4 border border-border/50 rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/15 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-primary",children:N.full_name?.split(" ").map(B=>B[0]).join("")||N.email[0].toUpperCase()})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:N.full_name||"Unknown"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:N.email})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(ar,{value:N.roles[0]||"",onValueChange:B=>b(N.id,B),children:[s.jsx(ir,{className:"w-32",children:s.jsx(lr,{})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"admin",children:"Admin"}),s.jsx(Fe,{value:"manager",children:"Manager"}),s.jsx(Fe,{value:"tenant",children:"Tenant"}),s.jsx(Fe,{value:"staff",children:"Staff"}),s.jsx(Fe,{value:"guest",children:"Guest"})]})]}),s.jsxs(LC,{children:[s.jsx(_Me,{asChild:!0,children:s.jsx(de,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",children:s.jsx(yi,{className:"w-4 h-4"})})}),s.jsxs(bb,{children:[s.jsxs(jb,{children:[s.jsx(Nb,{children:"Remove User"}),s.jsxs(Cb,{children:["Are you sure you want to remove ",N.full_name||N.email," from your organization? This action can be reversed by adding them back later."]})]}),s.jsxs(_b,{children:[s.jsx(Bb,{children:"Cancel"}),s.jsx(Sb,{onClick:()=>j(N.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remove User"})]})]})]})]})]}),s.jsx("div",{className:"flex items-center gap-2 mt-3",children:N.roles.map(B=>s.jsx(Ze,{variant:B==="admin"?"default":"secondary",className:"text-xs capitalize",children:B.replace("_"," ")},B))})]},N.id))})})})]})})};class eGe{isEnhancedSchema=!1;migrationChecked=!1;constructor(){this.initializeService()}async initializeService(){this.migrationChecked||(await this.checkMigrationStatus(),this.migrationChecked=!0)}async checkMigrationStatus(){try{const{data:t,error:r}=await be.from("tenant_family_members").select("id").limit(1);this.isEnhancedSchema=!r,console.log("Backend Service - Enhanced schema available:",this.isEnhancedSchema)}catch{this.isEnhancedSchema=!1,console.log("Backend Service - Using current schema")}}async ensureInitialized(){this.migrationChecked||await this.initializeService()}mapToFamilyMember(t,r){return{id:t.id,tenant_id:t.tenant_id||r,name:t.full_name||t.name||"Unknown",relation:t.relationship||t.relation||"other",mobile_number:t.phone||t.mobile_number||"",date_of_birth:t.date_of_birth,occupation:t.occupation||"Not specified",is_emergency_contact:t.is_primary||t.is_emergency_contact||!1,created_at:t.created_at,updated_at:t.updated_at}}mapToDocument(t,r){return{id:t.id,tenant_id:t.tenant_id||r,document_type:t.document_type||"other",document_number:t.document_number||"N/A",document_name:t.document_name||t.document_type||"Document",file_url:t.file_url||t.document_url||"",file_size:t.file_size||0,file_type:t.file_type||"pdf",upload_date:t.upload_date||t.uploaded_at||new Date().toISOString(),expiry_date:t.expiry_date,is_verified:t.is_verified||!1,created_at:t.created_at||t.uploaded_at||new Date().toISOString(),updated_at:t.updated_at||t.uploaded_at||new Date().toISOString()}}async getTenantProfile(t){try{await this.ensureInitialized();const{data:r,error:n}=await be.from("tenants").select("*").eq("id",t).single();if(n)throw n;const a={id:r.id,name:r.name,email:r.email||"",phone:r.phone||"",address:"123 Main Street, City",emergency_contact_name:"Jane Doe",emergency_contact_relation:"Spouse",emergency_contact_mobile:"+91 98765 43211",lease_start:r.lease_start||"",lease_end:r.lease_end||"",rent_amount:r.rent_amount||0,security_deposit:r.security_deposit||0,status:r.status,property_id:r.property_id||"",unit_id:r.unit_id||"",organization_id:r.organization_id,created_at:r.created_at,updated_at:r.updated_at},[i,o,l,c]=await Promise.all([this.getFamilyMembers(t),this.getDocuments(t),this.getBills(t),this.getMeterReadings(t)]),u={unit:"A-101",property:"Sunshine Apartments",property_address:"123 Main Street, City",floor:"1",rent:r.rent_amount||15e3,join_date:r.lease_start||"2024-01-01",end_date:r.lease_end||"2024-12-31",security_deposit:r.security_deposit||45e3,monthly_rent:r.rent_amount||15e3};return{success:!0,data:{tenant:a,family_members:i.data||[],documents:o.data||[],room_info:u,recent_meter_readings:c.data||[],bills:l.data||[]}}}catch(r){return console.error("Error fetching tenant profile:",r),{success:!1,error:r instanceof Error?r.message:"Failed to fetch tenant profile"}}}async getFamilyMembers(t){try{if(await this.ensureInitialized(),this.isEnhancedSchema){const{data:r,error:n}=await be.from("tenant_family_members").select("*").eq("tenant_id",t).order("created_at",{ascending:!1});if(n)throw n;return{success:!0,data:(r||[]).map(i=>this.mapToFamilyMember(i,t))}}else return{success:!0,data:[]}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch family members"}}}async addFamilyMember(t,r){try{if(await this.ensureInitialized(),this.isEnhancedSchema){const n={tenant_id:t,full_name:r.name,relationship:r.relation,phone:r.mobile_number,is_primary:r.is_emergency_contact},{data:a,error:i}=await be.from("tenant_family_members").insert(n).select().single();if(i)throw i;return{success:!0,data:this.mapToFamilyMember(a,t)}}else return{success:!0,data:{id:"mock-"+Date.now(),tenant_id:t,...r,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to add family member"}}}async updateFamilyMember(t,r){try{if(await this.ensureInitialized(),this.isEnhancedSchema){const n={};r.name&&(n.full_name=r.name),r.relation&&(n.relationship=r.relation),r.mobile_number&&(n.phone=r.mobile_number),r.is_emergency_contact!==void 0&&(n.is_primary=r.is_emergency_contact);const{data:a,error:i}=await be.from("tenant_family_members").update(n).eq("id",t).select().single();if(i)throw i;return{success:!0,data:this.mapToFamilyMember(a,"")}}else return{success:!1,error:"Not supported in current schema"}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to update family member"}}}async deleteFamilyMember(t){try{if(await this.ensureInitialized(),this.isEnhancedSchema){const{error:r}=await be.from("tenant_family_members").delete().eq("id",t);if(r)throw r}return{success:!0,message:"Family member deleted successfully"}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to delete family member"}}}async getDocuments(t){try{if(await this.ensureInitialized(),this.isEnhancedSchema){const{data:r,error:n}=await be.from("tenant_documents").select("*").eq("tenant_id",t).order("uploaded_at",{ascending:!1});if(n)throw n;return{success:!0,data:(r||[]).map(i=>this.mapToDocument(i,t))}}else return{success:!0,data:[]}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch documents"}}}async addDocument(t,r){try{if(await this.ensureInitialized(),this.isEnhancedSchema){const n={tenant_id:t,document_type:r.document_type,document_url:r.file_url},{data:a,error:i}=await be.from("tenant_documents").insert(n).select().single();if(i)throw i;return{success:!0,data:this.mapToDocument(a,t)}}else return{success:!0,data:{id:"mock-"+Date.now(),tenant_id:t,document_type:r.document_type,document_number:"N/A",document_name:r.document_type||"Document",file_url:r.file_url||"",file_size:0,file_type:"pdf",upload_date:new Date().toISOString(),expiry_date:void 0,is_verified:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to add document"}}}async getBills(t){try{const{data:r,error:n}=await be.from("invoices").select(`
          *,
          payments (
            id,
            amount,
            payment_date,
            payment_method,
            status
          )
        `).eq("tenant_id",t).order("issue_date",{ascending:!1});if(n)throw n;return{success:!0,data:(r||[]).map(i=>({id:i.id,tenant_id:i.tenant_id,invoice_number:i.invoice_number,bill_type:"Rent",amount:i.amount,issue_date:i.issue_date,due_date:i.due_date,status:i.status,total_paid:i.payments?.reduce((o,l)=>o+l.amount,0)||0,remaining_balance:i.amount-(i.payments?.reduce((o,l)=>o+l.amount,0)||0),created_at:i.created_at,updated_at:i.updated_at}))}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch bills"}}}async addBill(t,r){try{const{data:n}=await be.from("tenants").select("organization_id").eq("id",t).single(),a={...r,tenant_id:t,organization_id:n?.organization_id},{data:i,error:o}=await be.from("invoices").insert(a).select().single();if(o)throw o;const l=i;return{success:!0,data:{id:l.id,tenant_id:l.tenant_id,invoice_number:l.invoice_number,bill_type:l.bill_type||"Rent",amount:l.amount,issue_date:l.issue_date,due_date:l.due_date,status:l.status,total_paid:0,remaining_balance:l.amount,created_at:l.created_at,updated_at:l.updated_at}}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to add bill"}}}async getMeterReadings(t){try{if(await this.ensureInitialized(),this.isEnhancedSchema){const{data:r,error:n}=await be.from("electricity_meter_readings").select("*").eq("tenant_id",t).order("reading_month",{ascending:!1}).limit(12);if(n)throw n;return{success:!0,data:r||[]}}else return{success:!0,data:[{id:"1",tenant_id:t,unit_id:"1",reading_month:"2024-01-01",previous_reading:1e3,current_reading:1050,units_used:50,unit_rate:8.5,total_amount:425,reading_date:new Date().toISOString(),is_final:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch meter readings"}}}async addMeterReading(t,r){try{if(await this.ensureInitialized(),this.isEnhancedSchema){const n=r.current_reading-r.previous_reading,a=n*r.unit_rate,i={...r,tenant_id:t,units_used:n,total_amount:a,reading_date:new Date().toISOString()},{data:o,error:l}=await be.from("electricity_meter_readings").insert(i).select().single();if(l)throw l;return{success:!0,data:o}}else{const n=r.current_reading-r.previous_reading,a=n*r.unit_rate;return{success:!0,data:{id:"mock-"+Date.now(),tenant_id:t,unit_id:r.unit_id,reading_month:r.reading_month,previous_reading:r.previous_reading,current_reading:r.current_reading,units_used:n,unit_rate:r.unit_rate,total_amount:a,reading_date:new Date().toISOString(),is_final:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to add meter reading"}}}async updateRoomInfo(t,r){try{const n={...r},{data:a,error:i}=await be.from("tenants").update(n).eq("id",t).select().single();if(i)throw i;const o=a;return{success:!0,data:{id:o.id,name:o.name,email:o.email||"",phone:o.phone||"",address:o.address||"123 Main Street, City",emergency_contact_name:o.emergency_contact_name||"Jane Doe",emergency_contact_relation:o.emergency_contact_relation||"Spouse",emergency_contact_mobile:o.emergency_contact_mobile||"+91 98765 43211",lease_start:o.lease_start||"",lease_end:o.lease_end||"",rent_amount:o.rent_amount||0,security_deposit:o.security_deposit||0,status:o.status,property_id:o.property_id||"",unit_id:o.unit_id||"",organization_id:o.organization_id,created_at:o.created_at,updated_at:o.updated_at}}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to update room info"}}}async getMigrationStatus(){return await this.ensureInitialized(),{success:!0,data:{isEnhanced:this.isEnhancedSchema,message:this.isEnhancedSchema?"Enhanced schema is available with full features":"Using current schema with limited features"}}}async isEnhancedSchemaAvailable(){return await this.ensureInitialized(),this.isEnhancedSchema}}const np=new eGe,tGe=kC,rGe=oL,nGe=PC,sle=C.forwardRef(({className:e,...t},r)=>s.jsx(qy,{className:st("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));sle.displayName=qy.displayName;const sGe=Gw("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ale=C.forwardRef(({side:e="right",className:t,children:r,...n},a)=>s.jsxs(nGe,{children:[s.jsx(sle,{}),s.jsxs(Ky,{ref:a,className:st(sGe({side:e}),t),...n,children:[r,s.jsxs(TC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Jw,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ale.displayName=Ky.displayName;const aGe=C.forwardRef(({className:e,...t},r)=>s.jsx(xb,{ref:r,className:st("text-lg font-semibold text-foreground",e),...t}));aGe.displayName=xb.displayName;const iGe=C.forwardRef(({className:e,...t},r)=>s.jsx(wb,{ref:r,className:st("text-sm text-muted-foreground",e),...t}));iGe.displayName=wb.displayName;const oGe=[{title:"Dashboard",href:"/admin",icon:Xr,description:"Main admin dashboard"},{title:"Tenant Management",href:"/admin/tenants",icon:Nr,description:"Manage tenant accounts",children:[{title:"Tenant List",href:"/admin/tenants",icon:Aj,description:"View all tenants"},{title:"Tenant Data Listing",href:"/admin/tenant-data",icon:Aj,description:"Complete tenant data listing"}]},{title:"Property Management",href:"/admin/properties",icon:sn,description:"Manage properties and units",children:[{title:"Properties",href:"/admin/properties",icon:sn,description:"Property management"},{title:"Units",href:"/admin/units",icon:sn,description:"Unit management"}]},{title:"Inventory Management",href:"/admin/inventory",icon:fj,description:"Manage inventory items",badge:"New"},{title:"Financial Management",href:"/admin/billing",icon:bn,description:"Billing and payments",children:[{title:"Billing",href:"/admin/billing",icon:ur,description:"Invoice management"},{title:"Payments",href:"/admin/payments",icon:bn,description:"Payment tracking"},{title:"Payment Verification",href:"/admin/payment-verification",icon:si,description:"Verify QR and cash payments"}]},{title:"Maintenance",href:"/admin/maintenance",icon:Ma,description:"Maintenance requests"},{title:"Analytics",href:"/admin/analytics",icon:KA,description:"Reports and analytics"},{title:"System",href:"/admin/backend",icon:ll,description:"Backend system status",children:[{title:"Backend Dashboard",href:"/admin/backend",icon:ll,description:"Backend service status"}]},{title:"Settings",href:"/admin/settings",icon:Is,description:"System settings",children:[{title:"General Settings",href:"/admin/settings",icon:Is,description:"System configuration"},{title:"User Management",href:"/admin/users",icon:Nr,description:"User account management"}]}];function qz({className:e}){const t=Vi(),[r,n]=C.useState([]),[a,i]=C.useState(!1),o=d=>{n(A=>A.includes(d)?A.filter(h=>h!==d):[...A,d])},l=d=>t.pathname===d||t.pathname.startsWith(d+"/"),c=(d,A=0)=>{const h=r.includes(d.title),m=d.children&&d.children.length>0,y=l(d.href);return s.jsxs("div",{className:"space-y-1",children:[s.jsxs(uh,{to:d.href,className:st("flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-md transition-colors",y?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground",A>0&&"pl-6"),onClick:()=>{m&&o(d.title),window.innerWidth<768&&i(!1)},children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(d.icon,{className:"h-4 w-4"}),s.jsx("span",{children:d.title}),d.badge&&s.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:d.badge})]}),m&&s.jsx("div",{className:"flex items-center",children:h?s.jsx(Ov,{className:"h-4 w-4"}):s.jsx(Pp,{className:"h-4 w-4"})})]}),m&&h&&s.jsx("div",{className:"space-y-1",children:d.children?.map(g=>c(g,A+1))})]},d.title)},u=()=>s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"px-3 py-2",children:[s.jsx("h2",{className:"mb-2 px-4 text-lg font-semibold tracking-tight",children:"Admin Panel"}),s.jsx("div",{className:"space-y-1",children:oGe.map(d=>c(d))})]})});return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:st("hidden md:block",e),children:s.jsxs("div",{className:"flex h-full max-h-screen flex-col gap-2",children:[s.jsx("div",{className:"flex h-14 items-center border-b px-4 lg:h-[60px] lg:px-6",children:s.jsxs(uh,{to:"/admin",className:"flex items-center space-x-2 font-bold",children:[s.jsx(sn,{className:"h-6 w-6"}),s.jsx("span",{children:"Admin Panel"})]})}),s.jsx(Lj,{className:"flex-1",children:s.jsx(u,{})})]})}),s.jsx("div",{className:"md:hidden",children:s.jsxs(tGe,{open:a,onOpenChange:i,children:[s.jsx(rGe,{asChild:!0,children:s.jsxs(de,{variant:"outline",size:"icon",className:"shrink-0 md:hidden",children:[s.jsx(Nue,{className:"h-5 w-5"}),s.jsx("span",{className:"sr-only",children:"Toggle navigation menu"})]})}),s.jsxs(ale,{side:"left",className:"flex flex-col",children:[s.jsx("div",{className:"flex h-14 items-center border-b px-4",children:s.jsxs(uh,{to:"/admin",className:"flex items-center space-x-2 font-bold",onClick:()=>i(!1),children:[s.jsx(sn,{className:"h-6 w-6"}),s.jsx("span",{children:"Admin Panel"})]})}),s.jsx(Lj,{className:"flex-1",children:s.jsx(u,{})})]})]})})]})}function ML({children:e}){return s.jsxs("div",{className:"flex h-screen bg-background",children:[s.jsx("div",{className:"hidden md:block w-64 border-r bg-muted/40",children:s.jsx(qz,{})}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("header",{className:"flex h-14 items-center gap-4 border-b bg-muted/40 px-4 lg:h-[60px] lg:px-6",children:[s.jsx("div",{className:"md:hidden",children:s.jsx(qz,{})}),s.jsx("div",{className:"flex-1",children:s.jsx("h1",{className:"text-lg font-semibold md:text-2xl",children:"Admin Dashboard"})}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(de,{variant:"outline",size:"sm",children:"Logout"})})]}),s.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})}function lGe(){const{toast:e}=Nd(),[t,r]=C.useState(!0),[n,a]=C.useState(null),[i,o]=C.useState({totalTenants:0,totalFamilyMembers:0,totalDocuments:0,totalBills:0,totalMeterReadings:0});C.useEffect(()=>{l()},[]);const l=async()=>{try{r(!0);const d=await np.getMigrationStatus();d.success&&a(d.data),o({totalTenants:45,totalFamilyMembers:120,totalDocuments:89,totalBills:156,totalMeterReadings:234})}catch(d){console.error("Error fetching backend status:",d),e({title:"Error",description:"Failed to load backend status",variant:"destructive"})}finally{r(!1)}},c=()=>{l()},u=async()=>{try{const d=await np.getMigrationStatus();if(d.success)e({title:"Success",description:"Backend connection successful"});else throw new Error(d.error)}catch{e({title:"Error",description:"Backend connection failed",variant:"destructive"})}};return t?s.jsx("div",{className:"container mx-auto py-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading backend status..."})]})})}):s.jsx(ML,{children:s.jsxs("div",{className:"flex-1 space-y-4 p-4 md:p-8 pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between space-y-2",children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Backend Dashboard"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(de,{variant:"outline",onClick:c,className:"flex items-center space-x-2",children:[s.jsx(Rs,{className:"h-4 w-4"}),s.jsx("span",{children:"Refresh"})]}),s.jsxs(de,{onClick:u,className:"flex items-center space-x-2",children:[s.jsx(Hl,{className:"h-4 w-4"}),s.jsx("span",{children:"Test Connection"})]})]})]}),s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsxs(gt,{className:"flex items-center space-x-2",children:[s.jsx(ll,{className:"h-5 w-5"}),s.jsx("span",{children:"Database Schema Status"})]}),s.jsx(Wr,{children:"Current database schema and migration status"})]}),s.jsx(De,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Ze,{variant:n?.isEnhanced?"default":"secondary",children:n?.isEnhanced?"Enhanced Schema":"Current Schema"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:n?.message})]}),s.jsx("div",{className:"flex items-center space-x-2",children:n?.isEnhanced?s.jsx(Gr,{className:"h-5 w-5 text-green-600"}):s.jsx(xi,{className:"h-5 w-5 text-yellow-600"})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(Le,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Tenants"}),s.jsx("p",{className:"text-2xl font-bold",children:i.totalTenants})]}),s.jsx(Nr,{className:"h-8 w-8 text-blue-600"})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Family Members"}),s.jsx("p",{className:"text-2xl font-bold",children:i.totalFamilyMembers})]}),s.jsx(Nr,{className:"h-8 w-8 text-green-600"})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Documents"}),s.jsx("p",{className:"text-2xl font-bold",children:i.totalDocuments})]}),s.jsx(ur,{className:"h-8 w-8 text-purple-600"})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Bills"}),s.jsx("p",{className:"text-2xl font-bold",children:i.totalBills})]}),s.jsx(ur,{className:"h-8 w-8 text-orange-600"})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Meter Readings"}),s.jsx("p",{className:"text-2xl font-bold",children:i.totalMeterReadings})]}),s.jsx(Wl,{className:"h-8 w-8 text-yellow-600"})]})})})]}),s.jsxs(kd,{defaultValue:"overview",className:"space-y-4",children:[s.jsxs(Pu,{className:"grid w-full grid-cols-4",children:[s.jsx(Zr,{value:"overview",children:"Overview"}),s.jsx(Zr,{value:"schema",children:"Schema Details"}),s.jsx(Zr,{value:"api",children:"API Status"}),s.jsx(Zr,{value:"logs",children:"System Logs"})]}),s.jsx(hn,{value:"overview",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsx(gt,{children:"Backend Service Status"})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Service Status"}),s.jsx(Ze,{variant:"default",children:"Active"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Last Updated"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:new Date().toLocaleString()})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Version"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"v1.0.0"})]})]})]}),s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsx(gt,{children:"Database Connection"})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Connection Status"}),s.jsx(Ze,{variant:"default",children:"Connected"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Database Type"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Supabase"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Schema Version"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:n?.isEnhanced?"Enhanced":"Current"})]})]})]})]})}),s.jsx(hn,{value:"schema",className:"space-y-4",children:s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsx(gt,{children:"Schema Information"}),s.jsx(Wr,{children:"Current database schema structure and available tables"})]}),s.jsx(De,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Current Schema Tables"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Gr,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"tenants"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Gr,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"tenants_profile"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Gr,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"invoices"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Gr,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"payments"})]})]})]}),n?.isEnhanced&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Enhanced Schema Tables"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Gr,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"tenant_family_members"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Gr,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"tenant_documents"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Gr,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"electricity_meter_readings"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Gr,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Enhanced tenant fields"})]})]})]})]})})]})}),s.jsx(hn,{value:"api",className:"space-y-4",children:s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsx(gt,{children:"API Endpoints Status"}),s.jsx(Wr,{children:"Backend service API endpoints and their status"})]}),s.jsx(De,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Tenant Management"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"getTenantProfile"}),s.jsx(Ze,{variant:"default",children:"Active"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"getFamilyMembers"}),s.jsx(Ze,{variant:"default",children:"Active"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"addFamilyMember"}),s.jsx(Ze,{variant:"default",children:"Active"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"updateRoomInfo"}),s.jsx(Ze,{variant:"default",children:"Active"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Document Management"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"getDocuments"}),s.jsx(Ze,{variant:"default",children:"Active"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"addDocument"}),s.jsx(Ze,{variant:"default",children:"Active"})]})]})]})]})})})]})}),s.jsx(hn,{value:"logs",className:"space-y-4",children:s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsx(gt,{children:"System Logs"}),s.jsx(Wr,{children:"Recent backend service activities and events"})]}),s.jsx(De,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsx("span",{children:"Backend service initialized"}),s.jsx("span",{className:"text-muted-foreground",children:"Just now"})]}),s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsxs("span",{children:["Schema status: ",n?.isEnhanced?"Enhanced":"Current"]}),s.jsx("span",{className:"text-muted-foreground",children:"1 min ago"})]}),s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsx("span",{children:"Database connection established"}),s.jsx("span",{className:"text-muted-foreground",children:"2 mins ago"})]})]})})]})})]})]})})}function cGe(){const{toast:e}=Nd(),[t,r]=C.useState(!0),[n,a]=C.useState([]),[i,o]=C.useState([]),[l,c]=C.useState(""),[u,d]=C.useState("all"),[A,h]=C.useState("all"),[m,y]=C.useState(null),[g,v]=C.useState(!1);C.useEffect(()=>{x()},[]),C.useEffect(()=>{b()},[n,l,u,A]);const x=async()=>{try{r(!0),a([{id:"1",name:"Rajesh Kumar",email:"rajesh.kumar@email.com",phone:"+91 98765 43210",address:"123 Main Street, City",emergency_contact_name:"Sunita Kumar",emergency_contact_relation:"Spouse",emergency_contact_mobile:"+91 98765 43211",lease_start:"2024-01-01",lease_end:"2024-12-31",rent_amount:15e3,security_deposit:45e3,status:"active",property_id:"1",unit_id:"1",organization_id:"1",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"2",name:"Priya Sharma",email:"priya.sharma@email.com",phone:"+91 98765 43212",address:"456 Park Avenue, City",emergency_contact_name:"Amit Sharma",emergency_contact_relation:"Brother",emergency_contact_mobile:"+91 98765 43213",lease_start:"2024-02-01",lease_end:"2025-01-31",rent_amount:18e3,security_deposit:54e3,status:"active",property_id:"1",unit_id:"2",organization_id:"1",created_at:"2024-02-01T00:00:00Z",updated_at:"2024-02-01T00:00:00Z"},{id:"3",name:"Amit Patel",email:"amit.patel@email.com",phone:"+91 98765 43214",address:"789 Garden Road, City",emergency_contact_name:"Reena Patel",emergency_contact_relation:"Spouse",emergency_contact_mobile:"+91 98765 43215",lease_start:"2023-12-01",lease_end:"2024-11-30",rent_amount:12e3,security_deposit:36e3,status:"expiring",property_id:"2",unit_id:"3",organization_id:"1",created_at:"2023-12-01T00:00:00Z",updated_at:"2023-12-01T00:00:00Z"},{id:"4",name:"Neha Singh",email:"neha.singh@email.com",phone:"+91 98765 43216",address:"321 Lake View, City",emergency_contact_name:"Rohit Singh",emergency_contact_relation:"Husband",emergency_contact_mobile:"+91 98765 43217",lease_start:"2024-03-01",lease_end:"2025-02-28",rent_amount:2e4,security_deposit:6e4,status:"active",property_id:"2",unit_id:"4",organization_id:"1",created_at:"2024-03-01T00:00:00Z",updated_at:"2024-03-01T00:00:00Z"},{id:"5",name:"Vijay Kumar",email:"vijay.kumar@email.com",phone:"+91 98765 43218",address:"654 Hill Station, City",emergency_contact_name:"Anita Kumar",emergency_contact_relation:"Spouse",emergency_contact_mobile:"+91 98765 43219",lease_start:"2023-10-01",lease_end:"2024-09-30",rent_amount:1e4,security_deposit:3e4,status:"inactive",property_id:"3",unit_id:"5",organization_id:"1",created_at:"2023-10-01T00:00:00Z",updated_at:"2023-10-01T00:00:00Z"}])}catch(B){console.error("Error fetching tenants:",B),e({title:"Error",description:"Failed to load tenant data",variant:"destructive"})}finally{r(!1)}},b=()=>{let B=n;l&&(B=B.filter(T=>T.name.toLowerCase().includes(l.toLowerCase())||T.email?.toLowerCase().includes(l.toLowerCase())||T.phone?.includes(l))),u!=="all"&&(B=B.filter(T=>T.status===u)),A!=="all"&&(B=B.filter(T=>T.property_id===A)),o(B)},j=async B=>{try{const T=await np.getTenantProfile(B.id);if(T.success&&T.data)y(T.data),v(!0);else throw new Error(T.error||"Failed to fetch tenant details")}catch{e({title:"Error",description:"Failed to load tenant details",variant:"destructive"})}},_=()=>{const B=[["Name","Email","Phone","Status","Rent Amount","Lease Start","Lease End"],...i.map(M=>[M.name,M.email||"",M.phone||"",M.status,M.rent_amount||0,M.lease_start||"",M.lease_end||""])].map(M=>M.join(",")).join(`
`),T=new Blob([B],{type:"text/csv"}),O=window.URL.createObjectURL(T),P=document.createElement("a");P.href=O,P.download="tenant_data.csv",P.click(),window.URL.revokeObjectURL(O),e({title:"Success",description:"Tenant data exported successfully"})},N=B=>{switch(B){case"active":return s.jsx(Ze,{variant:"default",className:"bg-green-100 text-green-800",children:"Active"});case"inactive":return s.jsx(Ze,{variant:"secondary",className:"bg-gray-100 text-gray-800",children:"Inactive"});case"expiring":return s.jsx(Ze,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:"Expiring"});default:return s.jsx(Ze,{variant:"secondary",children:B})}};return t?s.jsx("div",{className:"container mx-auto py-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading tenant data..."})]})})}):s.jsx(ML,{children:s.jsxs("div",{className:"flex-1 space-y-4 p-4 md:p-8 pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between space-y-2",children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Tenant Data Listing"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(de,{variant:"outline",onClick:_,className:"flex items-center space-x-2",children:[s.jsx(Ro,{className:"h-4 w-4"}),s.jsx("span",{children:"Export CSV"})]}),s.jsxs(de,{onClick:x,className:"flex items-center space-x-2",children:[s.jsx(Rs,{className:"h-4 w-4"}),s.jsx("span",{children:"Refresh"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Le,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Tenants"}),s.jsx("p",{className:"text-2xl font-bold",children:n.length})]}),s.jsx(Nr,{className:"h-8 w-8 text-blue-600"})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Tenants"}),s.jsx("p",{className:"text-2xl font-bold",children:n.filter(B=>B.status==="active").length})]}),s.jsx(Gr,{className:"h-8 w-8 text-green-600"})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expiring Soon"}),s.jsx("p",{className:"text-2xl font-bold",children:n.filter(B=>B.status==="expiring").length})]}),s.jsx(xi,{className:"h-8 w-8 text-yellow-600"})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Inactive"}),s.jsx("p",{className:"text-2xl font-bold",children:n.filter(B=>B.status==="inactive").length})]}),s.jsx(vh,{className:"h-8 w-8 text-red-600"})]})})})]}),s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsxs(gt,{className:"flex items-center space-x-2",children:[s.jsx(Tp,{className:"h-5 w-5"}),s.jsx("span",{children:"Filters"})]})}),s.jsx(De,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"search",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ba,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(it,{id:"search",placeholder:"Search by name, email, phone...",value:l,onChange:B=>c(B.target.value),className:"pl-8"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"status",children:"Status"}),s.jsxs(ar,{value:u,onValueChange:d,children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select status"})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"all",children:"All Status"}),s.jsx(Fe,{value:"active",children:"Active"}),s.jsx(Fe,{value:"inactive",children:"Inactive"}),s.jsx(Fe,{value:"expiring",children:"Expiring"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"property",children:"Property"}),s.jsxs(ar,{value:A,onValueChange:h,children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select property"})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"all",children:"All Properties"}),s.jsx(Fe,{value:"1",children:"Sunshine Apartments"}),s.jsx(Fe,{value:"2",children:"Green Valley Residency"}),s.jsx(Fe,{value:"3",children:"Lake View Heights"})]})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx(de,{variant:"outline",onClick:()=>{c(""),d("all"),h("all")},children:"Clear Filters"})})]})})]}),s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsx(gt,{children:"Tenant Accounts"}),s.jsxs(Wr,{children:["Showing ",i.length," of ",n.length," tenant accounts"]})]}),s.jsx(De,{children:s.jsxs(Ui,{children:[s.jsx(Di,{children:s.jsxs(jr,{children:[s.jsx(ht,{children:"Name"}),s.jsx(ht,{children:"Contact"}),s.jsx(ht,{children:"Status"}),s.jsx(ht,{children:"Rent Amount"}),s.jsx(ht,{children:"Lease Period"}),s.jsx(ht,{children:"Property"}),s.jsx(ht,{children:"Actions"})]})}),s.jsx(Mi,{children:i.map(B=>s.jsxs(jr,{children:[s.jsx(ct,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:B.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:B.email})]})}),s.jsx(ct,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Vl,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:B.phone})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(yd,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-sm truncate max-w-[150px]",children:B.address})]})]})}),s.jsx(ct,{children:N(B.status)}),s.jsxs(ct,{children:[s.jsxs("div",{className:"font-medium",children:["",B.rent_amount?.toLocaleString()]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"per month"})]}),s.jsx(ct,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Jn,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:B.lease_start})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Jn,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:B.lease_end})]})]})}),s.jsx(ct,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"text-sm font-medium",children:["Property ",B.property_id]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Unit ",B.unit_id]})]})}),s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(de,{variant:"outline",size:"sm",onClick:()=>j(B),className:"flex items-center space-x-1",children:[s.jsx(si,{className:"h-3 w-3"}),s.jsx("span",{children:"View"})]}),s.jsxs(de,{variant:"outline",size:"sm",className:"flex items-center space-x-1",children:[s.jsx(hl,{className:"h-3 w-3"}),s.jsx("span",{children:"Edit"})]})]})})]},B.id))})]})})]}),g&&m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl max-h-[90vh] overflow-y-auto w-full mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Tenant Details"}),s.jsx(de,{variant:"outline",onClick:()=>v(!1),children:"Close"})]}),s.jsxs(kd,{defaultValue:"profile",className:"space-y-4",children:[s.jsxs(Pu,{className:"grid w-full grid-cols-4",children:[s.jsx(Zr,{value:"profile",children:"Profile"}),s.jsx(Zr,{value:"family",children:"Family"}),s.jsx(Zr,{value:"documents",children:"Documents"}),s.jsx(Zr,{value:"bills",children:"Bills"})]}),s.jsx(hn,{value:"profile",className:"space-y-4",children:s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsx(gt,{children:"Tenant Information"})}),s.jsx(De,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Je,{children:"Name"}),s.jsx("p",{className:"font-medium",children:m.tenant.name})]}),s.jsxs("div",{children:[s.jsx(Je,{children:"Email"}),s.jsx("p",{className:"font-medium",children:m.tenant.email})]}),s.jsxs("div",{children:[s.jsx(Je,{children:"Phone"}),s.jsx("p",{className:"font-medium",children:m.tenant.phone})]}),s.jsxs("div",{children:[s.jsx(Je,{children:"Address"}),s.jsx("p",{className:"font-medium",children:m.tenant.address})]}),s.jsxs("div",{children:[s.jsx(Je,{children:"Status"}),s.jsx("div",{className:"mt-1",children:N(m.tenant.status)})]}),s.jsxs("div",{children:[s.jsx(Je,{children:"Rent Amount"}),s.jsxs("p",{className:"font-medium",children:["",m.tenant.rent_amount?.toLocaleString(),"/month"]})]}),s.jsxs("div",{children:[s.jsx(Je,{children:"Security Deposit"}),s.jsxs("p",{className:"font-medium",children:["",m.tenant.security_deposit?.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx(Je,{children:"Lease Period"}),s.jsxs("p",{className:"font-medium",children:[m.tenant.lease_start," - ",m.tenant.lease_end]})]})]})})]})}),s.jsx(hn,{value:"family",className:"space-y-4",children:s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsx(gt,{children:"Family Members"})}),s.jsx(De,{children:s.jsx("div",{className:"space-y-4",children:m.family_members.map(B=>s.jsx("div",{className:"border rounded p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Je,{children:"Name"}),s.jsx("p",{className:"font-medium",children:B.name})]}),s.jsxs("div",{children:[s.jsx(Je,{children:"Relation"}),s.jsx("p",{className:"font-medium",children:B.relation})]}),s.jsxs("div",{children:[s.jsx(Je,{children:"Phone"}),s.jsx("p",{className:"font-medium",children:B.mobile_number})]}),s.jsxs("div",{children:[s.jsx(Je,{children:"Emergency Contact"}),s.jsx("p",{className:"font-medium",children:B.is_emergency_contact?"Yes":"No"})]})]})},B.id))})})]})}),s.jsx(hn,{value:"documents",className:"space-y-4",children:s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsx(gt,{children:"Documents"})}),s.jsx(De,{children:s.jsx("div",{className:"space-y-4",children:m.documents.map(B=>s.jsx("div",{className:"border rounded p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Je,{children:"Document Type"}),s.jsx("p",{className:"font-medium",children:B.document_type})]}),s.jsxs("div",{children:[s.jsx(Je,{children:"Document Name"}),s.jsx("p",{className:"font-medium",children:B.document_name})]}),s.jsxs("div",{children:[s.jsx(Je,{children:"Upload Date"}),s.jsx("p",{className:"font-medium",children:new Date(B.upload_date).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx(Je,{children:"Verified"}),s.jsx("p",{className:"font-medium",children:B.is_verified?"Yes":"No"})]})]})},B.id))})})]})}),s.jsx(hn,{value:"bills",className:"space-y-4",children:s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsx(gt,{children:"Bills & Payments"})}),s.jsx(De,{children:s.jsx("div",{className:"space-y-4",children:m.bills.map(B=>s.jsx("div",{className:"border rounded p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Je,{children:"Invoice Number"}),s.jsx("p",{className:"font-medium",children:B.invoice_number})]}),s.jsxs("div",{children:[s.jsx(Je,{children:"Bill Type"}),s.jsx("p",{className:"font-medium",children:B.bill_type})]}),s.jsxs("div",{children:[s.jsx(Je,{children:"Amount"}),s.jsxs("p",{className:"font-medium",children:["",B.amount.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx(Je,{children:"Status"}),s.jsx("p",{className:"font-medium",children:B.status})]})]})},B.id))})})]})})]})]})})]})})}function uGe(){const{toast:e}=Nd(),[t,r]=C.useState(!0),[n,a]=C.useState([]),[i,o]=C.useState([]),[l,c]=C.useState([]),[u,d]=C.useState([]),[A,h]=C.useState(""),[m,y]=C.useState("all"),[g,v]=C.useState("all"),[x,b]=C.useState(!1),[j,_]=C.useState(!1),[N,B]=C.useState(null),[T,O]=C.useState("items"),[P,M]=C.useState({name:"",category:"",description:"",sku:"",quantity:0,minQuantity:0,maxQuantity:1e3,unit:"pieces",unitPrice:0,location:"",supplier:"",purchaseDate:"",expiryDate:"",condition:"new",notes:""}),[I,D]=C.useState({itemId:"",type:"purchase",quantity:0,unitPrice:0,reference:"",reason:""});C.useEffect(()=>{$()},[]),C.useEffect(()=>{F()},[n,A,m,g]);const $=async()=>{try{r(!0);const G=[{id:"1",name:"LED Light Bulb",category:"Electrical",description:"Energy efficient LED bulb for common areas",sku:"LED-001",quantity:150,minQuantity:20,maxQuantity:500,unit:"pieces",unitPrice:120,location:"Store Room A",supplier:"Electro Supplies Ltd",purchaseDate:"2024-01-15",expiryDate:"2025-01-15",status:"in_stock",condition:"new",lastUpdated:"2024-01-15T10:30:00Z",notes:"High quality LED bulbs with 2-year warranty"},{id:"2",name:"Water Filter",category:"Plumbing",description:"RO water filter for kitchen use",sku:"FLT-002",quantity:8,minQuantity:5,maxQuantity:20,unit:"pieces",unitPrice:2500,location:"Store Room B",supplier:"Aqua Pure Systems",purchaseDate:"2024-01-10",expiryDate:"2024-12-10",status:"low_stock",condition:"good",lastUpdated:"2024-01-10T14:20:00Z"},{id:"3",name:"Fire Extinguisher",category:"Safety",description:"2kg ABC type fire extinguisher",sku:"FIRE-003",quantity:0,minQuantity:2,maxQuantity:10,unit:"pieces",unitPrice:1500,location:"Safety Cabinet",supplier:"Safety First Co",purchaseDate:"2023-12-01",expiryDate:"2025-12-01",status:"out_of_stock",condition:"good",lastUpdated:"2024-01-20T09:15:00Z"},{id:"4",name:"Cleaning Supplies Kit",category:"Cleaning",description:"Complete cleaning kit with mops, buckets, detergents",sku:"CLN-004",quantity:25,minQuantity:10,maxQuantity:50,unit:"kits",unitPrice:850,location:"Janitorial Closet",supplier:"CleanPro Supplies",purchaseDate:"2024-01-05",status:"in_stock",condition:"good",lastUpdated:"2024-01-05T11:45:00Z"},{id:"5",name:"Door Lock Set",category:"Hardware",description:"High security door lock with 3 keys",sku:"LCK-005",quantity:12,minQuantity:5,maxQuantity:30,unit:"sets",unitPrice:1200,location:"Hardware Box",supplier:"SecureLock Systems",purchaseDate:"2024-01-08",status:"in_stock",condition:"new",lastUpdated:"2024-01-08T16:30:00Z"}],U=[{id:"1",name:"Electrical",description:"Electrical items and components"},{id:"2",name:"Plumbing",description:"Plumbing fixtures and supplies"},{id:"3",name:"Safety",description:"Safety equipment and supplies"},{id:"4",name:"Cleaning",description:"Cleaning supplies and equipment"},{id:"5",name:"Hardware",description:"Hardware and tools"},{id:"6",name:"Furniture",description:"Office and common area furniture"},{id:"7",name:"Stationery",description:"Office stationery and supplies"}],Y=[{id:"1",itemId:"1",itemName:"LED Light Bulb",type:"purchase",quantity:50,unitPrice:120,totalPrice:6e3,reference:"PO-2024-001",reason:"Monthly restock",date:"2024-01-15",performedBy:"Admin"},{id:"2",itemId:"2",itemName:"Water Filter",type:"sale",quantity:2,unitPrice:2500,totalPrice:5e3,reference:"SALE-2024-001",reason:"Unit 101 replacement",date:"2024-01-20",performedBy:"Admin"}];a(G),c(U),o(Y)}catch(G){console.error("Error fetching inventory data:",G),e({title:"Error",description:"Failed to load inventory data",variant:"destructive"})}finally{r(!1)}},F=()=>{let G=n;A&&(G=G.filter(U=>U.name.toLowerCase().includes(A.toLowerCase())||U.sku.toLowerCase().includes(A.toLowerCase())||U.description.toLowerCase().includes(A.toLowerCase()))),m!=="all"&&(G=G.filter(U=>U.category===m)),g!=="all"&&(G=G.filter(U=>U.status===g)),d(G)},V=async()=>{try{if(!P.name||!P.category||!P.sku){e({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}if(n.some(U=>U.sku===P.sku)){e({title:"Error",description:"SKU already exists",variant:"destructive"});return}const G={id:Date.now().toString(),...P,status:P.quantity<=P.minQuantity?"low_stock":"in_stock",condition:P.condition,lastUpdated:new Date().toISOString()};a([...n,G]),b(!1),K(),e({title:"Success",description:"Item added successfully"})}catch{e({title:"Error",description:"Failed to add item",variant:"destructive"})}},X=async()=>{try{if(!I.itemId||I.quantity<=0){e({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}const G=n.find(ae=>ae.id===I.itemId);if(!G)return;let U=G.quantity;I.type==="purchase"?U+=I.quantity:(I.type==="sale"||I.type==="adjustment")&&(U-=I.quantity);const Y=n.map(ae=>ae.id===I.itemId?{...ae,quantity:U,status:U<=0?"out_of_stock":U<=ae.minQuantity?"low_stock":"in_stock",lastUpdated:new Date().toISOString()}:ae);a(Y);const ee={id:Date.now().toString(),itemId:I.itemId,itemName:G.name,type:I.type,quantity:I.quantity,unitPrice:I.unitPrice,totalPrice:I.quantity*I.unitPrice,reference:I.reference,reason:I.reason,date:new Date().toISOString().split("T")[0],performedBy:"Admin"};o([ee,...i]),_(!1),W(),e({title:"Success",description:"Transaction recorded successfully"})}catch{e({title:"Error",description:"Failed to record transaction",variant:"destructive"})}},K=()=>{M({name:"",category:"",description:"",sku:"",quantity:0,minQuantity:0,maxQuantity:1e3,unit:"pieces",unitPrice:0,location:"",supplier:"",purchaseDate:"",expiryDate:"",condition:"new",notes:""})},W=()=>{D({itemId:"",type:"purchase",quantity:0,unitPrice:0,reference:"",reason:""})},z=G=>{switch(G){case"in_stock":return s.jsx(Ze,{variant:"default",className:"bg-green-100 text-green-800",children:"In Stock"});case"low_stock":return s.jsx(Ze,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:"Low Stock"});case"out_of_stock":return s.jsx(Ze,{variant:"destructive",children:"Out of Stock"});case"discontinued":return s.jsx(Ze,{variant:"secondary",className:"bg-gray-100 text-gray-800",children:"Discontinued"});default:return s.jsx(Ze,{variant:"secondary",children:G})}},te=G=>{switch(G){case"new":return s.jsx(Ze,{variant:"default",className:"bg-blue-100 text-blue-800",children:"New"});case"good":return s.jsx(Ze,{variant:"outline",className:"bg-green-100 text-green-800 border-green-300",children:"Good"});case"fair":return s.jsx(Ze,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:"Fair"});case"poor":return s.jsx(Ze,{variant:"destructive",children:"Poor"});default:return s.jsx(Ze,{variant:"secondary",children:G})}};return t?s.jsx("div",{className:"container mx-auto py-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading inventory data..."})]})})}):s.jsx(ML,{children:s.jsxs("div",{className:"flex-1 space-y-4 p-4 md:p-8 pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between space-y-2",children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Inventory Management"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(de,{variant:"outline",className:"flex items-center space-x-2",children:[s.jsx(Ro,{className:"h-4 w-4"}),s.jsx("span",{children:"Export"})]}),s.jsxs(de,{onClick:()=>b(!0),className:"flex items-center space-x-2",children:[s.jsx(mn,{className:"h-4 w-4"}),s.jsx("span",{children:"Add Item"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Le,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Items"}),s.jsx("p",{className:"text-2xl font-bold",children:n.length})]}),s.jsx(fj,{className:"h-8 w-8 text-blue-600"})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"In Stock"}),s.jsx("p",{className:"text-2xl font-bold",children:n.filter(G=>G.status==="in_stock").length})]}),s.jsx(Gr,{className:"h-8 w-8 text-green-600"})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Low Stock"}),s.jsx("p",{className:"text-2xl font-bold",children:n.filter(G=>G.status==="low_stock").length})]}),s.jsx(xi,{className:"h-8 w-8 text-yellow-600"})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Out of Stock"}),s.jsx("p",{className:"text-2xl font-bold",children:n.filter(G=>G.status==="out_of_stock").length})]}),s.jsx(vh,{className:"h-8 w-8 text-red-600"})]})})})]}),s.jsxs(kd,{value:T,onValueChange:O,className:"space-y-4",children:[s.jsxs(Pu,{className:"grid w-full grid-cols-3",children:[s.jsx(Zr,{value:"items",children:"Inventory Items"}),s.jsx(Zr,{value:"transactions",children:"Transactions"}),s.jsx(Zr,{value:"reports",children:"Reports"})]}),s.jsxs(hn,{value:"items",className:"space-y-4",children:[s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsxs(gt,{className:"flex items-center space-x-2",children:[s.jsx(Tp,{className:"h-5 w-5"}),s.jsx("span",{children:"Filters"})]})}),s.jsx(De,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"search",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ba,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(it,{id:"search",placeholder:"Search by name, SKU, description...",value:A,onChange:G=>h(G.target.value),className:"pl-8"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"category",children:"Category"}),s.jsxs(ar,{value:m,onValueChange:y,children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select category"})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"all",children:"All Categories"}),l.map(G=>s.jsx(Fe,{value:G.name,children:G.name},G.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"status",children:"Status"}),s.jsxs(ar,{value:g,onValueChange:v,children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select status"})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"all",children:"All Status"}),s.jsx(Fe,{value:"in_stock",children:"In Stock"}),s.jsx(Fe,{value:"low_stock",children:"Low Stock"}),s.jsx(Fe,{value:"out_of_stock",children:"Out of Stock"}),s.jsx(Fe,{value:"discontinued",children:"Discontinued"})]})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx(de,{variant:"outline",onClick:()=>{h(""),y("all"),v("all")},children:"Clear Filters"})})]})})]}),s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsx(gt,{children:"Inventory Items"}),s.jsxs(Wr,{children:["Showing ",u.length," of ",n.length," items"]})]}),s.jsx(De,{children:s.jsxs(Ui,{children:[s.jsx(Di,{children:s.jsxs(jr,{children:[s.jsx(ht,{children:"Name"}),s.jsx(ht,{children:"SKU"}),s.jsx(ht,{children:"Category"}),s.jsx(ht,{children:"Quantity"}),s.jsx(ht,{children:"Status"}),s.jsx(ht,{children:"Condition"}),s.jsx(ht,{children:"Location"}),s.jsx(ht,{children:"Actions"})]})}),s.jsx(Mi,{children:u.map(G=>s.jsxs(jr,{children:[s.jsx(ct,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:G.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:G.description})]})}),s.jsx(ct,{children:s.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:G.sku})}),s.jsx(ct,{children:G.category}),s.jsxs(ct,{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium",children:G.quantity}),s.jsx("span",{className:"text-sm text-muted-foreground",children:G.unit})]}),G.quantity<=G.minQuantity&&s.jsx(xi,{className:"h-4 w-4 text-yellow-600"})]}),s.jsx(ct,{children:z(G.status)}),s.jsx(ct,{children:te(G.condition)}),s.jsx(ct,{children:G.location}),s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(de,{variant:"outline",size:"sm",onClick:()=>{B(G),_(!0)},children:s.jsx(nue,{className:"h-3 w-3"})}),s.jsx(de,{variant:"outline",size:"sm",onClick:()=>B(G),children:s.jsx(si,{className:"h-3 w-3"})}),s.jsx(de,{variant:"outline",size:"sm",children:s.jsx(hl,{className:"h-3 w-3"})})]})})]},G.id))})]})})]})]}),s.jsx(hn,{value:"transactions",className:"space-y-4",children:s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsx(gt,{children:"Recent Transactions"}),s.jsx(Wr,{children:"Inventory movements and adjustments"})]}),s.jsx(De,{children:s.jsxs(Ui,{children:[s.jsx(Di,{children:s.jsxs(jr,{children:[s.jsx(ht,{children:"Date"}),s.jsx(ht,{children:"Item"}),s.jsx(ht,{children:"Type"}),s.jsx(ht,{children:"Quantity"}),s.jsx(ht,{children:"Total Price"}),s.jsx(ht,{children:"Reference"}),s.jsx(ht,{children:"Performed By"})]})}),s.jsx(Mi,{children:i.map(G=>s.jsxs(jr,{children:[s.jsx(ct,{children:G.date}),s.jsx(ct,{children:G.itemName}),s.jsx(ct,{children:s.jsx(Ze,{variant:G.type==="purchase"?"default":G.type==="sale"?"destructive":"secondary",children:G.type})}),s.jsx(ct,{children:G.quantity}),s.jsxs(ct,{children:["",G.totalPrice.toLocaleString()]}),s.jsx(ct,{children:G.reference}),s.jsx(ct,{children:G.performedBy})]},G.id))})]})})]})}),s.jsx(hn,{value:"reports",className:"space-y-4",children:s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsx(gt,{children:"Inventory Reports"}),s.jsx(Wr,{children:"Generate and view inventory reports"})]}),s.jsx(De,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(de,{variant:"outline",className:"flex items-center space-x-2 h-20",children:[s.jsx(KA,{className:"h-8 w-8"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"Stock Report"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Current stock levels"})]})]}),s.jsxs(de,{variant:"outline",className:"flex items-center space-x-2 h-20",children:[s.jsx(fj,{className:"h-8 w-8"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"Low Stock Alert"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Items needing restock"})]})]}),s.jsxs(de,{variant:"outline",className:"flex items-center space-x-2 h-20",children:[s.jsx(Iue,{className:"h-8 w-8"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"Value Report"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total inventory value"})]})]})]})})]})})]}),s.jsx(dn,{open:x,onOpenChange:b,children:s.jsxs(an,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Add New Inventory Item"}),s.jsx(_n,{children:"Add a new item to the inventory system"})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"name",children:"Item Name *"}),s.jsx(it,{id:"name",value:P.name,onChange:G=>M({...P,name:G.target.value}),placeholder:"Enter item name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"sku",children:"SKU *"}),s.jsx(it,{id:"sku",value:P.sku,onChange:G=>M({...P,sku:G.target.value}),placeholder:"Enter SKU"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"category",children:"Category *"}),s.jsxs(ar,{value:P.category,onValueChange:G=>M({...P,category:G}),children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select category"})}),s.jsx(or,{children:l.map(G=>s.jsx(Fe,{value:G.name,children:G.name},G.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"unit",children:"Unit"}),s.jsxs(ar,{value:P.unit,onValueChange:G=>M({...P,unit:G}),children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select unit"})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"pieces",children:"Pieces"}),s.jsx(Fe,{value:"kits",children:"Kits"}),s.jsx(Fe,{value:"sets",children:"Sets"}),s.jsx(Fe,{value:"boxes",children:"Boxes"}),s.jsx(Fe,{value:"liters",children:"Liters"}),s.jsx(Fe,{value:"kg",children:"Kilograms"})]})]})]}),s.jsxs("div",{className:"space-y-2 col-span-2",children:[s.jsx(Je,{htmlFor:"description",children:"Description"}),s.jsx(vu,{id:"description",value:P.description,onChange:G=>M({...P,description:G.target.value}),placeholder:"Enter item description",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"quantity",children:"Quantity"}),s.jsx(it,{id:"quantity",type:"number",value:P.quantity,onChange:G=>M({...P,quantity:parseInt(G.target.value)||0}),placeholder:"Enter quantity"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"minQuantity",children:"Min Quantity"}),s.jsx(it,{id:"minQuantity",type:"number",value:P.minQuantity,onChange:G=>M({...P,minQuantity:parseInt(G.target.value)||0}),placeholder:"Enter minimum quantity"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"maxQuantity",children:"Max Quantity"}),s.jsx(it,{id:"maxQuantity",type:"number",value:P.maxQuantity,onChange:G=>M({...P,maxQuantity:parseInt(G.target.value)||0}),placeholder:"Enter maximum quantity"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"unitPrice",children:"Unit Price ()"}),s.jsx(it,{id:"unitPrice",type:"number",value:P.unitPrice,onChange:G=>M({...P,unitPrice:parseFloat(G.target.value)||0}),placeholder:"Enter unit price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"location",children:"Location"}),s.jsx(it,{id:"location",value:P.location,onChange:G=>M({...P,location:G.target.value}),placeholder:"Enter storage location"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"supplier",children:"Supplier"}),s.jsx(it,{id:"supplier",value:P.supplier,onChange:G=>M({...P,supplier:G.target.value}),placeholder:"Enter supplier name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"purchaseDate",children:"Purchase Date"}),s.jsx(it,{id:"purchaseDate",type:"date",value:P.purchaseDate,onChange:G=>M({...P,purchaseDate:G.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"expiryDate",children:"Expiry Date"}),s.jsx(it,{id:"expiryDate",type:"date",value:P.expiryDate,onChange:G=>M({...P,expiryDate:G.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"condition",children:"Condition"}),s.jsxs(ar,{value:P.condition,onValueChange:G=>M({...P,condition:G}),children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select condition"})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"new",children:"New"}),s.jsx(Fe,{value:"good",children:"Good"}),s.jsx(Fe,{value:"fair",children:"Fair"}),s.jsx(Fe,{value:"poor",children:"Poor"})]})]})]}),s.jsxs("div",{className:"space-y-2 col-span-2",children:[s.jsx(Je,{htmlFor:"notes",children:"Notes"}),s.jsx(vu,{id:"notes",value:P.notes,onChange:G=>M({...P,notes:G.target.value}),placeholder:"Enter additional notes",rows:3})]})]})}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(de,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),s.jsx(de,{onClick:V,children:"Add Item"})]})]})}),s.jsx(dn,{open:j,onOpenChange:_,children:s.jsxs(an,{className:"max-w-md",children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Record Transaction"}),s.jsxs(_n,{children:["Record inventory movement for ",N?.name]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"transactionType",children:"Transaction Type"}),s.jsxs(ar,{value:I.type,onValueChange:G=>D({...I,type:G}),children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select transaction type"})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"purchase",children:"Purchase"}),s.jsx(Fe,{value:"sale",children:"Sale"}),s.jsx(Fe,{value:"adjustment",children:"Adjustment"}),s.jsx(Fe,{value:"return",children:"Return"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"transactionQuantity",children:"Quantity"}),s.jsx(it,{id:"transactionQuantity",type:"number",value:I.quantity,onChange:G=>D({...I,quantity:parseInt(G.target.value)||0}),placeholder:"Enter quantity"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"transactionUnitPrice",children:"Unit Price ()"}),s.jsx(it,{id:"transactionUnitPrice",type:"number",value:I.unitPrice,onChange:G=>D({...I,unitPrice:parseFloat(G.target.value)||0}),placeholder:"Enter unit price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"transactionReference",children:"Reference"}),s.jsx(it,{id:"transactionReference",value:I.reference,onChange:G=>D({...I,reference:G.target.value}),placeholder:"Enter reference number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"transactionReason",children:"Reason"}),s.jsx(vu,{id:"transactionReason",value:I.reason,onChange:G=>D({...I,reason:G.target.value}),placeholder:"Enter reason for transaction",rows:3})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(de,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),s.jsx(de,{onClick:X,children:"Record Transaction"})]})]})})]})})}var HP={exports:{}},$P={};var Kz;function dGe(){if(Kz)return $P;Kz=1;var e=fN();function t(A,h){return A===h&&(A!==0||1/A===1/h)||A!==A&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(A,h){var m=h(),y=n({inst:{value:m,getSnapshot:h}}),g=y[0].inst,v=y[1];return i(function(){g.value=m,g.getSnapshot=h,c(g)&&v({inst:g})},[A,m,h]),a(function(){return c(g)&&v({inst:g}),A(function(){c(g)&&v({inst:g})})},[A]),o(m),m}function c(A){var h=A.getSnapshot;A=A.value;try{var m=h();return!r(A,m)}catch{return!0}}function u(A,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return $P.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,$P}var zz;function AGe(){return zz||(zz=1,HP.exports=dGe()),HP.exports}var fGe=AGe();function hGe(){return fGe.useSyncExternalStore(mGe,()=>!0,()=>!1)}function mGe(){return()=>{}}var QL="Avatar",[pGe]=$i(QL),[gGe,ile]=pGe(QL),ole=C.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=C.useState("idle");return s.jsx(gGe,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(kt.span,{...n,ref:t})})});ole.displayName=QL;var lle="AvatarImage",cle=C.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=ile(lle,r),l=vGe(n,i),c=la(u=>{a(u),o.onImageLoadingStatusChange(u)});return Sa(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(kt.img,{...i,ref:t,src:n}):null});cle.displayName=lle;var ule="AvatarFallback",dle=C.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=ile(ule,r),[o,l]=C.useState(n===void 0);return C.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(kt.span,{...a,ref:t}):null});dle.displayName=ule;function Wz(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function vGe(e,{referrerPolicy:t,crossOrigin:r}){const n=hGe(),a=C.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=C.useState(()=>Wz(i,e));return Sa(()=>{l(Wz(i,e))},[i,e]),Sa(()=>{const c=A=>()=>{l(A)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var Ale=ole,fle=cle,hle=dle;const mle=C.forwardRef(({className:e,...t},r)=>s.jsx(Ale,{ref:r,className:st("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));mle.displayName=Ale.displayName;const ple=C.forwardRef(({className:e,...t},r)=>s.jsx(fle,{ref:r,className:st("aspect-square h-full w-full",e),...t}));ple.displayName=fle.displayName;const gle=C.forwardRef(({className:e,...t},r)=>s.jsx(hle,{ref:r,className:st("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));gle.displayName=hle.displayName;function yGe({tenant:e,familyMembers:t,documents:r,isAdmin:n,onUpdate:a}){const{toast:i}=Nd(),[o,l]=C.useState(!1),[c,u]=C.useState(!1),[d,A]=C.useState(null),h=async v=>{try{const x=await np.addFamilyMember(e.id,v);if(x.success)i({title:"Success",description:"Family member added successfully"}),l(!1),a();else throw new Error(x.error||"Failed to add family member")}catch{i({title:"Error",description:"Failed to add family member",variant:"destructive"})}},m=async v=>{try{const x=await np.deleteFamilyMember(v);if(x.success)i({title:"Success",description:"Family member deleted successfully"}),a();else throw new Error(x.error||"Failed to delete family member")}catch{i({title:"Error",description:"Failed to delete family member",variant:"destructive"})}},y=async v=>{try{const x=await np.addDocument(e.id,v);if(x.success)i({title:"Success",description:"Document added successfully"}),u(!1),a();else throw new Error(x.error||"Failed to add document")}catch{i({title:"Error",description:"Failed to add document",variant:"destructive"})}},g=v=>{if(v===0)return"0 Bytes";const x=1024,b=["Bytes","KB","MB","GB"],j=Math.floor(Math.log(v)/Math.log(x));return parseFloat((v/Math.pow(x,j)).toFixed(2))+" "+b[j]};return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"h-5 w-5"}),"Profile Information"]}),s.jsx(Wr,{children:"Personal and contact details"})]}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"font-medium",children:e.name})]}),s.jsxs("div",{children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),s.jsxs("p",{className:"font-medium flex items-center gap-2",children:[s.jsx(Bu,{className:"h-4 w-4"}),e.email||"N/A"]})]}),s.jsxs("div",{children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Mobile Number"}),s.jsxs("p",{className:"font-medium flex items-center gap-2",children:[s.jsx(Vl,{className:"h-4 w-4"}),e.phone||"N/A"]})]}),s.jsxs("div",{children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Address"}),s.jsxs("p",{className:"font-medium flex items-center gap-2",children:[s.jsx(yd,{className:"h-4 w-4"}),e.address||"N/A"]})]})]}),s.jsx(ol,{}),s.jsxs("div",{children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Emergency Contact"}),s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-medium",children:e.emergency_contact_name||"N/A"}),s.jsx(Ze,{variant:"outline",children:e.emergency_contact_relation||"N/A"})]}),e.emergency_contact_mobile&&s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[s.jsx(Vl,{className:"h-4 w-4"}),e.emergency_contact_mobile]})]})]}),s.jsx(ol,{}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Lease Start"}),s.jsxs("p",{className:"font-medium flex items-center gap-2",children:[s.jsx(Jn,{className:"h-4 w-4"}),e.lease_start?new Date(e.lease_start).toLocaleDateString():"N/A"]})]}),s.jsxs("div",{children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Lease End"}),s.jsxs("p",{className:"font-medium flex items-center gap-2",children:[s.jsx(Jn,{className:"h-4 w-4"}),e.lease_end?new Date(e.lease_end).toLocaleDateString():"N/A"]})]})]})]})]}),s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"h-5 w-5"}),"Family Members"]}),s.jsx(Wr,{children:"Additional family members living with tenant"})]}),n&&s.jsxs(dn,{open:o,onOpenChange:l,children:[s.jsx(_h,{asChild:!0,children:s.jsxs(de,{size:"sm",children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Add Member"]})}),s.jsxs(an,{children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Add Family Member"}),s.jsx(_n,{children:"Add a new family member to the tenant's profile"})]}),s.jsx(xGe,{onSubmit:h})]})]})]})}),s.jsx(De,{children:t.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Nr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No family members added"}),n&&s.jsxs(de,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>l(!0),children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Add First Member"]})]}):s.jsx("div",{className:"space-y-4",children:t.map(v=>s.jsx("div",{className:"border rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:v.name}),v.is_emergency_contact&&s.jsx(Ze,{variant:"destructive",className:"text-xs",children:"Emergency"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v.relation}),v.mobile_number&&s.jsxs("p",{className:"text-sm flex items-center gap-2",children:[s.jsx(Vl,{className:"h-3 w-3"}),v.mobile_number]}),v.occupation&&s.jsx("p",{className:"text-sm",children:v.occupation})]}),n&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(de,{variant:"ghost",size:"sm",children:s.jsx(hl,{className:"h-4 w-4"})}),s.jsx(de,{variant:"ghost",size:"sm",onClick:()=>m(v.id),children:s.jsx(yi,{className:"h-4 w-4"})})]})]})},v.id))})})]}),s.jsxs(Le,{className:"lg:col-span-2",children:[s.jsx(pt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(ur,{className:"h-5 w-5"}),"Documents"]}),s.jsx(Wr,{children:"Uploaded documents and verification status"})]}),n&&s.jsxs(dn,{open:c,onOpenChange:u,children:[s.jsx(_h,{asChild:!0,children:s.jsxs(de,{size:"sm",children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Upload Document"]})}),s.jsxs(an,{children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Upload Document"}),s.jsx(_n,{children:"Upload a new document for the tenant"})]}),s.jsx(wGe,{onSubmit:y})]})]})]})}),s.jsx(De,{children:r.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ur,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No documents uploaded"}),n&&s.jsxs(de,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>u(!0),children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Upload First Document"]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(v=>s.jsx(Le,{className:"border",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ze,{variant:"outline",className:"text-xs",children:v.document_type}),v.is_verified?s.jsx(Gr,{className:"h-4 w-4 text-green-500"}):s.jsx(vh,{className:"h-4 w-4 text-red-500"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm truncate",children:v.document_name}),v.document_number&&s.jsx("p",{className:"text-xs text-muted-foreground",children:v.document_number})]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsxs("p",{children:["Size: ",g(v.file_size)]}),s.jsxs("p",{children:["Uploaded: ",new Date(v.upload_date).toLocaleDateString()]}),v.expiry_date&&s.jsxs("p",{children:["Expires: ",new Date(v.expiry_date).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(de,{variant:"outline",size:"sm",className:"flex-1",children:[s.jsx(si,{className:"h-3 w-3 mr-1"}),"View"]}),s.jsxs(de,{variant:"outline",size:"sm",className:"flex-1",children:[s.jsx(Ro,{className:"h-3 w-3 mr-1"}),"Download"]}),n&&s.jsx(de,{variant:"ghost",size:"sm",children:s.jsx(yi,{className:"h-3 w-3"})})]})]})})},v.id))})})]})]})}function xGe({onSubmit:e}){const[t,r]=C.useState({name:"",relation:"",mobile_number:"",date_of_birth:"",occupation:"",is_emergency_contact:!1}),n=a=>{a.preventDefault(),e(t)};return s.jsxs("form",{onSubmit:n,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"name",children:"Name *"}),s.jsx(it,{id:"name",value:t.name,onChange:a=>r({...t,name:a.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"relation",children:"Relation *"}),s.jsxs(ar,{value:t.relation,onValueChange:a=>r({...t,relation:a}),children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select relation"})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"spouse",children:"Spouse"}),s.jsx(Fe,{value:"child",children:"Child"}),s.jsx(Fe,{value:"parent",children:"Parent"}),s.jsx(Fe,{value:"sibling",children:"Sibling"}),s.jsx(Fe,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"mobile_number",children:"Mobile Number"}),s.jsx(it,{id:"mobile_number",value:t.mobile_number,onChange:a=>r({...t,mobile_number:a.target.value})})]}),s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"date_of_birth",children:"Date of Birth"}),s.jsx(it,{id:"date_of_birth",type:"date",value:t.date_of_birth,onChange:a=>r({...t,date_of_birth:a.target.value})})]}),s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"occupation",children:"Occupation"}),s.jsx(it,{id:"occupation",value:t.occupation,onChange:a=>r({...t,occupation:a.target.value})})]}),s.jsx(de,{type:"submit",className:"w-full",children:"Add Family Member"})]})}function wGe({onSubmit:e}){const[t,r]=C.useState({document_type:"",document_number:"",document_name:"",file_url:"",file_size:0,file_type:"",expiry_date:""}),n=a=>{a.preventDefault(),e(t)};return s.jsxs("form",{onSubmit:n,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"document_type",children:"Document Type *"}),s.jsxs(ar,{value:t.document_type,onValueChange:a=>r({...t,document_type:a}),children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select document type"})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"aadhar",children:"Aadhar Card"}),s.jsx(Fe,{value:"pan",children:"PAN Card"}),s.jsx(Fe,{value:"agreement",children:"Rental Agreement"}),s.jsx(Fe,{value:"passport",children:"Passport"}),s.jsx(Fe,{value:"driving_license",children:"Driving License"}),s.jsx(Fe,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"document_number",children:"Document Number"}),s.jsx(it,{id:"document_number",value:t.document_number,onChange:a=>r({...t,document_number:a.target.value})})]}),s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"document_name",children:"Document Name *"}),s.jsx(it,{id:"document_name",value:t.document_name,onChange:a=>r({...t,document_name:a.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"file_url",children:"File URL *"}),s.jsx(it,{id:"file_url",value:t.file_url,onChange:a=>r({...t,file_url:a.target.value}),placeholder:"https://example.com/file.pdf",required:!0})]}),s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"expiry_date",children:"Expiry Date"}),s.jsx(it,{id:"expiry_date",type:"date",value:t.expiry_date,onChange:a=>r({...t,expiry_date:a.target.value})})]}),s.jsx(de,{type:"submit",className:"w-full",children:"Upload Document"})]})}function bGe({roomInfo:e,tenant:t,isAdmin:r,onUpdate:n}){const{toast:a}=Nd(),[i,o]=C.useState(!1),[l,c]=C.useState([]),[u,d]=C.useState([]),[A,h]=C.useState(t.property_id||""),m=async v=>{try{d([{id:"1",unit_number:"A-101",floor:"1",rent:15e3},{id:"2",unit_number:"A-102",floor:"1",rent:16e3},{id:"3",unit_number:"B-201",floor:"2",rent:17e3}])}catch(x){console.error("Error fetching units:",x)}},y=async v=>{try{a({title:"Success",description:"Room information updated successfully (mock data)"}),o(!1),n()}catch{a({title:"Error",description:"Failed to update room information",variant:"destructive"})}},g=v=>{h(v),m()};return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(Xr,{className:"h-5 w-5"}),"Room Information"]}),s.jsx(Wr,{children:"Current unit and property details"})]}),r&&s.jsxs(dn,{open:i,onOpenChange:o,children:[s.jsx(_h,{asChild:!0,children:s.jsxs(de,{variant:"outline",size:"sm",children:[s.jsx(hl,{className:"h-4 w-4 mr-2"}),"Edit"]})}),s.jsxs(an,{className:"max-w-2xl",children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Update Room Information"}),s.jsx(_n,{children:"Modify the tenant's room and property details"})]}),s.jsx(jGe,{tenant:t,properties:l,units:u,onPropertyChange:g,onSubmit:y,onOpen:o})]})]})]})}),s.jsxs(De,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Unit Number"}),s.jsx("p",{className:"font-medium text-lg",children:e?.unit||"N/A"})]}),s.jsxs("div",{children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Floor"}),s.jsx("p",{className:"font-medium text-lg",children:e?.floor||"N/A"})]})]}),s.jsxs("div",{children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Property"}),s.jsxs("p",{className:"font-medium text-lg flex items-center gap-2",children:[s.jsx(_F,{className:"h-5 w-5"}),e?.property||"N/A"]}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2 mt-1",children:[s.jsx(yd,{className:"h-4 w-4"}),e?.property_address||"N/A"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Join Date"}),s.jsxs("p",{className:"font-medium flex items-center gap-2",children:[s.jsx(Jn,{className:"h-4 w-4"}),e?.join_date?new Date(e.join_date).toLocaleDateString():"N/A"]})]}),s.jsxs("div",{children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"End Date"}),s.jsxs("p",{className:"font-medium flex items-center gap-2",children:[s.jsx(Jn,{className:"h-4 w-4"}),e?.end_date?new Date(e.end_date).toLocaleDateString():"N/A"]})]})]})]})]}),s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(ja,{className:"h-5 w-5"}),"Financial Details"]}),s.jsx(Wr,{children:"Rent and security deposit information"})]}),s.jsxs(De,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Monthly Rent"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ja,{className:"h-5 w-5 text-green-600"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",e?.monthly_rent||t.rent_amount||0]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Per month"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Security Deposit"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ja,{className:"h-5 w-5 text-blue-600"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",e?.security_deposit||t.security_deposit||0]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"One-time deposit"})]})]}),s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Payment Summary"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Monthly Rent:"}),s.jsxs("span",{className:"font-medium",children:["",e?.monthly_rent||t.rent_amount||0]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Security Deposit:"}),s.jsxs("span",{className:"font-medium",children:["",e?.security_deposit||t.security_deposit||0]})]}),s.jsx(ol,{}),s.jsxs("div",{className:"flex justify-between font-medium",children:[s.jsx("span",{children:"Total Initial Payment:"}),s.jsxs("span",{children:["",(e?.monthly_rent||t.rent_amount||0)+(e?.security_deposit||t.security_deposit||0)]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Payment Status"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ze,{variant:"default",className:"bg-green-100 text-green-800",children:"Active"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Regular payments"})]})]})]})]}),s.jsxs(Le,{className:"lg:col-span-2",children:[s.jsxs(pt,{children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(Fs,{className:"h-5 w-5"}),"Property Owner Information"]}),s.jsx(Wr,{children:"Contact details for property owner/management"})]}),s.jsx(De,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Owner Name"}),s.jsx("p",{className:"font-medium",children:"Property Management Office"})]}),s.jsxs("div",{children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Contact Number"}),s.jsx("p",{className:"font-medium",children:"+91 98765 43210"})]}),s.jsxs("div",{children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:"management@property.com"})]})]})})]})]})}function jGe({tenant:e,properties:t,units:r,onPropertyChange:n,onSubmit:a,onOpen:i}){const[o,l]=C.useState({property_id:e.property_id||"",unit_id:e.unit_id||"",lease_start:e.lease_start||"",lease_end:e.lease_end||"",rent_amount:e.rent_amount||0,security_deposit:e.security_deposit||0}),c=u=>{u.preventDefault(),a(o)};return s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"property_id",children:"Property *"}),s.jsxs(ar,{value:o.property_id,onValueChange:u=>{l({...o,property_id:u,unit_id:""}),n(u)},children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select property"})}),s.jsx(or,{children:t.map(u=>s.jsx(Fe,{value:u.id,children:u.name},u.id))})]})]}),s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"unit_id",children:"Unit *"}),s.jsxs(ar,{value:o.unit_id,onValueChange:u=>l({...o,unit_id:u}),children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select unit"})}),s.jsx(or,{children:r.map(u=>s.jsxs(Fe,{value:u.id,children:[u.unit_number," - Floor ",u.floor," (",u.rent,")"]},u.id))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"lease_start",children:"Lease Start Date *"}),s.jsx(it,{id:"lease_start",type:"date",value:o.lease_start,onChange:u=>l({...o,lease_start:u.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"lease_end",children:"Lease End Date *"}),s.jsx(it,{id:"lease_end",type:"date",value:o.lease_end,onChange:u=>l({...o,lease_end:u.target.value}),required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"rent_amount",children:"Monthly Rent () *"}),s.jsx(it,{id:"rent_amount",type:"number",value:o.rent_amount,onChange:u=>l({...o,rent_amount:parseFloat(u.target.value)}),required:!0})]}),s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"security_deposit",children:"Security Deposit () *"}),s.jsx(it,{id:"security_deposit",type:"number",value:o.security_deposit,onChange:u=>l({...o,security_deposit:parseFloat(u.target.value)}),required:!0})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(de,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx(de,{type:"submit",children:"Update Room Information"})]})]})}function _Ge({tenantId:e,isAdmin:t}){const{toast:r}=Nd(),[n,a]=C.useState([]),[i,o]=C.useState(!0),[l,c]=C.useState(!1),[u,d]=C.useState(null);C.useEffect(()=>{A()},[e]);const A=async()=>{try{o(!0),a([{id:"1",invoice_number:"INV-2024-001",bill_type:"Rent",amount:15e3,issue_date:"2024-01-01",due_date:"2024-01-05",status:"paid",payments:[{id:"1",amount:15e3,payment_date:"2024-01-04",payment_method:"cash",status:"completed"}],total_paid:15e3,remaining_balance:0},{id:"2",invoice_number:"INV-2024-002",bill_type:"Electricity",amount:425,issue_date:"2024-01-15",due_date:"2024-01-20",status:"pending",payments:[],total_paid:0,remaining_balance:425}])}catch(v){console.error("Error fetching bills:",v),r({title:"Error",description:"Failed to load bills and payments",variant:"destructive"})}finally{o(!1)}},h=async v=>{try{r({title:"Success",description:"Bill added successfully (mock data)"}),c(!1),A()}catch{r({title:"Error",description:"Failed to add bill",variant:"destructive"})}},m=async v=>{try{r({title:"Success",description:"Payment processed successfully (mock data)"}),d(null),A()}catch{r({title:"Error",description:"Failed to process payment",variant:"destructive"})}},y=v=>{switch(v){case"paid":return s.jsxs(Ze,{className:"bg-green-100 text-green-800",children:[s.jsx(Gr,{className:"h-3 w-3 mr-1"}),"Paid"]});case"pending":return s.jsxs(Ze,{className:"bg-yellow-100 text-yellow-800",children:[s.jsx(ca,{className:"h-3 w-3 mr-1"}),"Pending"]});case"overdue":return s.jsxs(Ze,{className:"bg-red-100 text-red-800",children:[s.jsx(vh,{className:"h-3 w-3 mr-1"}),"Overdue"]});default:return s.jsx(Ze,{variant:"outline",children:v})}},g=v=>{switch(v.toLowerCase()){case"rent":return s.jsx(Xr,{className:"h-4 w-4"});case"electricity":return s.jsx(Wl,{className:"h-4 w-4"});case"water":return s.jsx(FW,{className:"h-4 w-4"});default:return s.jsx(ur,{className:"h-4 w-4"})}};return i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ur,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Bills"}),s.jsx("p",{className:"font-medium",children:n.length})]})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ja,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"font-medium",children:["",n.reduce((v,x)=>v+x.amount,0)]})]})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Gr,{className:"h-4 w-4 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Paid Amount"}),s.jsxs("p",{className:"font-medium text-green-600",children:["",n.reduce((v,x)=>v+(x.total_paid||0),0)]})]})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vh,{className:"h-4 w-4 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Amount"}),s.jsxs("p",{className:"font-medium text-red-600",children:["",n.reduce((v,x)=>v+(x.remaining_balance||0),0)]})]})]})})})]}),s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(ur,{className:"h-5 w-5"}),"Bills & Payments"]}),s.jsx(Wr,{children:"Invoice history and payment status"})]}),t&&s.jsxs(dn,{open:l,onOpenChange:c,children:[s.jsx(_h,{asChild:!0,children:s.jsxs(de,{children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Add Bill"]})}),s.jsxs(an,{children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Create New Bill"}),s.jsx(_n,{children:"Generate a new bill for the tenant"})]}),s.jsx(NGe,{onSubmit:h})]})]})]})}),s.jsx(De,{children:n.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ur,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No bills found"}),t&&s.jsxs(de,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>c(!0),children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Create First Bill"]})]}):s.jsx("div",{className:"space-y-4",children:n.map(v=>s.jsx(Le,{className:"border",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-3 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[g(v.bill_type),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:v.invoice_number}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v.bill_type})]}),y(v.status)]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Issue Date"}),s.jsx("p",{className:"font-medium",children:new Date(v.issue_date).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Due Date"}),s.jsx("p",{className:"font-medium",children:new Date(v.due_date).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"font-medium",children:["",v.amount]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Remaining"}),s.jsxs("p",{className:"font-medium text-red-600",children:["",v.remaining_balance||v.amount]})]})]}),v.payments&&v.payments.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Payment History"}),s.jsx("div",{className:"space-y-1",children:v.payments.map(x=>s.jsxs("div",{className:"flex items-center justify-between text-sm bg-muted/50 p-2 rounded",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bn,{className:"h-3 w-3"}),s.jsxs("span",{children:["",x.amount]}),s.jsxs("span",{className:"text-muted-foreground",children:["via ",x.payment_method]})]}),s.jsx("span",{className:"text-muted-foreground",children:new Date(x.payment_date).toLocaleDateString()})]},x.id))})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[s.jsxs(de,{variant:"outline",size:"sm",children:[s.jsx(si,{className:"h-3 w-3 mr-1"}),"View"]}),s.jsxs(de,{variant:"outline",size:"sm",children:[s.jsx(Ro,{className:"h-3 w-3 mr-1"}),"Download"]}),t&&v.status!=="paid"&&s.jsxs(de,{size:"sm",onClick:()=>{d(v),m(v.id)},children:[s.jsx(Gr,{className:"h-3 w-3 mr-1"}),"Mark Paid"]})]})]})})},v.id))})})]})]})}function NGe({onSubmit:e}){const[t,r]=C.useState({invoice_number:"",bill_type:"Rent",amount:0,due_date:"",unit_id:""}),n=a=>{a.preventDefault(),e(t)};return s.jsxs("form",{onSubmit:n,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"invoice_number",children:"Invoice Number *"}),s.jsx(it,{id:"invoice_number",value:t.invoice_number,onChange:a=>r({...t,invoice_number:a.target.value}),placeholder:"INV-2024-001",required:!0})]}),s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"bill_type",children:"Bill Type *"}),s.jsxs(ar,{value:t.bill_type,onValueChange:a=>r({...t,bill_type:a}),children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select bill type"})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"Rent",children:"Rent"}),s.jsx(Fe,{value:"Electricity",children:"Electricity"}),s.jsx(Fe,{value:"Water",children:"Water"}),s.jsx(Fe,{value:"Maintenance",children:"Maintenance"}),s.jsx(Fe,{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"amount",children:"Amount () *"}),s.jsx(it,{id:"amount",type:"number",value:t.amount,onChange:a=>r({...t,amount:parseFloat(a.target.value)}),required:!0})]}),s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"due_date",children:"Due Date *"}),s.jsx(it,{id:"due_date",type:"date",value:t.due_date,onChange:a=>r({...t,due_date:a.target.value}),required:!0})]}),s.jsx(de,{type:"submit",className:"w-full",children:"Create Bill"})]})}function CGe({tenantId:e,unitId:t,recentReadings:r,isAdmin:n,onUpdate:a}){const{toast:i}=Nd(),[o,l]=C.useState(r||[]),[c,u]=C.useState(!1),[d,A]=C.useState(!1),[h,m]=C.useState(null);C.useEffect(()=>{l(r||[])},[r]);const y=async _=>{try{i({title:"Success",description:"Meter reading added successfully (mock data)"}),A(!1),a()}catch{i({title:"Error",description:"Failed to add meter reading",variant:"destructive"})}},g=async(_,N)=>{try{i({title:"Success",description:"Meter reading updated successfully (mock data)"}),m(null),a()}catch{i({title:"Error",description:"Failed to update meter reading",variant:"destructive"})}},v=()=>o.reduce((_,N)=>_+N.units_used,0),x=()=>o.reduce((_,N)=>_+N.total_amount,0),b=()=>o.length===0?0:Math.round(v()/o.length),j=()=>{const _=new Date().toISOString().slice(0,7);return o.find(N=>N.reading_month.startsWith(_))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Wl,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Units"}),s.jsx("p",{className:"font-medium",children:v()})]})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ja,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"font-medium",children:["",x()]})]})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Al,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Units/Month"}),s.jsx("p",{className:"font-medium",children:b()})]})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hl,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Rate"}),s.jsxs("p",{className:"font-medium",children:["",o[0]?.unit_rate||0,"/unit"]})]})]})})})]}),j()&&s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(Hl,{className:"h-5 w-5"}),"Current Month Status"]})}),s.jsx(De,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Month"}),s.jsx("p",{className:"font-medium",children:new Date(j().reading_month).toLocaleDateString("en-US",{month:"long",year:"numeric"})})]}),s.jsxs("div",{children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Units Used"}),s.jsxs("p",{className:"font-medium text-lg",children:[j().units_used," units"]})]}),s.jsxs("div",{children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Rate"}),s.jsxs("p",{className:"font-medium",children:["",j().unit_rate,"/unit"]})]}),s.jsxs("div",{children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Amount"}),s.jsxs("p",{className:"font-medium text-lg text-green-600",children:["",j().total_amount]})]})]})})]}),s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(KA,{className:"h-5 w-5"}),"Monthly Electricity Readings"]}),s.jsx(Wr,{children:"Month-wise electricity consumption and billing"})]}),n&&s.jsxs(dn,{open:d,onOpenChange:A,children:[s.jsx(_h,{asChild:!0,children:s.jsxs(de,{children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Add Reading"]})}),s.jsxs(an,{children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Add Meter Reading"}),s.jsx(_n,{children:"Record monthly electricity meter reading"})]}),s.jsx(Gz,{onSubmit:y})]})]})]})}),s.jsx(De,{children:o.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Wl,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No meter readings found"}),n&&s.jsxs(de,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>A(!0),children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Add First Reading"]})]}):s.jsx("div",{className:"space-y-4",children:o.map(_=>s.jsx(Le,{className:"border",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-3 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jn,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:new Date(_.reading_month).toLocaleDateString("en-US",{month:"long",year:"numeric"})}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Reading on ",new Date(_.reading_date).toLocaleDateString()]})]}),s.jsxs(Ze,{variant:"outline",children:[_.units_used," units"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Previous Reading"}),s.jsx("p",{className:"font-medium",children:_.previous_reading})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Current Reading"}),s.jsx("p",{className:"font-medium",children:_.current_reading})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Units Used"}),s.jsx("p",{className:"font-medium text-blue-600",children:_.units_used})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Unit Rate"}),s.jsxs("p",{className:"font-medium",children:["",_.unit_rate]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"font-medium text-green-600",children:["",_.total_amount]})]})]})]}),n&&s.jsx("div",{className:"flex flex-col gap-2 ml-4",children:s.jsxs(de,{variant:"outline",size:"sm",onClick:()=>m(_),children:[s.jsx(hl,{className:"h-3 w-3 mr-1"}),"Edit"]})})]})})},_.id))})})]}),h&&s.jsx(dn,{open:!!h,onOpenChange:()=>m(null),children:s.jsxs(an,{children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Edit Meter Reading"}),s.jsxs(_n,{children:["Update the meter reading for ",new Date(h.reading_month).toLocaleDateString("en-US",{month:"long",year:"numeric"})]})]}),s.jsx(Gz,{initialData:h,onSubmit:_=>g(h.id)})]})})]})}function Gz({initialData:e,onSubmit:t}){const r=new Date().toISOString().slice(0,7),[n,a]=C.useState({reading_month:e?.reading_month||r,previous_reading:e?.previous_reading||0,current_reading:e?.current_reading||0,unit_rate:e?.unit_rate||8}),i=n.current_reading-n.previous_reading,o=i*n.unit_rate,l=c=>{c.preventDefault(),t({...n,reading_month:new Date(n.reading_month+"-01").toISOString()})};return s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"reading_month",children:"Month *"}),s.jsx(it,{id:"reading_month",type:"month",value:n.reading_month,onChange:c=>a({...n,reading_month:c.target.value}),required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"previous_reading",children:"Previous Reading *"}),s.jsx(it,{id:"previous_reading",type:"number",step:"0.01",value:n.previous_reading,onChange:c=>a({...n,previous_reading:parseFloat(c.target.value)}),required:!0})]}),s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"current_reading",children:"Current Reading *"}),s.jsx(it,{id:"current_reading",type:"number",step:"0.01",value:n.current_reading,onChange:c=>a({...n,current_reading:parseFloat(c.target.value)}),required:!0})]})]}),s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"unit_rate",children:"Unit Rate () *"}),s.jsx(it,{id:"unit_rate",type:"number",step:"0.01",value:n.unit_rate,onChange:c=>a({...n,unit_rate:parseFloat(c.target.value)}),required:!0})]}),s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Units Used:"}),s.jsxs("span",{className:"font-medium",children:[i," units"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Total Amount:"}),s.jsxs("span",{className:"font-medium text-green-600",children:["",o]})]})]}),s.jsx(de,{type:"submit",className:"w-full",children:e?"Update Reading":"Add Reading"})]})}function SGe(){const{tenantId:e}=qG(),t=bi(),{user:r}=ua(),{toast:n}=Nd(),[a,i]=C.useState(null),[o,l]=C.useState(!0),[c,u]=C.useState("profile"),d=r?.app_metadata?.role==="admin"||r?.app_metadata?.role==="super_admin";C.useEffect(()=>{e&&A()},[e]);const A=async()=>{try{if(l(!0),!e)throw new Error("No tenant ID provided");const b=await np.getTenantProfile(e);if(b.success&&b.data)i(b.data);else throw new Error(b.error||"Failed to fetch tenant data")}catch(b){console.error("Error fetching tenant data:",b),n({title:"Error",description:"Failed to load tenant data",variant:"destructive"})}finally{l(!1)}},h=()=>{A()};if(o)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!a)return s.jsx("div",{className:"container mx-auto py-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Tenant not found"}),s.jsx(de,{onClick:()=>t("/admin/tenants"),className:"mt-4",children:"Back to Tenants"})]})});const{tenant:m,family_members:y,documents:g,room_info:v,recent_meter_readings:x}=a;return s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(de,{variant:"ghost",onClick:()=>t("/admin/tenants"),className:"p-2",children:s.jsx(jF,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(mle,{className:"h-12 w-12",children:[s.jsx(ple,{src:""}),s.jsx(gle,{children:m.name?.split(" ").map(b=>b[0]).join("").toUpperCase()})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:m.name}),s.jsxs("p",{className:"text-muted-foreground flex items-center gap-2",children:[s.jsx(Ze,{variant:m.status==="active"?"default":"secondary",children:m.status}),s.jsxs("span",{className:"text-sm",children:["ID: ",m.id.slice(0,8),"..."]})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(de,{variant:"outline",onClick:h,children:"Refresh"}),d&&s.jsxs(de,{children:[s.jsx(hl,{className:"h-4 w-4 mr-2"}),"Edit Tenant"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vl,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mobile"}),s.jsx("p",{className:"font-medium",children:m.phone||"N/A"})]})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Bu,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium truncate",children:m.email||"N/A"})]})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xr,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Unit"}),s.jsx("p",{className:"font-medium",children:v?.unit||"N/A"})]})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ja,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly Rent"}),s.jsxs("p",{className:"font-medium",children:["",m.rent_amount||0]})]})]})})})]}),s.jsxs(kd,{value:c,onValueChange:u,className:"space-y-4",children:[s.jsxs(Pu,{className:"grid w-full grid-cols-4",children:[s.jsxs(Zr,{value:"profile",className:"flex items-center space-x-2",children:[s.jsx(Fs,{className:"h-4 w-4"}),s.jsx("span",{children:"Profile & Family"})]}),s.jsxs(Zr,{value:"room",className:"flex items-center space-x-2",children:[s.jsx(Xr,{className:"h-4 w-4"}),s.jsx("span",{children:"Room Info"})]}),s.jsxs(Zr,{value:"bills",className:"flex items-center space-x-2",children:[s.jsx(ur,{className:"h-4 w-4"}),s.jsx("span",{children:"Bills & Payments"})]}),s.jsxs(Zr,{value:"meter",className:"flex items-center space-x-2",children:[s.jsx(Wl,{className:"h-4 w-4"}),s.jsx("span",{children:"Electricity"})]})]}),s.jsx(hn,{value:"profile",className:"space-y-4",children:s.jsx(yGe,{tenant:m,familyMembers:y,documents:g,isAdmin:d,onUpdate:h})}),s.jsx(hn,{value:"room",className:"space-y-4",children:s.jsx(bGe,{roomInfo:v,tenant:m,isAdmin:d,onUpdate:h})}),s.jsx(hn,{value:"bills",className:"space-y-4",children:s.jsx(_Ge,{tenantId:e,isAdmin:d})}),s.jsx(hn,{value:"meter",className:"space-y-4",children:s.jsx(CGe,{tenantId:e,unitId:m.unit_id,recentReadings:x,isAdmin:d,onUpdate:h})})]})]})}function BGe(){const{formatAmount:e}=ji(),[t,r]=C.useState([]),[n,a]=C.useState(null),[i,o]=C.useState(!0),[l,c]=C.useState(!1),[u,d]=C.useState(""),[A,h]=C.useState(!1),m=async()=>{try{const{data:{session:x}}=await be.auth.getSession();if(!x)throw new Error("Not authenticated");const b=await fetch("https://aggacdtmyphgtkldjmvk.supabase.co/functions/v1/qr-payment-verification",{headers:{Authorization:`Bearer ${x.access_token}`}}),j=await b.json();if(!b.ok)throw new Error(j.error||"Failed to fetch pending payments");const _=(j.data||[]).map(N=>({...N,tenant_phone:N.tenant_phone||null,tenant_code:N.tenant_code||"N/A",property_name:N.property_name||null,unit_number:N.unit_number||null,bill_details:N.bill_details||[]}));r(_)}catch(x){console.error("Failed to fetch pending payments:",x),He.error(x.message||"Failed to load pending payments")}finally{o(!1),h(!1)}};C.useEffect(()=>{m()},[]);const y=async(x,b)=>{c(!0);try{const{data:{session:j}}=await be.auth.getSession();if(!j)throw new Error("Not authenticated");const _=await fetch("https://aggacdtmyphgtkldjmvk.supabase.co/functions/v1/qr-payment-verification",{method:"POST",headers:{Authorization:`Bearer ${j.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({payment_id:x,status:b,admin_notes:u||null})}),N=await _.json();if(!_.ok)throw new Error(N.error||"Failed to verify payment");He.success(`Payment ${b} successfully!`),await m(),a(null),d("")}catch(j){console.error("Verification failed:",j),He.error(j.message||"Failed to verify payment")}finally{c(!1)}},g=x=>{switch(x){case"pending":return s.jsxs(Ze,{variant:"outline",className:"gap-1",children:[s.jsx(ca,{className:"w-3 h-3"}),"Pending"]});case"paid":return s.jsxs(Ze,{className:"gap-1 bg-green-100 text-green-800",children:[s.jsx(Gr,{className:"w-3 h-3"}),"Paid"]});case"expired":return s.jsxs(Ze,{variant:"outline",className:"gap-1 text-orange-600",children:[s.jsx(Qi,{className:"w-3 h-3"}),"Expired"]});default:return s.jsx(Ze,{variant:"outline",children:x})}},v=async()=>{h(!0),await m()};return i?s.jsx(An,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(jn,{className:"w-8 h-8 animate-spin"})})}):s.jsx(An,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Payment Verification"}),s.jsx("p",{className:"text-muted-foreground",children:"Review and verify QR code payments"})]}),s.jsxs(de,{variant:"outline",onClick:v,disabled:A,children:[A?s.jsx(Rs,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Verification"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:t.length})]}),s.jsx(ca,{className:"w-8 h-8 text-orange-600"})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount Pending"}),s.jsx("p",{className:"text-2xl font-bold",children:e(t.reduce((x,b)=>x+b.amount,0))})]}),s.jsx(Gr,{className:"w-8 h-8 text-blue-600"})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"With Screenshots"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.filter(x=>x.payment_screenshot_url).length})]}),s.jsx(si,{className:"w-8 h-8 text-green-600"})]})})})]}),s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsx(gt,{children:"Pending Verifications"})}),s.jsx(De,{children:t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Gr,{className:"w-12 h-12 text-green-500 mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"No pending payments"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"All caught up! "})]}):s.jsx("div",{className:"space-y-3",children:t.map(x=>s.jsx("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"font-semibold text-lg",children:e(x.amount)}),g(x.status),x.payment_screenshot_url&&s.jsxs(Ze,{variant:"secondary",className:"gap-1",children:[s.jsx(si,{className:"w-3 h-3"}),"Screenshot"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Reference"}),s.jsx("p",{className:"font-mono",children:x.payment_reference})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Tenant"}),s.jsx("p",{className:"font-medium",children:x.tenant_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:x.tenant_email}),x.tenant_phone&&s.jsx("p",{className:"text-xs text-muted-foreground",children:x.tenant_phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Property/Unit"}),s.jsxs("p",{className:"font-medium",children:[x.property_name||"Not assigned",x.unit_number&&` - ${x.unit_number}`]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Code: ",x.tenant_code]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Submitted"}),s.jsx("p",{className:"font-medium",children:x.time_ago}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Rn(new Date(x.created_at),"MMM d, yyyy h:mm a")})]})]}),x.verification_notes&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Tenant Notes:"}),s.jsx("p",{className:"text-sm",children:x.verification_notes})]}),x.bill_details&&x.bill_details.length>0&&s.jsxs("div",{className:"mt-3 p-3 bg-muted/30 rounded-lg",children:[s.jsxs("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:["Bills being paid (",x.bill_details.length,"):"]}),s.jsxs("div",{className:"space-y-1",children:[x.bill_details.slice(0,3).map((b,j)=>s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ur,{className:"w-3 h-3"}),b.bill_type.charAt(0).toUpperCase()+b.bill_type.slice(1),b.bill_number&&` (${b.bill_number})`]}),s.jsx("span",{className:"font-medium",children:e(b.amount)})]},b.id)),x.bill_details.length>3&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",x.bill_details.length-3," more bills"]})]})]})]}),s.jsxs(de,{variant:"outline",size:"sm",onClick:()=>a(x),className:"ml-4",children:[s.jsx(si,{className:"w-4 h-4 mr-1"}),"Review"]})]})},x.id))})})]}),n&&s.jsx(dn,{open:!!n,onOpenChange:()=>a(null),children:s.jsxs(an,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Payment Verification Details"}),s.jsx(_n,{children:"Review payment details and verify the transaction"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Amount"}),s.jsx("p",{className:"font-semibold text-lg",children:e(n.amount)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reference"}),s.jsx("p",{className:"font-mono text-sm",children:n.payment_reference})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tenant"}),s.jsx("p",{className:"font-medium",children:n.tenant_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:n.tenant_email}),n.tenant_phone&&s.jsx("p",{className:"text-xs text-muted-foreground",children:n.tenant_phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Submitted"}),s.jsx("p",{className:"font-medium",children:n.time_ago}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Rn(new Date(n.created_at),"MMM d, yyyy h:mm a")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[s.jsx(Fs,{className:"w-4 h-4"}),"Tenant Information"]}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tenant Code:"}),s.jsx("span",{className:"font-medium",children:n.tenant_code})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Email:"}),s.jsx("span",{className:"font-medium",children:n.tenant_email})]}),n.tenant_phone&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),s.jsx("span",{className:"font-medium",children:n.tenant_phone})]})]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[s.jsx(Xr,{className:"w-4 h-4"}),"Property Details"]}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Property:"}),s.jsx("span",{className:"font-medium",children:n.property_name||"Not assigned"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Unit:"}),s.jsx("span",{className:"font-medium",children:n.unit_number||"Not assigned"})]})]})]})]}),n.payment_screenshot_url?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Payment Screenshot"}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsx("img",{src:n.payment_screenshot_url,alt:"Payment screenshot",className:"max-w-full h-auto"})})]}):s.jsxs("div",{className:"text-center py-8 border-2 border-dashed rounded-lg",children:[s.jsx(Qi,{className:"w-12 h-12 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-muted-foreground",children:"No screenshot uploaded"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tenant has not uploaded payment proof yet"})]}),n.bill_details&&n.bill_details.length>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[s.jsx(ur,{className:"w-4 h-4"}),"Bill Details (",n.bill_details.length," bills)"]}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:n.bill_details.map(x=>s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ur,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:x.bill_type.charAt(0).toUpperCase()+x.bill_type.slice(1)}),x.bill_number&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",x.bill_number,")"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-semibold",children:e(x.amount)}),s.jsx(Ze,{variant:x.status==="paid"?"default":x.status==="overdue"?"destructive":"outline",className:"text-xs",children:x.status})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Jn,{className:"w-3 h-3"}),s.jsxs("span",{children:["Period: ",Rn(new Date(x.bill_period_start),"MMM d")," - ",Rn(new Date(x.bill_period_end),"MMM d, yyyy")]})]}),s.jsxs("div",{children:["Due: ",Rn(new Date(x.due_date),"MMM d, yyyy")]})]})]},x.id))})]}),n.verification_notes&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Tenant Notes"}),s.jsx("div",{className:"bg-muted p-3 rounded text-sm",children:n.verification_notes})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Admin Notes (Optional)"}),s.jsx(vu,{placeholder:"Add any notes about this verification...",value:u,onChange:x=>d(x.target.value),rows:3})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsx(de,{variant:"outline",onClick:()=>a(null),children:"Close"}),s.jsxs("div",{className:"flex-1 flex justify-end gap-2",children:[s.jsxs(de,{variant:"destructive",onClick:()=>y(n.id,"rejected"),disabled:l,children:[l?s.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(vh,{className:"w-4 h-4 mr-2"}),"Reject"]}),s.jsxs(de,{onClick:()=>y(n.id,"approved"),disabled:l,children:[l?s.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Gr,{className:"w-4 h-4 mr-2"}),"Approve"]})]})]})]})]})})]})})}function EGe({onComplete:e}){const[t,r]=C.useState(0),[n,a]=C.useState([]),i=[{id:"create-tenant",title:"Create Tenant",description:"Add new tenant with user account",icon:wu,completed:n.includes("create-tenant"),current:t===0},{id:"assign-unit",title:"Assign Unit",description:"Select property and unit for tenant",icon:Xr,completed:n.includes("assign-unit"),current:t===1},{id:"family-details",title:"Family Details",description:"Add family members for emergency contacts",icon:Nr,completed:n.includes("family-details"),current:t===2},{id:"meter-reading",title:"Meter Reading",description:"Record initial meter readings",icon:Wl,completed:n.includes("meter-reading"),current:t===3},{id:"generate-bills",title:"Generate Bills",description:"Create initial rent and utility bills",icon:ur,completed:n.includes("generate-bills"),current:t===4},{id:"payment-setup",title:"Payment Setup",description:"Configure payment methods and QR codes",icon:ap,completed:n.includes("payment-setup"),current:t===5}],o=()=>{t<i.length-1?(a([...n,i[t].id]),r(t+1)):(a([...n,i[t].id]),e?.())},l=()=>{t>0&&r(t-1)},c=A=>{A<=n.length&&r(A)},u=(n.length+(i[t].current?0:1))/i.length*100,d=({step:A})=>{switch(A.id){case"create-tenant":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(wu,{className:"w-16 h-16 mx-auto text-primary mb-4"}),s.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Create New Tenant"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Add a new tenant and create their user account for portal access"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsx(gt,{className:"text-lg",children:"Required Information"})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Full Name *"}),s.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Email *"}),s.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Phone Number"}),s.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]})]})]}),s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsx(gt,{className:"text-lg",children:"User Account"})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",className:"rounded",defaultChecked:!0}),s.jsx("label",{className:"text-sm",children:"Create user account"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Password"}),s.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]}),s.jsx("div",{className:"bg-blue-50 p-3 rounded text-sm",children:s.jsx("p",{className:"text-blue-800",children:" Tenant will receive login credentials"})})]})]})]})]});case"assign-unit":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(Xr,{className:"w-16 h-16 mx-auto text-primary mb-4"}),s.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Assign Unit"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Select property and unit for the tenant"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsx(gt,{className:"text-lg",children:"Property Selection"})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Select Property *"}),s.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Available Units"}),s.jsx("div",{className:"space-y-2",children:[1,2,3].map(h=>s.jsx("div",{className:"h-8 bg-muted rounded animate-pulse"},h))})]})]})]}),s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsx(gt,{className:"text-lg",children:"Rent Details"})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Rent Amount () *"}),s.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Lease Start"}),s.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Lease End"}),s.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]})]})]})]})]})]});case"family-details":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(Nr,{className:"w-16 h-16 mx-auto text-primary mb-4"}),s.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Family Details"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Add family members for emergency contacts"})]}),s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsx(gt,{className:"text-lg",children:"Family Members"}),s.jsx(Wr,{children:"Add family members who will be living with the tenant"})]}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Family Members Added"}),s.jsx(Ze,{variant:"outline",children:"0"})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[s.jsx(Nr,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No family members added yet"}),s.jsxs(de,{children:[s.jsx(Nr,{className:"w-4 h-4 mr-2"}),"Add Family Member"]})]})}),s.jsx("div",{className:"bg-blue-50 p-4 rounded text-sm",children:s.jsxs("p",{className:"text-blue-800",children:[s.jsx("strong",{children:"Note:"})," Family members are important for emergency contacts and communication."]})})]})]})]});case"meter-reading":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(Wl,{className:"w-16 h-16 mx-auto text-primary mb-4"}),s.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Meter Reading"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Record initial meter readings for utilities"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsx(gt,{className:"text-lg",children:"Electricity Meter"})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Initial Reading"}),s.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Unit Rate (/unit)"}),s.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Reading Date"}),s.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]})]})]}),s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsx(gt,{className:"text-lg",children:"Water Meter"})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Initial Reading"}),s.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Unit Rate (/kl)"}),s.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]}),s.jsx("div",{className:"bg-yellow-50 p-3 rounded text-sm",children:s.jsxs("p",{className:"text-yellow-800",children:[s.jsx("strong",{children:"Optional:"})," Water meter can be added later"]})})]})]})]})]});case"generate-bills":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(ur,{className:"w-16 h-16 mx-auto text-primary mb-4"}),s.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Generate Initial Bills"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Create initial rent and utility bills"})]}),s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsx(gt,{className:"text-lg",children:"Bill Generation"}),s.jsx(Wr,{children:"Generate initial bills for the tenant"})]}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Rent Bill"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly rent charges"})]}),s.jsx(Ze,{className:"bg-green-100 text-green-800",children:"Ready"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Electricity Bill"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Based on meter reading"})]}),s.jsx(Ze,{className:"bg-yellow-100 text-yellow-800",children:"Pending"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Maintenance Fee"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Building maintenance charges"})]}),s.jsx(Ze,{className:"bg-gray-100 text-gray-800",children:"Optional"})]})]}),s.jsxs(de,{className:"w-full",children:[s.jsx(ur,{className:"w-4 h-4 mr-2"}),"Generate Bills"]})]})]})]});case"payment-setup":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(ap,{className:"w-16 h-16 mx-auto text-primary mb-4"}),s.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Payment Setup"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Configure payment methods and QR codes"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsx(gt,{className:"text-lg",children:"QR Code Payment"})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded",children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-800 mb-2",children:[s.jsx(Gr,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:"QR Code System Ready"})]}),s.jsx("p",{className:"text-sm text-green-700",children:"Tenants can pay via QR code with manual verification"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"UPI ID"}),s.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]}),s.jsx("div",{className:"bg-blue-50 p-3 rounded text-sm",children:s.jsxs("p",{className:"text-blue-800",children:[s.jsx("strong",{children:"Setup Complete:"})," QR payment system is ready to use"]})})]})]}),s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsx(gt,{className:"text-lg",children:"Payment Methods"})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"QR Code Payments"}),s.jsx(Ze,{className:"bg-green-100 text-green-800",children:"Active"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Manual Recording"}),s.jsx(Ze,{className:"bg-green-100 text-green-800",children:"Active"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Online Gateway"}),s.jsx(Ze,{className:"bg-gray-100 text-gray-800",children:"Coming Soon"})]})]}),s.jsx("div",{className:"bg-purple-50 p-3 rounded text-sm",children:s.jsxs("p",{className:"text-purple-800",children:[s.jsx("strong",{children:"Next:"})," Tenant can start paying immediately"]})})]})]})]})]});default:return null}};return s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Tenant Setup Wizard"}),s.jsxs(Ze,{variant:"outline",children:["Step ",t+1," of ",i.length]})]}),s.jsx(DA,{value:u,className:"h-2"})]}),s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsx("div",{className:"flex items-center space-x-2",children:i.map((A,h)=>s.jsxs("button",{onClick:()=>c(h),className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors ${A.current?"bg-primary text-primary-foreground":A.completed?"bg-green-100 text-green-800 hover:bg-green-200":"bg-muted text-muted-foreground hover:bg-muted/80"}`,disabled:h>n.length,children:[s.jsx(A.icon,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:A.title}),A.completed&&!A.current&&s.jsx(Gr,{className:"w-4 h-4"})]},A.id))})}),s.jsx(mu,{mode:"wait",children:s.jsx(vt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:s.jsx(d,{step:i[t]})},t)}),s.jsxs("div",{className:"flex items-center justify-between mt-8",children:[s.jsxs(de,{variant:"outline",onClick:l,disabled:t===0,children:[s.jsx(jF,{className:"w-4 h-4 mr-2"}),"Previous"]}),s.jsx(de,{onClick:o,children:t===i.length-1?s.jsxs(s.Fragment,{children:[s.jsx(Gr,{className:"w-4 h-4 mr-2"}),"Complete Setup"]}):s.jsxs(s.Fragment,{children:["Next",s.jsx(gv,{className:"w-4 h-4 ml-2"})]})})]})]})}function VP({mode:e="listing"}){const[t,r]=C.useState(""),[n,a]=C.useState(!1),[i,o]=C.useState(null),{tenantId:l}=qG(),c=bi(),[u,d]=C.useState([{id:"1",name:"John Doe",email:"john.doe@example.com",phone:"+91 9876543210",status:"active",property:"Sunshine Apartments",unit:"A-101",rent_amount:15e3,lease_start:"2024-01-01",lease_end:"2024-12-31",created_at:"2024-01-01T00:00:00Z",family_members:3,total_paid:45e3,pending_bills:2,overdue_bills:1},{id:"2",name:"Jane Smith",email:"jane.smith@example.com",phone:"+91 9876543211",status:"active",property:"Green Valley Residency",unit:"B-205",rent_amount:12e3,lease_start:"2024-02-01",lease_end:"2025-01-31",created_at:"2024-02-01T00:00:00Z",family_members:2,total_paid:24e3,pending_bills:1,overdue_bills:0},{id:"3",name:"Mike Johnson",email:"mike.johnson@example.com",phone:"+91 9876543212",status:"inactive",property:"Blue Sky Complex",unit:"C-303",rent_amount:18e3,lease_start:"2023-06-01",lease_end:"2024-05-31",created_at:"2023-06-01T00:00:00Z",family_members:1,total_paid:54e3,pending_bills:0,overdue_bills:0}]),A=u.filter(x=>x.name.toLowerCase().includes(t.toLowerCase())||x.email.toLowerCase().includes(t.toLowerCase())||x.phone.includes(t)),h=x=>{o(x),c(`/admin/tenant-management/${x.id}`)},m=()=>{o(null),c("/admin/tenant-management")},y=()=>{a(!0)},g=x=>{switch(x){case"active":return s.jsx(Ze,{className:"bg-green-100 text-green-800",children:"Active"});case"inactive":return s.jsx(Ze,{className:"bg-red-100 text-red-800",children:"Inactive"});default:return s.jsx(Ze,{className:"bg-gray-100 text-gray-800",children:x})}},v=({tenant:x})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:x.name}),s.jsx("p",{className:"text-muted-foreground",children:x.email}),s.jsx("p",{className:"text-sm text-muted-foreground",children:x.phone})]}),s.jsx(de,{variant:"outline",onClick:m,children:"Back to List"})]}),s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsx(gt,{children:"Tenant Overview"})}),s.jsx(De,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Property"}),s.jsx("p",{className:"font-medium",children:x.property})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Unit"}),s.jsx("p",{className:"font-medium",children:x.unit})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),g(x.status)]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Rent Amount"}),s.jsxs("p",{className:"font-medium",children:["",x.rent_amount.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Lease Period"}),s.jsxs("p",{className:"font-medium",children:[x.lease_start," to ",x.lease_end]})]})]})})]}),s.jsxs(kd,{defaultValue:"overview",className:"w-full",children:[s.jsxs(Pu,{className:"grid w-full grid-cols-4",children:[s.jsx(Zr,{value:"overview",children:"Overview"}),s.jsx(Zr,{value:"family",children:"Family"}),s.jsx(Zr,{value:"bills",children:"Bills & Payments"}),s.jsx(Zr,{value:"settings",children:"Settings"})]}),s.jsxs(hn,{value:"overview",className:"space-y-4",children:[s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsx(gt,{children:"Financial Summary"})}),s.jsx(De,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Paid"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",x.total_paid.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Bills"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:x.pending_bills})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Overdue Bills"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:x.overdue_bills})]})]})})]}),s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsx(gt,{children:"Quick Actions"})}),s.jsxs(De,{className:"space-y-3",children:[s.jsxs(de,{className:"w-full",onClick:()=>c("/admin/payment-verification"),children:[s.jsx(ap,{className:"w-4 h-4 mr-2"}),"Verify Payments"]}),s.jsxs(de,{className:"w-full",onClick:()=>c("/admin/billing"),children:[s.jsx(ur,{className:"w-4 h-4 mr-2"}),"Generate Bills"]}),s.jsxs(de,{className:"w-full",onClick:()=>c("/admin/tenant-guide"),children:[s.jsx(iue,{className:"w-4 h-4 mr-2"}),"View Guide"]})]})]})]}),s.jsx(hn,{value:"family",className:"space-y-4",children:s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsx(gt,{children:"Family Members"}),s.jsx(Wr,{children:"Family members associated with this tenant"})]}),s.jsx(De,{children:s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Nr,{className:"w-12 h-12 mx-auto mb-4"}),s.jsx("p",{children:"No family members added yet"}),s.jsxs(de,{children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Add Family Member"]})]})})]})}),s.jsx(hn,{value:"bills",className:"space-y-4",children:s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsx(gt,{children:"Bills & Payments"}),s.jsx(Wr,{children:"Billing and payment history"})]}),s.jsx(De,{children:s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ur,{className:"w-12 h-12 mx-auto mb-4"}),s.jsx("p",{children:"No bills generated yet"}),s.jsxs(de,{children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Generate First Bill"]})]})})]})}),s.jsx(hn,{value:"settings",className:"space-y-4",children:s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsx(gt,{children:"Tenant Settings"}),s.jsx(Wr,{children:"Manage tenant account settings"})]}),s.jsx(De,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"email",children:"Email"}),s.jsx(it,{id:"email",value:x.email,disabled:!0})]}),s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"phone",children:"Phone"}),s.jsx(it,{id:"phone",value:x.phone,disabled:!0})]}),s.jsxs("div",{children:[s.jsx(Je,{htmlFor:"status",children:"Status"}),s.jsxs(ar,{value:x.status,disabled:!0,children:[s.jsx(Fe,{value:"active",children:"Active"}),s.jsx(Fe,{value:"inactive",children:"Inactive"})]})]})]})})]})})]})]});return e==="wizard"?s.jsx(An,{children:s.jsx("div",{className:"max-w-4xl mx-auto p-6",children:s.jsx(EGe,{onComplete:()=>a(!1)})})}):e==="detail"&&i?s.jsx(v,{tenant:i}):s.jsx(An,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Tenant Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage all tenants, their properties, and related activities"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(de,{onClick:y,children:[s.jsx(wu,{className:"w-4 h-4 mr-2"}),"Add Tenant"]}),s.jsxs(de,{variant:"outline",onClick:()=>a(!0),children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Setup Wizard"]})]})]}),s.jsx(Uae,{}),s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsx(gt,{children:"Tenant Directory"}),s.jsx(Wr,{children:"All tenants in the system with their current status"})]}),s.jsxs(De,{children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(it,{placeholder:"Search tenants...",value:t,onChange:x=>r(x.target.value),className:"pl-10"})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(de,{variant:"outline",size:"sm",children:[s.jsx(Tp,{className:"w-4 h-4 mr-2"}),"Filter"]}),s.jsxs(de,{variant:"outline",size:"sm",children:[s.jsx(Ro,{className:"w-4 h-4 mr-2"}),"Export"]}),s.jsxs(de,{variant:"outline",size:"sm",onClick:()=>window.location.reload(),children:[s.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),s.jsx("div",{className:"border rounded-lg",children:s.jsxs(Ui,{children:[s.jsx(Di,{children:s.jsxs(jr,{children:[s.jsx(ht,{children:"Name"}),s.jsx(ht,{children:"Email"}),s.jsx(ht,{children:"Phone"}),s.jsx(ht,{children:"Property"}),s.jsx(ht,{children:"Unit"}),s.jsx(ht,{children:"Status"}),s.jsx(ht,{children:"Rent"}),s.jsx(ht,{children:"Actions"})]})}),s.jsx(Mi,{children:A.map(x=>s.jsxs(jr,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>h(x),children:[s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-medium text-xs",children:x.name.charAt(0)})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:x.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.family_members," family members"]})]})]})}),s.jsx(ct,{children:x.email}),s.jsx(ct,{children:x.phone}),s.jsx(ct,{children:x.property}),s.jsx(ct,{children:x.unit}),s.jsx(ct,{children:g(x.status)}),s.jsxs(ct,{children:["",x.rent_amount.toLocaleString()]}),s.jsx(ct,{children:s.jsx(de,{variant:"ghost",size:"sm",children:s.jsx(si,{className:"w-4 h-4"})})})]},x.id))})]})})]})]})]})})}const kGe=()=>{const{properties:e=[]}=qh(),{data:t=[]}=Vp(),{units:r=[]}=Wy(),{data:n=[]}=yL(),a=t.filter(d=>d.status==="active").length,i=r.filter(d=>d.availability==="occupied").length,o=r.length>0?(i/r.length*100).toFixed(1):"0",l=n.filter(d=>d.status==="open").length,c=r.reduce((d,A)=>d+(A.rent||0),0),u=[{title:"Properties Managed",value:String(e.length),change:"Active",changeType:"positive",icon:sn},{title:"Active Tenants",value:String(a),change:`of ${t.length}`,changeType:"positive",icon:Nr},{title:"Total Units",value:String(r.length),change:`${i} occupied`,changeType:"positive",icon:Hi},{title:"Occupancy Rate",value:`${o}%`,change:"Current",changeType:"positive",icon:Al},{title:"Open Tickets",value:String(l),change:"Pending",changeType:l>5?"negative":"positive",icon:Ma},{title:"Monthly Rent",value:`${c.toLocaleString()}`,change:"Expected",changeType:"positive",icon:bn}];return s.jsx(An,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Manager Dashboard"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Welcome back, Manager. Here's your property overview."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map((d,A)=>s.jsx(Rh,{...d,index:A},d.title))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(Fae,{})}),s.jsx(Lae,{})]}),s.jsx(Rae,{})]})})},PGe=()=>s.jsx(An,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Staff Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Here's your overview."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(Le,{className:"glass-card",children:[s.jsxs(pt,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(gt,{className:"text-sm font-medium text-muted-foreground",children:"Assigned Properties"}),s.jsx(sn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(De,{children:s.jsx("div",{className:"text-2xl font-bold",children:"0"})})]}),s.jsxs(Le,{className:"glass-card",children:[s.jsxs(pt,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(gt,{className:"text-sm font-medium text-muted-foreground",children:"Open Tickets"}),s.jsx(Ma,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(De,{children:s.jsx("div",{className:"text-2xl font-bold",children:"0"})})]}),s.jsxs(Le,{className:"glass-card",children:[s.jsxs(pt,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(gt,{className:"text-sm font-medium text-muted-foreground",children:"Tasks Today"}),s.jsx(hue,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(De,{children:s.jsx("div",{className:"text-2xl font-bold",children:"0"})})]}),s.jsxs(Le,{className:"glass-card",children:[s.jsxs(pt,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(gt,{className:"text-sm font-medium text-muted-foreground",children:"Messages"}),s.jsx(D0,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(De,{children:s.jsx("div",{className:"text-2xl font-bold",children:"0"})})]})]}),s.jsxs(Le,{className:"glass-card",children:[s.jsx(pt,{children:s.jsx(gt,{children:"Recent Activity"})}),s.jsx(De,{children:s.jsx("p",{className:"text-muted-foreground text-sm",children:"No recent activity to display."})})]})]})}),TGe=()=>{const{formatAmount:e}=ji(),t=bi(),r=[{title:"My Properties",value:"3",change:"0",changeType:"neutral",icon:sn},{title:"My Tenants",value:"24",change:"+2",changeType:"positive",icon:Nr},{title:"Monthly Revenue",value:e(12400),change:"+5.2%",changeType:"positive",icon:Hi},{title:"Occupancy Rate",value:"85%",change:"+2.1%",changeType:"positive",icon:Al},{title:"Pending Tasks",value:"8",change:"-3",changeType:"positive",icon:Jn},{title:"Open Invoices",value:"5",change:"+1",changeType:"neutral",icon:ur}],n=[{id:"1",name:"Sunset Apartments",address:"123 Main St, City, State 12345",units:12,occupied:10,status:"active",revenue:8500},{id:"2",name:"Oak Villa Complex",address:"456 Oak Ave, City, State 67890",units:8,occupied:6,status:"active",revenue:3900}],a=[{id:"1",name:"John Smith",email:"john.smith@email.com",phone:"+1 (555) 123-4567",unit:"Unit A-101",property:"Sunset Apartments",rent:850,status:"active"},{id:"2",name:"Sarah Johnson",email:"sarah.j@email.com",phone:"+1 (555) 987-6543",unit:"Unit B-205",property:"Oak Villa Complex",rent:650,status:"active"}];return s.jsx(An,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"User Dashboard"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Welcome back. Here's your property overview."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map((i,o)=>s.jsx(Rh,{...i,index:o},i.title))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Le,{children:[s.jsxs(pt,{className:"flex flex-row items-center justify-between",children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(sn,{className:"h-5 w-5"}),"Property Information"]}),s.jsxs(de,{variant:"outline",size:"sm",onClick:()=>t("/user/properties"),children:["View All",s.jsx(gv,{className:"h-4 w-4 ml-1"})]})]}),s.jsx(De,{children:s.jsx("div",{className:"space-y-4",children:n.map(i=>s.jsxs("div",{className:"p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:i.name}),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground mt-1",children:[s.jsx(yd,{className:"h-3 w-3"}),i.address]})]}),s.jsx(Ze,{variant:i.status==="active"?"default":"secondary",children:i.status})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Units:"}),s.jsxs("div",{className:"font-medium",children:[i.occupied,"/",i.units]}),s.jsx(DA,{value:i.occupied/i.units*100,className:"h-1 mt-1"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Revenue:"}),s.jsxs("div",{className:"font-medium text-green-600",children:["$",i.revenue,"/mo"]})]})]})]},i.id))})})]}),s.jsxs(Le,{children:[s.jsxs(pt,{className:"flex flex-row items-center justify-between",children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"h-5 w-5"}),"Recent Tenants"]}),s.jsxs(de,{variant:"outline",size:"sm",onClick:()=>t("/user/tenants"),children:["View All",s.jsx(gv,{className:"h-4 w-4 ml-1"})]})]}),s.jsx(De,{children:s.jsx("div",{className:"space-y-4",children:a.map(i=>s.jsxs("div",{className:"p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:i.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.unit,"  ",i.property]})]}),s.jsx(Ze,{variant:i.status==="active"?"default":"secondary",children:i.status})]}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Bu,{className:"h-3 w-3"}),i.email]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Vl,{className:"h-3 w-3"}),i.phone]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t",children:[s.jsxs("span",{className:"text-sm font-medium",children:[e(i.rent),"/mo"]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(de,{variant:"ghost",size:"sm",children:s.jsx(si,{className:"h-3 w-3"})}),s.jsx(de,{variant:"ghost",size:"sm",children:s.jsx(hl,{className:"h-3 w-3"})})]})]})]},i.id))})})]})]}),s.jsxs(Le,{children:[s.jsxs(pt,{className:"flex flex-row items-center justify-between",children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(KA,{className:"h-5 w-5"}),"Basic Reports"]}),s.jsxs(de,{variant:"outline",size:"sm",children:["View Reports",s.jsx(gv,{className:"h-4 w-4 ml-1"})]})]}),s.jsx(De,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-blue-50 flex items-center justify-center",children:s.jsx(Al,{className:"h-8 w-8 text-blue-600"})}),s.jsx("h4",{className:"font-semibold mb-2",children:"Revenue Trend"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:"+12.5%"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"vs last month"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-green-50 flex items-center justify-center",children:s.jsx(lue,{className:"h-8 w-8 text-green-600"})}),s.jsx("h4",{className:"font-semibold mb-2",children:"Occupancy Rate"}),s.jsx("p",{className:"text-2xl font-bold",children:"85%"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"of total units"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-purple-50 flex items-center justify-center",children:s.jsx(Hl,{className:"h-8 w-8 text-purple-600"})}),s.jsx("h4",{className:"font-semibold mb-2",children:"Active Leases"}),s.jsx("p",{className:"text-2xl font-bold",children:"24"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"this month"})]})]})})]}),s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(Jn,{className:"h-5 w-5"}),"Limited Operations"]})}),s.jsx(De,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(de,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:[s.jsx(ur,{className:"h-6 w-6"}),s.jsx("span",{className:"text-sm",children:"Create Invoice"})]}),s.jsxs(de,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:[s.jsx(Nr,{className:"h-6 w-6"}),s.jsx("span",{className:"text-sm",children:"Add Tenant"})]}),s.jsxs(de,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:[s.jsx(sn,{className:"h-6 w-6"}),s.jsx("span",{className:"text-sm",children:"Add Property"})]}),s.jsxs(de,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:[s.jsx(sl,{className:"h-6 w-6"}),s.jsx("span",{className:"text-sm",children:"Send Notice"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-card rounded-lg p-6 border",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsx("span",{className:"text-sm",children:"New tenant registered"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"2h ago"})]}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsx("span",{className:"text-sm",children:"Payment received"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"5h ago"})]}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsx("span",{className:"text-sm",children:"Maintenance request"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"1d ago"})]})]})]}),s.jsxs("div",{className:"bg-card rounded-lg p-6 border",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Notifications"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-lg",children:[s.jsx(sl,{className:"h-4 w-4 text-blue-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Lease renewal due"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"3 leases expiring this month"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 rounded-lg",children:[s.jsx(Hi,{className:"h-4 w-4 text-green-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Payment received"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e(2400)," collected today"]})]})]})]})]})]})]})})},OGe=()=>{const e=[{id:1,title:"Property Discovery",description:"Browse and find your ideal property",icon:yd,status:"completed",progress:100,actions:["View Properties","Save Favorites","Compare Options"]},{id:2,title:"Application Process",description:"Submit your rental application",icon:ur,status:"completed",progress:100,actions:["Complete Application","Upload Documents","Background Check"]},{id:3,title:"Lease Agreement",description:"Review and sign your lease",icon:bn,status:"in_progress",progress:75,actions:["Review Terms","Sign Lease","Pay Security Deposit"]},{id:4,title:"Move-In Ready",description:"Prepare for your move",icon:Xr,status:"pending",progress:0,actions:["Schedule Move-In","Utilities Setup","Change Address"]},{id:5,title:"Settle In",description:"Get comfortable in your new home",icon:Nr,status:"pending",progress:0,actions:["Meet Neighbors","Explore Area","Join Community"]}],t=[{title:"Application Approved",description:"Your rental application has been approved",time:"2 hours ago",type:"success",icon:Gr},{title:"Document Uploaded",description:"Proof of income successfully uploaded",time:"1 day ago",type:"info",icon:ur},{title:"Payment Processed",description:"Application fee payment confirmed",time:"2 days ago",type:"success",icon:bn}],r=[{title:"Sign Lease Agreement",description:"Review and electronically sign your lease",dueDate:"Due in 2 days",priority:"high",icon:ur},{title:"Pay Security Deposit",description:"Complete security deposit payment",dueDate:"Due in 3 days",priority:"high",icon:bn},{title:"Schedule Move-In",description:"Choose your preferred move-in date",dueDate:"Due in 1 week",priority:"medium",icon:Jn}],n=i=>{switch(i){case"completed":return"text-green-600 bg-green-50";case"in_progress":return"text-blue-600 bg-blue-50";case"pending":return"text-gray-600 bg-gray-50";default:return"text-gray-600 bg-gray-50"}},a=i=>{switch(i){case"completed":return Gr;case"in_progress":return ca;case"pending":return Qi;default:return Qi}};return s.jsx(An,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Your Journey"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Track your progress from application to move-in"})]}),s.jsxs(Le,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:[s.jsx(pt,{children:s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(JP,{className:"h-5 w-5 text-blue-600"}),"Overall Progress"]})}),s.jsx(De,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Journey Completion"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"55%"})]}),s.jsx(DA,{value:55,className:"h-2"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"You're making great progress! 2 of 5 major steps completed."})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Journey Steps"}),s.jsx("div",{className:"grid gap-4",children:e.map((i,o)=>{const l=a(i.status),c=i.icon;return s.jsx(Le,{className:"relative",children:s.jsxs(De,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${n(i.status)}`,children:s.jsx(c,{className:"w-6 h-6"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground",children:i.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ze,{variant:i.status==="completed"?"default":i.status==="in_progress"?"secondary":"outline",children:i.status.replace("_"," ")}),s.jsx(l,{className:"w-5 h-5 text-muted-foreground"})]})]}),i.progress>0&&s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Progress"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[i.progress,"%"]})]}),s.jsx(DA,{value:i.progress,className:"h-1"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:i.actions.map((u,d)=>s.jsxs(de,{variant:"outline",size:"sm",className:"text-xs",disabled:i.status==="pending",children:[u,s.jsx(gv,{className:"w-3 h-3 ml-1"})]},d))})]})]}),o<e.length-1&&s.jsx("div",{className:"absolute left-6 top-12 w-0.5 h-8 bg-border -z-10"})]})},i.id)})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(ca,{className:"h-5 w-5"}),"Upcoming Tasks"]})}),s.jsx(De,{children:s.jsx("div",{className:"space-y-3",children:r.map((i,o)=>{const l=i.icon;return s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[s.jsx(l,{className:"w-5 h-5 text-muted-foreground mt-0.5"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-sm",children:i.title}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i.description}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("span",{className:`text-xs ${i.priority==="high"?"text-red-600":"text-blue-600"}`,children:i.dueDate}),s.jsx(Ze,{variant:i.priority==="high"?"destructive":"secondary",className:"text-xs",children:i.priority})]})]})]},o)})})})]}),s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(D0,{className:"h-5 w-5"}),"Recent Activities"]})}),s.jsx(De,{children:s.jsx("div",{className:"space-y-3",children:t.map((i,o)=>{const l=i.icon;return s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${i.type==="success"?"bg-green-50":"bg-blue-50"}`,children:s.jsx(l,{className:`w-4 h-4 ${i.type==="success"?"text-green-600":"text-blue-600"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-sm",children:i.title}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i.description}),s.jsx("span",{className:"text-xs text-muted-foreground",children:i.time})]})]},o)})})})]})]}),s.jsxs(Le,{children:[s.jsx(pt,{children:s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(Is,{className:"h-5 w-5"}),"Need Help?"]})}),s.jsx(De,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(de,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:[s.jsx(D0,{className:"w-6 h-6"}),s.jsx("span",{className:"text-sm",children:"Contact Support"})]}),s.jsxs(de,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:[s.jsx(ur,{className:"w-6 h-6"}),s.jsx("span",{className:"text-sm",children:"View Documentation"})]}),s.jsxs(de,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:[s.jsx(Nr,{className:"w-6 h-6"}),s.jsx("span",{className:"text-sm",children:"Community Forum"})]})]})})]})]})})},Xy=()=>{const{user:e}=ua();return Ir({queryKey:["tenant-profile",e?.id],queryFn:async()=>{if(!e?.id)return null;try{const{data:t,error:r}=await be.from("tenants_profile").select("*").eq("user_id",e.id).maybeSingle();if(r&&console.error("Profile error:",r),!t){const{data:c}=await be.from("profiles").select("email, organization_id").eq("id",e.id).maybeSingle();if(!c?.email)return null;const{data:u}=await be.from("tenants").select("*").eq("email",c.email).maybeSingle();if(!u)return null;const{data:d}=await be.from("invoices").select("*").eq("tenant_id",u.id).order("due_date",{ascending:!1}),A=(d||[]).map(h=>({id:h.id,tenant_id:u.id,bill_type:"Invoice",bill_number:h.invoice_number,amount:h.amount,bill_period_start:h.issue_date,bill_period_end:h.due_date,due_date:h.due_date,status:h.status,created_at:h.created_at,updated_at:h.updated_at,payment_id:null,bill_document_url:null}));return{profile:{id:u.id,user_id:e.id,tenant_code:"N/A",full_name:u.name,email:u.email||"",phone:u.phone,address:null,id_proof_type:null,id_proof_url:null,profile_photo_url:null,date_of_birth:null,gender:null,emergency_contact_name:null,emergency_contact_phone:null,status:u.status,created_at:u.created_at,updated_at:u.updated_at},room:null,family_members:[],documents:[],bills:A}}const{data:n}=await be.from("tenant_rooms").select(`
            *,
            properties(id, name, address),
            units(id, unit_number)
          `).eq("tenant_id",t.id).eq("status","active").maybeSingle(),{data:a}=await be.from("tenant_family_members").select("*").eq("tenant_id",t.id),{data:i}=await be.from("tenant_documents").select("*").eq("tenant_id",t.id),{data:o}=await be.from("tenant_bills").select("*").eq("tenant_id",t.id).order("due_date",{ascending:!1});let l=o||[];if(l.length===0&&t.tenant_record_id){const{data:c}=await be.from("invoices").select("*").eq("tenant_id",t.tenant_record_id).order("due_date",{ascending:!1});l=(c||[]).map(u=>({id:u.id,tenant_id:t.id,bill_type:"Invoice",bill_number:u.invoice_number,amount:u.amount,bill_period_start:u.issue_date,bill_period_end:u.due_date,due_date:u.due_date,status:u.status,created_at:u.created_at,updated_at:u.updated_at,payment_id:null,bill_document_url:null}))}return{profile:t,room:n,family_members:a||[],documents:i||[],bills:l}}catch(t){return console.error("Dashboard data error:",t),null}},enabled:!!e?.id})},IGe=()=>{const{data:e,isLoading:t,error:r}=Xy(),{formatAmount:n}=ji();if(t)return s.jsx(An,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-lg",children:"Loading tenant data..."})})});if(r||!e)return s.jsx(An,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-lg text-red-600",children:r?.message||"Unable to load tenant data. Please contact your administrator."})})});const a=e?.profile,i=e?.room,o=e?.family_members||[],l=e?.documents||[],c=e?.bills||[],u=[{title:"Monthly Rent",value:i?n(i.rent_amount):"Not Assigned",change:i?`Due ${i.agreement_start_date?`on ${new Date(i.agreement_start_date).toLocaleDateString()}`:"TBD"}`:"No room assigned",changeType:"neutral",icon:Hi},{title:"Room Details",value:i?i.room_number:"Not Assigned",change:i&&i.floor_number?`${i.floor_number}nd Floor`:"No room assigned",changeType:"neutral",icon:Xr},{title:"Family Members",value:o.length.toString(),change:"Registered",changeType:"neutral",icon:Nr},{title:"Pending Bills",value:c.filter(d=>d.status==="pending").length.toString(),change:`${c.filter(d=>d.status==="overdue").length} Overdue`,changeType:c.some(d=>d.status==="overdue")?"negative":"neutral",icon:ur}];return s.jsx(An,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Tenant Dashboard"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:["Welcome back, ",a?.full_name||"Tenant","!"]})]}),s.jsxs(Ze,{variant:"secondary",className:"text-sm",children:["Tenant Code: ",a?.tenant_code||"N/A"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:u.map((d,A)=>s.jsx(Rh,{...d,index:A},d.title))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(Fs,{className:"w-5 h-5"}),"Personal Details"]}),s.jsx(Wr,{children:"Your personal information"})]}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:a?.profile_photo_url?s.jsx("img",{src:a.profile_photo_url,alt:"Profile",className:"w-16 h-16 rounded-full object-cover"}):s.jsx(NF,{className:"w-6 h-6 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:a?.full_name||"Tenant"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tenant"})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bu,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{children:a?.email||"N/A"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vl,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{children:a?.phone||"N/A"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yd,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-xs",children:i?.properties?.address||"No address available"})]})]}),s.jsxs(de,{variant:"outline",className:"w-full",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]})]}),s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(Xr,{className:"w-5 h-5"}),"Room Details"]}),s.jsx(Wr,{children:"Your rental information"})]}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Room Number"}),s.jsx("p",{className:"font-medium",children:i?.room_number||"Not Assigned"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Floor"}),s.jsx("p",{className:"font-medium",children:i?.floor_number?`${i.floor_number}nd Floor`:"Not Assigned"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Rent Amount"}),s.jsx("p",{className:"font-medium",children:i?`$${i.rent_amount}/month`:"Not Assigned"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Agreement Period"}),s.jsx("p",{className:"font-medium text-xs",children:i?.agreement_start_date&&i?.agreement_end_date?`${new Date(i.agreement_start_date).toLocaleDateString()} to ${new Date(i.agreement_end_date).toLocaleDateString()}`:"Not Available"})]})]}),s.jsxs(de,{variant:"outline",className:"w-full",children:[s.jsx(ur,{className:"w-4 h-4 mr-2"}),"View Agreement"]})]})]}),s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"w-5 h-5"}),"Family Members"]}),s.jsx(Wr,{children:"Registered family members"})]}),s.jsxs(De,{className:"space-y-4",children:[s.jsx("div",{className:"space-y-3",children:o.map((d,A)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:d.full_name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.relationship,"  ",d.age?`${d.age} years`:"Age not specified"]})]}),s.jsx(Ze,{variant:"secondary",className:"text-xs",children:d.relationship})]},A))}),s.jsxs(de,{variant:"outline",className:"w-full",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Add Member"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(ur,{className:"w-5 h-5"}),"Documents"]}),s.jsx(Wr,{children:"Your uploaded documents"})]}),s.jsxs(De,{className:"space-y-4",children:[s.jsx("div",{className:"space-y-3",children:l.map((d,A)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:d.document_type||"Document"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.document_type,"  ",new Date(d.uploaded_at).toLocaleDateString()]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(de,{variant:"outline",size:"sm",children:s.jsx(Ro,{className:"w-4 h-4"})})})]},A))}),s.jsxs(de,{className:"w-full",children:[s.jsx(Gm,{className:"w-4 h-4 mr-2"}),"Upload Document"]})]})]}),s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(ur,{className:"w-5 h-5"}),"Bills"]}),s.jsx(Wr,{children:"Your monthly bills"})]}),s.jsxs(De,{className:"space-y-4",children:[s.jsx("div",{className:"space-y-3",children:c.map((d,A)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[d.bill_type==="Electricity"&&s.jsx(Wl,{className:"w-5 h-5 text-yellow-600"}),d.bill_type==="Water"&&s.jsx(IW,{className:"w-5 h-5 text-blue-600"}),d.bill_type==="Maintenance"&&s.jsx(Ma,{className:"w-5 h-5 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:d.bill_type}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Due: ",new Date(d.due_date).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:["$",d.amount]}),s.jsx(Ze,{variant:d.status==="overdue"?"destructive":"secondary",className:"text-xs",children:d.status})]})]},A))}),s.jsxs(de,{className:"w-full",children:[s.jsx(bn,{className:"w-4 h-4 mr-2"}),"Pay Bills"]})]})]})]}),s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsx(gt,{children:"Quick Actions"}),s.jsx(Wr,{children:"Common tasks and settings"})]}),s.jsx(De,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs(de,{variant:"outline",className:"h-20 flex-col gap-2",children:[s.jsx(Hi,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm",children:"Pay Rent"})]}),s.jsxs(de,{variant:"outline",className:"h-20 flex-col gap-2",children:[s.jsx(ur,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm",children:"View Bills"})]}),s.jsxs(de,{variant:"outline",className:"h-20 flex-col gap-2",children:[s.jsx(Gm,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm",children:"Upload Doc"})]}),s.jsxs(de,{variant:"outline",className:"h-20 flex-col gap-2",children:[s.jsx(Is,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm",children:"Settings"})]})]})})]})]})})},FGe=()=>{const{user:e}=ua(),{data:t,isLoading:r}=Xy(),[n,a]=C.useState(!1),[i,o]=C.useState(""),[l,c]=C.useState(""),[u,d]=C.useState(""),A=t?.profile,h=t?.room;C.useEffect(()=>{A&&(o(A.full_name||""),c(A.phone||""),d(A.address||""))},[A]);const m=async()=>{if(!e?.id||!A)return;const{error:y}=await be.from("tenants_profile").update({full_name:i,phone:l,address:u}).eq("user_id",e.id);y?He.error("Failed to update profile"):(He.success("Profile updated successfully"),a(!1))};return r?s.jsx(An,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(jn,{className:"w-8 h-8 animate-spin text-primary"})})}):A?s.jsx(An,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Personal Details"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"View and manage your personal information"})]}),s.jsx(de,{variant:n?"default":"outline",onClick:()=>{n?m():a(!0)},className:"gap-2",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Xw,{className:"w-4 h-4"})," Save Changes"]}):s.jsxs(s.Fragment,{children:[s.jsx(hj,{className:"w-4 h-4"})," Edit Profile"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:s.jsx(Le,{children:s.jsx(De,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center border-2 border-primary/20",children:A.profile_photo_url?s.jsx("img",{src:A.profile_photo_url,alt:"Profile",className:"w-24 h-24 rounded-full object-cover"}):s.jsx(Fs,{className:"w-10 h-10 text-primary"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:A.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:A.email})]}),s.jsx(Ze,{variant:"secondary",className:"bg-primary/10 text-primary",children:A.tenant_code}),s.jsx(Ze,{variant:A.status==="active"?"default":"secondary",children:A.status})]})})})}),s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"lg:col-span-2",children:s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(Fs,{className:"w-5 h-5"})," Personal Information"]}),s.jsx(Wr,{children:"Your registered information"})]}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Full Name"}),n?s.jsx(it,{value:i,onChange:y=>o(y.target.value)}):s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[s.jsx(Fs,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:A.full_name||""})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email Address"}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[s.jsx(Bu,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:A.email})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),n?s.jsx(it,{value:l,onChange:y=>c(y.target.value)}):s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[s.jsx(Vl,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:A.phone||""})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Address"}),n?s.jsx(it,{value:u,onChange:y=>d(y.target.value)}):s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[s.jsx(yd,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:A.address||""})]})]}),A.date_of_birth&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Date of Birth"}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[s.jsx(Jn,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:new Date(A.date_of_birth).toLocaleDateString()})]})]}),A.gender&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Gender"}),s.jsx("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:s.jsx("span",{className:"text-sm capitalize",children:A.gender})})]})]}),(A.emergency_contact_name||A.emergency_contact_phone)&&s.jsxs("div",{className:"pt-4 border-t border-border/50",children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Emergency Contact"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[s.jsx(Fs,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:A.emergency_contact_name||""})]}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[s.jsx(Vl,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:A.emergency_contact_phone||""})]})]})]})]})]})})]}),s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(Xr,{className:"w-5 h-5"})," Rental Information"]}),s.jsx(Wr,{children:"Your current lease and unit details"})]}),s.jsx(De,{children:h?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-1 p-3 rounded-lg bg-muted/30",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Property"}),s.jsx("p",{className:"font-medium text-sm",children:h?.properties?.name||""})]}),s.jsxs("div",{className:"space-y-1 p-3 rounded-lg bg-muted/30",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Room / Unit"}),s.jsx("p",{className:"font-medium text-sm",children:h.room_number})]}),s.jsxs("div",{className:"space-y-1 p-3 rounded-lg bg-muted/30",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Agreement Period"}),s.jsx("p",{className:"font-medium text-sm",children:h.agreement_start_date?`${new Date(h.agreement_start_date).toLocaleDateString()}  ${h.agreement_end_date?new Date(h.agreement_end_date).toLocaleDateString():"Ongoing"}`:""})]}),s.jsxs("div",{className:"space-y-1 p-3 rounded-lg bg-muted/30",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly Rent"}),s.jsxs("p",{className:"font-medium text-sm",children:["$",h.rent_amount,"/month"]})]})]}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Xr,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No room assigned yet. Contact your administrator."})]})})]})})]})}):s.jsx(An,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx(Fs,{className:"w-12 h-12 text-muted-foreground mx-auto"}),s.jsx("p",{className:"text-muted-foreground",children:"Tenant profile not found. Please contact your administrator."})]})})})},RGe=()=>{const{data:e,isLoading:t}=Xy(),r=e?.documents||[],n={"ID Proof":"",Agreement:"","Address Proof":"",Photo:"",Contract:""};return t?s.jsx(An,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(jn,{className:"w-8 h-8 animate-spin text-primary"})})}):s.jsx(An,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"My Documents"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"View and manage your uploaded documents"})]}),s.jsxs(de,{className:"gap-2",children:[s.jsx(Gm,{className:"w-4 h-4"})," Upload Document"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{label:"Total Documents",value:r.length,icon:ur},{label:"Recent Uploads",value:r.filter(a=>{const i=new Date(a.uploaded_at),o=new Date;return o.setDate(o.getDate()-30),i>o}).length,icon:Gm},{label:"Document Types",value:new Set(r.map(a=>a.document_type)).size,icon:gue}].map((a,i)=>s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:i*.1},children:s.jsx(Le,{children:s.jsx(De,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:a.label}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:a.value})]}),s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:s.jsx(a.icon,{className:"w-5 h-5 text-primary"})})]})})})},a.label))}),s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsx(gt,{children:"All Documents"}),s.jsx(Wr,{children:"Your uploaded files and documents"})]}),s.jsx(De,{children:r.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ur,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"No documents uploaded yet"}),s.jsxs(de,{className:"mt-4 gap-2",children:[s.jsx(Gm,{className:"w-4 h-4"})," Upload Your First Document"]})]}):s.jsx("div",{className:"space-y-3",children:r.map(a=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-border/50 hover:bg-muted/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center text-lg",children:n[a.document_type||""]||""}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:a.document_type||"Document"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[s.jsx(Jn,{className:"w-3 h-3"}),Rn(new Date(a.uploaded_at),"MMM dd, yyyy")]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:a.document_url&&s.jsxs(s.Fragment,{children:[s.jsx(de,{variant:"ghost",size:"sm",className:"gap-1",asChild:!0,children:s.jsxs("a",{href:a.document_url,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(si,{className:"w-4 h-4"})," View"]})}),s.jsx(de,{variant:"ghost",size:"sm",className:"gap-1",asChild:!0,children:s.jsxs("a",{href:a.document_url,download:!0,children:[s.jsx(Ro,{className:"w-4 h-4"})," Download"]})})]})})]},a.id))})})]})})]})})},LGe=()=>{const{user:e}=ua(),{data:t,isLoading:r}=Xy(),n=In(),a=t?.profile?.id,{data:i=[],isLoading:o}=Ir({queryKey:["tenant-family-members",a],queryFn:async()=>{if(!a)return[];const{data:T,error:O}=await be.from("tenant_family_members").select("*").eq("tenant_id",a).order("created_at",{ascending:!0});if(O)throw O;return T||[]},enabled:!!a}),l=er({mutationFn:async T=>{if(!a)throw new Error("Profile not found");const{data:O,error:P}=await be.from("tenant_family_members").insert({tenant_id:a,...T}).select().single();if(P)throw P;return O},onSuccess:()=>{n.invalidateQueries({queryKey:["tenant-family-members"]}),He.success("Family member added")},onError:T=>He.error(T.message)}),c=er({mutationFn:async T=>{const{error:O}=await be.from("tenant_family_members").delete().eq("id",T);if(O)throw O},onSuccess:()=>{n.invalidateQueries({queryKey:["tenant-family-members"]}),He.success("Family member removed")},onError:T=>He.error(T.message)}),[u,d]=C.useState(!1),[A,h]=C.useState(""),[m,y]=C.useState(""),[g,v]=C.useState(""),[x,b]=C.useState(""),[j,_]=C.useState(""),N=()=>{if(!A||!m){He.error("Name and relationship are required");return}l.mutate({full_name:A,relationship:m,age:parseInt(g)||void 0,phone:x||void 0,gender:j||void 0}),d(!1),h(""),y(""),v(""),b(""),_("")},B={Spouse:"bg-pink-500/10 text-pink-600 border-pink-500/20",Child:"bg-blue-500/10 text-blue-600 border-blue-500/20",Parent:"bg-amber-500/10 text-amber-600 border-amber-500/20",Sibling:"bg-green-500/10 text-green-600 border-green-500/20",Other:"bg-muted text-muted-foreground"};return r||o?s.jsx(An,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(jn,{className:"w-8 h-8 animate-spin text-primary"})})}):s.jsx(An,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Family Members"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your registered family members"})]}),s.jsxs(de,{onClick:()=>d(!0),className:"gap-2",children:[s.jsx(mn,{className:"w-4 h-4"})," Add Member"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{label:"Total Members",value:i.length,icon:Nr},{label:"Adults",value:i.filter(T=>(T.age||0)>=18).length,icon:Fs},{label:"Children",value:i.filter(T=>(T.age||0)<18&&T.age).length,icon:wue}].map((T,O)=>s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:O*.1},children:s.jsx(Le,{children:s.jsx(De,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:T.label}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:T.value})]}),s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:s.jsx(T.icon,{className:"w-5 h-5 text-primary"})})]})})})},T.label))}),i.length===0?s.jsx(Le,{children:s.jsx(De,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Nr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"No family members registered yet"}),s.jsxs(de,{onClick:()=>d(!0),className:"mt-4 gap-2",children:[s.jsx(mn,{className:"w-4 h-4"})," Add Your First Member"]})]})})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map((T,O)=>s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3+O*.1},children:s.jsx(Le,{className:"hover:shadow-md transition-shadow",children:s.jsxs(De,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Fs,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:T.full_name}),s.jsx(Ze,{variant:"outline",className:`text-xs mt-1 ${B[T.relationship]||""}`,children:T.relationship})]})]}),s.jsx(de,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>c.mutate(T.id),children:s.jsx(yi,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"mt-4 space-y-2 text-sm text-muted-foreground",children:[T.age&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fs,{className:"w-3.5 h-3.5"})," Age: ",T.age," years"]}),T.gender&&s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"capitalize",children:T.gender})}),T.phone&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vl,{className:"w-3.5 h-3.5"})," ",T.phone]})]})]})})},T.id))}),s.jsx(dn,{open:u,onOpenChange:d,children:s.jsxs(an,{children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Add Family Member"}),s.jsx(_n,{children:"Register a new family member"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Full Name *"}),s.jsx(it,{value:A,onChange:T=>h(T.target.value),placeholder:"Enter full name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Relationship *"}),s.jsxs(ar,{value:m,onValueChange:y,children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select relationship"})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"Spouse",children:"Spouse"}),s.jsx(Fe,{value:"Child",children:"Child"}),s.jsx(Fe,{value:"Parent",children:"Parent"}),s.jsx(Fe,{value:"Sibling",children:"Sibling"}),s.jsx(Fe,{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Age"}),s.jsx(it,{type:"number",value:g,onChange:T=>v(T.target.value),placeholder:"Age"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Gender"}),s.jsxs(ar,{value:j,onValueChange:_,children:[s.jsx(ir,{children:s.jsx(lr,{placeholder:"Select"})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"male",children:"Male"}),s.jsx(Fe,{value:"female",children:"Female"}),s.jsx(Fe,{value:"other",children:"Other"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Phone (optional)"}),s.jsx(it,{value:x,onChange:T=>b(T.target.value),placeholder:"Phone number"})]})]}),s.jsxs(Qa,{children:[s.jsx(de,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),s.jsx(de,{onClick:N,disabled:l.isPending,children:l.isPending?"Adding...":"Add Member"})]})]})})]})})},UGe=()=>{const{data:e,isLoading:t}=Xy(),{formatAmount:r}=ji(),n=bi(),a=e?.bills||[],i=A=>{n("/tenant/payments-enhanced",{state:{selectedBills:[A.id],totalAmount:A.amount}})},o=a.filter(A=>A.status==="pending"||A.status==="overdue").reduce((A,h)=>A+Number(h.amount),0),l=a.filter(A=>A.status==="overdue").length,c=a.filter(A=>A.status==="paid").length,u=a.filter(A=>A.status==="pending").length,d={paid:{icon:Gr,color:"text-green-600 bg-green-500/10 border-green-500/20"},pending:{icon:ca,color:"text-yellow-600 bg-yellow-500/10 border-yellow-500/20"},overdue:{icon:Qi,color:"text-destructive bg-destructive/10 border-destructive/20"}};return t?s.jsx(An,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(jn,{className:"w-8 h-8 animate-spin text-primary"})})}):s.jsx(An,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"My Bills"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"View and manage your bills"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Total Due",value:r(o),icon:Hi,color:"text-primary"},{label:"Pending Bills",value:u,icon:ca,color:"text-yellow-600"},{label:"Overdue",value:l,icon:Qi,color:"text-destructive"},{label:"Paid",value:c,icon:Gr,color:"text-green-600"}].map((A,h)=>s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:h*.1},children:s.jsx(Le,{children:s.jsx(De,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:A.label}),s.jsx("p",{className:`text-2xl font-bold mt-1 ${A.color}`,children:A.value})]}),s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:s.jsx(A.icon,{className:`w-5 h-5 ${A.color}`})})]})})})},A.label))}),s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},children:s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(ur,{className:"w-5 h-5"})," All Bills"]}),s.jsx(Wr,{children:"Your bills and their payment status"})]}),s.jsx(De,{children:a.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(bn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"No bills found"})]}):s.jsxs(Ui,{children:[s.jsx(Di,{children:s.jsxs(jr,{children:[s.jsx(ht,{children:"Bill Type"}),s.jsx(ht,{children:"Bill #"}),s.jsx(ht,{children:"Amount"}),s.jsx(ht,{children:"Period"}),s.jsx(ht,{children:"Due Date"}),s.jsx(ht,{children:"Status"}),s.jsx(ht,{className:"text-right",children:"Action"})]})}),s.jsx(Mi,{children:a.map(A=>{const h=d[A.status]||d.pending,m=h.icon;return s.jsxs(jr,{children:[s.jsx(ct,{className:"font-medium",children:A.bill_type}),s.jsx(ct,{className:"text-muted-foreground",children:A.bill_number||""}),s.jsx(ct,{className:"font-semibold",children:r(Number(A.amount))}),s.jsxs(ct,{className:"text-muted-foreground text-xs",children:[Rn(new Date(A.bill_period_start),"MMM dd")," - ",Rn(new Date(A.bill_period_end),"MMM dd, yyyy")]}),s.jsx(ct,{className:"text-muted-foreground",children:Rn(new Date(A.due_date),"MMM dd, yyyy")}),s.jsx(ct,{children:s.jsxs(Ze,{variant:"outline",className:`gap-1 ${h.color}`,children:[s.jsx(m,{className:"w-3 h-3"}),A.status]})}),s.jsx(ct,{className:"text-right",children:A.status!=="paid"&&s.jsxs(de,{size:"sm",className:"gap-1",onClick:()=>i(A),children:[s.jsx(bn,{className:"w-3.5 h-3.5"})," Pay Now"]})})]},A.id)})})]})})]})})]})})},DGe=()=>{const{user:e}=ua(),t=In(),r=async()=>{if(!e?.id)return null;const{data:_}=await be.from("tenants_profile").select("id").eq("user_id",e.id).maybeSingle();return _?.id},{data:n=[],isLoading:a,error:i}=Ir({queryKey:["tenant-payment-methods",e?.id],queryFn:async()=>{const _=await r();if(!_)return[];const{data:N,error:B}=await be.from("tenant_payment_methods").select("*").eq("tenant_id",_).eq("is_active",!0).order("is_default",{ascending:!1}).order("created_at",{ascending:!1});if(B)throw B;return N||[]},enabled:!!e?.id}),{data:o=[],isLoading:l}=Ir({queryKey:["tenant-payment-attempts",e?.id],queryFn:async()=>{const _=await r();if(!_)return[];const{data:N,error:B}=await be.from("payment_attempts").select(`
          *,
          payments(id, amount, payment_date, payment_method, status)
        `).eq("tenant_id",_).order("created_at",{ascending:!1});if(B)throw B;return N||[]},enabled:!!e?.id}),{data:c=[],isLoading:u}=Ir({queryKey:["upcoming-payments",e?.id],queryFn:async()=>{const _=await r();if(!_)return[];const{data:N,error:B}=await be.rpc("get_upcoming_payments",{_tenant_id:_,_days_ahead:30});if(B)throw B;return N||[]},enabled:!!e?.id}),{data:d,isLoading:A}=Ir({queryKey:["tenant-payment-stats",e?.id],queryFn:async()=>{const _=await r();if(!_)return null;const{data:N,error:B}=await be.rpc("get_tenant_payment_statistics",{_tenant_id:_});if(B)throw B;return N},enabled:!!e?.id}),h=er({mutationFn:async _=>{const N=await r();if(!N)throw new Error("Tenant profile not found");const{data:B}=await be.from("tenants_profile").select("tenant_record_id").eq("id",N).single();let T="";if(B?.tenant_record_id){const{data:$}=await be.from("tenants").select("organization_id").eq("id",B.tenant_record_id).single();T=$?.organization_id||""}const{data:O,error:P}=await be.from("payments").insert({organization_id:T,amount:_.amount,payment_method:_.gateway,status:"pending",auto_payment:_.auto_payment||!1}).select().single();if(P)throw P;const{data:M,error:I}=await be.from("payment_attempts").insert({payment_id:O.id,tenant_id:N,amount:_.amount,gateway_provider:_.gateway,status:"initiated"}).select().single();if(I)throw I;let D;if(_.gateway==="razorpay")D=await x(_,O.id);else if(_.gateway==="stripe")D=await b(_,O.id);else if(_.gateway==="cash")D={gateway_order_id:`CASH-${O.id}`,gateway_metadata:{payment_method:"cash",manual:!0},payment_url:null};else throw new Error("Unsupported payment gateway");return await be.from("payment_attempts").update({gateway_transaction_id:D.gateway_order_id,gateway_response:D,status:_.gateway==="cash"?"completed":"processing"}).eq("id",M.id),{payment_id:O.id,gateway_order_id:D.gateway_order_id,gateway_metadata:D,payment_url:D.payment_url,amount:_.amount,currency:"INR"}},onSuccess:()=>{t.invalidateQueries({queryKey:["tenant-payment-attempts"]}),t.invalidateQueries({queryKey:["upcoming-payments"]})}}),m=er({mutationFn:async({gateway:_,callbackData:N})=>{if(!await j(_,N))throw new Error("Invalid webhook signature");const{data:T,error:O}=await be.from("payment_attempts").select("*").eq("gateway_transaction_id",N.order_id||N.payment_intent_id).single();if(O)throw O;const P=N.status==="captured"||N.status==="succeeded"?"completed":"failed",{error:M}=await be.from("payment_attempts").update({status:P,gateway_response:N,completed_at:new Date().toISOString(),error_message:P==="failed"?N.error?.description:null}).eq("id",T.id);if(M)throw M;if(P==="completed"&&T.payment_id&&(await be.from("payments").update({status:"completed",payment_date:new Date().toISOString().split("T")[0],gateway_transaction_id:N.payment_id||N.id,gateway_provider:_,gateway_response:N}).eq("id",T.payment_id),T.payment_id)){const{data:I}=await be.from("payments").select("invoice_id").eq("id",T.payment_id).single();I?.invoice_id&&await be.from("invoices").update({status:"paid"}).eq("id",I.invoice_id)}return{success:!0,status:P}}}),y=er({mutationFn:async _=>{const N=await r();if(!N)throw new Error("Tenant profile not found");const{data:B,error:T}=await be.from("tenant_payment_methods").insert({tenant_id:N,..._,metadata:_.gateway_token?{gateway_token:_.gateway_token}:null}).select().single();if(T)throw T;return B},onSuccess:()=>{t.invalidateQueries({queryKey:["tenant-payment-methods"]})}}),g=er({mutationFn:async _=>{const{error:N}=await be.from("tenant_payment_methods").update({is_active:!1}).eq("id",_);if(N)throw N;return _},onSuccess:()=>{t.invalidateQueries({queryKey:["tenant-payment-methods"]})}}),v=er({mutationFn:async _=>{const{error:N}=await be.from("tenant_payment_methods").update({is_default:!0}).eq("id",_);if(N)throw N;return _},onSuccess:()=>{t.invalidateQueries({queryKey:["tenant-payment-methods"]})}}),x=async(_,N)=>{const B=await fetch("/api/v1/payments/razorpay/create-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:_.amount,receipt:`receipt_${N}`,notes:{payment_id:N,bill_ids:_.bill_ids,tenant_id:e?.id}})});if(!B.ok)throw new Error("Failed to create Razorpay order");return B.json()},b=async(_,N)=>{const B=await fetch("/api/v1/payments/stripe/create-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:_.amount,metadata:{payment_id:N,bill_ids:_.bill_ids,tenant_id:e?.id}})});if(!B.ok)throw new Error("Failed to create Stripe payment intent");return B.json()},j=async(_,N)=>(await fetch(`/api/v1/payments/${_}/verify-webhook`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)})).ok;return{paymentMethods:n,methodsLoading:a,methodsError:i,paymentAttempts:o,attemptsLoading:l,upcomingPayments:c,upcomingLoading:u,paymentStats:d,statsLoading:A,initiatePayment:h,processPaymentCallback:m,savePaymentMethod:y,deletePaymentMethod:g,setDefaultPaymentMethod:v}};function MGe({amount:e,billIds:t,onSuccess:r,onCancel:n}){const[a,i]=C.useState(""),[o,l]=C.useState(""),[c,u]=C.useState(""),[d,A]=C.useState(""),[h,m]=C.useState(),[y,g]=C.useState(!1),[v,x]=C.useState(!1),[b,j]=C.useState(!1),_=async()=>{x(!0);try{const{data:{session:O}}=await be.auth.getSession();if(!O){He.error("Please login to continue");return}const P=await fetch("https://aggacdtmyphgtkldjmvk.supabase.co/functions/v1/qr-payment-generator",{method:"POST",headers:{Authorization:`Bearer ${O.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({amount:e,bill_ids:t})}),M=await P.json();if(!P.ok)throw new Error(M.error||"Failed to generate QR payment");i(M.data.payment_reference),l(M.data.qr_code_url),u(M.data.upi_id),A(M.data.business_name),m(new Date(M.data.expires_at)),He.success("QR code generated successfully!")}catch(O){console.error("Failed to generate QR payment:",O),He.error(O.message||"Failed to generate QR code")}finally{x(!1)}},N=()=>{navigator.clipboard.writeText(c),j(!0),He.success("UPI ID copied to clipboard!"),setTimeout(()=>j(!1),2e3)},B=()=>{navigator.clipboard.writeText(a),He.success("Payment reference copied!")};C.useEffect(()=>{!a&&!v&&_()},[]);const T=()=>h&&new Date>h;return s.jsx(Le,{className:"w-full max-w-md mx-auto",children:s.jsxs(De,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("h3",{className:"font-semibold flex items-center justify-center gap-2",children:[s.jsx(vN,{className:"w-5 h-5"}),"Scan QR Code to Pay"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pay ",e.toFixed(2)," using any UPI app"]})]}),s.jsx("div",{className:"flex justify-center",children:o&&!T()?s.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-4 bg-white",children:s.jsx("img",{src:o,alt:"QR Code for Payment",className:"w-48 h-48"})}):T()?s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx(Qi,{className:"w-12 h-12 text-orange-500 mx-auto"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-600 font-medium",children:"QR Code Expired"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please generate a new QR code"})]}),s.jsxs(de,{onClick:_,disabled:v,children:[v?s.jsx(Rs,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Generate New QR Code"]})]}):s.jsxs(de,{onClick:_,disabled:v,children:[v?s.jsx(Rs,{className:"w-4 h-4 mr-2 animate-spin"}):null,v?"Generating...":"Generate QR Code"]})}),a&&!y&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-3 border-t pt-4",children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),s.jsxs("span",{className:"font-semibold text-lg",children:["",e.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"Reference:"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-mono text-xs bg-muted px-2 py-1 rounded",children:a}),s.jsx(de,{variant:"ghost",size:"sm",onClick:B,className:"h-6 w-6 p-0",children:s.jsx(oD,{className:"w-3 h-3"})})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Expires in:"}),s.jsxs(Ze,{variant:"outline",className:"gap-1",children:[s.jsx(ca,{className:"w-3 h-3"}),s.jsx(QGe,{target:h,onExpire:()=>{}})]})]})]}),s.jsx("div",{className:"border rounded-lg p-3 bg-muted/50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"UPI ID"}),s.jsx("p",{className:"font-mono text-sm",children:c})]}),s.jsx(de,{variant:"outline",size:"sm",onClick:N,children:b?s.jsx(Gr,{className:"w-4 h-4"}):s.jsx(oD,{className:"w-4 h-4"})})]})})]}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg text-sm",children:[s.jsx("p",{className:"font-medium text-blue-900 mb-2",children:"How to pay:"}),s.jsxs("ol",{className:"text-blue-800 space-y-1 text-xs",children:[s.jsx("li",{children:"1. Open any UPI app (GPay, PhonePe, Paytm)"}),s.jsx("li",{children:"2. Scan the QR code above"}),s.jsxs("li",{children:["3. Verify payment details (",e.toFixed(2),")"]}),s.jsx("li",{children:"4. Complete payment"}),s.jsx("li",{children:"5. Take a screenshot of payment confirmation"})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(de,{variant:"outline",onClick:n,className:"flex-1",children:"Cancel"}),s.jsx(de,{onClick:()=>r(a),className:"flex-1",children:"I've Paid"})]})]})]})})}function QGe({target:e}){const[t,r]=C.useState("");return C.useEffect(()=>{const n=setInterval(()=>{const a=new Date,i=e.getTime()-a.getTime();if(i<=0)r("Expired"),clearInterval(n);else{const o=Math.floor(i/6e4),l=Math.floor(i%(1e3*60)/1e3);r(`${o}:${l.toString().padStart(2,"0")}`)}},1e3);return()=>clearInterval(n)},[e]),s.jsx("span",{children:t})}function HGe({paymentReference:e,onSubmit:t,onCancel:r}){const[n,a]=C.useState(null),[i,o]=C.useState(""),[l,c]=C.useState(null),[u,d]=C.useState(!1),A=C.useRef(null),h=g=>{const v=g.target.files?.[0];if(v){if(!v.type.startsWith("image/")){He.error("Please select an image file");return}if(v.size>10*1024*1024){He.error("File size must be less than 10MB");return}a(v);const x=new FileReader;x.onloadend=()=>{c(x.result)},x.readAsDataURL(v)}},m=async()=>{if(!n){He.error("Please upload a payment screenshot");return}d(!0);try{const g=n.name.split(".").pop(),v=`payment-${e}-${Date.now()}.${g}`,{data:x,error:b}=await be.storage.from("payment-screenshots").upload(v,n,{cacheControl:"3600",upsert:!1});if(b)throw b;const{data:{publicUrl:j}}=be.storage.from("payment-screenshots").getPublicUrl(v),{data:{session:_}}=await be.auth.getSession();if(!_)throw new Error("Not authenticated");const N=await fetch("https://aggacdtmyphgtkldjmvk.supabase.co/functions/v1/qr-payment-verification",{method:"PUT",headers:{Authorization:`Bearer ${_.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({payment_reference:e,screenshot_url:j,verification_notes:i})}),B=await N.json();if(!N.ok)throw new Error(B.error||"Failed to upload screenshot");He.success("Payment screenshot uploaded successfully!"),t({screenshot:n,notes:i})}catch(g){console.error("Screenshot upload failed:",g),He.error(g.message||"Failed to upload screenshot")}finally{d(!1)}},y=()=>{a(null),c(null),A.current&&(A.current.value="")};return s.jsxs(Le,{className:"w-full max-w-md mx-auto",children:[s.jsx(pt,{children:s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(NF,{className:"w-5 h-5"}),"Payment Verification"]})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Upload payment confirmation screenshot"}),s.jsx("div",{className:"border-2 border-dashed rounded-lg p-4 text-center",children:l?s.jsxs("div",{className:"space-y-3",children:[s.jsx("img",{src:l,alt:"Payment screenshot",className:"max-w-full h-auto rounded border"}),s.jsx(de,{variant:"outline",size:"sm",onClick:y,children:"Remove"})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx(Gm,{className:"w-8 h-8 mx-auto text-muted-foreground"}),s.jsxs("label",{htmlFor:"screenshot",className:"cursor-pointer",children:[s.jsx("span",{className:"text-sm text-blue-600 hover:underline",children:"Click to upload screenshot"}),s.jsx("input",{ref:A,id:"screenshot",type:"file",accept:"image/*",onChange:h,className:"hidden"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG up to 10MB"})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Additional Notes (Optional)"}),s.jsx(vu,{placeholder:"Any additional information about the payment...",value:i,onChange:g=>o(g.target.value),rows:3})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-800 mb-2",children:[s.jsx(Gr,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:"Next steps:"})]}),s.jsxs("ol",{className:"text-green-700 space-y-1 text-xs",children:[s.jsx("li",{children:"1. Submit your payment screenshot"}),s.jsx("li",{children:"2. Admin will verify within 24 hours"}),s.jsx("li",{children:"3. You'll receive confirmation once verified"}),s.jsx("li",{children:"4. Your bills will be marked as paid"})]})]}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-800 mb-1",children:[s.jsx(Qi,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:"Payment Reference:"})]}),s.jsx("p",{className:"font-mono text-blue-700",children:e})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[r&&s.jsx(de,{variant:"outline",onClick:r,className:"flex-1",children:"Cancel"}),s.jsx(de,{onClick:m,disabled:!n||u,className:"flex-1",children:u?s.jsxs(s.Fragment,{children:[s.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):"Submit for Verification"})]})]})]})}const $Ge=[{value:"razorpay",label:"Razorpay",description:"UPI, Cards, NetBanking"},{value:"stripe",label:"Stripe",description:"International Cards"}],qP=[{value:"card",label:"Credit/Debit Card",icon:bn},{value:"upi",label:"UPI",icon:vN},{value:"bank_account",label:"Bank Account",icon:_F},{value:"wallet",label:"Wallet",icon:Oue},{value:"cash",label:"Cash",icon:D2}],Yz=()=>{const{formatAmount:e}=ji(),{toast:t}=Nd(),r=Vi();bi();const n=In(),[a,i]=C.useState(!1),[o,l]=C.useState([]),[c,u]=C.useState("razorpay"),[d,A]=C.useState(""),[h,m]=C.useState(!1),[y,g]=C.useState("card"),[v,x]=C.useState(""),[b,j]=C.useState(!1),[_,N]=C.useState("gateway"),[B,T]=C.useState(""),[O,P]=C.useState(!1),[M,I]=C.useState(!1),[D,$]=C.useState(""),[F,V]=C.useState(!1),[X,K]=C.useState(null);C.useEffect(()=>{r.state?.selectedBills&&(l(r.state.selectedBills),i(!0))},[r.state]);const{data:W}=Xy(),{paymentMethods:z,methodsLoading:te,paymentAttempts:G,attemptsLoading:U,upcomingPayments:Y,upcomingLoading:ee,paymentStats:ae,statsLoading:Ae,initiatePayment:ce,savePaymentMethod:we,deletePaymentMethod:ge,setDefaultPaymentMethod:je}=DGe(),Oe=W?.bills||[],Ne=Oe.filter(xe=>o.includes(xe.id)).reduce((xe,qe)=>xe+Number(qe.amount),0),et=async()=>{if(o.length!==0){if(_==="cash"){const xe=`CASH-${Date.now()}-${Math.random().toString(36).substr(2,9).toUpperCase()}`;$(xe),I(!0);return}try{const xe=await ce.mutateAsync({bill_ids:o,amount:Ne,gateway:c,payment_method_id:d||void 0}),qe={reference:`ONLINE-${Date.now()}-${Math.random().toString(36).substr(2,9).toUpperCase()}`,amount:Ne,billsCount:o.length,paymentId:xe.payment_id,timestamp:new Date().toLocaleString()};xe.payment_url&&window.open(xe.payment_url,"_blank"),K(qe),V(!0),t({title:"Payment Initiated Successfully!",description:`Reference: ${qe.reference}`,duration:5e3}),l([]),i(!1)}catch(xe){console.error("Payment initiation failed:",xe),t({title:"Payment Failed",description:"Unable to initiate payment. Please try again.",variant:"destructive",duration:5e3})}}},nt=async()=>{try{const xe=D||`CASH-${Date.now()}-${Math.random().toString(36).substr(2,9).toUpperCase()}`,qe={reference:xe,amount:Ne,billsCount:o.length,paymentId:`cash-${Date.now()}`,timestamp:new Date().toLocaleString()},Ke={id:`cash-${Date.now()}`,payment_id:qe.paymentId,tenant_id:"current-tenant",amount:Ne,gateway_provider:"cash",status:"completed",gateway_transaction_id:xe,gateway_response:{payment_method:"cash",manual:!0},created_at:new Date().toISOString(),updated_at:new Date().toISOString()};n.setQueryData(["tenant-payment-attempts","current-tenant"],(tt=[])=>[Ke,...tt]),l([]),i(!1),I(!1),$(""),K(qe),V(!0),t({title:"Cash Payment Recorded Successfully!",description:`Reference: ${xe}`,duration:5e3})}catch(xe){console.error("Cash payment recording failed:",xe),t({title:"Payment Failed",description:"Unable to record cash payment. Please try again.",variant:"destructive",duration:5e3})}},le=async()=>{if(v.trim())try{await we.mutateAsync({method_type:y,provider:c,method_identifier:v.trim(),is_default:b}),x(""),j(!1),m(!1)}catch(xe){console.error("Failed to save payment method:",xe)}},lt=xe=>{l(qe=>qe.includes(xe)?qe.filter(Ke=>Ke!==xe):[...qe,xe])},Pt=()=>{l(Oe.map(xe=>xe.id))},Pe=()=>{l([])},Me=xe=>{switch(xe){case"completed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},fe=xe=>{switch(xe){case"completed":return Gr;case"failed":return Qi;case"pending":return ca;case"processing":return jn;default:return ca}},ve=xe=>qP.find(Ke=>Ke.value===xe)?.icon||bn,Ee=xe=>qP.find(Ke=>Ke.value===xe)?.label||xe;return s.jsxs(An,{children:[s.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Online Payments"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Pay your bills securely online or offline"})]}),s.jsxs(de,{disabled:Oe.length===0,size:"lg",onClick:()=>i(!0),children:[s.jsx(bn,{className:"w-4 h-4 mr-2"}),"Pay Bills"]})]}),s.jsx(dn,{open:a,onOpenChange:i,children:s.jsxs(an,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(pn,{children:[s.jsx(gn,{className:"text-xl",children:"Pay Bills"}),s.jsx(_n,{children:"Choose your payment method"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs(de,{variant:_==="gateway"?"default":"outline",onClick:()=>N("gateway"),className:"h-24 p-6 flex-col",children:[s.jsx(bn,{className:"w-8 h-8 mb-3"}),s.jsx("span",{className:"font-medium text-lg",children:"Online Payment"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Cards, UPI, NetBanking"})]}),s.jsxs(de,{variant:_==="qr"?"default":"outline",onClick:()=>N("qr"),className:"h-24 p-6 flex-col",children:[s.jsx(ap,{className:"w-8 h-8 mb-3"}),s.jsx("span",{className:"font-medium text-lg",children:"QR Code Payment"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Scan & Pay"})]}),s.jsxs(de,{variant:_==="cash"?"default":"outline",onClick:()=>N("cash"),className:"h-24 p-6 flex-col",children:[s.jsx(D2,{className:"w-8 h-8 mb-3"}),s.jsx("span",{className:"font-medium text-lg",children:"Cash Payment"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Pay with Cash"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Select Bills to Pay"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{variant:"outline",size:"sm",onClick:Pt,children:"Select All"}),s.jsx(de,{variant:"outline",size:"sm",onClick:Pe,children:"Clear"})]})]}),s.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto border rounded-lg p-4",children:Oe.map(xe=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(jh,{checked:o.includes(xe.id),onCheckedChange:()=>lt(xe.id),className:"w-5 h-5"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("p",{className:"font-semibold",children:xe.bill_type}),s.jsx(Ze,{className:Me(xe.status),children:xe.status})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Due: ",Rn(new Date(xe.due_date),"MMM d, yyyy")]})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"font-semibold text-lg",children:e(Number(xe.amount))})})]},xe.id))})]}),o.length>0&&s.jsx("div",{className:"bg-muted p-6 rounded-lg",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold text-lg",children:"Total Amount:"}),s.jsx("span",{className:"text-3xl font-bold text-primary",children:e(Ne)})]})}),_==="gateway"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-3",children:"Payment Gateway"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:$Ge.map(xe=>s.jsxs(de,{variant:c===xe.value?"default":"outline",className:"h-auto p-4 flex-col items-start",onClick:()=>u(xe.value),children:[s.jsx("span",{className:"font-medium",children:xe.label}),s.jsx("span",{className:"text-xs text-muted-foreground",children:xe.description})]},xe.value))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-medium",children:"Payment Method"}),s.jsxs(de,{variant:"outline",size:"sm",onClick:()=>m(!0),children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Add New"]})]}),z.length>0?s.jsx("div",{className:"space-y-2",children:z.map(xe=>{const qe=ve(xe.method_type);return s.jsxs("div",{className:`flex items-center justify-between p-3 border rounded cursor-pointer transition-colors ${d===xe.id?"border-primary bg-primary/5":"hover:bg-muted"}`,onClick:()=>A(xe.id),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(qe,{className:"w-5 h-5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:Ee(xe.method_type)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:xe.method_identifier})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:xe.is_default&&s.jsxs(Ze,{variant:"secondary",children:[s.jsx(JP,{className:"w-3 h-3 mr-1"}),"Default"]})})]},xe.id)})}):s.jsxs("div",{className:"text-center py-8 border-2 border-dashed rounded",children:[s.jsx(bn,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-muted-foreground",children:"No saved payment methods"}),s.jsx(de,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>m(!0),children:"Add Payment Method"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(de,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsxs(de,{onClick:et,disabled:o.length===0||ce.isPending,children:[ce.isPending?s.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Pay ",e(Ne)]})]})]}):_==="qr"?s.jsxs(s.Fragment,{children:[o.length>0&&!B&&s.jsx(MGe,{amount:Ne,billIds:o,onSuccess:xe=>{T(xe),P(!0)},onCancel:()=>i(!1)}),O&&B&&s.jsx(HGe,{paymentReference:B,onSubmit:async({screenshot:xe,notes:qe})=>{const Ke={reference:B,amount:Ne,billsCount:o.length,paymentId:`qr-${Date.now()}`,timestamp:new Date().toLocaleString()};i(!1),T(""),P(!1),l([]),N("gateway"),K(Ke),V(!0),t({title:"QR Payment Verified Successfully!",description:`Reference: ${B}`,duration:5e3})},onCancel:()=>{P(!1),T("")}})]}):s.jsx(s.Fragment,{children:o.length>0&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-blue-50 p-6 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(D2,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Cash Payment Instructions"}),s.jsx("p",{className:"text-blue-700",children:"Please pay the amount in cash and get a receipt from the office."})]})]})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Payment Details"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Amount:"}),s.jsx("span",{className:"font-semibold",children:e(Ne)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Number of Bills:"}),s.jsx("span",{className:"font-semibold",children:o.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Payment Reference:"}),s.jsx("span",{className:"font-semibold font-mono",children:D})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Instructions"}),s.jsxs("ol",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:"1. Pay the total amount in cash at the office"}),s.jsx("li",{children:"2. Get a receipt with reference number"}),s.jsx("li",{children:"3. Keep the receipt for your records"}),s.jsx("li",{children:'4. Click "Confirm Payment" below'})]})]})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(de,{variant:"outline",onClick:()=>i(!1),disabled:ce.isPending,children:"Cancel"}),s.jsx(de,{onClick:nt,disabled:ce.isPending||o.length===0,className:"bg-green-600 hover:bg-green-700",children:ce.isPending?s.jsxs(s.Fragment,{children:[s.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(D2,{className:"w-4 h-4 mr-2"}),"Confirm Cash Payment"]})})]})]})})]})]})})]}),!Ae&&ae&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx(Le,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Paid"}),s.jsx("p",{className:"text-3xl font-bold",children:e(Number(ae.total_paid||0))})]}),s.jsx(Hi,{className:"w-10 h-10 text-green-600"})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"This Month"}),s.jsx("p",{className:"text-3xl font-bold",children:ae.payments_this_month||0})]}),s.jsx(Jn,{className:"w-10 h-10 text-blue-600"})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Transactions"}),s.jsx("p",{className:"text-3xl font-bold",children:ae.total_transactions||0})]}),s.jsx(bn,{className:"w-10 h-10 text-purple-600"})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Success Rate"}),s.jsxs("p",{className:"text-3xl font-bold",children:[ae.success_rate||0,"%"]})]}),s.jsx(Gr,{className:"w-10 h-10 text-orange-600"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsx(gt,{className:"text-lg",children:"Upcoming Payments"}),s.jsx(Wr,{children:"Bills due in the next 30 days"})]}),s.jsx(De,{children:ee?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(jn,{className:"w-6 h-6 animate-spin"})}):Y.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Jn,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-muted-foreground",children:"No upcoming payments"})]}):s.jsx("div",{className:"space-y-4",children:Y.map(xe=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:xe.bill_number}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Due in ",xe.days_until_due," days"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-semibold text-lg",children:e(Number(xe.amount))}),xe.late_fee>0&&s.jsxs("p",{className:"text-sm text-red-600",children:["+",e(xe.late_fee)," late fee"]})]})]},xe.invoice_id))})})]}),s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsx(gt,{className:"text-lg",children:"Saved Payment Methods"}),s.jsx(Wr,{children:"Manage your payment methods"})]}),s.jsx(De,{children:te?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(jn,{className:"w-6 h-6 animate-spin"})}):z.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(bn,{className:"w-8 h-8 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No saved payment methods"}),s.jsxs(de,{onClick:()=>m(!0),size:"lg",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Add Payment Method"]})]}):s.jsx("div",{className:"space-y-4",children:z.map(xe=>{const qe=ve(xe.method_type);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(qe,{className:"w-6 h-6"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold",children:Ee(xe.method_type)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:xe.method_identifier})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[xe.is_default&&s.jsxs(Ze,{variant:"secondary",children:[s.jsx(JP,{className:"w-3 h-3 mr-1"}),"Default"]}),s.jsx(de,{variant:"ghost",size:"sm",onClick:()=>je.mutate(xe.id),disabled:!xe.is_default||je.isPending,children:xe.is_default?"Default":"Set Default"}),s.jsx(de,{variant:"ghost",size:"sm",onClick:()=>ge.mutate(xe.id),disabled:ge.isPending,children:s.jsx(yi,{className:"w-4 h-4"})})]})]},xe.id)})})})]})]}),s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsx(gt,{className:"text-lg",children:"Payment History"}),s.jsx(Wr,{children:"Recent payment attempts and transactions"})]}),s.jsx(De,{children:U?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(jn,{className:"w-6 h-6 animate-spin"})}):G.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(bn,{className:"w-8 h-8 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No payment history"})]}):s.jsx("div",{className:"space-y-4",children:G.map(xe=>{const qe=fe(xe.status);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(qe,{className:`w-5 h-5 ${xe.status==="completed"?"text-green-600":xe.status==="failed"?"text-red-600":"text-blue-600"}`}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold",children:[xe.gateway_provider.charAt(0).toUpperCase()+xe.gateway_provider.slice(1)," Payment"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Rn(new Date(xe.created_at),"MMM d, yyyy 'at' h:mm a")})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-semibold text-lg",children:e(Number(xe.amount))}),s.jsx(Ze,{className:Me(xe.status),children:xe.status})]})]},xe.id)})})})]}),s.jsx(dn,{open:h,onOpenChange:m,children:s.jsxs(an,{children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Add Payment Method"}),s.jsx(_n,{children:"Add a new payment method for future transactions"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Payment Method Type"}),s.jsxs(ar,{value:y,onValueChange:g,children:[s.jsx(ir,{children:s.jsx(lr,{})}),s.jsx(or,{children:qP.map(xe=>{const qe=xe.icon;return s.jsx(Fe,{value:xe.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qe,{className:"w-4 h-4"}),xe.label]})},xe.value)})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:y==="card"?"Card Number":y==="upi"?"UPI ID":y==="bank_account"?"Account Number":"Wallet ID"}),s.jsx(it,{placeholder:y==="card"?"1234 5678 9012 3456":y==="upi"?"user@upi":y==="bank_account"?"1234567890":"wallet-id",value:v,onChange:xe=>x(xe.target.value)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jh,{id:"default",checked:b,onCheckedChange:xe=>j(xe)}),s.jsx("label",{htmlFor:"default",className:"text-sm",children:"Set as default payment method"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(de,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsxs(de,{onClick:le,disabled:!v.trim()||we.isPending,children:[we.isPending?s.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Save Method"]})]})]})]})}),s.jsx(dn,{open:F,onOpenChange:V,children:s.jsxs(an,{className:"max-w-md",children:[s.jsxs(pn,{children:[s.jsxs(gn,{className:"flex items-center gap-2",children:[s.jsx(Gr,{className:"w-6 h-6 text-green-600"}),"Payment Successful!"]}),s.jsx(_n,{children:X?.reference?.startsWith("CASH")?"Your cash payment has been recorded successfully.":X?.reference?.startsWith("QR")?"Your QR payment has been verified successfully.":X?.reference?.startsWith("ONLINE")?"Your payment has been initiated successfully.":"Your payment has been processed successfully."})]}),X&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-green-50 p-4 rounded-lg border-2 border-green-200",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Reference Number:"}),s.jsx("span",{className:"font-mono text-sm font-bold text-green-700 bg-green-100 px-2 py-1 rounded",children:X.reference})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Amount Paid:"}),s.jsx("span",{className:"font-semibold text-lg",children:e(X.amount)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Bills Paid:"}),s.jsx("span",{className:"font-semibold",children:X.billsCount})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Time:"}),s.jsx("span",{className:"font-semibold",children:X.timestamp})]})]})}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border-2 border-blue-200",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Important Information:"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"mr-2",children:""}),s.jsxs("span",{children:["Please save this reference number: ",s.jsx("strong",{children:X.reference})]})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"mr-2",children:""}),s.jsx("span",{children:"Your payment has been recorded in the system"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"mr-2",children:""}),s.jsx("span",{children:"You can view this payment in your payment history"})]})]})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx(de,{onClick:()=>V(!1),className:"bg-green-600 hover:bg-green-700",children:"Got it, Thanks!"})})]})})]})},VGe=()=>{const{user:e}=ua(),t=In(),r=async()=>{if(!e?.id)return null;const{data:m}=await be.from("tenants_profile").select("id").eq("user_id",e.id).maybeSingle();return m?.id},{data:n=[],isLoading:a,error:i}=Ir({queryKey:["tenant-complaints",e?.id],queryFn:async()=>{if(!e?.id)return[];const m=await r();if(!m)return[];const{data:y,error:g}=await be.from("tenant_complaints").select("*").eq("tenant_id",m).order("created_at",{ascending:!1});if(g)throw g;return y||[]},enabled:!!e?.id}),o=er({mutationFn:async m=>{const y=await r();if(!y)throw new Error("Tenant profile not found");const{data:g,error:v}=await be.from("tenant_complaints").insert({tenant_id:y,...m}).select().single();if(v)throw v;return g},onSuccess:()=>{t.invalidateQueries({queryKey:["tenant-complaints"]}),t.invalidateQueries({queryKey:["tenant-complaints-stats"]})}}),l=er({mutationFn:async({complaintId:m,status:y,resolutionNotes:g})=>{const{data:v,error:x}=await be.from("tenant_complaints").update({status:y,resolution_notes:g,updated_at:new Date().toISOString()}).eq("id",m).select().single();if(x)throw x;return v},onSuccess:()=>{t.invalidateQueries({queryKey:["tenant-complaints"]}),t.invalidateQueries({queryKey:["tenant-complaints-stats"]})}}),c=m=>Ir({queryKey:["complaint-details",m],queryFn:async()=>{const{data:y,error:g}=await be.from("tenant_complaints").select(`
            *,
            assigned_to_user:auth.users(id, email, raw_user_meta_data)
          `).eq("id",m).single();if(g)throw g;const{data:v,error:x}=await be.from("complaint_comments").select(`
            *,
            user:auth.users(id, email, raw_user_meta_data)
          `).eq("complaint_id",m).order("created_at",{ascending:!0});if(x)throw x;return{complaint:y,comments:v||[]}},enabled:!!m}),u=er({mutationFn:async({complaintId:m,comment:y,isInternal:g=!1})=>{if(!e?.id)throw new Error("User not authenticated");const{data:v,error:x}=await be.from("complaint_comments").insert({complaint_id:m,user_id:e.id,comment:y,is_internal:g}).select(`
          *,
          user:auth.users(id, email, raw_user_meta_data)
        `).single();if(x)throw x;return v},onSuccess:(m,y)=>{t.invalidateQueries({queryKey:["complaint-details",y.complaintId]})}}),{data:d,isLoading:A}=Ir({queryKey:["tenant-complaints-stats",e?.id],queryFn:async()=>{const m=await r();if(!m)return null;const{data:y,error:g}=await be.from("tenant_complaints").select("status, priority, created_at, resolved_at").eq("tenant_id",m);if(g)throw g;const v={total:y?.length||0,pending:y?.filter(b=>b.status==="pending").length||0,in_progress:y?.filter(b=>b.status==="in_progress").length||0,resolved:y?.filter(b=>b.status==="resolved").length||0,urgent:y?.filter(b=>b.priority==="urgent").length||0,high:y?.filter(b=>b.priority==="high").length||0,average_resolution_time:0},x=y?.filter(b=>b.status==="resolved"&&b.resolved_at);if(x&&x.length>0){const b=x.reduce((j,_)=>{const N=new Date(_.created_at),B=new Date(_.resolved_at);return j+(B.getTime()-N.getTime())/36e5},0);v.average_resolution_time=b/x.length}return v},enabled:!!e?.id});return{complaints:n,isLoading:a,error:i,createComplaint:o,updateComplaintStatus:l,getComplaintDetails:c,addComment:u,complaintStats:d,statsLoading:A,uploadComplaintImages:async m=>{const y=[];for(const g of m){if(!g.type.startsWith("image/"))throw new Error("Only image files are allowed");if(g.size>5*1024*1024)throw new Error("Image size must be less than 5MB");const v=g.name.split(".").pop(),x=`${Date.now()}-${Math.random().toString(36).substring(7)}.${v}`,b=`complaint-images/${e?.id}/${x}`,{error:j}=await be.storage.from("tenant-documents").upload(b,g);if(j)throw j;const{data:{publicUrl:_}}=be.storage.from("tenant-documents").getPublicUrl(b);y.push(_)}return y}}},KP=[{value:"electricity",label:"Electricity",icon:Wl,color:"text-yellow-600"},{value:"water",label:"Water",icon:IW,color:"text-blue-600"},{value:"cleaning",label:"Cleaning",icon:Ma,color:"text-green-600"},{value:"plumbing",label:"Plumbing",icon:Ma,color:"text-gray-600"},{value:"carpentry",label:"Carpentry",icon:vue,color:"text-orange-600"},{value:"painting",label:"Painting",icon:Cue,color:"text-purple-600"},{value:"pest_control",label:"Pest Control",icon:oue,color:"text-red-600"},{value:"security",label:"Security",icon:Lo,color:"text-indigo-600"},{value:"other",label:"Other",icon:ur,color:"text-gray-600"}],Xz=[{value:"low",label:"Low",color:"bg-green-100 text-green-800"},{value:"medium",label:"Medium",color:"bg-yellow-100 text-yellow-800"},{value:"high",label:"High",color:"bg-orange-100 text-orange-800"},{value:"urgent",label:"Urgent",color:"bg-red-100 text-red-800"}],zP={pending:{icon:ca,color:"text-yellow-600 bg-yellow-50",label:"Pending"},in_progress:{icon:xi,color:"text-blue-600 bg-blue-50",label:"In Progress"},resolved:{icon:Gr,color:"text-green-600 bg-green-50",label:"Resolved"},cancelled:{icon:Jw,color:"text-gray-600 bg-gray-50",label:"Cancelled"}},qGe=()=>{const[e,t]=C.useState(!1),[r,n]=C.useState(""),[a,i]=C.useState("medium"),[o,l]=C.useState(""),[c,u]=C.useState(""),[d,A]=C.useState([]),[h,m]=C.useState(""),[y,g]=C.useState("all"),[v,x]=C.useState(null),[b,j]=C.useState(!1),{complaints:_,isLoading:N,createComplaint:B,complaintStats:T,statsLoading:O,uploadComplaintImages:P}=VGe(),M=_?.filter(z=>{const te=z.title.toLowerCase().includes(h.toLowerCase())||z.description?.toLowerCase().includes(h.toLowerCase()),G=y==="all"||z.status===y;return te&&G})||[],I=async()=>{if(!(!r||!o.trim()||!c.trim()))try{let z=[];d.length>0&&(z=await P(d)),await B.mutateAsync({category:r,title:o.trim(),description:c.trim(),priority:a,image_urls:z}),n(""),i("medium"),l(""),u(""),A([]),t(!1)}catch(z){console.error("Error creating complaint:",z)}},D=z=>{const te=Array.from(z.target.files||[]),G=te.filter(U=>U.type.startsWith("image/")&&U.size<=5*1024*1024);G.length!==te.length&&alert("Some files were rejected. Please ensure all files are images under 5MB."),A(U=>[...U,...G].slice(0,5))},$=z=>{A(te=>te.filter((G,U)=>U!==z))},F=z=>zP[z]?.color||"text-gray-600 bg-gray-50",V=z=>zP[z]?.icon||ca,X=z=>KP.find(te=>te.value===z)?.icon||ur,K=z=>KP.find(te=>te.value===z)?.color||"text-gray-600",W=z=>Xz.find(te=>te.value===z)?.color||"bg-gray-100 text-gray-800";return N?s.jsx(An,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(jn,{className:"w-8 h-8 animate-spin text-primary"})})}):s.jsx(An,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Complaints & Maintenance"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Report and track maintenance issues"})]}),s.jsxs(dn,{open:e,onOpenChange:t,children:[s.jsx(_h,{asChild:!0,children:s.jsxs(de,{children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"New Complaint"]})}),s.jsxs(an,{className:"max-w-2xl",children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Create New Complaint"}),s.jsx(_n,{children:"Report a maintenance issue or complaint. We'll address it as soon as possible."})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-3 block",children:"Category"}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:KP.map(z=>{const te=z.icon;return s.jsxs(de,{variant:r===z.value?"default":"outline",className:"h-20 flex-col gap-2",onClick:()=>n(z.value),children:[s.jsx(te,{className:`w-6 h-6 ${r===z.value?"":z.color}`}),s.jsx("span",{className:"text-xs",children:z.label})]},z.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-3 block",children:"Priority Level"}),s.jsxs(ar,{value:a,onValueChange:i,children:[s.jsx(ir,{children:s.jsx(lr,{})}),s.jsx(or,{children:Xz.map(z=>s.jsx(Fe,{value:z.value,children:s.jsx(Ze,{className:z.color,children:z.label})},z.value))})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Title *"}),s.jsx(it,{placeholder:"Brief description of the issue",value:o,onChange:z=>l(z.target.value),maxLength:100})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Description *"}),s.jsx(vu,{placeholder:"Detailed description of the issue",value:c,onChange:z=>u(z.target.value),rows:4,maxLength:1e3})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-3 block",children:"Attachments (Optional)"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:[s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:D,className:"hidden",id:"image-upload"}),s.jsxs("label",{htmlFor:"image-upload",className:"flex flex-col items-center justify-center cursor-pointer",children:[s.jsx(Gm,{className:"w-8 h-8 text-gray-400 mb-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Click to upload images"}),s.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 5MB each (max 5 images)"})]})]}),d.length>0&&s.jsx("div",{className:"mt-4 grid grid-cols-4 gap-2",children:d.map((z,te)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:URL.createObjectURL(z),alt:`Upload ${te+1}`,className:"w-full h-20 object-cover rounded"}),s.jsx(de,{size:"sm",variant:"destructive",className:"absolute top-1 right-1 w-6 h-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>$(te),children:s.jsx(Jw,{className:"w-3 h-3"})})]},te))})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(de,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsxs(de,{onClick:I,disabled:!r||!o.trim()||!c.trim()||B.isPending,children:[B.isPending?s.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Submit Complaint"]})]})]})]})]})]}),!O&&T&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Complaints"}),s.jsx("p",{className:"text-2xl font-bold",children:T.total})]}),s.jsx(ur,{className:"w-8 h-8 text-blue-600"})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:T.pending})]}),s.jsx(ca,{className:"w-8 h-8 text-yellow-600"})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"In Progress"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:T.in_progress})]}),s.jsx(xi,{className:"w-8 h-8 text-blue-600"})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolved"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:T.resolved})]}),s.jsx(Gr,{className:"w-8 h-8 text-green-600"})]})})})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ba,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),s.jsx(it,{placeholder:"Search complaints...",value:h,onChange:z=>m(z.target.value),className:"pl-10"})]}),s.jsxs(ar,{value:y,onValueChange:g,children:[s.jsx(ir,{className:"w-40",children:s.jsx(lr,{})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"all",children:"All Status"}),s.jsx(Fe,{value:"pending",children:"Pending"}),s.jsx(Fe,{value:"in_progress",children:"In Progress"}),s.jsx(Fe,{value:"resolved",children:"Resolved"}),s.jsx(Fe,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsx("div",{className:"space-y-4",children:M.length===0?s.jsx(Le,{children:s.jsxs(De,{className:"p-8 text-center",children:[s.jsx(ur,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No complaints found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:h||y!=="all"?"Try adjusting your search or filters":"Create your first complaint to get started"}),!h&&y==="all"&&s.jsxs(de,{onClick:()=>t(!0),children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Create Complaint"]})]})}):s.jsx(mu,{children:M.map((z,te)=>{const G=V(z.status),U=X(z.category);return s.jsx(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:te*.1},children:s.jsx(Le,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{x(z),j(!0)},children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(U,{className:`w-5 h-5 ${K(z.category)}`}),s.jsx("h3",{className:"font-semibold",children:z.title}),s.jsx(Ze,{className:W(z.priority),children:z.priority})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:z.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(G,{className:"w-4 h-4"}),s.jsx(Ze,{className:F(z.status),children:zP[z.status]?.label})]}),s.jsxs("span",{children:["Created ",Rn(new Date(z.created_at),"MMM d, yyyy")]}),z.image_urls&&z.image_urls.length>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(NF,{className:"w-4 h-4"}),s.jsxs("span",{children:[z.image_urls.length," images"]})]})]})]}),s.jsx(de,{variant:"ghost",size:"sm",children:s.jsx(D0,{className:"w-4 h-4"})})]})})})},z.id)})})})]})})},KGe=()=>{const{user:e}=ua(),t=In(),r=async()=>{if(!e?.id)return null;const{data:j}=await be.from("tenants_profile").select("id").eq("user_id",e.id).maybeSingle();return j?.id},{data:n=[],isLoading:a,error:i,refetch:o}=Ir({queryKey:["tenant-notifications",e?.id],queryFn:async()=>{const j=await r();if(!j)return[];const{data:_,error:N}=await be.from("tenant_notifications").select("*").eq("tenant_id",j).or("expires_at.is.null,expires_at.gt.now()").order("created_at",{ascending:!1});if(N)throw N;return _||[]},enabled:!!e?.id,refetchInterval:3e4}),{data:l=0,isLoading:c}=Ir({queryKey:["unread-notification-count",e?.id],queryFn:async()=>{const j=await r();if(!j)return 0;const{data:_,error:N}=await be.from("tenant_notifications").select("id").eq("tenant_id",j).eq("is_read",!1).or("expires_at.is.null,expires_at.gt.now()");if(N)throw N;return _?.length||0},enabled:!!e?.id}),{data:u=[],isLoading:d}=Ir({queryKey:["notification-preferences",e?.id],queryFn:async()=>{const j=await r();if(!j)return[];const{data:_,error:N}=await be.from("notification_preferences").select("*").eq("tenant_id",j);if(N)throw N;return _||[]},enabled:!!e?.id}),A=er({mutationFn:async j=>{const _=await r();if(!_)throw new Error("Tenant profile not found");const{data:N,error:B}=await be.from("tenant_notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",j).eq("tenant_id",_).select().single();if(B)throw B;return N},onSuccess:()=>{t.invalidateQueries({queryKey:["tenant-notifications"]}),t.invalidateQueries({queryKey:["unread-notification-count"]})}}),h=er({mutationFn:async()=>{const j=await r();if(!j)throw new Error("Tenant profile not found");const{data:_,error:N}=await be.rpc("mark_all_notifications_read",{_tenant_id:j});if(N)throw N;return _},onSuccess:()=>{t.invalidateQueries({queryKey:["tenant-notifications"]}),t.invalidateQueries({queryKey:["unread-notification-count"]})}}),m=er({mutationFn:async j=>{const _=await r();if(!_)throw new Error("Tenant profile not found");const N=j.map(O=>({tenant_id:_,...O,updated_at:new Date().toISOString()})),{data:B,error:T}=await be.from("notification_preferences").upsert(N,{onConflict:"tenant_id,notification_type"}).select();if(T)throw T;return B},onSuccess:()=>{t.invalidateQueries({queryKey:["notification-preferences"]})}}),y=er({mutationFn:async j=>{const _=await r();if(!_)throw new Error("Tenant profile not found");const{error:N}=await be.from("tenant_notifications").delete().eq("id",j).eq("tenant_id",_);if(N)throw N;return j},onSuccess:()=>{t.invalidateQueries({queryKey:["tenant-notifications"]}),t.invalidateQueries({queryKey:["unread-notification-count"]})}}),g=er({mutationFn:async j=>{const _=await r();if(!_)throw new Error("Tenant profile not found");const{data:N,error:B}=await be.rpc("create_notification",{_tenant_id:_,_type:j.type,_title:j.title,_message:j.message,_priority:j.priority||"normal",_action_url:j.action_url,_action_text:j.action_text,_metadata:j.metadata});if(B)throw B;return N},onSuccess:()=>{t.invalidateQueries({queryKey:["tenant-notifications"]}),t.invalidateQueries({queryKey:["unread-notification-count"]})}}),v=j=>Ir({queryKey:["tenant-notifications",e?.id,j],queryFn:async()=>{const _=await r();if(!_)return[];let N=be.from("tenant_notifications").select("*").eq("tenant_id",_).or("expires_at.is.null,expires_at.gt.now()");j.type&&(N=N.eq("type",j.type)),j.unread_only&&(N=N.eq("is_read",!1)),j.priority&&(N=N.eq("priority",j.priority)),N=N.order("created_at",{ascending:!1}),j.limit&&(N=N.limit(j.limit)),j.offset&&(N=N.range(j.offset,j.offset+(j.limit||10)-1));const{data:B,error:T}=await N;if(T)throw T;return B||[]},enabled:!!e?.id}),{data:x,isLoading:b}=Ir({queryKey:["notification-stats",e?.id],queryFn:async()=>{const j=await r();if(!j)return null;const{data:_,error:N}=await be.from("tenant_notifications").select("type, priority, is_read, created_at").eq("tenant_id",j).or("expires_at.is.null,expires_at.gt.now()");if(N)throw N;const B={total:_?.length||0,unread:_?.filter(T=>!T.is_read).length||0,urgent:_?.filter(T=>T.priority==="urgent").length||0,high:_?.filter(T=>T.priority==="high").length||0,by_type:{},recent_24h:0};return _?.forEach(T=>{B.by_type[T.type]=(B.by_type[T.type]||0)+1;const O=new Date(T.created_at);new Date().getTime()-O.getTime()<1440*60*1e3&&B.recent_24h++}),B},enabled:!!e?.id});return{notifications:n,isLoading:a,error:i,unreadCount:l,unreadLoading:c,preferences:u,preferencesLoading:d,notificationStats:x,statsLoading:b,markAsRead:A,markAllAsRead:h,updatePreferences:m,deleteNotification:y,createNotification:g,getFilteredNotifications:v,refetchNotifications:o}},R2=[{value:"rent_due",label:"Rent Due",icon:Hi,color:"text-yellow-600"},{value:"overdue",label:"Overdue",icon:xi,color:"text-red-600"},{value:"maintenance",label:"Maintenance",icon:Xr,color:"text-blue-600"},{value:"agreement_expiry",label:"Agreement Expiry",icon:Jn,color:"text-orange-600"},{value:"announcement",label:"Announcement",icon:gN,color:"text-purple-600"},{value:"payment_received",label:"Payment Received",icon:Gr,color:"text-green-600"},{value:"complaint_update",label:"Complaint Update",icon:D0,color:"text-indigo-600"},{value:"system",label:"System",icon:Is,color:"text-gray-600"}],Jz=[{value:"low",label:"Low",color:"bg-gray-100 text-gray-800"},{value:"normal",label:"Normal",color:"bg-blue-100 text-blue-800"},{value:"high",label:"High",color:"bg-orange-100 text-orange-800"},{value:"urgent",label:"Urgent",color:"bg-red-100 text-red-800"}],Zz=[{value:"email",label:"Email",icon:Bu},{value:"sms",label:"SMS",icon:vN},{value:"push",label:"Push",icon:sl},{value:"in_app",label:"In-App",icon:Tue}],zGe=[{value:"immediate",label:"Immediate"},{value:"daily",label:"Daily Digest"},{value:"weekly",label:"Weekly Summary"},{value:"never",label:"Never"}],WGe=()=>{const[e,t]=C.useState(""),[r,n]=C.useState("all"),[a,i]=C.useState("all"),[o,l]=C.useState(!1),[c,u]=C.useState(!1),[d,A]=C.useState({}),{notifications:h,isLoading:m,unreadCount:y,preferences:g,notificationStats:v,statsLoading:x,markAsRead:b,markAllAsRead:j,updatePreferences:_,deleteNotification:N}=KGe();C.useState(()=>{if(g.length>0){const K={};g.forEach(W=>{K[W.notification_type]={email_enabled:W.email_enabled,sms_enabled:W.sms_enabled,push_enabled:W.push_enabled,in_app_enabled:W.in_app_enabled,frequency:W.frequency}}),A(K)}});const B=h?.filter(K=>{const W=K.title.toLowerCase().includes(e.toLowerCase())||K.message&&K.message.toLowerCase().includes(e.toLowerCase()),z=r==="all"||K.type===r,te=a==="all"||K.priority===a,G=!o||!K.is_read;return W&&z&&te&&G})||[],T=K=>{b.mutate(K)},O=()=>{j.mutate()},P=async()=>{const K=Object.entries(d).map(([W,z])=>({notification_type:W,...z}));await _.mutateAsync(K),u(!1)},M=(K,W,z)=>{A(te=>({...te,[K]:{...te[K],[W]:z}}))},I=(K,W)=>{A(z=>({...z,[K]:{...z[K],frequency:W}}))},D=K=>R2.find(W=>W.value===K)?.icon||sl,$=K=>R2.find(W=>W.value===K)?.color||"text-gray-600",F=K=>Jz.find(W=>W.value===K)?.color||"bg-gray-100 text-gray-800",V=K=>jZ(new Date(K),{addSuffix:!0}),X=K=>Zz.find(W=>W.value===K)?.icon||sl;return m?s.jsx(An,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(jn,{className:"w-8 h-8 animate-spin text-primary"})})}):s.jsx(An,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(sl,{className:"w-6 h-6"}),y>0&&s.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Notifications"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:y>0?`${y} unread notifications`:"All caught up!"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[y>0&&s.jsxs(de,{variant:"outline",onClick:O,disabled:j.isPending,children:[j.isPending?s.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Gr,{className:"w-4 h-4 mr-2"}),"Mark All Read"]}),s.jsxs(dn,{open:c,onOpenChange:u,children:[s.jsx(_h,{asChild:!0,children:s.jsxs(de,{variant:"outline",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Settings"]})}),s.jsxs(an,{className:"max-w-3xl",children:[s.jsxs(pn,{children:[s.jsx(gn,{children:"Notification Preferences"}),s.jsx(_n,{children:"Choose how you want to receive different types of notifications"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 gap-4",children:R2.map(K=>{const W=K.icon,z=d[K.value]||{email_enabled:!0,sms_enabled:!1,push_enabled:!0,in_app_enabled:!0,frequency:"immediate"};return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(W,{className:`w-5 h-5 ${K.color}`}),s.jsx("h3",{className:"font-medium",children:K.label})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"grid grid-cols-4 gap-4",children:Zz.map(te=>{const G=te.icon;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(G,{className:"w-4 h-4"}),s.jsx(yu,{checked:z[`${te.value}_enabled`],onCheckedChange:U=>M(K.value,`${te.value}_enabled`,U)}),s.jsx("span",{className:"text-sm",children:te.label})]},te.value)})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Frequency:"}),s.jsxs(ar,{value:z.frequency,onValueChange:te=>I(K.value,te),children:[s.jsx(ir,{className:"w-40",children:s.jsx(lr,{})}),s.jsx(or,{children:zGe.map(te=>s.jsx(Fe,{value:te.value,children:te.label},te.value))})]})]})]})]},K.value)})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(de,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),s.jsxs(de,{onClick:P,disabled:_.isPending,children:[_.isPending?s.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Save Preferences"]})]})]})]})]})]})]}),!x&&v&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold",children:v.total})]}),s.jsx(sl,{className:"w-8 h-8 text-blue-600"})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Unread"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:v.unread})]}),s.jsx(sue,{className:"w-8 h-8 text-yellow-600"})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Urgent"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:v.urgent})]}),s.jsx(xi,{className:"w-8 h-8 text-red-600"})]})})}),s.jsx(Le,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Last 24h"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:v.recent_24h})]}),s.jsx(ca,{className:"w-8 h-8 text-green-600"})]})})})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ba,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),s.jsx(it,{placeholder:"Search notifications...",value:e,onChange:K=>t(K.target.value),className:"pl-10"})]}),s.jsxs(ar,{value:r,onValueChange:n,children:[s.jsx(ir,{className:"w-40",children:s.jsx(lr,{})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"all",children:"All Types"}),R2.map(K=>s.jsx(Fe,{value:K.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(K.icon,{className:`w-4 h-4 ${K.color}`}),K.label]})},K.value))]})]}),s.jsxs(ar,{value:a,onValueChange:i,children:[s.jsx(ir,{className:"w-40",children:s.jsx(lr,{})}),s.jsxs(or,{children:[s.jsx(Fe,{value:"all",children:"All Priority"}),Jz.map(K=>s.jsx(Fe,{value:K.value,children:s.jsx(Ze,{className:K.color,children:K.label})},K.value))]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yu,{checked:o,onCheckedChange:l}),s.jsx("span",{className:"text-sm",children:"Unread only"})]})]}),s.jsx("div",{className:"space-y-4",children:B.length===0?s.jsx(Le,{children:s.jsxs(De,{className:"p-8 text-center",children:[s.jsx(sl,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No notifications found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:e||r!=="all"||a!=="all"||o?"Try adjusting your search or filters":"You're all caught up! No new notifications."})]})}):s.jsx(mu,{children:B.map((K,W)=>{const z=D(K.type),te=!K.is_read;return s.jsx(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:W*.05},children:s.jsx(Le,{className:`${te?"border-l-4 border-l-primary bg-primary/5":""}`,children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(z,{className:`w-5 h-5 ${$(K.type)}`}),s.jsx("h3",{className:`font-semibold ${te?"":"text-muted-foreground"}`,children:K.title}),s.jsx(Ze,{className:F(K.priority),children:K.priority}),te&&s.jsx(Ze,{variant:"secondary",className:"text-xs",children:"New"})]}),K.message&&s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:K.message}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[s.jsx("span",{children:V(K.created_at)}),K.channels&&K.channels.length>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[K.channels.slice(0,3).map(G=>{const U=X(G);return s.jsx(U,{className:"w-3 h-3"},G)}),K.channels.length>3&&s.jsxs("span",{className:"text-xs",children:["+",K.channels.length-3]})]})]}),K.action_url&&s.jsxs(de,{variant:"outline",size:"sm",className:"mb-3",children:[K.action_text||"View Details",s.jsx(pue,{className:"w-3 h-3 ml-2"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[te&&s.jsx(de,{variant:"ghost",size:"sm",onClick:()=>T(K.id),disabled:b.isPending,children:s.jsx(si,{className:"w-4 h-4"})}),s.jsx(de,{variant:"ghost",size:"sm",onClick:()=>N.mutate(K.id),disabled:N.isPending,children:s.jsx(yi,{className:"w-4 h-4"})})]})]})})})},K.id)})})})]})})},GGe=()=>{const{user:e,profile:t}=ua(),{theme:r,setTheme:n}=e3(),a=bi(),[i,o]=C.useState(t?.full_name||""),[l,c]=C.useState(""),[u,d]=C.useState(""),[A,h]=C.useState(""),[m,y]=C.useState(!0),[g,v]=C.useState(!0),[x,b]=C.useState(!0),j=async()=>{if(!e?.id)return;const{error:B}=await be.from("profiles").update({full_name:i}).eq("id",e.id);B?He.error("Failed to update profile"):He.success("Profile updated successfully")},_=async()=>{if(u!==A){He.error("Passwords do not match");return}if(u.length<6){He.error("Password must be at least 6 characters");return}const{error:B}=await be.auth.updateUser({password:u});B?He.error(B.message):(He.success("Password changed successfully"),c(""),d(""),h(""))},N=async()=>{await be.auth.signOut(),a("/auth")};return s.jsx(An,{children:s.jsxs("div",{className:"space-y-6 max-w-3xl",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Settings"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your account preferences"})]}),s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(Fs,{className:"w-5 h-5"})," Profile Settings"]}),s.jsx(Wr,{children:"Update your personal information"})]}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Full Name"}),s.jsx(it,{value:i,onChange:B=>o(B.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Email"}),s.jsx(it,{value:t?.email||"",disabled:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Contact admin to change your email"})]}),s.jsxs(de,{onClick:j,className:"gap-2",children:[s.jsx(Xw,{className:"w-4 h-4"})," Save Changes"]})]})]})}),s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(sl,{className:"w-5 h-5"})," Notifications"]}),s.jsx(Wr,{children:"Configure how you receive notifications"})]}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Email Notifications"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive general email notifications"})]}),s.jsx(yu,{checked:m,onCheckedChange:y})]}),s.jsx(ol,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Bill Reminders"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified before bill due dates"})]}),s.jsx(yu,{checked:g,onCheckedChange:v})]}),s.jsx(ol,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Maintenance Updates"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Updates on maintenance ticket progress"})]}),s.jsx(yu,{checked:x,onCheckedChange:b})]})]})]})}),s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsxs(Le,{children:[s.jsxs(pt,{children:[s.jsxs(gt,{className:"flex items-center gap-2",children:[s.jsx(U0,{className:"w-5 h-5"})," Change Password"]}),s.jsx(Wr,{children:"Update your account password"})]}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"New Password"}),s.jsx(it,{type:"password",value:u,onChange:B=>d(B.target.value),placeholder:"Enter new password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Confirm Password"}),s.jsx(it,{type:"password",value:A,onChange:B=>h(B.target.value),placeholder:"Confirm new password"})]}),s.jsxs(de,{onClick:_,variant:"outline",className:"gap-2",children:[s.jsx(Lo,{className:"w-4 h-4"})," Change Password"]})]})]})}),s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},children:s.jsx(Le,{children:s.jsx(De,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:s.jsx(Iv,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"Appearance"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Switch between dark and light mode"})]})]}),s.jsxs("div",{className:"flex bg-muted rounded-lg p-1",children:[s.jsxs(de,{variant:"ghost",size:"sm",className:`h-8 px-3 gap-2 ${r==="dark"?"bg-background shadow-sm":"opacity-50"}`,onClick:()=>n("dark"),children:[s.jsx(Iv,{className:"w-3 h-3"})," Dark"]}),s.jsxs(de,{variant:"ghost",size:"sm",className:`h-8 px-3 gap-2 ${r==="light"?"bg-background shadow-sm":"opacity-50"}`,onClick:()=>n("light"),children:[s.jsx(kF,{className:"w-3 h-3"})," Light"]})]})]})})})}),s.jsx(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:s.jsx(Le,{className:"border-destructive/30",children:s.jsx(De,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-destructive",children:"Sign Out"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Log out of your account"})]}),s.jsxs(de,{variant:"destructive",onClick:N,className:"gap-2",children:[s.jsx(EF,{className:"w-4 h-4"})," Sign Out"]})]})})})})]})})},YGe=()=>s.jsxs(nme,{children:[s.jsx(Bt,{path:"/auth",element:s.jsx(Xwe,{})}),s.jsx(Bt,{path:"/",element:s.jsx(Yge,{})}),s.jsx(Bt,{path:"/super-admin",element:s.jsx(td,{children:s.jsx(zUe,{})})}),s.jsx(Bt,{path:"/super-admin/users",element:s.jsx(td,{children:s.jsx(LDe,{})})}),s.jsx(Bt,{path:"/super-admin/logs",element:s.jsx(td,{children:s.jsx(DDe,{})})}),s.jsx(Bt,{path:"/super-admin/roles",element:s.jsx(td,{children:s.jsx(WDe,{})})}),s.jsx(Bt,{path:"/super-admin/organizations",element:s.jsx(td,{children:s.jsx(GDe,{})})}),s.jsx(Bt,{path:"/super-admin/subscriptions",element:s.jsx(td,{children:s.jsx(YDe,{})})}),s.jsx(Bt,{path:"/super-admin/analytics",element:s.jsx(td,{children:s.jsx(XDe,{})})}),s.jsx(Bt,{path:"/super-admin/database",element:s.jsx(td,{children:s.jsx(DMe,{})})}),s.jsx(Bt,{path:"/super-admin/settings",element:s.jsx(td,{children:s.jsx($Me,{})})}),s.jsx(Bt,{path:"/super-admin/tenants",element:s.jsx(td,{children:s.jsx($6e,{})})}),s.jsx(Bt,{path:"/admin",element:s.jsx(fi,{children:s.jsx(CQe,{})})}),s.jsx(Bt,{path:"/admin/properties",element:s.jsx(fi,{children:s.jsx(t2,{})})}),s.jsx(Bt,{path:"/admin/tenants",element:s.jsx(fi,{children:s.jsx(Yk,{})})}),s.jsx(Bt,{path:"/admin/units",element:s.jsx(fi,{children:s.jsx(r2,{})})}),s.jsx(Bt,{path:"/admin/billing",element:s.jsx(fi,{children:s.jsx(MP,{})})}),s.jsx(Bt,{path:"/admin/payments",element:s.jsx(fi,{children:s.jsx(QP,{})})}),s.jsx(Bt,{path:"/admin/tenant-management",element:s.jsx(fi,{children:s.jsx(VP,{})})}),s.jsx(Bt,{path:"/admin/tenant-management/:tenantId",element:s.jsx(fi,{children:s.jsx(VP,{mode:"detail"})})}),s.jsx(Bt,{path:"/admin/tenant-wizard",element:s.jsx(fi,{children:s.jsx(VP,{mode:"wizard"})})}),s.jsx(Bt,{path:"/admin/payment-verification",element:s.jsx(fi,{children:s.jsx(BGe,{})})}),s.jsx(Bt,{path:"/admin/maintenance",element:s.jsx(fi,{children:s.jsx(I2,{})})}),s.jsx(Bt,{path:"/admin/analytics",element:s.jsx(fi,{children:s.jsx(XWe,{})})}),s.jsx(Bt,{path:"/admin/settings",element:s.jsx(fi,{children:s.jsx(F2,{})})}),s.jsx(Bt,{path:"/admin/users",element:s.jsx(fi,{children:s.jsx(ZWe,{})})}),s.jsx(Bt,{path:"/admin/backend",element:s.jsx(fi,{children:s.jsx(lGe,{})})}),s.jsx(Bt,{path:"/admin/tenant-data",element:s.jsx(fi,{children:s.jsx(cGe,{})})}),s.jsx(Bt,{path:"/admin/inventory",element:s.jsx(fi,{children:s.jsx(uGe,{})})}),s.jsx(Bt,{path:"/admin/tenants/:tenantId",element:s.jsx(fi,{children:s.jsx(SGe,{})})}),s.jsx(Bt,{path:"/manager",element:s.jsx(Uf,{children:s.jsx(kGe,{})})}),s.jsx(Bt,{path:"/manager/properties",element:s.jsx(Uf,{children:s.jsx(t2,{})})}),s.jsx(Bt,{path:"/manager/tenants",element:s.jsx(Uf,{children:s.jsx(Yk,{})})}),s.jsx(Bt,{path:"/manager/units",element:s.jsx(Uf,{children:s.jsx(r2,{})})}),s.jsx(Bt,{path:"/manager/billing",element:s.jsx(Uf,{children:s.jsx(MP,{})})}),s.jsx(Bt,{path:"/manager/payments",element:s.jsx(Uf,{children:s.jsx(QP,{})})}),s.jsx(Bt,{path:"/manager/maintenance",element:s.jsx(Uf,{children:s.jsx(I2,{})})}),s.jsx(Bt,{path:"/manager/settings",element:s.jsx(Uf,{children:s.jsx(F2,{})})}),s.jsx(Bt,{path:"/staff",element:s.jsx(Ex,{children:s.jsx(PGe,{})})}),s.jsx(Bt,{path:"/staff/properties",element:s.jsx(Ex,{children:s.jsx(t2,{})})}),s.jsx(Bt,{path:"/staff/maintenance",element:s.jsx(Ex,{children:s.jsx(I2,{})})}),s.jsx(Bt,{path:"/staff/units",element:s.jsx(Ex,{children:s.jsx(r2,{})})}),s.jsx(Bt,{path:"/staff/settings",element:s.jsx(Ex,{children:s.jsx(F2,{})})}),s.jsx(Bt,{path:"/user",element:s.jsx(mA,{children:s.jsx(TGe,{})})}),s.jsx(Bt,{path:"/user/journey",element:s.jsx(mA,{children:s.jsx(OGe,{})})}),s.jsx(Bt,{path:"/user/properties",element:s.jsx(mA,{children:s.jsx(t2,{})})}),s.jsx(Bt,{path:"/user/tenants",element:s.jsx(mA,{children:s.jsx(Yk,{})})}),s.jsx(Bt,{path:"/user/units",element:s.jsx(mA,{children:s.jsx(r2,{})})}),s.jsx(Bt,{path:"/user/billing",element:s.jsx(mA,{children:s.jsx(MP,{})})}),s.jsx(Bt,{path:"/user/payments",element:s.jsx(mA,{children:s.jsx(QP,{})})}),s.jsx(Bt,{path:"/user/maintenance",element:s.jsx(mA,{children:s.jsx(I2,{})})}),s.jsx(Bt,{path:"/user/settings",element:s.jsx(mA,{children:s.jsx(F2,{})})}),s.jsx(Bt,{path:"/tenant",element:s.jsx(ed,{children:s.jsx(IGe,{})})}),s.jsx(Bt,{path:"/tenant/profile",element:s.jsx(ed,{children:s.jsx(FGe,{})})}),s.jsx(Bt,{path:"/tenant/documents",element:s.jsx(ed,{children:s.jsx(RGe,{})})}),s.jsx(Bt,{path:"/tenant/family",element:s.jsx(ed,{children:s.jsx(LGe,{})})}),s.jsx(Bt,{path:"/tenant/bills",element:s.jsx(ed,{children:s.jsx(UGe,{})})}),s.jsx(Bt,{path:"/tenant/payments",element:s.jsx(ed,{children:s.jsx(Yz,{})})}),s.jsx(Bt,{path:"/tenant/payments-enhanced",element:s.jsx(ed,{children:s.jsx(Yz,{})})}),s.jsx(Bt,{path:"/tenant/complaints",element:s.jsx(ed,{children:s.jsx(qGe,{})})}),s.jsx(Bt,{path:"/tenant/notifications",element:s.jsx(ed,{children:s.jsx(WGe,{})})}),s.jsx(Bt,{path:"/tenant/settings",element:s.jsx(ed,{children:s.jsx(GGe,{})})}),s.jsx(Bt,{path:"/properties",element:s.jsx(Co,{to:"/admin/properties",replace:!0})}),s.jsx(Bt,{path:"/tenants",element:s.jsx(Co,{to:"/admin/tenants",replace:!0})}),s.jsx(Bt,{path:"/units",element:s.jsx(Co,{to:"/admin/units",replace:!0})}),s.jsx(Bt,{path:"/billing",element:s.jsx(Co,{to:"/admin/billing",replace:!0})}),s.jsx(Bt,{path:"/payments",element:s.jsx(Co,{to:"/admin/payments",replace:!0})}),s.jsx(Bt,{path:"/maintenance",element:s.jsx(Co,{to:"/admin/maintenance",replace:!0})}),s.jsx(Bt,{path:"/analytics",element:s.jsx(Co,{to:"/admin/analytics",replace:!0})}),s.jsx(Bt,{path:"/settings",element:s.jsx(Co,{to:"/admin/settings",replace:!0})}),s.jsx(Bt,{path:"/users",element:s.jsx(Co,{to:"/admin/users",replace:!0})}),s.jsx(Bt,{path:"*",element:s.jsx(Jwe,{})})]}),zs={ADMIN:{DASHBOARD:"/admin",PROPERTIES:"/admin/properties",TENANTS:"/admin/tenants",UNITS:"/admin/units",BILLING:"/admin/billing",PAYMENTS:"/admin/payments",PAYMENT_VERIFICATION:"/admin/payment-verification",TENANT_MANAGEMENT:"/admin/tenant-management",MAINTENANCE:"/admin/maintenance",ANALYTICS:"/admin/analytics",SETTINGS:"/admin/settings",BACKEND:"/admin/backend",TENANT_DATA:"/admin/tenant-data",INVENTORY:"/admin/inventory"},TENANT:{DASHBOARD:"/tenant",PROFILE:"/tenant/profile",DOCUMENTS:"/tenant/documents",FAMILY:"/tenant/family",BILLS:"/tenant/bills",COMPLAINTS:"/tenant/complaints",NOTIFICATIONS:"/tenant/notifications",SETTINGS:"/tenant/settings"}},XGe=new Gfe,JGe=()=>s.jsx(ehe,{client:XGe,children:s.jsx(Wge,{children:s.jsx(Gge,{children:s.jsxs(SG,{children:[s.jsx(pde,{}),s.jsx(Wde,{}),s.jsx(ume,{children:s.jsx(zge,{children:s.jsx(YGe,{})})})]})})})});sce.createRoot(document.getElementById("root")).render(s.jsx(JGe,{}));export{Xn as _,v1 as c,Vn as g};
